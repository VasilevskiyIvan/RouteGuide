import{a as L,b as fe,c as ib,e as mi,f as v}from"./chunk-25N2FLV6.js";function dm(t,e){return Object.is(t,e)}var it=null,Zl=!1,hm=1,fn=Symbol("SIGNAL");function ue(t){let e=it;return it=t,e}function fm(){return it}var Tc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Dc(t){if(Zl)throw new Error("");if(it===null)return;it.consumerOnSignalRead(t);let e=it.nextProducerIndex++;if(nd(it),e<it.producerNode.length&&it.producerNode[e]!==t&&bc(it)){let n=it.producerNode[e];td(n,it.producerIndexOfThis[e])}it.producerNode[e]!==t&&(it.producerNode[e]=t,it.producerIndexOfThis[e]=bc(it)?sb(t,it,e):0),it.producerLastReadVersion[e]=t.version}function ob(){hm++}function pm(t){if(!(bc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===hm)){if(!t.producerMustRecompute(t)&&!vm(t)){lm(t);return}t.producerRecomputeValue(t),lm(t)}}function gm(t){if(t.liveConsumerNode===void 0)return;let e=Zl;Zl=!0;try{for(let n of t.liveConsumerNode)n.dirty||Ck(n)}finally{Zl=e}}function mm(){return it?.consumerAllowSignalWrites!==!1}function Ck(t){t.dirty=!0,gm(t),t.consumerMarkedDirty?.(t)}function lm(t){t.dirty=!1,t.lastCleanEpoch=hm}function ed(t){return t&&(t.nextProducerIndex=0),ue(t)}function ym(t,e){if(ue(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(bc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)td(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function vm(t){nd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(pm(n),r!==n.version))return!0}return!1}function _m(t){if(nd(t),bc(t))for(let e=0;e<t.producerNode.length;e++)td(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function sb(t,e,n){if(ab(t),t.liveConsumerNode.length===0&&cb(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=sb(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function td(t,e){if(ab(t),t.liveConsumerNode.length===1&&cb(t))for(let r=0;r<t.producerNode.length;r++)td(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];nd(i),i.producerIndexOfThis[r]=e}}function bc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function nd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ab(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function cb(t){return t.producerNode!==void 0}function Em(t,e){let n=Object.create(bk);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(pm(n),Dc(n),n.value===Xl)throw n.error;return n.value};return r[fn]=n,r}var cm=Symbol("UNSET"),um=Symbol("COMPUTING"),Xl=Symbol("ERRORED"),bk=fe(L({},Tc),{value:cm,dirty:!0,error:null,equal:dm,kind:"computed",producerMustRecompute(t){return t.value===cm||t.value===um},producerRecomputeValue(t){if(t.value===um)throw new Error("Detected cycle in computations.");let e=t.value;t.value=um;let n=ed(t),r,i=!1;try{r=t.computation(),ue(null),i=e!==cm&&e!==Xl&&r!==Xl&&t.equal(e,r)}catch(o){r=Xl,t.error=o}finally{ym(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function Tk(){throw new Error}var ub=Tk;function lb(t){ub(t)}function wm(t){ub=t}var Dk=null;function Im(t,e){let n=Object.create(rd);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Dc(n),n.value);return r[fn]=n,r}function Sc(t,e){mm()||lb(t),t.equal(t.value,e)||(t.value=e,Sk(t))}function Cm(t,e){mm()||lb(t),Sc(t,e(t.value))}var rd=fe(L({},Tc),{equal:dm,value:void 0,kind:"signal"});function Sk(t){t.version++,ob(),gm(t),Dk?.()}function bm(t){let e=ue(null);try{return t()}finally{ue(e)}}var Tm;function Ac(){return Tm}function br(t){let e=Tm;return Tm=t,e}var id=Symbol("NotFound");function oe(t){return typeof t=="function"}function Cs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var od=Cs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function co(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ze=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof od?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{db(o)}catch(s){e=e??[],s instanceof od?e=[...e,...s.errors]:e.push(s)}}if(e)throw new od(e)}}add(e){var n;if(e&&e!==this)if(this.closed)db(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&co(n,e)}remove(e){let{_finalizers:n}=this;n&&co(n,e),e instanceof t&&e._removeParent(this)}};ze.EMPTY=(()=>{let t=new ze;return t.closed=!0,t})();var Dm=ze.EMPTY;function sd(t){return t instanceof ze||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function db(t){oe(t)?t():t.unsubscribe()}var Cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bs={setTimeout(t,e,...n){let{delegate:r}=bs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=bs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ad(t){bs.setTimeout(()=>{let{onUnhandledError:e}=Cn;if(e)e(t);else throw t})}function Rc(){}var hb=Sm("C",void 0,void 0);function fb(t){return Sm("E",void 0,t)}function pb(t){return Sm("N",t,void 0)}function Sm(t,e,n){return{kind:t,value:e,error:n}}var uo=null;function Ts(t){if(Cn.useDeprecatedSynchronousErrorHandling){let e=!uo;if(e&&(uo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=uo;if(uo=null,n)throw r}}else t()}function gb(t){Cn.useDeprecatedSynchronousErrorHandling&&uo&&(uo.errorThrown=!0,uo.error=t)}var lo=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sd(e)&&e.add(this)):this.destination=xk}static create(e,n,r){return new yi(e,n,r)}next(e){this.isStopped?Rm(pb(e),this):this._next(e)}error(e){this.isStopped?Rm(fb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rm(hb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Pk=Function.prototype.bind;function Am(t,e){return Pk.call(t,e)}var Mm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cd(r)}else cd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cd(n)}}},yi=class extends lo{constructor(e,n,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Cn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Am(e.next,o),error:e.error&&Am(e.error,o),complete:e.complete&&Am(e.complete,o)}):i=e}this.destination=new Mm(i)}};function cd(t){Cn.useDeprecatedSynchronousErrorHandling?gb(t):ad(t)}function Nk(t){throw t}function Rm(t,e){let{onStoppedNotification:n}=Cn;n&&bs.setTimeout(()=>n(t,e))}var xk={closed:!0,next:Rc,error:Nk,complete:Rc};var Ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function en(t){return t}function Pm(...t){return Nm(t)}function Nm(t){return t.length===0?en:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=kk(n)?n:new yi(n,r,i);return Ts(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=mb(r),new r((i,o)=>{let s=new yi({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ds](){return this}pipe(...n){return Nm(n)(this)}toPromise(n){return n=mb(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function mb(t){var e;return(e=t??Cn.Promise)!==null&&e!==void 0?e:Promise}function Ok(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}function kk(t){return t&&t instanceof lo||Ok(t)&&sd(t)}function xm(t){return oe(t?.lift)}function _e(t){return e=>{if(xm(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new Om(t,e,n,r,i)}var Om=class extends lo{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ss(){return _e((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var As=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return Ss()(this)}};var yb=Cs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ud(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new yb}next(n){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Dm:(this.currentObservers=null,o.push(n),new ze(()=>{this.currentObservers=null,co(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new ud(e,n),t})(),ud=class extends Ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Dm}};var ot=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var km={now(){return(km.delegate||Date).now()},delegate:void 0};var ld=class extends ze{constructor(e,n){super()}schedule(e,n=0){return this}};var Mc={setInterval(t,e,...n){let{delegate:r}=Mc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Mc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Rs=class extends ld{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Mc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Mc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,co(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ms=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ms.now=km.now;var Ps=class extends Ms{constructor(e,n=Ms.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Fm=new Ps(Rs);var dd=class extends Rs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var hd=class extends Ps{};var Lm=new hd(dd);var jt=new le(t=>t.complete());function vb(t){return t&&oe(t.schedule)}function _b(t){return t[t.length-1]}function fd(t){return oe(_b(t))?t.pop():void 0}function vi(t){return vb(_b(t))?t.pop():void 0}function Vm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wb(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Eb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ho(t){return this instanceof ho?(this.v=t,this):new ho(t)}function Ib(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(I){return Promise.resolve(I).then(m,p)}}function a(m,I){r[m]&&(i[m]=function(A){return new Promise(function(R,j){o.push([m,A,R,j])>1||u(m,A)})},I&&(i[m]=I(i[m])))}function u(m,I){try{l(r[m](I))}catch(A){g(o[0][3],A)}}function l(m){m.value instanceof ho?Promise.resolve(m.value.v).then(h,p):g(o[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function g(m,I){m(I),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Cb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Eb=="function"?Eb(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var pd=t=>t&&typeof t.length=="number"&&typeof t!="function";function gd(t){return oe(t?.then)}function md(t){return oe(t[Ds])}function yd(t){return Symbol.asyncIterator&&oe(t?.[Symbol.asyncIterator])}function vd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Fk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _d=Fk();function Ed(t){return oe(t?.[_d])}function wd(t){return Ib(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ho(n.read());if(i)return yield ho(void 0);yield yield ho(r)}}finally{n.releaseLock()}})}function Id(t){return oe(t?.getReader)}function Je(t){if(t instanceof le)return t;if(t!=null){if(md(t))return Lk(t);if(pd(t))return Vk(t);if(gd(t))return Uk(t);if(yd(t))return bb(t);if(Ed(t))return jk(t);if(Id(t))return Bk(t)}throw vd(t)}function Lk(t){return new le(e=>{let n=t[Ds]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Vk(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Uk(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ad)})}function jk(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function bb(t){return new le(e=>{$k(t,e).catch(n=>e.error(n))})}function Bk(t){return bb(wd(t))}function $k(t,e){var n,r,i,o;return wb(this,void 0,void 0,function*(){try{for(n=Cb(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Bt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function _i(t,e=0){return _e((n,r)=>{n.subscribe(ye(r,i=>Bt(r,t,()=>r.next(i),e),()=>Bt(r,t,()=>r.complete(),e),i=>Bt(r,t,()=>r.error(i),e)))})}function Ei(t,e=0){return _e((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Tb(t,e){return Je(t).pipe(Ei(e),_i(e))}function Db(t,e){return Je(t).pipe(Ei(e),_i(e))}function Sb(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ab(t,e){return new le(n=>{let r;return Bt(n,e,()=>{r=t[_d](),Bt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Cd(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{Bt(n,e,()=>{let r=t[Symbol.asyncIterator]();Bt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Rb(t,e){return Cd(wd(t),e)}function Mb(t,e){if(t!=null){if(md(t))return Tb(t,e);if(pd(t))return Sb(t,e);if(gd(t))return Db(t,e);if(yd(t))return Cd(t,e);if(Ed(t))return Ab(t,e);if(Id(t))return Rb(t,e)}throw vd(t)}function pe(t,e){return e?Mb(t,e):Je(t)}function $(...t){let e=vi(t);return pe(t,e)}function Ns(t,e){let n=oe(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function Um(t){return!!t&&(t instanceof le||oe(t.lift)&&oe(t.subscribe))}var bn=Cs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function bd(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new yi({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new bn)}});t.subscribe(o)})}function te(t,e){return _e((n,r)=>{let i=0;n.subscribe(ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Hk}=Array;function zk(t,e){return Hk(e)?t(...e):t(e)}function Td(t){return te(e=>zk(t,e))}var{isArray:qk}=Array,{getPrototypeOf:Gk,prototype:Wk,keys:Kk}=Object;function Dd(t){if(t.length===1){let e=t[0];if(qk(e))return{args:e,keys:null};if(Qk(e)){let n=Kk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Qk(t){return t&&typeof t=="object"&&Gk(t)===Wk}function Sd(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ad(...t){let e=vi(t),n=fd(t),{args:r,keys:i}=Dd(t);if(r.length===0)return pe([],e);let o=new le(Yk(r,e,i?s=>Sd(i,s):en));return n?o.pipe(Td(n)):o}function Yk(t,e,n=en){return r=>{Pb(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Pb(e,()=>{let l=pe(t[u],e),h=!1;l.subscribe(ye(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Pb(t,e,n){t?Bt(n,t,e):e()}function Nb(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},m=A=>l<r?I(A):u.push(A),I=A=>{o&&e.next(A),l++;let R=!1;Je(n(A,h++)).subscribe(ye(e,j=>{i?.(j),o?m(j):e.next(j)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let j=u.shift();s?Bt(e,s,()=>I(j)):I(j)}g()}catch(j){e.error(j)}}))};return t.subscribe(ye(e,m,()=>{p=!0,g()})),()=>{a?.()}}function st(t,e,n=1/0){return oe(e)?st((r,i)=>te((o,s)=>e(r,o,i,s))(Je(t(r,i))),n):(typeof e=="number"&&(n=e),_e((r,i)=>Nb(r,i,t,n)))}function xb(t=1/0){return st(en,t)}function Ob(){return xb(1)}function xs(...t){return Ob()(pe(t,vi(t)))}function Rd(t){return new le(e=>{Je(t()).subscribe(e)})}function jm(...t){let e=fd(t),{args:n,keys:r}=Dd(t),i=new le(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Je(n[h]).subscribe(ye(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Sd(r,a):a),o.complete())}))}});return e?i.pipe(Td(e)):i}function tn(t,e){return _e((n,r)=>{let i=0;n.subscribe(ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function qe(t){return _e((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ye(n,void 0,void 0,s=>{o=Je(t(s,qe(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function kb(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ye(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function wi(t,e){return oe(e)?st(t,e,1):st(t,1)}function Ii(t){return _e((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Tr(t){return t<=0?()=>jt:_e((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Md(t=Jk){return _e((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Jk(){return new bn}function fo(t){return _e((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Dr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?tn((i,o)=>t(i,o,r)):en,Tr(1),n?Ii(e):Md(()=>new bn))}function Os(t){return t<=0?()=>jt:_e((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Bm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?tn((i,o)=>t(i,o,r)):en,Os(1),n?Ii(e):Md(()=>new bn))}function $m(t,e){return _e(kb(t,e,arguments.length>=2,!0))}function Hm(...t){let e=vi(t);return _e((n,r)=>{(e?xs(t,n,e):xs(t,n)).subscribe(r)})}function lt(t,e){return _e((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ye(r,u=>{i?.unsubscribe();let l=0,h=o++;Je(t(u,h)).subscribe(i=ye(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function nn(t){return _e((e,n)=>{Je(t).subscribe(ye(n,()=>n.complete(),Rc)),!n.closed&&e.subscribe(n)})}function xe(t,e,n){let r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?_e((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):en}var Km={JSACTION:"jsaction"},Qm={JSACTION:"__jsaction",OWNER:"__owner"},Ub={};function Zk(t){return t[Qm.JSACTION]}function Fb(t,e){t[Qm.JSACTION]=e}function Xk(t){return Ub[t]}function eF(t,e){Ub[t]=e}var J={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},tF=[J.MOUSEENTER,J.MOUSELEAVE,"pointerenter","pointerleave"],vZ=[J.CLICK,J.DBLCLICK,J.FOCUSIN,J.FOCUSOUT,J.KEYDOWN,J.KEYUP,J.KEYPRESS,J.MOUSEOVER,J.MOUSEOUT,J.SUBMIT,J.TOUCHSTART,J.TOUCHEND,J.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],nF=[J.FOCUS,J.BLUR,J.ERROR,J.LOAD,J.TOGGLE],Ym=t=>nF.indexOf(t)>=0;function rF(t){return t===J.MOUSEENTER?J.MOUSEOVER:t===J.MOUSELEAVE?J.MOUSEOUT:t===J.POINTERENTER?J.POINTEROVER:t===J.POINTERLEAVE?J.POINTEROUT:t}function iF(t,e,n,r){let i=!1;Ym(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function oF(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function sF(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var Lb=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function aF(t){return t.which===2||t.which==null&&t.button===4}function cF(t){return Lb&&t.metaKey||!Lb&&t.ctrlKey||aF(t)||t.shiftKey}function uF(t,e,n){let r=t.relatedTarget;return(t.type===J.MOUSEOVER&&e===J.MOUSEENTER||t.type===J.MOUSEOUT&&e===J.MOUSELEAVE||t.type===J.POINTEROVER&&e===J.POINTERENTER||t.type===J.POINTEROUT&&e===J.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function lF(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===J.MOUSEOVER?n.type=J.MOUSEENTER:t.type===J.MOUSEOUT?n.type=J.MOUSELEAVE:t.type===J.POINTEROVER?n.type=J.POINTERENTER:n.type=J.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var dF=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Od=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){dF&&(this.element.style.cursor="pointer"),this.handlerInfos.push(iF(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)oF(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},hF={EVENT_ACTION_SEPARATOR:":"};function Ci(t){return t.eventType}function Jm(t,e){t.eventType=e}function Nd(t){return t.event}function jb(t,e){t.event=e}function Bb(t){return t.targetElement}function $b(t,e){t.targetElement=e}function Hb(t){return t.eic}function fF(t,e){t.eic=e}function pF(t){return t.timeStamp}function gF(t,e){t.timeStamp=e}function xd(t){return t.eia}function zb(t,e,n){t.eia=[e,n]}function zm(t){t.eia=void 0}function Pd(t){return t[1]}function mF(t){return t.eirp}function qb(t,e){t.eirp=e}function Gb(t){return t.eir}function Wb(t,e){t.eir=e}function Kb(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function yF(t,e,n,r,i,o,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var qm=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return Ci(this.eventInfo)}setEventType(e){Jm(this.eventInfo,e)}getEvent(){return Nd(this.eventInfo)}setEvent(e){jb(this.eventInfo,e)}getTargetElement(){return Bb(this.eventInfo)}setTargetElement(e){$b(this.eventInfo,e)}getContainer(){return Hb(this.eventInfo)}setContainer(e){fF(this.eventInfo,e)}getTimestamp(){return pF(this.eventInfo)}setTimestamp(e){gF(this.eventInfo,e)}getAction(){let e=xd(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){zm(this.eventInfo);return}zb(this.eventInfo,e.name,e.element)}getIsReplay(){return mF(this.eventInfo)}setIsReplay(e){qb(this.eventInfo,e)}getResolved(){return Gb(this.eventInfo)}setResolved(e){Wb(this.eventInfo,e)}clone(){return new t(Kb(this.eventInfo))}},vF={},_F=/\s*;\s*/,EF=J.CLICK,Gm=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&Ci(e)===J.CLICK&&cF(Nd(e))?Jm(e,J.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){Gb(e)||(this.populateAction(e,Bb(e)),Wb(e,!0))}resolveParentAction(e){let n=xd(e),r=n&&Pd(n);zm(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==Hb(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!xd(e));)r=this.getParentNode(r);let i=xd(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(Ci(e)===J.MOUSEENTER||Ci(e)===J.MOUSELEAVE||Ci(e)===J.POINTERENTER||Ci(e)===J.POINTERLEAVE)))if(uF(Nd(e),Ci(e),Pd(i))){let o=lF(Nd(e),Pd(i));jb(e,o),$b(e,Pd(i))}else zm(e)}getParentNode(e){let n=e[Qm.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[Ci(n)];i!==void 0&&zb(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=Zk(e);if(!n){let r=e.getAttribute(Km.JSACTION);if(!r)n=vF,Fb(e,n);else{if(n=Xk(r),!n){n={};let i=r.split(_F);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(hF.EVENT_ACTION_SEPARATOR),u=a!==-1,l=u?s.substr(0,a).trim():EF,h=u?s.substr(a+1).trim():s;n[l]=h}eF(r,n)}Fb(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},Qb=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(Qb||{}),Wm=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new qm(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&wF(r.element,n)&&sF(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function wF(t,e){return t.tagName==="A"&&(e.getEventType()===J.CLICK||e.getEventType()===J.CLICKMOD)}var Yb=Symbol.for("propagationStopped"),Zm={REPLAY:101};var IF="`preventDefault` called during event replay.";var CF="`composedPath` called during event replay.",kd=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Gm({clickModSupport:n}),this.dispatcher=new Wm(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&DF(e),bF(e);e.getAction();){if(SF(e),Ym(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),TF(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function bF(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[Yb]=!0,n()};po(e,"stopPropagation",r),po(e,"stopImmediatePropagation",r)}function TF(t){return!!t.getEvent()[Yb]}function DF(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);po(e,"target",n),po(e,"eventPhase",Zm.REPLAY),po(e,"preventDefault",()=>{throw r(),new Error(IF+"")}),po(e,"composedPath",()=>{throw new Error(CF+"")})}function SF(t){let e=t.getEvent(),n=t.getAction()?.element;n&&po(e,"currentTarget",n,{configurable:!0})}function po(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function Jb(t,e){t.ecrd(n=>{e.dispatch(n)},Qb.I_AM_THE_JSACTION_FRAMEWORK)}function AF(t){return t?.q??[]}function RF(t){t&&(Vb(t.c,t.et,t.h),Vb(t.c,t.etc,t.h,!0))}function Vb(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var MF=!1,Zb=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=MF;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=yF(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){qb(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&tF.indexOf(n)>=0)return;let o=(a,u,l)=>{this.handleEvent(a,u,l)};this.eventHandlers[n]=o;let s=rF(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>u=>{o(n,u,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),RF(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=Kb(i);Jm(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function Xb(t,e=window){return AF(e._ejsas?.[t])}function Xm(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var XT="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,n){super(gv(e,n)),this.code=e}};function PF(t){return`NG0${Math.abs(t)}`}function gv(t,e){return`${PF(t)}${e?": "+e:""}`}var eD=Symbol("InputSignalNode#UNSET"),NF=fe(L({},rd),{transformFn:void 0,applyValueToInputSignal(t,e){Sc(t,e)}});function tD(t,e){let n=Object.create(NF);n.value=t,n.transformFn=e?.transform;function r(){if(Dc(n),n.value===eD){let i=null;throw new B(-950,i)}return n.value}return r[fn]=n,r}function Gc(t){return{toString:t}.toString()}var Fd="__parameters__";function xF(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function OF(t,e,n){return Gc(()=>{let r=xF(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Fd)?u[Fd]:Object.defineProperty(u,Fd,{value:[]})[Fd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var bi=globalThis;function Oe(t){for(let e in t)if(t[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function kF(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ht(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ht).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function eT(t,e){return t?e?`${t} ${e}`:t:e||""}var FF=Oe({__forward_ref__:Oe});function xr(t){return t.__forward_ref__=xr,t.toString=function(){return Ht(this())},t}function Vt(t){return nD(t)?t():t}function nD(t){return typeof t=="function"&&t.hasOwnProperty(FF)&&t.__forward_ref__===xr}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Or(t){return{providers:t.providers||[],imports:t.imports||[]}}function wh(t){return tT(t,iD)||tT(t,oD)}function rD(t){return wh(t)!==null}function tT(t,e){return t.hasOwnProperty(e)?t[e]:null}function LF(t){let e=t&&(t[iD]||t[oD]);return e||null}function nT(t){return t&&(t.hasOwnProperty(rT)||t.hasOwnProperty(VF))?t[rT]:null}var iD=Oe({\u0275prov:Oe}),rT=Oe({\u0275inj:Oe}),oD=Oe({ngInjectableDef:Oe}),VF=Oe({ngInjectorDef:Oe}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sD(t){return t&&!!t.\u0275providers}var UF=Oe({\u0275cmp:Oe}),jF=Oe({\u0275dir:Oe}),BF=Oe({\u0275pipe:Oe}),$F=Oe({\u0275mod:Oe}),Qd=Oe({\u0275fac:Oe}),Oc=Oe({__NG_ELEMENT_ID__:Oe}),iT=Oe({__NG_ENV_ID__:Oe});function Ih(t){return typeof t=="string"?t:t==null?"":String(t)}function HF(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ih(t)}function aD(t,e){throw new B(-200,t)}function mv(t,e){throw new B(-201,!1)}var ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ce||{}),_y;function cD(){return _y}function $t(t){let e=_y;return _y=t,e}function uD(t,e,n){let r=wh(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ce.Optional)return null;if(e!==void 0)return e;mv(t,"Injector")}var zF={},mo=zF,Ey="__NG_DI_FLAG__",Yd=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?id:mo,r)}},Jd="ngTempTokenPath",qF="ngTokenPath",GF=/\n/gm,WF="\u0275",oT="__source";function KF(t,e=ce.Default){if(Ac()===void 0)throw new B(-203,!1);if(Ac()===null)return uD(t,void 0,e);{let n=Ac(),r;return n instanceof Yd?r=n.injector:r=n,r.get(t,e&ce.Optional?null:void 0,e)}}function Q(t,e=ce.Default){return(cD()||KF)(Vt(t),e)}function x(t,e=ce.Default){return Q(t,Ch(e))}function Ch(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function wy(t){let e=[];for(let n=0;n<t.length;n++){let r=Vt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){let a=r[s],u=YF(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function QF(t,e){return t[Ey]=e,t.prototype[Ey]=e,t}function YF(t){return t[Ey]}function JF(t,e,n,r){let i=t[Jd];throw e[oT]&&i.unshift(e[oT]),t.message=ZF(`
`+t.message,i,n,r),t[qF]=i,t[Jd]=null,t}function ZF(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==WF?t.slice(2):t;let i=Ht(e);if(Array.isArray(e))i=e.map(Ht).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ht(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(GF,`
  `)}`}var an=QF(OF("Optional"),8);function vo(t,e){let n=t.hasOwnProperty(Qd);return n?t[Qd]:null}function XF(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function eL(t){return t.flat(Number.POSITIVE_INFINITY)}function yv(t,e){t.forEach(n=>Array.isArray(n)?yv(n,e):e(n))}function lD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function tL(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function nL(t,e,n){let r=Wc(t,e);return r>=0?t[r|1]=n:(r=~r,tL(t,r,e,n)),r}function ey(t,e){let n=Wc(t,e);if(n>=0)return t[n|1]}function Wc(t,e){return rL(t,e,1)}function rL(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var _o={},pn=[],Di=new U(""),dD=new U("",-1),hD=new U(""),Xd=class{get(e,n=mo){if(n===mo){let r=new Error(`NullInjectorError: No provider for ${Ht(e)}!`);throw r.name="NullInjectorError",r}return n}};function fD(t,e){let n=t[$F]||null;if(!n&&e===!0)throw new Error(`Type ${Ht(t)} does not have '\u0275mod' property.`);return n}function Eo(t){return t[UF]||null}function pD(t){return t[jF]||null}function gD(t){return t[BF]||null}function qt(t){return{\u0275providers:t}}function iL(...t){return{\u0275providers:vv(!0,t),\u0275fromNgModule:!0}}function vv(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return yv(e,s=>{let a=s;Iy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&mD(i,o),n}function mD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];_v(i,o=>{e(o,r)})}}function Iy(t,e,n,r){if(t=Vt(t),!t)return!1;let i=null,o=nT(t),s=!o&&Eo(t);if(!o&&!s){let u=t.ngModule;if(o=nT(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Iy(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{yv(o.imports,h=>{Iy(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&mD(l,e)}if(!a){let l=vo(i)||(()=>new i);e({provide:i,useFactory:l,deps:pn},i),e({provide:hD,useValue:i,multi:!0},i),e({provide:Di,useValue:()=>Q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;_v(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function _v(t,e){for(let n of t)sD(n)&&(n=n.\u0275providers),Array.isArray(n)?_v(n,e):e(n)}var oL=Oe({provide:String,useValue:Oe});function yD(t){return t!==null&&typeof t=="object"&&oL in t}function sL(t){return!!(t&&t.useExisting)}function aL(t){return!!(t&&t.useFactory)}function zs(t){return typeof t=="function"}function cL(t){return!!t.useClass}var bh=new U(""),Bd={},sT={},ty;function Ev(){return ty===void 0&&(ty=new Xd),ty}var dt=class{},kc=class extends dt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,by(e,s=>this.processProvider(s)),this.records.set(dD,ks(void 0,this)),i.has("environment")&&this.records.set(dt,ks(void 0,this));let o=this.records.get(bh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hD,pn,ce.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?id:mo,r)}destroy(){Nc(this),this._destroyed=!0;let e=ue(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(e)}}onDestroy(e){return Nc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Nc(this);let n=br(this),r=$t(void 0),i;try{return e()}finally{br(n),$t(r)}}get(e,n=mo,r=ce.Default){if(Nc(this),e.hasOwnProperty(iT))return e[iT](this);r=Ch(r);let i,o=br(this),s=$t(void 0);try{if(!(r&ce.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=fL(e)&&wh(e);l&&this.injectableDefInScope(l)?u=ks(Cy(e),Bd):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&ce.Self?Ev():this.parent;return n=r&ce.Optional&&n===mo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Jd]=a[Jd]||[]).unshift(Ht(e)),o)throw a;return JF(a,e,"R3InjectorError",this.source)}else throw a}finally{$t(s),br(o)}}resolveInjectorInitializers(){let e=ue(null),n=br(this),r=$t(void 0),i;try{let o=this.get(Di,pn,ce.Self);for(let s of o)s()}finally{br(n),$t(r),ue(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ht(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Vt(e);let n=zs(e)?e:Vt(e&&e.provide),r=lL(e);if(!zs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ks(void 0,Bd,!0),i.factory=()=>wy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ue(null);try{return n.value===sT?aD(Ht(e)):n.value===Bd&&(n.value=sT,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&hL(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ue(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Cy(t){let e=wh(t),n=e!==null?e.factory:vo(t);if(n!==null)return n;if(t instanceof U)throw new B(204,!1);if(t instanceof Function)return uL(t);throw new B(204,!1)}function uL(t){if(t.length>0)throw new B(204,!1);let n=LF(t);return n!==null?()=>n.factory(t):()=>new t}function lL(t){if(yD(t))return ks(void 0,t.useValue);{let e=vD(t);return ks(e,Bd)}}function vD(t,e,n){let r;if(zs(t)){let i=Vt(t);return vo(i)||Cy(i)}else if(yD(t))r=()=>Vt(t.useValue);else if(aL(t))r=()=>t.useFactory(...wy(t.deps||[]));else if(sL(t))r=(i,o)=>Q(Vt(t.useExisting),o!==void 0&&o&ce.Optional?ce.Optional:void 0);else{let i=Vt(t&&(t.useClass||t.provide));if(dL(t))r=()=>new i(...wy(t.deps));else return vo(i)||Cy(i)}return r}function Nc(t){if(t.destroyed)throw new B(205,!1)}function ks(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function dL(t){return!!t.deps}function hL(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function fL(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function by(t,e){for(let n of t)Array.isArray(n)?by(n,e):n&&sD(n)?by(n.\u0275providers,e):e(n)}function wt(t,e){let n;t instanceof kc?(Nc(t),n=t):n=new Yd(t);let r,i=br(n),o=$t(void 0);try{return e()}finally{br(i),$t(o)}}function _D(){return cD()!==void 0||Ac()!=null}function Th(t){if(!_D())throw new B(-203,!1)}function pL(t){return typeof t=="function"}var on=0,X=1,re=2,ut=3,Dn=4,Mn=5,An=6,eh=7,ct=8,Wn=9,Ar=10,ke=11,Fc=12,aT=13,Js=14,sn=15,wo=16,Fs=17,Rr=18,Dh=19,ED=20,Ti=21,ny=22,th=23,gn=24,js=25,Be=26,wD=1,Mr=6,Pr=7,nh=8,qs=9,Et=10;function Sn(t){return Array.isArray(t)&&typeof t[wD]=="object"}function Xn(t){return Array.isArray(t)&&t[wD]===!0}function ID(t){return(t.flags&4)!==0}function Ao(t){return t.componentOffset>-1}function wv(t){return(t.flags&1)===1}function Kn(t){return!!t.template}function Lc(t){return(t[re]&512)!==0}function Ro(t){return(t[re]&256)===256}var Ty=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function CD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Si=(()=>{let t=()=>bD;return t.ngInherit=!0,t})();function bD(t){return t.type.prototype.ngOnChanges&&(t.setInput=mL),gL}function gL(){let t=DD(this),e=t?.current;if(e){let n=t.previous;if(n===_o)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mL(t,e,n,r,i){let o=this.declaredInputs[r],s=DD(t)||yL(t,{previous:_o,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ty(l&&l.currentValue,n,u===_o),CD(t,e,i,n)}var TD="__ngSimpleChanges__";function DD(t){return t[TD]||null}function yL(t,e){return t[TD]=e}var cT=null;var Se=function(t,e=null,n){cT?.(t,e,n)},vL="svg",_L="math";function Rn(t){for(;Array.isArray(t);)t=t[on];return t}function SD(t,e){return Rn(e[t])}function Pn(t,e){return Rn(e[t.index])}function Kc(t,e){return t.data[e]}function AD(t,e){return t[e]}function Qn(t,e){let n=e[t];return Sn(n)?n:n[on]}function EL(t){return(t[re]&4)===4}function Iv(t){return(t[re]&128)===128}function wL(t){return Xn(t[ut])}function Gs(t,e){return e==null?null:t[e]}function RD(t){t[Fs]=0}function MD(t){t[re]&1024||(t[re]|=1024,Iv(t)&&Qc(t))}function IL(t,e){for(;t>0;)e=e[Js],t--;return e}function Sh(t){return!!(t[re]&9216||t[gn]?.dirty)}function Dy(t){t[Ar].changeDetectionScheduler?.notify(8),t[re]&64&&(t[re]|=1024),Sh(t)&&Qc(t)}function Qc(t){t[Ar].changeDetectionScheduler?.notify(0);let e=Io(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!Iv(e)));)e=Io(e)}function PD(t,e){if(Ro(t))throw new B(911,!1);t[Ti]===null&&(t[Ti]=[]),t[Ti].push(e)}function CL(t,e){if(t[Ti]===null)return;let n=t[Ti].indexOf(e);n!==-1&&t[Ti].splice(n,1)}function Io(t){let e=t[ut];return Xn(e)?e[ut]:e}function Cv(t){return t[eh]??=[]}function bv(t){return t.cleanup??=[]}function bL(t,e,n,r){let i=Cv(e);i.push(n),t.firstCreatePass&&bv(t).push(r,i.length-1)}var de={lFrame:UD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Sy=!1;function TL(){return de.lFrame.elementDepthCount}function DL(){de.lFrame.elementDepthCount++}function SL(){de.lFrame.elementDepthCount--}function ND(){return de.bindingsEnabled}function Yc(){return de.skipHydrationRootTNode!==null}function AL(t){return de.skipHydrationRootTNode===t}function RL(t){de.skipHydrationRootTNode=t}function ML(){de.skipHydrationRootTNode=null}function ge(){return de.lFrame.lView}function ht(){return de.lFrame.tView}function er(t){return de.lFrame.contextLView=t,t[ct]}function tr(t){return de.lFrame.contextLView=null,t}function Gt(){let t=xD();for(;t!==null&&t.type===64;)t=t.parent;return t}function xD(){return de.lFrame.currentTNode}function PL(){let t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Jc(t,e){let n=de.lFrame;n.currentTNode=t,n.isParent=e}function OD(){return de.lFrame.isParent}function NL(){de.lFrame.isParent=!1}function kD(){return Sy}function uT(t){let e=Sy;return Sy=t,e}function Tv(){let t=de.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function xL(t){return de.lFrame.bindingIndex=t}function Zs(){return de.lFrame.bindingIndex++}function OL(t){let e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function kL(){return de.lFrame.inI18n}function FL(t,e){let n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ay(e)}function LL(){return de.lFrame.currentDirectiveIndex}function Ay(t){de.lFrame.currentDirectiveIndex=t}function VL(t){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function FD(){return de.lFrame.currentQueryIndex}function Dv(t){de.lFrame.currentQueryIndex=t}function UL(t){let e=t[X];return e.type===2?e.declTNode:e.type===1?t[Mn]:null}function LD(t,e,n){if(n&ce.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ce.Host);)if(i=UL(o),i===null||(o=o[Js],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=de.lFrame=VD();return r.currentTNode=e,r.lView=t,!0}function Sv(t){let e=VD(),n=t[X];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function VD(){let t=de.lFrame,e=t===null?null:t.child;return e===null?UD(t):e}function UD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function jD(){let t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var BD=jD;function Av(){let t=jD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function jL(t){return(de.lFrame.contextLView=IL(t,de.lFrame.contextLView))[ct]}function Mo(){return de.lFrame.selectedIndex}function Co(t){de.lFrame.selectedIndex=t}function Ah(){let t=de.lFrame;return Kc(t.tView,t.selectedIndex)}function $D(){return de.lFrame.currentNamespace}var HD=!0;function Rv(){return HD}function Ai(t){HD=t}function BL(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=bD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function zD(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function $d(t,e,n){qD(t,e,3,n)}function Hd(t,e,n,r){(t[re]&3)===n&&qD(t,e,n,r)}function ry(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function qD(t,e,n,r){let i=r!==void 0?t[Fs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Fs]+=65536),(a<o||o==-1)&&($L(t,n,e,u),t[Fs]=(t[Fs]&4294901760)+u+2),u++}function lT(t,e){Se(4,t,e);let n=ue(null);try{e.call(t)}finally{ue(n),Se(5,t,e)}}function $L(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[re]>>14<t[Fs]>>16&&(t[re]&3)===e&&(t[re]+=16384,lT(a,o)):lT(a,o)}var Bs=-1,bo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function HL(t){return(t.flags&8)!==0}function zL(t){return(t.flags&16)!==0}function qL(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];GL(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function GD(t){return t===3||t===4||t===6}function GL(t){return t.charCodeAt(0)===64}function Vc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?dT(t,n,i,null,e[++r]):dT(t,n,i,null,null))}}return t}function dT(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function WD(t){return t!==Bs}function rh(t){return t&32767}function WL(t){return t>>16}function ih(t,e){let n=WL(t),r=e;for(;n>0;)r=r[Js],n--;return r}var Ry=!0;function oh(t){let e=Ry;return Ry=t,e}var KL=256,KD=KL-1,QD=5,QL=0,Gn={};function YL(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Oc)&&(r=n[Oc]),r==null&&(r=n[Oc]=QL++);let i=r&KD,o=1<<i;e.data[t+(i>>QD)]|=o}function sh(t,e){let n=YD(t,e);if(n!==-1)return n;let r=e[X];r.firstCreatePass&&(t.injectorIndex=e.length,iy(r.data,t),iy(e,null),iy(r.blueprint,null));let i=Mv(t,e),o=t.injectorIndex;if(WD(i)){let s=rh(i),a=ih(i,e),u=a[X].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function iy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function YD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Mv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=tS(i),r===null)return Bs;if(n++,i=i[Js],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Bs}function My(t,e,n){YL(t,e,n)}function JL(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(GD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function JD(t,e,n){if(n&ce.Optional||t!==void 0)return t;mv(e,"NodeInjector")}function ZD(t,e,n,r){if(n&ce.Optional&&r===void 0&&(r=null),(n&(ce.Self|ce.Host))===0){let i=t[Wn],o=$t(void 0);try{return i?i.get(e,r,n&ce.Optional):uD(e,r,n&ce.Optional)}finally{$t(o)}}return JD(r,e,n)}function XD(t,e,n,r=ce.Default,i){if(t!==null){if(e[re]&2048&&!(r&ce.Self)){let s=tV(t,e,n,r,Gn);if(s!==Gn)return s}let o=eS(t,e,n,r,Gn);if(o!==Gn)return o}return ZD(e,n,r,i)}function eS(t,e,n,r,i){let o=XL(n);if(typeof o=="function"){if(!LD(e,t,r))return r&ce.Host?JD(i,n,r):ZD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ce.Optional))mv(n);else return s}finally{BD()}}else if(typeof o=="number"){let s=null,a=YD(t,e),u=Bs,l=r&ce.Host?e[sn][Mn]:null;for((a===-1||r&ce.SkipSelf)&&(u=a===-1?Mv(t,e):e[a+8],u===Bs||!fT(r,!1)?a=-1:(s=e[X],a=rh(u),e=ih(u,e)));a!==-1;){let h=e[X];if(hT(o,a,h.data)){let p=ZL(a,e,n,s,r,l);if(p!==Gn)return p}u=e[a+8],u!==Bs&&fT(r,e[X].data[a+8]===l)&&hT(o,a,e)?(s=h,a=rh(u),e=ih(u,e)):a=-1}}return i}function ZL(t,e,n,r,i,o){let s=e[X],a=s.data[t+8],u=r==null?Ao(a)&&Ry:r!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,h=zd(a,s,n,u,l);return h!==null?Uc(e,s,h,a,i):Gn}function zd(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let m=p;m<g;m++){let I=s[m];if(m<u&&n===I||m>=u&&I.type===n)return m}if(i){let m=s[u];if(m&&Kn(m)&&m.type===n)return u}return null}function Uc(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof bo){let a=o;a.resolving&&aD(HF(s[n]));let u=oh(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?$t(a.injectImpl):null,p=LD(t,r,ce.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&BL(n,s[n],e)}finally{h!==null&&$t(h),oh(u),a.resolving=!1,BD()}}return o}function XL(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Oc)?t[Oc]:void 0;return typeof e=="number"?e>=0?e&KD:eV:e}function hT(t,e,n){let r=1<<t;return!!(n[e+(t>>QD)]&r)}function fT(t,e){return!(t&ce.Self)&&!(t&ce.Host&&e)}var yo=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return XD(this._tNode,this._lView,e,Ch(r),n)}};function eV(){return new yo(Gt(),ge())}function Ri(t){return Gc(()=>{let e=t.prototype.constructor,n=e[Qd]||Py(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Qd]||Py(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Py(t){return nD(t)?()=>{let e=Py(Vt(t));return e&&e()}:vo(t)}function tV(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!Lc(s);){let a=eS(o,s,n,r|ce.Self,Gn);if(a!==Gn)return a;let u=o.parent;if(!u){let l=s[ED];if(l){let h=l.get(n,Gn,r);if(h!==Gn)return h}u=tS(s),s=s[Js]}o=u}return i}function tS(t){let e=t[X],n=e.type;return n===2?e.declTNode:n===1?t[Mn]:null}function Pv(t){return JL(Gt(),t)}function pT(t,e=null,n=null,r){let i=nS(t,e,n,r);return i.resolveInjectorInitializers(),i}function nS(t,e=null,n=null,r,i=new Set){let o=[n||pn,iL(t)];return r=r||(typeof t=="object"?void 0:Ht(t)),new kc(o,e||Ev(),r||null,i)}var Ze=class t{static THROW_IF_NOT_FOUND=mo;static NULL=new Xd;static create(e,n){if(Array.isArray(e))return pT({name:""},n,e,"");{let r=e.name??"";return pT({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:t,providedIn:"any",factory:()=>Q(dD)});static __NG_ELEMENT_ID__=-1};var nV=new U("");nV.__NG_ELEMENT_ID__=t=>{let e=Gt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&ce.Optional)return null;throw new B(204,!1)};var rS=!1,Xs=(()=>{class t{static __NG_ELEMENT_ID__=rV;static __NG_ENV_ID__=n=>n}return t})(),Ny=class extends Xs{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return Ro(n)?(e(),()=>{}):(PD(n,e),()=>CL(n,e))}};function rV(){return new Ny(ge())}var To=class{},Rh=new U("",{providedIn:"root",factory:()=>!1});var iS=new U(""),oS=new U(""),nr=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ot(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})(),Zc=(()=>{class t{internalPendingTasks=x(nr);scheduler=x(To);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return v(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})(),xy=class extends Ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,_D()&&(this.destroyRef=x(Xs,{optional:!0})??void 0,this.pendingTasks=x(nr,{optional:!0})??void 0)}emit(e){let n=ue(null);try{super.next(e)}finally{ue(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ze&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},je=xy;function ah(...t){}function sS(t){let e,n;function r(){t=ah;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function gT(t){return queueMicrotask(()=>t()),()=>{t=ah}}var Nv="isAngularZone",ch=Nv+"_ID",iV=0,Te=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new je(!1);onMicrotaskEmpty=new je(!1);onStable=new je(!1);onError=new je(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=rS}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,aV(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Nv)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,oV,ah,ah);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},oV={};function xv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sV(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){sS(()=>{t.callbackScheduled=!1,Oy(t),t.isCheckStableRunning=!0,xv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Oy(t)}function aV(t){let e=()=>{sV(t)},n=iV++;t._inner=t._inner.fork({name:"angular",properties:{[Nv]:!0,[ch]:n,[ch+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(cV(u))return r.invokeTask(o,s,a,u);try{return mT(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),yT(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return mT(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!uV(u)&&e(),yT(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Oy(t),xv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Oy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function mT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yT(t){t._nesting--,xv(t)}var ky=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new je;onMicrotaskEmpty=new je;onStable=new je;onError=new je;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function cV(t){return aS(t,"__ignore_ng_zone__")}function uV(t){return aS(t,"__scheduler_tick__")}function aS(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Yn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},lV=new U("",{providedIn:"root",factory:()=>{let t=x(Te),e=x(Yn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function vT(t,e){return tD(t,e)}function dV(t){return tD(eD,t)}var cS=(vT.required=dV,vT);function hV(){return ea(Gt(),ge())}function ea(t,e){return new mn(Pn(t,e))}var mn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=hV}return t})();function fV(t){return t instanceof mn?t.nativeElement:t}function pV(t){return typeof t=="function"&&t[fn]!==void 0}function Po(t,e){let n=Im(t,e?.equal),r=n[fn];return n.set=i=>Sc(r,i),n.update=i=>Cm(r,i),n.asReadonly=gV.bind(n),n}function gV(){let t=this[fn];if(t.readonlyFn===void 0){let e=()=>this();e[fn]=t,t.readonlyFn=e}return t.readonlyFn}function uS(t){return pV(t)&&typeof t.set=="function"}function mV(){return this._results[Symbol.iterator]()}var Fy=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ne}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=eL(e);(this._changesDetected=!XF(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=mV},yV="ngSkipHydration",vV="ngskiphydration";function lS(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===vV)return!0}return!1}function dS(t){return t.hasAttribute(yV)}function uh(t){return(t.flags&128)===128}function _V(t){if(uh(t))return!0;let e=t.parent;for(;e;){if(uh(t)||lS(e))return!0;e=e.parent}return!1}var hS=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(hS||{}),fS=new Map,EV=0;function wV(){return EV++}function IV(t){fS.set(t[Dh],t)}function Ly(t){fS.delete(t[Dh])}var _T="__ngContext__";function Xc(t,e){Sn(e)?(t[_T]=e[Dh],IV(e)):t[_T]=e}function pS(t){return mS(t[Fc])}function gS(t){return mS(t[Dn])}function mS(t){for(;t!==null&&!Xn(t);)t=t[Dn];return t}var Vy;function yS(t){Vy=t}function Mh(){if(Vy!==void 0)return Vy;if(typeof document<"u")return document;throw new B(210,!1)}var Sr=new U("",{providedIn:"root",factory:()=>CV}),CV="ng",Ov=new U(""),No=new U("",{providedIn:"platform",factory:()=>"unknown"});var kv=new U("",{providedIn:"root",factory:()=>Mh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function bV(){let t=new ta;return t.store=TV(Mh(),x(Sr)),t}var ta=(()=>{class t{static \u0275prov=G({token:t,providedIn:"root",factory:bV});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function TV(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var vS="h",_S="b",DV="f",SV="n",AV="e",RV="t",Fv="c",ES="x",lh="r",MV="i",PV="n",wS="d";var NV="di",xV="s",OV="p";var Ld=new U(""),IS=!1,CS=new U("",{providedIn:"root",factory:()=>IS});var bS=new U(""),kV=!1,FV=new U(""),ET=new U("",{providedIn:"root",factory:()=>new Map}),Lv=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Lv||{}),na=new U(""),wT=new Set;function rr(t){wT.has(t)||(wT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var TS=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=LV}return t})();function LV(){return new TS(ge(),Gt())}var Ls=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ls||{}),DS=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})(),VV=[Ls.EarlyRead,Ls.Write,Ls.MixedReadWrite,Ls.Read],UV=(()=>{class t{ngZone=x(Te);scheduler=x(To);errorHandler=x(Yn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){x(na,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Se(16),this.executing=!0;for(let r of VV)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Se(17)}register(n){let{view:r}=n;r!==void 0?((r[js]??=[]).push(n),Qc(r),r[re]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Lv.AFTER_NEXT_RENDER,n):n()}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})(),Uy=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[js];e&&(this.view[js]=e.filter(n=>n!==this))}};function Vv(t,e){!e?.injector&&Th(Vv);let n=e?.injector??x(Ze);return rr("NgAfterNextRender"),BV(t,n,e,!0)}function jV(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function BV(t,e,n,r){let i=e.get(DS);i.impl??=e.get(UV);let o=e.get(na,null,{optional:!0}),s=n?.phase??Ls.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(Xs):null,u=e.get(TS,null,{optional:!0}),l=new Uy(i.impl,jV(t,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var rn=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(rn||{}),IT=0,$V=1,at=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(at||{});var HV=0,Ph=1;var zV=4,qV=5;var GV=7,$s=8,WV=9,SS=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(SS||{});function qd(t,e){let n=QV(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function KV(t){qd(1,t),qd(0,t),qd(2,t)}function QV(t){let e=zV;return t===1?e=qV:t===2&&(e=WV),e}function AS(t){return t+1}function eu(t,e){let n=t[X],r=AS(e.index);return t[r]}function Nh(t,e){let n=AS(e.index);return t.data[n]}function YV(t,e,n){let r=e[X],i=Nh(r,n);switch(t){case at.Complete:return i.primaryTmplIndex;case at.Loading:return i.loadingTmplIndex;case at.Error:return i.errorTmplIndex;case at.Placeholder:return i.placeholderTmplIndex;default:return null}}function CT(t,e){return e===at.Placeholder?t.placeholderBlockConfig?.[IT]??null:e===at.Loading?t.loadingBlockConfig?.[IT]??null:null}function JV(t){return t.loadingBlockConfig?.[$V]??null}function bT(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function ZV(t,e){let n=e.primaryTmplIndex+Be;return Kc(t,n)}var xh="ngb";var XV=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},e4=(t,e)=>{let n=t,r=n.getAttribute(xh)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var t4=t=>{t.removeAttribute(Km.JSACTION),t.removeAttribute(xh),t.__jsaction_fns=void 0},n4=new U("",{providedIn:"root",factory:()=>({})});function RS(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var Uv=new U("");var r4="__nghData__",MS=r4,i4="__nghDeferData__",o4=i4,oy="ngh",s4="nghm",PS=()=>null;function a4(t,e,n=!1){let r=t.getAttribute(oy);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,u={};if(r!==""){let h=e.get(ta,null,{optional:!0});h!==null&&(u=h.get(MS,[])[Number(r)])}let l={data:u,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Oh(l,0,t.nextSibling)),a?t.setAttribute(oy,a):t.removeAttribute(oy),l}function c4(){PS=a4}function NS(t,e,n=!1){return PS(t,e,n)}function u4(t){let e=t._lView;return e[X].type===2?null:(Lc(e)&&(e=e[Be]),e)}function l4(t){return t.textContent?.replace(/\s/gm,"")}function d4(t){let e=Mh(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=l4(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Oh(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function jy(t,e){return t.segmentHeads?.[e]??null}function h4(t){return t.get(FV,!1,{optional:!0})}function f4(t,e){let n=t.data,r=n[AV]?.[e]??null;return r===null&&n[Fv]?.[e]&&(r=jv(t,e)),r}function xS(t,e){return t.data[Fv]?.[e]??null}function jv(t,e){let n=xS(t,e)??[],r=0;for(let i of n)r+=i[lh]*(i[ES]??1);return r}function p4(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[wS];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function tu(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[wS];t.disconnectedNodes=n?new Set(n):null}return!!p4(t)?.has(e)}function g4(t,e){let n=e.get(Uv),i=e.get(ta).get(o4,{}),o=!1,s=t,a=null,u=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}u.unshift(s),s=i[s][OV]}return{parentBlockPromise:a,hydrationQueue:u}}function sy(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===s4}function TT(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function m4(t){for(let r of t.body.childNodes)if(sy(r))return;let e=TT(t.body.previousSibling);if(sy(e))return;let n=TT(t.head.lastChild);if(!sy(n))throw new B(-507,!1)}function OS(t,e){let n=t.contentQueries;if(n!==null){let r=ue(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Dv(o),a.contentQueries(2,e[s],s)}}}finally{ue(r)}}}function By(t,e,n){Dv(0);let r=ue(null);try{e(t,n)}finally{ue(r)}}function kS(t,e,n){if(ID(e)){let r=ue(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ue(r)}}}var Jn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jn||{});var Vd;function y4(){if(Vd===void 0&&(Vd=null,bi.trustedTypes))try{Vd=bi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vd}function DT(t){return y4()?.createScriptURL(t)||t}var dh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${XT})`}};function kh(t){return t instanceof dh?t.changingThisBreaksApplicationSecurity:t}function Bv(t,e){let n=v4(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${XT})`)}return n===e}function v4(t){return t instanceof dh&&t.getTypeName()||null}var _4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function FS(t){return t=String(t),t.match(_4)?t:"unsafe:"+t}var Fh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fh||{});function E4(t){let e=VS();return e?e.sanitize(Fh.URL,t)||"":Bv(t,"URL")?kh(t):FS(Ih(t))}function w4(t){let e=VS();if(e)return DT(e.sanitize(Fh.RESOURCE_URL,t)||"");if(Bv(t,"ResourceURL"))return DT(kh(t));throw new B(904,!1)}function I4(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?w4:E4}function LS(t,e,n){return I4(e,n)(t)}function VS(){let t=ge();return t&&t[Ar].sanitizer}var C4=/^>|^->|<!--|-->|--!>|<!-$/g,b4=/(<|>)/g,T4="\u200B$1\u200B";function D4(t){return t.replace(C4,e=>e.replace(b4,T4))}function S4(t){return t.ownerDocument.body}function US(t){return t instanceof Function?t():t}function A4(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var jS="ng-template";function R4(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&A4(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if($v(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function $v(t){return t.type===4&&t.value!==jS}function M4(t,e,n){let r=t.type===4&&!n?jS:t.value;return e===r}function P4(t,e,n){let r=4,i=t.attrs,o=i!==null?O4(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Tn(r)&&!Tn(u))return!1;if(s&&Tn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!M4(t,u,n)||u===""&&e.length===1){if(Tn(r))return!1;s=!0}}else if(r&8){if(i===null||!R4(t,i,u,n)){if(Tn(r))return!1;s=!0}}else{let l=e[++a],h=N4(u,i,$v(t),n);if(h===-1){if(Tn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Tn(r))return!1;s=!0}}}}return Tn(r)||s}function Tn(t){return(t&1)===0}function N4(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return k4(e,t)}function x4(t,e,n=!1){for(let r=0;r<e.length;r++)if(P4(t,e[r],n))return!0;return!1}function O4(t){for(let e=0;e<t.length;e++){let n=t[e];if(GD(n))return e}return t.length}function k4(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ST(t,e){return t?":not("+e.trim()+")":e}function F4(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Tn(s)&&(e+=ST(o,i),i=""),r=s,o=o||!Tn(r);n++}return i!==""&&(e+=ST(o,i)),e}function L4(t){return t.map(F4).join(",")}function V4(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Tn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var kr={};function BS(t,e){return t.createText(e)}function U4(t,e,n){t.setValue(e,n)}function $S(t,e){return t.createComment(D4(e))}function Hv(t,e,n){return t.createElement(e,n)}function hh(t,e,n,r,i){t.insertBefore(e,n,r,i)}function HS(t,e,n){t.appendChild(e,n)}function AT(t,e,n,r,i){r!==null?hh(t,e,n,r,i):HS(t,e,n)}function zv(t,e,n){t.removeChild(null,e,n)}function zS(t){t.textContent=""}function j4(t,e,n){t.setAttribute(e,"style",n)}function B4(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qS(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&qL(t,e,r),i!==null&&B4(t,e,i),o!==null&&j4(t,e,o)}function qv(t,e,n,r,i,o,s,a,u,l,h){let p=Be+r,g=p+i,m=$4(p,g),I=typeof l=="function"?l():l;return m[X]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:I,incompleteFirstPass:!1,ssrId:h}}function $4(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:kr);return n}function H4(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=qv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Gv(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[on]=i,p[re]=r|4|128|8|64|1024,(l!==null||t&&t[re]&2048)&&(p[re]|=2048),RD(p),p[ut]=p[Js]=t,p[ct]=n,p[Ar]=s||t&&t[Ar],p[ke]=a||t&&t[ke],p[Wn]=u||t&&t[Wn]||null,p[Mn]=o,p[Dh]=wV(),p[An]=h,p[ED]=l,p[sn]=e.type==2?t[sn]:p,p}function z4(t,e,n){let r=Pn(e,t),i=H4(n),o=t[Ar].rendererFactory,s=Wv(t,Gv(t,i,null,GS(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function GS(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function WS(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Wv(t,e){return t[Fc]?t[aT][Dn]=e:t[Fc]=e,t[aT]=e,e}function Y(t=1){KS(ht(),ge(),Mo()+t,!1)}function KS(t,e,n,r){if(!r)if((e[re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&$d(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Hd(e,o,0,n)}Co(n)}var Lh=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Lh||{});function $y(t,e,n,r){let i=ue(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Lh.SignalBased)!==0&&(u=e[o][fn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):CD(e,u,o,r)}finally{ue(i)}}function QS(t,e,n,r,i){let o=Mo(),s=r&2;try{Co(-1),s&&e.length>Be&&KS(t,e,Be,!1),Se(s?2:0,i),n(r,i)}finally{Co(o),Se(s?3:1,i)}}function Kv(t,e,n){J4(t,e,n),(n.flags&64)===64&&Z4(t,e,n)}function YS(t,e,n=Pn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function q4(t,e,n,r){let o=r.get(CS,IS)||n===Jn.ShadowDom,s=t.selectRootElement(e,o);return G4(s),s}function G4(t){JS(t)}var JS=()=>null;function W4(t){dS(t)?zS(t):d4(t)}function K4(){JS=W4}function Q4(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Qv(t,e,n,r,i,o,s,a){if(!a&&Jv(e,t,n,r,i)){Ao(e)&&Y4(n,e.index);return}if(e.type&3){let u=Pn(e,n);r=Q4(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function Y4(t,e){let n=Qn(e,t);n[re]&16||(n[re]|=64)}function J4(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Ao(n)&&z4(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||sh(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Uc(e,t,s,n);if(Xc(u,e),o!==null&&n2(e,s-r,u,a,n,o),Kn(a)){let l=Qn(n.index,e);l[ct]=Uc(e,t,s,n)}}}function Z4(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=LL();try{Co(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Ay(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&X4(u,l)}}finally{Co(-1),Ay(s)}}function X4(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ZS(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];x4(e,o.selectors,!1)&&(r??=[],Kn(o)?r.unshift(o):r.push(o))}return r}function e2(t,e,n,r,i,o){let s=Pn(t,e);t2(e[ke],s,o,t.value,n,r,i)}function t2(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ih(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function n2(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];$y(r,n,u,l)}}function Yv(t,e){let n=t[Wn],r=n?n.get(Yn,null):null;r&&r.handleError(e)}function Jv(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];$y(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];$y(h,l,r,i),a=!0}return a}function r2(t,e){let n=Qn(e,t),r=n[X];i2(r,n);let i=n[on];i!==null&&n[An]===null&&(n[An]=NS(i,n[Wn])),Se(18),Zv(r,n,n[ct]),Se(19,n[ct])}function i2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Zv(t,e,n){Sv(e);try{let r=t.viewQuery;r!==null&&By(1,r,n);let i=t.template;i!==null&&QS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Rr]?.finishViewCreation(t),t.staticContentQueries&&OS(t,e),t.staticViewQueries&&By(2,t.viewQuery,n);let o=t.components;o!==null&&o2(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,Av()}}function o2(t,e){for(let n=0;n<e.length;n++)r2(t,e[n])}function nu(t,e,n,r){let i=ue(null);try{let o=e.tView,a=t[re]&4096?4096:16,u=Gv(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[wo]=l;let h=t[Rr];return h!==null&&(u[Rr]=h.createEmbeddedView(o)),Zv(o,u,n),u}finally{ue(i)}}function Ws(t,e){return!e||e.firstChild===null||uh(t)}var s2;function Xv(t,e){return s2(t,e)}var Nr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Nr||{});function ra(t){return(t.flags&32)===32}function Vs(t,e,n,r,i){if(r!=null){let o,s=!1;Xn(r)?o=r:Sn(r)&&(s=!0,r=r[on]);let a=Rn(r);t===0&&n!==null?i==null?HS(e,n,a):hh(e,n,a,i||null,!0):t===1&&n!==null?hh(e,n,a,i||null,!0):t===2?zv(e,a,s):t===3&&e.destroyNode(a),o!=null&&v2(e,t,o,n,i)}}function a2(t,e){XS(t,e),e[on]=null,e[Mn]=null}function c2(t,e,n,r,i,o){r[on]=i,r[Mn]=e,Uh(t,r,n,1,i,o)}function XS(t,e){e[Ar].changeDetectionScheduler?.notify(9),Uh(t,e,e[ke],2,null,null)}function u2(t){let e=t[Fc];if(!e)return ay(t[X],t);for(;e;){let n=null;if(Sn(e))n=e[Fc];else{let r=e[Et];r&&(n=r)}if(!n){for(;e&&!e[Dn]&&e!==t;)Sn(e)&&ay(e[X],e),e=e[ut];e===null&&(e=t),Sn(e)&&ay(e[X],e),n=e&&e[Dn]}e=n}}function e_(t,e){let n=t[qs],r=n.indexOf(e);n.splice(r,1)}function Vh(t,e){if(Ro(e))return;let n=e[ke];n.destroyNode&&Uh(t,e,n,3,null,null),u2(e)}function ay(t,e){if(Ro(e))return;let n=ue(null);try{e[re]&=-129,e[re]|=256,e[gn]&&_m(e[gn]),d2(t,e),l2(t,e),e[X].type===1&&e[ke].destroy();let r=e[wo];if(r!==null&&Xn(e[ut])){r!==e[ut]&&e_(r,e);let i=e[Rr];i!==null&&i.detachView(t)}Ly(e)}finally{ue(n)}}function l2(t,e){let n=t.cleanup,r=e[eh];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[eh]=null);let i=e[Ti];if(i!==null){e[Ti]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[th];if(o!==null){e[th]=null;for(let s of o)s.destroy()}}function d2(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof bo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Se(4,a,u);try{u.call(a)}finally{Se(5,a,u)}}else{Se(4,i,o);try{o.call(i)}finally{Se(5,i,o)}}}}}function h2(t,e,n){return f2(t,e.parent,n)}function f2(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[on];if(Ao(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Jn.None||i===Jn.Emulated)return null}return Pn(r,n)}function p2(t,e,n){return m2(t,e,n)}function g2(t,e,n){return t.type&40?Pn(t,n):null}var m2=g2,RT;function t_(t,e,n,r){let i=h2(t,r,e),o=e[ke],s=r.parent||e[Mn],a=p2(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)AT(o,i,n[u],a,!1);else AT(o,i,n,a,!1);RT!==void 0&&RT(o,r,e,n,i)}function xc(t,e){if(e!==null){let n=e.type;if(n&3)return Pn(e,t);if(n&4)return Hy(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return xc(t,r);{let i=t[e.index];return Xn(i)?Hy(-1,i):Rn(i)}}else{if(n&128)return xc(t,e.next);if(n&32)return Xv(e,t)()||Rn(t[e.index]);{let r=eA(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Io(t[sn]);return xc(i,r)}else return xc(t,e.next)}}}return null}function eA(t,e){if(e!==null){let r=t[sn][Mn],i=e.projection;return r.projection[i]}return null}function Hy(t,e){let n=Et+t+1;if(n<e.length){let r=e[n],i=r[X].firstChild;if(i!==null)return xc(r,i)}return e[Pr]}function n_(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Xc(Rn(a),r),n.flags|=2),!ra(n))if(u&8)n_(t,e,n.child,r,i,o,!1),Vs(e,t,i,a,o);else if(u&32){let l=Xv(n,r),h;for(;h=l();)Vs(e,t,i,h,o);Vs(e,t,i,a,o)}else u&16?y2(t,e,r,n,i,o):Vs(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Uh(t,e,n,r,i,o){n_(n,r,t.firstChild,e,i,o,!1)}function y2(t,e,n,r,i,o){let s=n[sn],u=s[Mn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Vs(e,t,i,h,o)}else{let l=u,h=s[ut];uh(r)&&(l.flags|=128),n_(t,e,l,h,i,o,!0)}}function v2(t,e,n,r,i){let o=n[Pr],s=Rn(n);o!==s&&Vs(e,t,r,o,i);for(let a=Et;a<n.length;a++){let u=n[a];Uh(u[X],u,t,e,r,o)}}function _2(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Nr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Nr.Important),t.setStyle(n,r,i,o))}}function fh(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Rn(o)),Xn(o)&&E2(o,r);let s=n.type;if(s&8)fh(t,e,n.child,r);else if(s&32){let a=Xv(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=eA(e,n);if(Array.isArray(a))r.push(...a);else{let u=Io(e[sn]);fh(u[X],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function E2(t,e){for(let n=Et;n<t.length;n++){let r=t[n],i=r[X].firstChild;i!==null&&fh(r[X],r,i,e)}t[Pr]!==t[on]&&e.push(t[Pr])}function tA(t){if(t[js]!==null){for(let e of t[js])e.impl.addSequence(e);t[js].length=0}}var nA=[];function w2(t){return t[gn]??I2(t)}function I2(t){let e=nA.pop()??Object.create(b2);return e.lView=t,e}function C2(t){t.lView[gn]!==t&&(t.lView=null,nA.push(t))}var b2=fe(L({},Tc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Qc(t.lView)},consumerOnSignalRead(){this.lView[gn]=this}});function T2(t){let e=t[gn]??Object.create(D2);return e.lView=t,e}var D2=fe(L({},Tc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Io(t.lView);for(;e&&!rA(e[X]);)e=Io(e);e&&MD(e)},consumerOnSignalRead(){this.lView[gn]=this}});function rA(t){return t.type!==2}function iA(t){if(t[th]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[th])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[re]&8192)}}var S2=100;function oA(t,e=!0,n=0){let i=t[Ar].rendererFactory,o=!1;o||i.begin?.();try{A2(t,n)}catch(s){throw e&&Yv(t,s),s}finally{o||i.end?.()}}function A2(t,e){let n=kD();try{uT(!0),zy(t,e);let r=0;for(;Sh(t);){if(r===S2)throw new B(103,!1);r++,zy(t,1)}}finally{uT(n)}}function R2(t,e,n,r){if(Ro(e))return;let i=e[re],o=!1,s=!1;Sv(e);let a=!0,u=null,l=null;o||(rA(t)?(l=w2(e),u=ed(l)):fm()===null?(a=!1,l=T2(e),u=ed(l)):e[gn]&&(_m(e[gn]),e[gn]=null));try{RD(e),xL(t.bindingStartIndex),n!==null&&QS(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let m=t.preOrderCheckHooks;m!==null&&$d(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Hd(e,m,0,null),ry(e,0)}if(s||M2(e),iA(e),sA(e,0),t.contentQueries!==null&&OS(t,e),!o)if(h){let m=t.contentCheckHooks;m!==null&&$d(e,m)}else{let m=t.contentHooks;m!==null&&Hd(e,m,1),ry(e,1)}N2(t,e);let p=t.components;p!==null&&cA(e,p,0);let g=t.viewQuery;if(g!==null&&By(2,g,r),!o)if(h){let m=t.viewCheckHooks;m!==null&&$d(e,m)}else{let m=t.viewHooks;m!==null&&Hd(e,m,2),ry(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ny]){for(let m of e[ny])m();e[ny]=null}o||(tA(e),e[re]&=-73)}catch(h){throw o||Qc(e),h}finally{l!==null&&(ym(l,u),a&&C2(l)),Av()}}function sA(t,e){for(let n=pS(t);n!==null;n=gS(n))for(let r=Et;r<n.length;r++){let i=n[r];aA(i,e)}}function M2(t){for(let e=pS(t);e!==null;e=gS(e)){if(!(e[re]&2))continue;let n=e[qs];for(let r=0;r<n.length;r++){let i=n[r];MD(i)}}}function P2(t,e,n){Se(18);let r=Qn(e,t);aA(r,n),Se(19,r[ct])}function aA(t,e){Iv(t)&&zy(t,e)}function zy(t,e){let r=t[X],i=t[re],o=t[gn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&vm(o)),s||=!1,o&&(o.dirty=!1),t[re]&=-9217,s)R2(r,t,r.template,t[ct]);else if(i&8192){iA(t),sA(t,1);let a=r.components;a!==null&&cA(t,a,1),tA(t)}}function cA(t,e,n){for(let r=0;r<e.length;r++)P2(t,e[r],n)}function N2(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Co(~i);else{let o=i,s=n[++r],a=n[++r];FL(s,o);let u=e[o];Se(24,u),a(2,u),Se(25,u)}}}finally{Co(-1)}}function jh(t,e){let n=kD()?64:1088;for(t[Ar].changeDetectionScheduler?.notify(e);t;){t[re]|=n;let r=Io(t);if(Lc(t)&&!r)return t;t=r}return null}function uA(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function lA(t,e){let n=Et+e;if(n<t.length)return t[n]}function ru(t,e,n,r=!0){let i=e[X];if(x2(i,e,t,n),r){let s=Hy(n,t),a=e[ke],u=a.parentNode(t[Pr]);u!==null&&c2(i,t[Mn],a,e,u,s)}let o=e[An];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function r_(t,e){let n=jc(t,e);return n!==void 0&&Vh(n[X],n),n}function jc(t,e){if(t.length<=Et)return;let n=Et+e,r=t[n];if(r){let i=r[wo];i!==null&&i!==t&&e_(i,r),e>0&&(t[n-1][Dn]=r[Dn]);let o=Zd(t,Et+e);a2(r[X],r);let s=o[Rr];s!==null&&s.detachView(o[X]),r[ut]=null,r[Dn]=null,r[re]&=-129}return r}function x2(t,e,n,r){let i=Et+r,o=n.length;r>0&&(n[i-1][Dn]=e),r<o-Et?(e[Dn]=n[i],lD(n,Et+r,e)):(n.push(e),e[Dn]=null),e[ut]=n;let s=e[wo];s!==null&&n!==s&&dA(s,e);let a=e[Rr];a!==null&&a.insertView(t),Dy(e),e[re]|=128}function dA(t,e){let n=t[qs],r=e[ut];if(Sn(r))t[re]|=2;else{let i=r[ut][sn];e[sn]!==i&&(t[re]|=2)}n===null?t[qs]=[e]:n.push(e)}var Bc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[X];return fh(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[ct]}set context(e){this._lView[ct]=e}get destroyed(){return Ro(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ut];if(Xn(e)){let n=e[nh],r=n?n.indexOf(this):-1;r>-1&&(jc(e,r),Zd(n,r))}this._attachedToViewContainer=!1}Vh(this._lView[X],this._lView)}onDestroy(e){PD(this._lView,e)}markForCheck(){jh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){Dy(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,oA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Lc(this._lView),n=this._lView[wo];n!==null&&!e&&e_(n,this._lView),XS(this._lView[X],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=Lc(this._lView),r=this._lView[wo];r!==null&&!n&&dA(r,this._lView),Dy(this._lView)}};var $c=(()=>{class t{static __NG_ELEMENT_ID__=F2}return t})(),O2=$c,k2=class extends O2{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=nu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Bc(i)}};function F2(){return i_(Gt(),ge())}function i_(t,e){return t.type&4?new k2(e,t,ea(t,e)):null}function o_(t,e,n,r,i){let o=t.data[e];if(o===null)o=L2(t,e,n,r,i),kL()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=PL();o.injectorIndex=s===null?-1:s.injectorIndex}return Jc(o,!0),o}function L2(t,e,n,r,i){let o=xD(),s=OD(),a=s?o:o&&o.parent,u=t.data[e]=U2(t,a,n,e,r,i);return V2(t,u,o,s),u}function V2(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function U2(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Yc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var j2=new RegExp(`^(\\d+)*(${_S}|${vS})*(.*)`);function B2(t){let e=t.match(j2),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function $2(t){return!t.prev&&t.parent?.type===8}function cy(t){return t.index-Be}function H2(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Bh(t,e,n,r){let i=cy(r),o=H2(t,i);if(o===void 0){let s=t.data[PV];if(s?.[i])o=q2(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if($2(r)){let l=cy(r.parent);o=jy(t,l)}else{let l=Pn(u,n);if(a)o=l.firstChild;else{let h=cy(u),p=jy(t,h);if(u.type===2&&p){let m=jv(t,h)+1;o=$h(m,p)}else o=l.nextSibling}}}}return o}function $h(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function z2(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case DV:n=n.firstChild;break;case SV:n=n.nextSibling;break}}return n}function q2(t,e){let[n,...r]=B2(t),i;if(n===vS)i=e[sn][on];else if(n===_S)i=S4(e[sn][on]);else{let o=Number(n);i=Rn(e[o+Be])}return z2(i,r)}var G2=!1;function W2(t){G2=t}function K2(t){let e=t[An];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[ke];for(let o of r.values())Q2(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function Q2(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Be);i&&zv(t,i,!1)}}function hA(t){let e=t[Mr]??[],r=t[ut][ke],i=[];for(let o of e)o.data[NV]!==void 0?i.push(o):fA(o,r);t[Mr]=i}function Y2(t){let{lContainer:e}=t,n=e[Mr];if(n===null)return;let i=e[ut][ke];for(let o of n)fA(o,i)}function fA(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[lh];for(;n<i;){let o=r.nextSibling;zv(e,r,!1),r=o,n++}}}function Hh(t){hA(t);let e=t[on];Sn(e)&&ph(e);for(let n=Et;n<t.length;n++)ph(t[n])}function ph(t){K2(t);let e=t[X];for(let n=Be;n<e.bindingStartIndex;n++)if(Xn(t[n])){let r=t[n];Hh(r)}else Sn(t[n])&&ph(t[n])}function pA(t){let e=t._views;for(let n of e){let r=u4(n);r!==null&&r[on]!==null&&(Sn(r)?ph(r):Hh(r))}}function J2(t,e,n,r){t!==null&&(n.cleanup(e),Hh(t.lContainer),pA(r))}function Z2(t,e){let n=[];for(let r of e)for(let i=0;i<(r[ES]??1);i++){let o={data:r,firstChild:null};r[lh]>0&&(o.firstChild=t,t=$h(r[lh],t)),n.push(o)}return[t,n]}var gA=()=>null;function X2(t,e){let n=t[Mr];return!e||n===null||n.length===0?null:n[0].data[MV]===e?n.shift():(hA(t),null)}function eU(){gA=X2}function Hc(t,e){return gA(t,e)}var tU=class{},mA=class{},qy=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ht(e)}.`)}},zh=class{static NULL=new qy},Ks=class{},Mi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>nU()}return t})();function nU(){let t=ge(),e=Gt(),n=Qn(e.index,t);return(Sn(n)?n:t)[ke]}var rU=(()=>{class t{static \u0275prov=G({token:t,providedIn:"root",factory:()=>null})}return t})();var uy={},Hs=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ch(r);let i=this.injector.get(e,uy,r);return i!==uy||n===uy?i:this.parentInjector.get(e,n,r)}};function MT(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=eT(i,a);else if(o==2){let u=a,l=e[++s];r=eT(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function W(t,e=ce.Default){let n=ge();if(n===null)return Q(t,e);let r=Gt();return XD(r,n,Vt(t),e)}function yA(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=oU(s);h===null?a=s:[a,u,l]=h,cU(t,e,n,a,o,u,l)}o!==null&&r!==null&&iU(n,r,o)}function iU(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function oU(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&Kn(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,sU(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function sU(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function aU(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function cU(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let m=r[g];!u&&Kn(m)&&(u=!0,aU(t,n,g)),My(sh(n,e),t,m.type)}pU(n,t.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=WS(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(n.mergedAttrs=Vc(n.mergedAttrs,m.hostAttrs),lU(t,n,e,p,m),fU(p,m,i),s!==null&&s.has(m)){let[A,R]=s.get(m);n.directiveToIndex.set(m.type,[p,A+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(m))&&n.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let I=m.type.prototype;!l&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(I.ngOnChanges||I.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}uU(t,n,o)}function uU(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))PT(0,e,i,r),PT(1,e,i,r),xT(e,r,!1);else{let o=n.get(i);NT(0,e,o,r),NT(1,e,o,r),xT(e,r,!0)}}}function PT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),vA(e,o)}}function NT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),vA(e,s)}}function vA(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function xT(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||$v(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function lU(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=vo(i.type,!0)),s=new bo(o,Kn(i),W);t.blueprint[r]=s,n[r]=s,dU(t,e,r,WS(t,n,i.hostVars,kr),i)}function dU(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;hU(s)!=a&&s.push(a),s.push(n,r,o)}}function hU(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function fU(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Kn(e)&&(n[""]=t)}}function pU(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _A(t,e,n,r,i,o,s,a){let u=e.consts,l=Gs(u,s),h=o_(e,t,2,r,l);return o&&yA(e,n,h,Gs(u,a),i),h.mergedAttrs=Vc(h.mergedAttrs,h.attrs),h.attrs!==null&&MT(h,h.attrs,!1),h.mergedAttrs!==null&&MT(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function EA(t,e){zD(t,e),ID(e)&&t.queries.elementEnd(e)}var gh=class extends zh{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Eo(e);return new zc(n,this.ngModule)}};function gU(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Lh.SignalBased)!==0};return i&&(o.transform=i),o})}function mU(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function yU(t,e,n){let r=e instanceof dt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Hs(n,r):n}function vU(t){let e=t.get(Ks,null);if(e===null)throw new B(407,!1);let n=t.get(rU,null),r=t.get(To,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function _U(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Hv(e,n,n==="svg"?vL:n==="math"?_L:null)}var zc=class extends mA{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=gU(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=mU(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=L4(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Se(22);let o=ue(null);try{let s=this.componentDef,a=r?["ng-version","19.2.11"]:V4(this.componentDef.selectors[0]),u=qv(0,null,null,1,0,null,null,null,null,[a],null),l=yU(s,i||this.ngModule,e),h=vU(l),p=h.rendererFactory.createRenderer(null,s),g=r?q4(p,r,s.encapsulation,l):_U(s,p),m=Gv(null,u,null,512|GS(s),null,null,h,p,l,null,NS(g,l,!0));m[Be]=g,Sv(m);let I=null;try{let A=_A(Be,u,m,"#host",()=>[this.componentDef],!0,0);g&&(qS(p,g,A),Xc(g,m)),Kv(u,m,A),kS(u,A,m),EA(u,A),n!==void 0&&EU(A,this.ngContentSelectors,n),I=Qn(A.index,m),m[ct]=I[ct],Zv(u,m,null)}catch(A){throw I!==null&&Ly(I),Ly(m),A}finally{Se(23),Av()}return new Gy(this.componentType,m)}finally{ue(o)}}},Gy=class extends tU{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Kc(n[X],Be),this.location=ea(this._tNode,n),this.instance=Qn(this._tNode.index,n)[ct],this.hostView=this.changeDetectorRef=new Bc(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Jv(r,i[X],i,e,n);this.previousInputValues.set(e,n);let s=Qn(r.index,i);jh(s,1)}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function EU(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ia=(()=>{class t{static __NG_ELEMENT_ID__=wU}return t})();function wU(){let t=Gt();return IA(t,ge())}var IU=ia,wA=class extends IU{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ea(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Mv(this._hostTNode,this._hostLView);if(WD(e)){let n=ih(e,this._hostLView),r=rh(e),i=n[X].data[r+8];return new yo(i,n)}else return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=OT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Hc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ws(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!pL(e),a;if(s)a=n;else{let I=n||{};a=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}let u=s?e:new zc(Eo(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let A=(s?l:this.parentInjector).get(dt,null);A&&(o=A)}let h=Eo(u.componentType??{}),p=Hc(this._lContainer,h?.id??null),g=p?.firstChild??null,m=u.create(l,i,g,o);return this.insertImpl(m.hostView,a,Ws(this._hostTNode,p)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(wL(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ut],l=new wA(u,u[Mn],u[ut]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ru(s,i,o,r),e.attachToViewContainerRef(),lD(ly(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=OT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=jc(this._lContainer,n);r&&(Zd(ly(this._lContainer),n),Vh(r[X],r))}detach(e){let n=this._adjustIndex(e,-1),r=jc(this._lContainer,n);return r&&Zd(ly(this._lContainer),n)!=null?new Bc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function OT(t){return t[nh]}function ly(t){return t[nh]||(t[nh]=[])}function IA(t,e){let n,r=e[t.index];return Xn(r)?n=r:(n=uA(r,e,null,t),e[t.index]=n,Wv(e,n)),CA(n,e,t,r),new wA(n,t,e)}function CU(t,e){let n=t[ke],r=n.createComment(""),i=Pn(e,t),o=n.parentNode(i);return hh(n,o,r,n.nextSibling(i),!1),r}var CA=bA,s_=()=>!1;function bU(t,e,n){return s_(t,e,n)}function bA(t,e,n,r){if(t[Pr])return;let i;n.type&8?i=Rn(r):i=CU(e,n),t[Pr]=i}function TU(t,e,n){if(t[Pr]&&t[Mr])return!0;let r=n[An],i=e.index-Be;if(!r||_V(e)||tu(r,i))return!1;let s=jy(r,i),a=r.data[Fv]?.[i],[u,l]=Z2(s,a);return t[Pr]=u,t[Mr]=l,!0}function DU(t,e,n,r){s_(t,n,e)||bA(t,e,n,r)}function SU(){CA=DU,s_=TU}var Wy=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ky=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)a_(e,n).matches!==null&&this.queries[n].setDirty()}},Qy=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=kU(e):this.predicate=e}},Yy=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Jy=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,AU(n,o)),this.matchTNodeWithReadOption(e,n,zd(n,e,o,!1,!1))}else r===$c?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,zd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===mn||i===ia||i===$c&&n.type&4)this.addMatch(n.index,-2);else{let o=zd(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function AU(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function RU(t,e){return t.type&11?ea(t,e):t.type&4?i_(t,e):null}function MU(t,e,n,r){return n===-1?RU(e,t):n===-2?PU(t,e,r):Uc(t,t[X],n,e)}function PU(t,e,n){if(n===mn)return ea(e,t);if(n===$c)return i_(e,t);if(n===ia)return IA(e,t)}function TA(t,e,n,r){let i=e[Rr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(MU(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Zy(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=TA(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Et;p<h.length;p++){let g=h[p];g[wo]===g[ut]&&Zy(g[X],g,l,r)}if(h[qs]!==null){let p=h[qs];for(let g=0;g<p.length;g++){let m=p[g];Zy(m[X],m,l,r)}}}}}return r}function NU(t,e){return t[Rr].queries[e].queryList}function xU(t,e,n){let r=new Fy((n&4)===4);return bL(t,e,r,r.destroy),(e[Rr]??=new Ky).queries.push(new Wy(r))-1}function OU(t,e,n){let r=ht();return r.firstCreatePass&&(FU(r,new Qy(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),xU(r,ge(),e)}function kU(t){return t.split(",").map(e=>e.trim())}function FU(t,e,n){t.queries===null&&(t.queries=new Yy),t.queries.track(new Jy(e,n))}function a_(t,e){return t.queries.getByIndex(e)}function LU(t,e){let n=t[X],r=a_(n,e);return r.crossesNgTemplate?Zy(n,t,e,[]):TA(n,t,r,e)}var Qs=class{},c_=class{};var Xy=class extends Qs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new gh(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=fD(e);this._bootstrapComponents=US(o.bootstrap),this._r3Injector=nS(e,n,[{provide:Qs,useValue:this},{provide:zh,useValue:this.componentFactoryResolver},...r],Ht(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ev=class extends c_{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Xy(this.moduleType,e,[])}};var mh=class extends Qs{injector;componentFactoryResolver=new gh(this);instance=null;constructor(e){super();let n=new kc([...e.providers,{provide:Qs,useValue:this},{provide:zh,useValue:this.componentFactoryResolver}],e.parent||Ev(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function iu(t,e,n=null){return new mh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var VU=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=vv(!1,n.type),i=r.length>0?iu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(Q(dt))})}return t})();function Ge(t){return Gc(()=>{let e=DA(t),n=fe(L({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===hS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(VU).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jn.Emulated,styles:t.styles||pn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&rr("NgStandalone"),SA(n);let r=t.dependencies;return n.directiveDefs=kT(r,!1),n.pipeDefs=kT(r,!0),n.id=HU(n),n})}function UU(t){return Eo(t)||pD(t)}function jU(t){return t!==null}function Fr(t){return Gc(()=>({type:t.type,bootstrap:t.bootstrap||pn,declarations:t.declarations||pn,imports:t.imports||pn,exports:t.exports||pn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function BU(t,e){if(t==null)return _o;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Lh.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function $U(t){if(t==null)return _o;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Xe(t){return Gc(()=>{let e=DA(t);return SA(e),e})}function u_(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function DA(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||_o,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||pn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:BU(t.inputs,e),outputs:$U(t.outputs),debugInfo:null}}function SA(t){t.features?.forEach(e=>e(t))}function kT(t,e){if(!t)return null;let n=e?gD:UU;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(jU)}function HU(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function zU(t){return Object.getPrototypeOf(t.prototype).constructor}function Nn(t){let e=zU(t.type),n=!0,r=[t];for(;e;){let i;if(Kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=dy(t.inputs),s.declaredInputs=dy(t.declaredInputs),s.outputs=dy(t.outputs);let a=i.hostBindings;a&&QU(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&WU(t,u),l&&KU(t,l),qU(t,i),kF(t.outputs,i.outputs),Kn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Nn&&(n=!1)}}e=Object.getPrototypeOf(e)}GU(r)}function qU(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function GU(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Vc(i.hostAttrs,n=Vc(n,i.hostAttrs))}}function dy(t){return t===_o?{}:t===pn?[]:t}function WU(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function KU(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function QU(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function AA(t,e,n){return t[e]=n}function Zn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function YU(t,e,n,r){let i=Zn(t,e,n);return Zn(t,e+1,r)||i}function JU(t,e,n,r,i,o,s,a,u){let l=e.consts,h=o_(e,t,4,s||null,a||null);ND()&&yA(e,n,h,Gs(l,u),ZS),h.mergedAttrs=Vc(h.mergedAttrs,h.attrs),zD(e,h);let p=h.tView=qv(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function tv(t,e,n,r,i,o,s,a,u,l){let h=n+Be,p=e.firstCreatePass?JU(h,e,t,r,i,o,s,a,u):e.data[h];Jc(p,!1);let g=RA(e,t,p,n);Rv()&&t_(e,t,g,p),Xc(g,t);let m=uA(g,t,g,p);return t[h]=m,Wv(t,m),bU(m,p,t),wv(p)&&Kv(e,t,p),u!=null&&YS(t,p,l),p}function xn(t,e,n,r,i,o,s,a){let u=ge(),l=ht(),h=Gs(l.consts,o);return tv(u,l,t,e,n,r,i,h,s,a),xn}var RA=MA;function MA(t,e,n,r){return Ai(!0),e[ke].createComment("")}function ZU(t,e,n,r){let i=e[An],o=!i||Yc()||ra(n)||tu(i,r);if(Ai(o),o)return MA(t,e);let s=i.data[RV]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Bh(i,t,e,n);Oh(i,r,a);let u=jv(i,r);return $h(u,a)}function XU(){RA=ZU}var ej=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?iu(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:t,providedIn:"environment",factory:()=>new t})}return t})();var tj=new U("");function hy(t,e,n){return t.get(ej).getOrCreateInjector(e,t,n,"")}function nj(t,e,n){if(t instanceof Hs){let i=t.injector,o=t.parentInjector,s=hy(o,e,n);return new Hs(i,s)}let r=t.get(dt);if(r!==t){let i=hy(r,e,n);return new Hs(t,i)}return hy(t,e,n)}function Us(t,e,n,r=!1){let i=n[ut],o=i[X];if(Ro(i))return;let s=eu(i,e),a=s[Ph],u=s[GV];if(!(u!==null&&t<u)&&FT(a,t)&&FT(s[HV]??-1,t)){let l=Nh(o,e),p=!r&&!0&&(JV(l)!==null||CT(l,at.Loading)!==null||CT(l,at.Placeholder))?oj:ij;try{p(t,s,n,e,i)}catch(g){Yv(i,g)}}}function rj(t,e){let n=t[Mr]?.findIndex(i=>i.data[xV]===e[Ph])??-1;return{dehydratedView:n>-1?t[Mr][n]:null,dehydratedViewIx:n}}function ij(t,e,n,r,i){Se(20);let o=YV(t,i,r);if(o!==null){e[Ph]=t;let s=i[X],a=o+Be,u=Kc(s,a),l=0;r_(n,l);let h;if(t===at.Complete){let I=Nh(s,r),A=I.providers;A&&A.length>0&&(h=nj(i[Wn],I,A))}let{dehydratedView:p,dehydratedViewIx:g}=rj(n,e),m=nu(i,u,null,{injector:h,dehydratedView:p});if(ru(n,m,l,Ws(u,p)),jh(m,2),g>-1&&n[Mr]?.splice(g,1),(t===at.Complete||t===at.Error)&&Array.isArray(e[$s])){for(let I of e[$s])I();e[$s]=null}}Se(21)}function FT(t,e){return t<e}function LT(t,e,n){t.loadingPromise.then(()=>{t.loadingState===rn.COMPLETE?Us(at.Complete,e,n):t.loadingState===rn.FAILED&&Us(at.Error,e,n)})}var oj=null;var l_=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var PA=new U("");var sj=(()=>{class t{static \u0275prov=G({token:t,providedIn:"root",factory:()=>new nv})}return t})(),nv=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function Pi(t){return!!t&&typeof t.then=="function"}function d_(t){return!!t&&typeof t.subscribe=="function"}var aj=new U("");var NA=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=x(aj,{optional:!0})??[];injector=x(Ze);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=wt(this.injector,i);if(Pi(o))n.push(o);else if(d_(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xo=new U("");function cj(){wm(()=>{throw new B(600,!1)})}function uj(t){return t.isBoundToModule}var lj=10;var zt=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(lV);afterRenderManager=x(DS);zonelessEnabled=x(Rh);rootEffectScheduler=x(sj);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ne;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(nr).hasPendingTasks.pipe(te(n=>!n));constructor(){x(na,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=x(dt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ze.NULL){Se(10);let o=n instanceof mA;if(!this._injector.get(NA).done){let m="";throw new B(405,m)}let a;o?a=n:a=this._injector.get(zh).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=uj(a)?void 0:this._injector.get(Qs),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,g=h.injector.get(PA,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Gd(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),Se(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Se(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Lv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let n=ue(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ue(n),this.afterTick.next(),Se(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ks,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<lj;)Se(14),this.synchronizeOnce(),Se(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)dj(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Sh(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Gd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(xo,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Gd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function dj(t,e,n,r){if(!n&&!Sh(t))return;oA(t,e,n&&!r?0:1)}function hj(t,e,n){let r=e[Wn],i=e[X];if(t.loadingState!==rn.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=eu(e,n),s=ZV(i,t);t.loadingState=rn.IN_PROGRESS,qd(1,o);let a=t.dependencyResolverFn,u=r.get(Zc).add();return a?(t.loadingPromise=Promise.allSettled(a()).then(l=>{let h=!1,p=[],g=[];for(let m of l)if(m.status==="fulfilled"){let I=m.value,A=Eo(I)||pD(I);if(A)p.push(A);else{let R=gD(I);R&&g.push(R)}}else{h=!0;break}if(h){if(t.loadingState=rn.FAILED,t.errorTmplIndex===null){let m="",I=new B(-750,!1);Yv(e,I)}}else{t.loadingState=rn.COMPLETE;let m=s.tView;if(p.length>0){m.directiveRegistry=bT(m.directiveRegistry,p);let I=p.map(R=>R.type),A=vv(!1,...I);t.providers=A}g.length>0&&(m.pipeRegistry=bT(m.pipeRegistry,g))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,u()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=rn.COMPLETE,u()}),t.loadingPromise)}function fj(t,e){return e[Wn].get(tj,null,{optional:!0})?.behavior!==SS.Manual}function pj(t,e,n){let r=e[X],i=e[n.index];if(!fj(t,e))return;let o=eu(e,n),s=Nh(r,n);switch(KV(o),s.loadingState){case rn.NOT_STARTED:Us(at.Loading,n,i),hj(s,e,n),s.loadingState===rn.IN_PROGRESS&&LT(s,n,i);break;case rn.IN_PROGRESS:Us(at.Loading,n,i),LT(s,n,i);break;case rn.COMPLETE:Us(at.Complete,n,i);break;case rn.FAILED:Us(at.Error,n,i);break;default:}}function gj(t,e,n){return v(this,null,function*(){let r=t.get(Uv);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=g4(e,t);if(s.length===0)return;o!==null&&s.shift(),vj(r,s),o!==null&&(yield o);let a=s[0];r.has(a)?yield VT(t,s,n):r.awaitParentBlock(a,()=>v(null,null,function*(){return yield VT(t,s,n)}))})}function VT(t,e,n){return v(this,null,function*(){let r=t.get(Uv),i=r.hydrating,o=t.get(nr),s=o.add();for(let u=0;u<e.length;u++){let l=e[u],h=r.get(l);if(h!=null){if(yield Ej(h),yield _j(t),mj(h)){Y2(h),UT(e.slice(u),r);break}i.get(l).resolve()}else{yj(u,e,r),UT(e.slice(u),r);break}}let a=e[e.length-1];yield i.get(a)?.promise,o.remove(s),n&&n(e),J2(r.get(a),e,r,t.get(zt))})}function mj(t){return eu(t.lView,t.tNode)[Ph]===at.Error}function yj(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&Hh(i.lContainer)}function UT(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function vj(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function _j(t){return new Promise(e=>Vv(e,{injector:t}))}function Ej(t){return v(this,null,function*(){let{tNode:e,lView:n}=t,r=eu(n,e);return new Promise(i=>{wj(r,i),pj(2,n,e)})})}function wj(t,e){Array.isArray(t[$s])||(t[$s]=[]),t[$s].push(e)}function ou(t,e,n,r){let i=ge(),o=Zs();if(Zn(i,o,e)){let s=ht(),a=Ah();e2(a,i,t,e,n,r)}return ou}function xA(t,e,n,r){return Zn(t,Zs(),n)?e+Ih(n)+r:kr}function Ud(t,e){return t<<17|e<<2}function Do(t){return t>>17&32767}function Ij(t){return(t&2)==2}function Cj(t,e){return t&131071|e<<17}function rv(t){return t|2}function Ys(t){return(t&131068)>>2}function fy(t,e){return t&-131069|e<<2}function bj(t){return(t&1)===1}function iv(t){return t|1}function Tj(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Do(s),u=Ys(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Wc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=Do(t[a+1]);t[r+1]=Ud(g,a),g!==0&&(t[g+1]=fy(t[g+1],r)),t[a+1]=Cj(t[a+1],r)}else t[r+1]=Ud(a,0),a!==0&&(t[a+1]=fy(t[a+1],r)),a=r;else t[r+1]=Ud(u,0),a===0?a=r:t[u+1]=fy(t[u+1],r),u=r;l&&(t[r+1]=rv(t[r+1])),jT(t,h,r,!0),jT(t,h,r,!1),Dj(e,h,t,r,o),s=Ud(a,u),o?e.classBindings=s:e.styleBindings=s}function Dj(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Wc(o,e)>=0&&(n[r+1]=iv(n[r+1]))}function jT(t,e,n,r){let i=t[n+1],o=e===null,s=r?Do(i):Ys(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];Sj(u,e)&&(a=!0,t[s+1]=r?iv(l):rv(l)),s=r?Do(l):Ys(l)}a&&(t[n+1]=r?rv(i):iv(i))}function Sj(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wc(t,e)>=0:!1}function Lr(t,e,n){let r=ge(),i=Zs();if(Zn(r,i,e)){let o=ht(),s=Ah();Qv(o,s,r,t,e,r[ke],n,!1)}return Lr}function BT(t,e,n,r,i){Jv(e,t,n,i?"class":"style",r)}function Vr(t,e){return Aj(t,e,null,!0),Vr}function Aj(t,e,n,r){let i=ge(),o=ht(),s=OL(2);if(o.firstUpdatePass&&Mj(o,t,s,r),e!==kr&&Zn(i,s,e)){let a=o.data[Mo()];kj(o,a,i,i[ke],t,i[s+1]=Fj(e,n),r,s)}}function Rj(t,e){return e>=t.expandoStartIndex}function Mj(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Mo()],s=Rj(t,n);Lj(o,r)&&e===null&&!s&&(e=!1),e=Pj(i,o,e,r),Tj(i,o,e,n,s,r)}}function Pj(t,e,n,r){let i=VL(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=py(null,t,e,n,r),n=qc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=py(i,t,e,n,r),o===null){let u=Nj(t,e,r);u!==void 0&&Array.isArray(u)&&(u=py(null,t,e,u[1],r),u=qc(u,e.attrs,r),xj(t,e,r,u))}else o=Oj(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Nj(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ys(r)!==0)return t[Do(r)]}function xj(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Do(i)]=r}function Oj(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=qc(r,s,n)}return qc(r,e.attrs,n)}function py(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=qc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function qc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),nL(t,s,n?!0:e[++o]))}return t===void 0?null:t}function kj(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=bj(l)?$T(u,e,n,i,Ys(l),s):void 0;if(!yh(h)){yh(o)||Ij(l)&&(o=$T(u,null,n,i,a,s));let p=SD(Mo(),n);_2(r,s,p,i,o)}}function $T(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===kr&&(g=p?pn:void 0);let m=p?ey(g,r):h===r?g:void 0;if(l&&!yh(m)&&(m=ey(u,r)),yh(m)&&(a=m,s))return a;let I=t[i+1];i=s?Do(I):Ys(I)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ey(u,r))}return a}function yh(t){return t!==void 0}function Fj(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ht(kh(t)))),t}function Lj(t,e){return(t.flags&(e?8:16))!==0}var ov=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function gy(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Vj(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=gy(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let g=t.at(s),m=e[u],I=gy(s,g,u,m,n);if(I!==0){I<0&&t.updateValue(s,m),s--,u--;continue}let A=n(o,l),R=n(s,g),j=n(o,h);if(Object.is(j,R)){let K=n(u,m);Object.is(K,A)?(t.swap(o,s),t.updateValue(s,m),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new vh,i??=zT(t,o,s,n),sv(t,r,o,j))t.updateValue(o,h),o++,s++;else if(i.has(j))r.set(A,t.detach(o)),s--;else{let K=t.create(o,e[o]);t.attach(o,K),o++,s++}}for(;o<=u;)HT(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,g=gy(o,h,o,p,n);if(g!==0)g<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new vh,i??=zT(t,o,s,n);let m=n(o,p);if(sv(t,r,o,m))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(m))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let I=n(o,h);r.set(I,t.detach(o)),s--}}}for(;!l.done;)HT(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function sv(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function HT(t,e,n,r,i){if(sv(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function zT(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var vh=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function ir(t,e){rr("NgControlFlow");let n=ge(),r=Zs(),i=n[r]!==kr?n[r]:-1,o=i!==-1?_h(n,Be+i):void 0,s=0;if(Zn(n,r,t)){let a=ue(null);try{if(o!==void 0&&r_(o,s),t!==-1){let u=Be+t,l=_h(n,u),h=lv(n[X],u),p=Hc(l,h.tView.ssrId),g=nu(n,h,e,{dehydratedView:p});ru(l,g,s,Ws(h,p))}}finally{ue(a)}}else if(o!==void 0){let a=lA(o,s);a!==void 0&&(a[ct]=e)}}var av=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Et}};function Ur(t,e){return e}var cv=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function On(t,e,n,r,i,o,s,a,u,l,h,p,g){rr("NgControlFlow");let m=ge(),I=ht(),A=u!==void 0,R=ge(),j=a?s.bind(R[sn][ct]):s,K=new cv(A,j);R[Be+t]=K,tv(m,I,t+1,e,n,r,i,Gs(I.consts,o)),A&&tv(m,I,t+2,u,l,h,p,Gs(I.consts,g))}var uv=class extends ov{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Et}at(e){return this.getLView(e)[ct].$implicit}attach(e,n){let r=n[An];this.needsIndexUpdate||=e!==this.length,ru(this.lContainer,n,e,Ws(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Uj(this.lContainer,e)}create(e,n){let r=Hc(this.lContainer,this.templateTNode.tView.ssrId),i=nu(this.hostLView,this.templateTNode,new av(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Vh(e[X],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[ct].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ct].$index=e}getLView(e){return jj(this.lContainer,e)}};function kn(t){let e=ue(null),n=Mo();try{let r=ge(),i=r[X],o=r[n],s=n+1,a=_h(r,s);if(o.liveCollection===void 0){let l=lv(i,s);o.liveCollection=new uv(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(Vj(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Zs(),h=u.length===0;if(Zn(r,l,h)){let p=n+2,g=_h(r,p);if(h){let m=lv(i,p),I=Hc(g,m.tView.ssrId),A=nu(r,m,void 0,{dehydratedView:I});ru(g,A,0,Ws(m,I))}else r_(g,0)}}}finally{ue(e)}}function _h(t,e){return t[e]}function Uj(t,e){return jc(t,e)}function jj(t,e){return lA(t,e)}function lv(t,e){return Kc(t,e)}function P(t,e,n,r){let i=ge(),o=ht(),s=Be+t,a=i[ke],u=o.firstCreatePass?_A(s,o,i,e,ZS,ND(),n,r):o.data[s],l=OA(o,i,u,a,e,t);i[s]=l;let h=wv(u);return Jc(u,!0),qS(a,l,u),!ra(u)&&Rv()&&t_(o,i,l,u),(TL()===0||h)&&Xc(l,i),DL(),h&&(Kv(o,i,u),kS(o,u,i)),r!==null&&YS(i,u),P}function N(){let t=Gt();OD()?NL():(t=t.parent,Jc(t,!1));let e=t;AL(e)&&ML(),SL();let n=ht();return n.firstCreatePass&&EA(n,e),e.classesWithoutHost!=null&&HL(e)&&BT(n,e,ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&zL(e)&&BT(n,e,ge(),e.stylesWithoutHost,!1),N}function Re(t,e,n,r){return P(t,e,n,r),N(),Re}var OA=(t,e,n,r,i,o)=>(Ai(!0),Hv(r,i,$D()));function Bj(t,e,n,r,i,o){let s=e[An],a=!s||Yc()||ra(n)||tu(s,o);if(Ai(a),a)return Hv(r,i,$D());let u=Bh(s,t,e,n);return xS(s,o)&&Oh(s,o,u.nextSibling),s&&(lS(n)||dS(u))&&Ao(n)&&(RL(n),zS(u)),u}function $j(){OA=Bj}var Hj=(t,e,n,r)=>(Ai(!0),$S(e[ke],""));function zj(t,e,n,r){let i,o=e[An],s=!o||Yc()||tu(o,r)||ra(n);if(Ai(s),s)return $S(e[ke],"");let a=Bh(o,t,e,n),u=f4(o,r);return Oh(o,r,a),i=$h(u,a),i}function qj(){Hj=zj}function jr(){return ge()}var go=void 0;function Gj(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var Wj=["en",[["a","p"],["AM","PM"],go],[["AM","PM"],go,go],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],go,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],go,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",go,"{1} 'at' {0}",go],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Gj],my={};function yn(t){let e=Kj(t),n=qT(e);if(n)return n;let r=e.split("-")[0];if(n=qT(r),n)return n;if(r==="en")return Wj;throw new B(701,!1)}function qT(t){return t in my||(my[t]=bi.ng&&bi.ng.common&&bi.ng.common.locales&&bi.ng.common.locales[t]),my[t]}var Qe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Qe||{});function Kj(t){return t.toLowerCase().replace(/_/g,"-")}var Eh="en-US";var Qj=Eh;function Yj(t){typeof t=="string"&&(Qj=t.toLowerCase().replace(/_/g,"-"))}function GT(t,e,n){return function r(i){if(i===Function)return n;let o=Ao(t)?Qn(t.index,e):e;jh(o,5);let s=e[ct],a=WT(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=WT(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function WT(t,e,n,r){let i=ue(null);try{return Se(6,e,n),n(r)!==!1}catch(o){return Jj(t,o),!1}finally{Se(7,e,n),ue(i)}}function Jj(t,e){let n=t[Wn],r=n?n.get(Yn,null):null;r&&r.handleError(e)}function KT(t,e,n,r,i,o){let s=e[n],a=e[X],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?bv(a):null,g=Cv(e),m=h.subscribe(o),I=g.length;g.push(o,m),p&&p.push(i,t.index,I,-(I+1))}var h_=new Map;function Zj(t,e){h_.set(t,e)}function Xj(t){h_.delete(t)}function Ie(t,e,n,r){let i=ge(),o=ht(),s=Gt();return kA(o,i,i[ke],s,t,e,r),Ie}function e3(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[eh],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function kA(t,e,n,r,i,o,s){let a=wv(r),l=t.firstCreatePass?bv(t):null,h=Cv(e),p=!0;if(r.type&3||s){let g=Pn(r,e),m=s?s(g):g,I=h.length,A=s?j=>s(Rn(j[r.index])):r.index,R=null;if(!s&&a&&(R=e3(t,e,i,r.index)),R!==null){let j=R.__ngLastListenerFn__||R;j.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=GT(r,e,o);let j=e[Wn].get(Sr);h_.get(j)?.(m,i,o);let q=n.listen(m,i,o);h.push(o,q),l&&l.push(i,A,I,I+1)}}else o=GT(r,e,o);if(p){let g=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let I=0;I<m.length;I+=2){let A=m[I],R=m[I+1];KT(r,e,A,R,i,o)}if(g&&g.length)for(let I of g)KT(r,e,I,i,i,o)}}function It(t=1){return jL(t)}function f_(t,e,n,r,i){let o=ge(),s=xA(o,e,n,r);if(s!==kr){let a=ht(),u=Ah();Qv(a,u,o,t,s,o[ke],i,!1)}return f_}function oa(t,e,n){OU(t,e,n)}function Oo(t){let e=ge(),n=ht(),r=FD();Dv(r+1);let i=a_(n,r);if(t.dirty&&EL(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=LU(e,r);t.reset(o,fV),t.notifyOnChanges()}return!0}return!1}function ko(){return NU(ge(),FD())}function t3(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function k(t,e=""){let n=ge(),r=ht(),i=t+Be,o=r.firstCreatePass?o_(r,i,1,e,null):r.data[i],s=FA(r,n,o,e,t);n[i]=s,Rv()&&t_(r,n,s,o),Jc(o,!1)}var FA=(t,e,n,r,i)=>(Ai(!0),BS(e[ke],r));function n3(t,e,n,r,i){let o=e[An],s=!o||Yc()||ra(n)||tu(o,i);return Ai(s),s?BS(e[ke],r):Bh(o,t,e,n)}function r3(){FA=n3}function Ct(t){return Br("",t,""),Ct}function Br(t,e,n){let r=ge(),i=xA(r,t,e,n);return i!==kr&&i3(r,Mo(),i),Br}function i3(t,e,n){let r=SD(e,t);U4(t[ke],r,n)}function Wt(t,e,n){uS(e)&&(e=e());let r=ge(),i=Zs();if(Zn(r,i,e)){let o=ht(),s=Ah();Qv(o,s,r,t,e,r[ke],n,!1)}return Wt}function cn(t,e){let n=uS(t);return n&&t.set(e),n}function Kt(t,e){let n=ge(),r=ht(),i=Gt();return kA(r,n,n[ke],i,t,e),Kt}function o3(t,e,n){let r=ht();if(r.firstCreatePass){let i=Kn(t);dv(n,r.data,r.blueprint,i,!0),dv(e,r.data,r.blueprint,i,!1)}}function dv(t,e,n,r,i){if(t=Vt(t),Array.isArray(t))for(let o=0;o<t.length;o++)dv(t[o],e,n,r,i);else{let o=ht(),s=ge(),a=Gt(),u=zs(t)?t:Vt(t.provide),l=vD(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(zs(t)||!t.multi){let m=new bo(l,i,W),I=vy(u,e,i?h:h+g,p);I===-1?(My(sh(a,s),o,u),yy(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[I]=m,s[I]=m)}else{let m=vy(u,e,h+g,p),I=vy(u,e,h,h+g),A=m>=0&&n[m],R=I>=0&&n[I];if(i&&!R||!i&&!A){My(sh(a,s),o,u);let j=c3(i?a3:s3,n.length,i,r,l);!i&&R&&(n[I].providerFactory=j),yy(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=LA(n[i?I:m],l,!i&&r);yy(o,t,m>-1?m:I,j)}!i&&r&&R&&n[I].componentProviders++}}}function yy(t,e,n,r){let i=zs(e),o=cL(e);if(i||o){let u=(o?Vt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function LA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function s3(t,e,n,r,i){return hv(this.multi,[])}function a3(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Uc(r,r[X],this.providerFactory.index,i);s=u.slice(0,a),hv(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],hv(o,s);return s}function hv(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function c3(t,e,n,r,i){let o=new bo(t,n,W);return o.multi=[],o.index=e,o.componentProviders=0,LA(o,i,r&&!n),o}function Fo(t,e=[]){return n=>{n.providersResolver=(r,i)=>o3(r,i?i(t):t,e)}}function VA(t,e,n,r){return jA(ge(),Tv(),t,e,n,r)}function UA(t,e){let n=t[e];return n===kr?void 0:n}function jA(t,e,n,r,i,o){let s=e+n;return Zn(t,s,i)?AA(t,s+1,o?r.call(o,i):r(i)):UA(t,s+1)}function u3(t,e,n,r,i,o,s){let a=e+n;return YU(t,a,i,o)?AA(t,a+2,s?r.call(s,i,o):r(i,o)):UA(t,a+2)}function qh(t,e){let n=ht(),r,i=t+Be;n.firstCreatePass?(r=l3(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=vo(r.type,!0)),s,a=$t(W);try{let u=oh(!1),l=o();return oh(u),t3(n,ge(),i,l),l}finally{$t(a)}}function l3(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function BA(t,e,n){let r=t+Be,i=ge(),o=AD(i,r);return HA(i,r)?jA(i,Tv(),e,o.transform,n,o):o.transform(n)}function $A(t,e,n,r){let i=t+Be,o=ge(),s=AD(o,i);return HA(o,i)?u3(o,Tv(),e,s.transform,n,r,s):s.transform(n,r)}function HA(t,e){return t[X].data[e].pure}var So=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},zA=new So("19.2.11"),fv=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},qA=(()=>{class t{compileModuleSync(n){return new ev(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=fD(n),o=US(i.declarations).reduce((s,a)=>{let u=Eo(a);return u&&s.push(new zc(u)),s},[]);return new fv(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var d3=(()=>{class t{zone=x(Te);changeDetectionScheduler=x(To);applicationRef=x(zt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),h3=new U("",{factory:()=>!1});function GA({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Te(fe(L({},KA()),{scheduleInRootZone:n})),[{provide:Te,useFactory:t},{provide:Di,multi:!0,useFactory:()=>{let r=x(d3,{optional:!0});return()=>r.initialize()}},{provide:Di,multi:!0,useFactory:()=>{let r=x(f3);return()=>{r.initialize()}}},e===!0?{provide:iS,useValue:!0}:[],{provide:oS,useValue:n??rS}]}function WA(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=GA({ngZoneFactory:()=>{let i=KA(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&rr("NgZone_CoalesceEvent"),new Te(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return qt([{provide:h3,useValue:!0},{provide:Rh,useValue:!1},r])}function KA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var f3=(()=>{class t{subscription=new ze;initialized=!1;zone=x(Te);pendingTasks=x(nr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var p3=(()=>{class t{appRef=x(zt);taskService=x(nr);ngZone=x(Te);zonelessEnabled=x(Rh);tracing=x(na,{optional:!0});disableScheduling=x(iS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ch):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(oS,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ky||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?gT:sS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ch+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function g3(){return typeof $localize<"u"&&$localize.locale||Eh}var Gh=new U("",{providedIn:"root",factory:()=>x(Gh,ce.Optional|ce.SkipSelf)||g3()});var pv=new U(""),m3=new U("");function Pc(t){return!t.moduleRef}function y3(t){let e=Pc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Te);return n.run(()=>{Pc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Yn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Pc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(pv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(pv);s.add(o),t.moduleRef.onDestroy(()=>{Gd(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return _3(r,n,()=>{let o=e.get(NA);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Gh,Eh);if(Yj(s||Eh),!e.get(m3,!0))return Pc(t)?e.get(zt):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Pc(t)){let u=e.get(zt);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return v3(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function v3(t,e){let n=t.injector.get(zt);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}function _3(t,e,n){try{let r=n();return Pi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Wd=null;function E3(t=[],e){return Ze.create({name:e,providers:[{provide:bh,useValue:"platform"},{provide:pv,useValue:new Set([()=>Wd=null])},...t]})}function w3(t=[]){if(Wd)return Wd;let e=E3(t);return Wd=e,cj(),I3(e),e}function I3(t){let e=t.get(Ov,null);wt(t,()=>{e?.forEach(n=>n())})}function p_(){return!1}var Lo=(()=>{class t{static __NG_ELEMENT_ID__=C3}return t})();function C3(t){return b3(Gt(),ge(),(t&16)===16)}function b3(t,e,n){if(Ao(t)&&!n){let r=Qn(t.index,e);return new Bc(r,r)}else if(t.type&175){let r=e[sn];return new Bc(r,e)}return null}function QA(t){Se(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=w3(r),o=[GA({}),{provide:To,useExisting:p3},...n||[]],s=new mh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return y3({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Se(9)}}var jd=new WeakSet,QT="",Kd=[];function YT(t){return t.get(bS,kV)}function YA(){let t=[{provide:bS,useFactory:()=>{let e=!0;{let n=x(Sr);e=!!window._ejsas?.[n]}return e&&rr("NgEventReplay"),e}}];return t.push({provide:Di,useValue:()=>{let e=x(zt),{injector:n}=e;if(!jd.has(e)){let r=x(ET);if(YT(n)){let i=n.get(Sr);Zj(i,(o,s,a)=>{o.nodeType===Node.ELEMENT_NODE&&(XV(o,s,a),e4(o,r))})}}},multi:!0},{provide:xo,useFactory:()=>{let e=x(zt),{injector:n}=e;return()=>{!YT(n)||jd.has(e)||(jd.add(e),e.onDestroy(()=>{jd.delete(e);{let r=n.get(Sr);Xm(r),Xj(r)}}),e.whenStable().then(()=>{if(e.destroyed)return;let r=n.get(n4);T3(r,n);let i=n.get(ET);i.get(QT)?.forEach(t4),i.delete(QT);let o=r.instance;h4(n)?e.onDestroy(()=>o.cleanUp()):o.cleanUp()}))}},multi:!0}),t}var T3=(t,e)=>{let n=e.get(Sr),r=window._ejsas[n],i=t.instance=new Zb(new Od(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=Xb(n);i.replayEarlyEventInfos(o),Xm(n);let s=new kd(a=>{D3(e,a,a.currentTarget)});Jb(i,s)};function D3(t,e,n){let r=(n&&n.getAttribute(xh))??"";/d\d+/.test(r)?S3(r,t,e,n):e.eventPhase===Zm.REPLAY&&RS(e,n)}function S3(t,e,n,r){Kd.push({event:n,currentTarget:r}),gj(e,t,A3)}function A3(t){let e=[...Kd],n=new Set(t);Kd=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(xh);n.has(o)?RS(r,i):Kd.push({event:r,currentTarget:i})}}var JT=!1;function R3(){JT||(JT=!0,c4(),$j(),r3(),qj(),XU(),SU(),eU(),K4())}function M3(t){return t.whenStable()}function JA(){let t=[{provide:Ld,useFactory:()=>{let e=!0;return e=!!x(ta,{optional:!0})?.get(MS,null),e&&rr("NgHydration"),e}},{provide:Di,useValue:()=>{W2(!1),x(Ld)&&(m4(Mh()),R3())},multi:!0}];return t.push({provide:CS,useFactory:()=>x(Ld)},{provide:xo,useFactory:()=>{if(x(Ld)){let e=x(zt);return()=>{M3(e).then(()=>{e.destroyed||pA(e)})}}return()=>{}},multi:!0}),qt(t)}function Vo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function vn(t){return bm(t)}function Uo(t,e){return Em(t,e?.equal)}var ZT=class{[fn];constructor(e){this[fn]=e}destroy(){this[fn].destroy()}};var ft=new U("");var eR=null;function _n(){return eR}function g_(t){eR??=t}var su=class{},m_=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>x(tR),providedIn:"platform"})}return t})();var tR=(()=>{class t extends m_{_location;_history;_doc=x(ft);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _n().getBaseHref(this._doc)}onPopState(n){let r=_n().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=_n().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function nR(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function ZA(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Ni(t){return t&&t[0]!=="?"?`?${t}`:t}var sa=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>x(iR),providedIn:"root"})}return t})(),rR=new U(""),iR=(()=>{class t extends sa{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return nR(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ni(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ni(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ni(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Q(m_),Q(rR,8))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aa=(()=>{class t{_subject=new Ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=x3(ZA(XA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ni(r))}normalize(n){return t.stripTrailingSlash(N3(this._basePath,XA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ni(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ni(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ni;static joinWithSlash=nR;static stripTrailingSlash=ZA;static \u0275fac=function(r){return new(r||t)(Q(sa))};static \u0275prov=G({token:t,factory:()=>P3(),providedIn:"root"})}return t})();function P3(){return new aa(Q(sa))}function N3(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function XA(t){return t.replace(/\/index.html$/,"")}function x3(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Pt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Pt||{}),Me=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Me||{}),Qt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Qt||{}),Hr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function sR(t){return yn(t)[Qe.LocaleId]}function aR(t,e,n){let r=yn(t),i=[r[Qe.DayPeriodsFormat],r[Qe.DayPeriodsStandalone]],o=En(i,e);return En(o,n)}function cR(t,e,n){let r=yn(t),i=[r[Qe.DaysFormat],r[Qe.DaysStandalone]],o=En(i,e);return En(o,n)}function uR(t,e,n){let r=yn(t),i=[r[Qe.MonthsFormat],r[Qe.MonthsStandalone]],o=En(i,e);return En(o,n)}function lR(t,e){let r=yn(t)[Qe.Eras];return En(r,e)}function au(t,e){let n=yn(t);return En(n[Qe.DateFormat],e)}function cu(t,e){let n=yn(t);return En(n[Qe.TimeFormat],e)}function uu(t,e){let r=yn(t)[Qe.DateTimeFormat];return En(r,e)}function lu(t,e){let n=yn(t),r=n[Qe.NumberSymbols][e];if(typeof r>"u"){if(e===Hr.CurrencyDecimal)return n[Qe.NumberSymbols][Hr.Decimal];if(e===Hr.CurrencyGroup)return n[Qe.NumberSymbols][Hr.Group]}return r}function dR(t){if(!t[Qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function hR(t){let e=yn(t);return dR(e),(e[Qe.ExtraData][2]||[]).map(r=>typeof r=="string"?y_(r):[y_(r[0]),y_(r[1])])}function fR(t,e,n){let r=yn(t);dR(r);let i=[r[Qe.ExtraData][0],r[Qe.ExtraData][1]],o=En(i,e)||[];return En(o,n)||[]}function En(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function y_(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var O3=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wh={},k3=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function pR(t,e,n,r){let i=z3(t);e=$r(n,e)||e;let s=[],a;for(;e;)if(a=k3.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=mR(r,u),i=H3(i,r));let l="";return s.forEach(h=>{let p=B3(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Zh(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function $r(t,e){let n=sR(t);if(Wh[n]??={},Wh[n][e])return Wh[n][e];let r="";switch(e){case"shortDate":r=au(t,Qt.Short);break;case"mediumDate":r=au(t,Qt.Medium);break;case"longDate":r=au(t,Qt.Long);break;case"fullDate":r=au(t,Qt.Full);break;case"shortTime":r=cu(t,Qt.Short);break;case"mediumTime":r=cu(t,Qt.Medium);break;case"longTime":r=cu(t,Qt.Long);break;case"fullTime":r=cu(t,Qt.Full);break;case"short":let i=$r(t,"shortTime"),o=$r(t,"shortDate");r=Kh(uu(t,Qt.Short),[i,o]);break;case"medium":let s=$r(t,"mediumTime"),a=$r(t,"mediumDate");r=Kh(uu(t,Qt.Medium),[s,a]);break;case"long":let u=$r(t,"longTime"),l=$r(t,"longDate");r=Kh(uu(t,Qt.Long),[u,l]);break;case"full":let h=$r(t,"fullTime"),p=$r(t,"fullDate");r=Kh(uu(t,Qt.Full),[h,p]);break}return r&&(Wh[n][e]=r),r}function Kh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Fn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function F3(t,e){return Fn(t,3).substring(0,e)}function et(t,e,n=0,r=!1,i=!1){return function(o,s){let a=L3(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return F3(a,e);let u=lu(s,Hr.MinusSign);return Fn(a,e,u,r,i)}}function L3(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Fe(t,e,n=Pt.Format,r=!1){return function(i,o){return V3(i,o,t,e,n,r)}}function V3(t,e,n,r,i,o){switch(n){case 2:return uR(e,i,r)[t.getMonth()];case 1:return cR(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=hR(e),h=fR(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[m,I]=g,A=s>=m.hours&&a>=m.minutes,R=s<I.hours||s===I.hours&&a<I.minutes;if(m.hours<I.hours){if(A&&R)return!0}else if(A||R)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return aR(e,i,r)[s<12?0:1];case 3:return lR(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Qh(t){return function(e,n,r){let i=-1*r,o=lu(n,Hr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Fn(s,2,o)+Fn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Fn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Fn(s,2,o)+":"+Fn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Fn(s,2,o)+":"+Fn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var U3=0,Jh=4;function j3(t){let e=Zh(t,U3,1).getDay();return Zh(t,0,1+(e<=Jh?Jh:Jh+7)-e)}function gR(t){let e=t.getDay(),n=e===0?-3:Jh-e;return Zh(t.getFullYear(),t.getMonth(),t.getDate()+n)}function v_(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=gR(n),s=j3(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Fn(i,t,lu(r,Hr.MinusSign))}}function Yh(t,e=!1){return function(n,r){let o=gR(n).getFullYear();return Fn(o,t,lu(r,Hr.MinusSign),e)}}var __={};function B3(t){if(__[t])return __[t];let e;switch(t){case"G":case"GG":case"GGG":e=Fe(3,Me.Abbreviated);break;case"GGGG":e=Fe(3,Me.Wide);break;case"GGGGG":e=Fe(3,Me.Narrow);break;case"y":e=et(0,1,0,!1,!0);break;case"yy":e=et(0,2,0,!0,!0);break;case"yyy":e=et(0,3,0,!1,!0);break;case"yyyy":e=et(0,4,0,!1,!0);break;case"Y":e=Yh(1);break;case"YY":e=Yh(2,!0);break;case"YYY":e=Yh(3);break;case"YYYY":e=Yh(4);break;case"M":case"L":e=et(1,1,1);break;case"MM":case"LL":e=et(1,2,1);break;case"MMM":e=Fe(2,Me.Abbreviated);break;case"MMMM":e=Fe(2,Me.Wide);break;case"MMMMM":e=Fe(2,Me.Narrow);break;case"LLL":e=Fe(2,Me.Abbreviated,Pt.Standalone);break;case"LLLL":e=Fe(2,Me.Wide,Pt.Standalone);break;case"LLLLL":e=Fe(2,Me.Narrow,Pt.Standalone);break;case"w":e=v_(1);break;case"ww":e=v_(2);break;case"W":e=v_(1,!0);break;case"d":e=et(2,1);break;case"dd":e=et(2,2);break;case"c":case"cc":e=et(7,1);break;case"ccc":e=Fe(1,Me.Abbreviated,Pt.Standalone);break;case"cccc":e=Fe(1,Me.Wide,Pt.Standalone);break;case"ccccc":e=Fe(1,Me.Narrow,Pt.Standalone);break;case"cccccc":e=Fe(1,Me.Short,Pt.Standalone);break;case"E":case"EE":case"EEE":e=Fe(1,Me.Abbreviated);break;case"EEEE":e=Fe(1,Me.Wide);break;case"EEEEE":e=Fe(1,Me.Narrow);break;case"EEEEEE":e=Fe(1,Me.Short);break;case"a":case"aa":case"aaa":e=Fe(0,Me.Abbreviated);break;case"aaaa":e=Fe(0,Me.Wide);break;case"aaaaa":e=Fe(0,Me.Narrow);break;case"b":case"bb":case"bbb":e=Fe(0,Me.Abbreviated,Pt.Standalone,!0);break;case"bbbb":e=Fe(0,Me.Wide,Pt.Standalone,!0);break;case"bbbbb":e=Fe(0,Me.Narrow,Pt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Fe(0,Me.Abbreviated,Pt.Format,!0);break;case"BBBB":e=Fe(0,Me.Wide,Pt.Format,!0);break;case"BBBBB":e=Fe(0,Me.Narrow,Pt.Format,!0);break;case"h":e=et(3,1,-12);break;case"hh":e=et(3,2,-12);break;case"H":e=et(3,1);break;case"HH":e=et(3,2);break;case"m":e=et(4,1);break;case"mm":e=et(4,2);break;case"s":e=et(5,1);break;case"ss":e=et(5,2);break;case"S":e=et(6,1);break;case"SS":e=et(6,2);break;case"SSS":e=et(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Qh(0);break;case"ZZZZZ":e=Qh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Qh(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Qh(2);break;default:return null}return __[t]=e,e}function mR(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function $3(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function H3(t,e,n){let i=t.getTimezoneOffset(),o=mR(e,i);return $3(t,-1*(o-i))}function z3(t){if(oR(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Zh(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(O3))return q3(r)}let e=new Date(t);if(!oR(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function q3(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function oR(t){return t instanceof Date&&!isNaN(t.valueOf())}function yR(t,e){return new B(2100,!1)}var E_=class{createSubscription(e,n){return vn(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){vn(()=>e.unsubscribe())}},w_=class{createSubscription(e,n){return e.then(r=>n?.(r),r=>{throw r}),{unsubscribe:()=>{n=null}}}dispose(e){e.unsubscribe()}},G3=new w_,W3=new E_,I_=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Pi(n))return G3;if(d_(n))return W3;throw yR(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(W(Lo,16))};static \u0275pipe=u_({name:"async",type:t,pure:!1})}return t})();var K3="mediumDate",vR=new U(""),_R=new U(""),C_=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??K3,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return pR(n,s,o||this.locale,a)}catch(s){throw yR(t,s.message)}}static \u0275fac=function(r){return new(r||t)(W(Gh,16),W(vR,24),W(_R,24))};static \u0275pipe=u_({name:"date",type:t,pure:!0})}return t})();var Nt=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Fr({type:t});static \u0275inj=Or({})}return t})();function du(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var b_="browser",ER="server";function Xh(t){return t===ER}var jo=class{};var nf=new U(""),R_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Q(nf),Q(Te))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),hu=class{_doc;constructor(e){this._doc=e}manager},ef="ng-app-id";function wR(t){for(let e of t)e.remove()}function IR(t,e){let n=e.createElement("style");return n.textContent=t,n}function Y3(t,e,n,r){let i=t.head?.querySelectorAll(`style[${ef}="${e}"],link[${ef}="${e}"]`);if(i)for(let o of i)o.removeAttribute(ef),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function S_(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var M_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Xh(o),Y3(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,IR);r?.forEach(i=>this.addUsage(i,this.external,S_))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(wR(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])wR(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,IR(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,S_(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ef,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Q(ft),Q(Sr),Q(kv,8),Q(No))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),D_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},P_=/%COMP%/g;var bR="%COMP%",J3=`_nghost-${bR}`,Z3=`_ngcontent-${bR}`,X3=!0,eB=new U("",{providedIn:"root",factory:()=>X3});function tB(t){return Z3.replace(P_,t)}function nB(t){return J3.replace(P_,t)}function TR(t,e){return e.map(n=>n.replace(P_,t))}var N_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u,l=null,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Xh(a),this.defaultRenderer=new fu(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Jn.ShadowDom&&(r=fe(L({},r),{encapsulation:Jn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof tf?i.applyToHost(n):i instanceof pu&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Jn.Emulated:o=new tf(u,l,r,this.appId,h,s,a,p,g);break;case Jn.ShadowDom:return new A_(u,l,n,r,s,a,this.nonce,p,g);default:o=new pu(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Q(R_),Q(M_),Q(Sr),Q(eB),Q(ft),Q(No),Q(Te),Q(kv),Q(na,8))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),fu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(D_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(CR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(CR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=D_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=D_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Nr.DashCase|Nr.Important)?e.style.setProperty(n,r,i&Nr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Nr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=_n().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function CR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var A_=class extends fu{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=TR(i.id,h);for(let g of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let g of p){let m=S_(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},pu=class extends fu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?TR(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},tf=class extends pu{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=tB(h),this.hostAttr=nB(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var rf=class t extends su{supportsDOMEvents=!0;static makeCurrent(){g_(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=rB();return n==null?null:iB(n)}resetBaseElement(){gu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return du(document.cookie,e)}},gu=null;function rB(){return gu=gu||document.querySelector("base"),gu?gu.getAttribute("href"):null}function iB(t){return new URL(t,document.baseURI).pathname}var oB=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),SR=(()=>{class t extends hu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Q(ft))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),DR=["alt","control","meta","shift"],sB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},AR=(()=>{class t extends hu{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_n().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),DR.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=sB[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),DR.forEach(s=>{if(s!==i){let a=aB[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Q(ft))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function x_(t,e){return QA(L({rootComponent:t},cB(e)))}function cB(t){return{appProviders:[...fB,...t?.providers??[]],platformProviders:hB}}function uB(){rf.makeCurrent()}function lB(){return new Yn}function dB(){return yS(document),document}var hB=[{provide:No,useValue:b_},{provide:Ov,useValue:uB,multi:!0},{provide:ft,useFactory:dB}];var fB=[{provide:bh,useValue:"root"},{provide:Yn,useFactory:lB},{provide:nf,useClass:SR,multi:!0,deps:[ft]},{provide:nf,useClass:AR,multi:!0,deps:[ft]},N_,M_,R_,{provide:Ks,useExisting:N_},{provide:jo,useClass:oB},[]];var ua=class{},mu=class{},qr=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var sf=class{encodeKey(e){return RR(e)}encodeValue(e){return RR(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function pB(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var gB=/%(\d[a-f0-9])/gi,mB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function RR(t){return encodeURIComponent(t).replace(gB,(e,n)=>mB[n]??e)}function of(t){return`${t}`}var zr=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new sf,e.fromString){if(e.fromObject)throw new B(2805,!1);this.map=pB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(of):[of(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(of(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(of(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var af=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function yB(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function MR(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function PR(t){return typeof Blob<"u"&&t instanceof Blob}function NR(t){return typeof FormData<"u"&&t instanceof FormData}function vB(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var xR="Content-Type",OR="Accept",kR="X-Request-URL",FR="text/plain",LR="application/json",_B=`${LR}, ${FR}, */*`,ca=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(yB(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new qr,this.context??=new af,!this.params)this.params=new zr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||MR(this.body)||PR(this.body)||NR(this.body)||vB(this.body)?this.body:this.body instanceof zr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||NR(this.body)?null:PR(this.body)?this.body.type||null:MR(this.body)?null:typeof this.body=="string"?FR:this.body instanceof zr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?LR:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Bo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Bo||{}),la=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new qr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},cf=class t extends la{constructor(e={}){super(e)}type=Bo.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},$o=class t extends la{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Bo.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},yu=class extends la{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},EB=200,wB=204;function O_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var lf=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof ca)o=n;else{let u;i.headers instanceof qr?u=i.headers:u=new qr(i.headers);let l;i.params&&(i.params instanceof zr?l=i.params:l=new zr({fromObject:i.params})),o=new ca(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=$(o).pipe(wi(u=>this.handler.handle(u)));if(n instanceof ca||i.observe==="events")return s;let a=s.pipe(tn(u=>u instanceof $o));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(te(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new B(2806,!1);return u.body}));case"blob":return a.pipe(te(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new B(2807,!1);return u.body}));case"text":return a.pipe(te(u=>{if(u.body!==null&&typeof u.body!="string")throw new B(2808,!1);return u.body}));case"json":default:return a.pipe(te(u=>u.body))}case"response":return a;default:throw new B(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new zr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,O_(i,r))}post(n,r,i={}){return this.request("POST",n,O_(i,r))}put(n,r,i={}){return this.request("PUT",n,O_(i,r))}static \u0275fac=function(r){return new(r||t)(Q(ua))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();var IB=new U("");function CB(t,e){return e(t)}function bB(t,e,n){return(r,i)=>wt(n,()=>e(r,o=>t(o,i)))}var VR=new U(""),F_=new U(""),UR=new U("",{providedIn:"root",factory:()=>!0});var uf=(()=>{class t extends ua{backend;injector;chain=null;pendingTasks=x(nr);contributeToStability=x(UR);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(VR),...this.injector.get(F_,[])]));this.chain=r.reduceRight((i,o)=>bB(i,o,this.injector),CB)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(fo(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(Q(mu),Q(dt))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();var TB=/^\)\]\}',?\n/,DB=RegExp(`^${kR}:`,"m");function SB(t){return"responseURL"in t&&t.responseURL?t.responseURL:DB.test(t.getAllResponseHeaders())?t.getResponseHeader(kR):null}var k_=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new B(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?pe(r.\u0275loadImpl()):$(null)).pipe(lt(()=>new le(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((A,R)=>s.setRequestHeader(A,R.join(","))),n.headers.has(OR)||s.setRequestHeader(OR,_B),!n.headers.has(xR)){let A=n.detectContentTypeHeader();A!==null&&s.setRequestHeader(xR,A)}if(n.responseType){let A=n.responseType.toLowerCase();s.responseType=A!=="json"?A:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let A=s.statusText||"OK",R=new qr(s.getAllResponseHeaders()),j=SB(s)||n.url;return u=new cf({headers:R,status:s.status,statusText:A,url:j}),u},h=()=>{let{headers:A,status:R,statusText:j,url:K}=l(),q=null;R!==wB&&(q=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=q?EB:0);let we=R>=200&&R<300;if(n.responseType==="json"&&typeof q=="string"){let vt=q;q=q.replace(TB,"");try{q=q!==""?JSON.parse(q):null}catch(be){q=vt,we&&(we=!1,q={error:be,text:q})}}we?(o.next(new $o({body:q,headers:A,status:R,statusText:j,url:K||void 0})),o.complete()):o.error(new yu({error:q,headers:A,status:R,statusText:j,url:K||void 0}))},p=A=>{let{url:R}=l(),j=new yu({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(j)},g=!1,m=A=>{g||(o.next(l()),g=!0);let R={type:Bo.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),n.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},I=A=>{let R={type:Bo.UploadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",I)),s.send(a),o.next({type:Bo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",I)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(Q(jo))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),jR=new U(""),AB="XSRF-TOKEN",RB=new U("",{providedIn:"root",factory:()=>AB}),MB="X-XSRF-TOKEN",PB=new U("",{providedIn:"root",factory:()=>MB}),vu=class{},NB=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=du(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(Q(ft),Q(RB))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function xB(t,e){let n=t.url.toLowerCase();if(!x(jR)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(vu).getToken(),i=x(PB);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function L_(...t){let e=[lf,k_,uf,{provide:ua,useExisting:uf},{provide:mu,useFactory:()=>x(IB,{optional:!0})??x(k_)},{provide:VR,useValue:xB,multi:!0},{provide:jR,useValue:!0},{provide:vu,useClass:NB}];for(let n of t)e.push(...n.\u0275providers);return qt(e)}var OB=new U(""),kB="b",FB="h",LB="s",VB="st",UB="u",jB="rt",V_=new U(""),BB=["GET","HEAD"];function $B(t,e){let g=x(V_),{isCacheActive:n}=g,r=ib(g,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!BB.includes(o)||!r.includeRequestsWithAuthHeaders&&HB(t)||r.filter?.(t)===!1)return e(t);let s=x(ta);if(x(OB,{optional:!0}))throw new B(2803,!1);let u=t.url,l=zB(t,u),h=s.get(l,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),h){let{[kB]:m,[jB]:I,[FB]:A,[LB]:R,[VB]:j,[UB]:K}=h,q=m;switch(I){case"arraybuffer":q=new TextEncoder().encode(m).buffer;break;case"blob":q=new Blob([m]);break}let we=new qr(A);return $(new $o({body:q,headers:we,status:R,statusText:j,url:K}))}return e(t).pipe(xe(m=>{m instanceof $o}))}function HB(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function BR(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function zB(t,e){let{params:n,method:r,responseType:i}=t,o=BR(n),s=t.serializeBody();s instanceof URLSearchParams?s=BR(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=qB(a);return u}function qB(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function $R(t){return[{provide:V_,useFactory:()=>(rr("NgHttpTransferCache"),L({isCacheActive:!0},t))},{provide:F_,useValue:$B,multi:!0},{provide:xo,multi:!0,useFactory:()=>{let e=x(zt),n=x(V_);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var HR=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Q(ft))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var df=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(df||{});function WB(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function zR(){return WB(df.EventReplay,YA())}function qR(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has(df.HttpTransferCacheOptions);return qt([[],JA(),n.has(df.NoHttpTransferCache)||r?[]:$R({}),e])}var ae="primary",Nu=Symbol("RouteTitle"),H_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function qo(t){return new H_(t)}function XR(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function QB(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!or(t[n],e[n]))return!1;return!0}function or(t,e){let n=t?z_(t):void 0,r=e?z_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!eM(t[i],e[i]))return!1;return!0}function z_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function tM(t){return t.length>0?t[t.length-1]:null}function ki(t){return Um(t)?t:Pi(t)?pe(Promise.resolve(t)):$(t)}var YB={exact:rM,subset:iM},nM={exact:JB,subset:ZB,ignored:()=>!0};function GR(t,e,n){return YB[n.paths](t.root,e.root,n.matrixParams)&&nM[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function JB(t,e){return or(t,e)}function rM(t,e,n){if(!Ho(t.segments,e.segments)||!pf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!rM(t.children[r],e.children[r],n))return!1;return!0}function ZB(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eM(t[n],e[n]))}function iM(t,e,n){return oM(t,e,e.segments,n)}function oM(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ho(i,n)||e.hasChildren()||!pf(i,n,r))}else if(t.segments.length===n.length){if(!Ho(t.segments,n)||!pf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!iM(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ho(t.segments,i)||!pf(t.segments,i,r)||!t.children[ae]?!1:oM(t.children[ae],e,o,r)}}function pf(t,e,n){return e.every((r,i)=>nM[n](t[i].parameters,r.parameters))}var ar=class{root;queryParams;fragment;_queryParamMap;constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=qo(this.queryParams),this._queryParamMap}toString(){return t$.serialize(this)}},De=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gf(this)}},xi=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=qo(this.parameters),this._parameterMap}toString(){return aM(this)}};function XB(t,e){return Ho(t,e)&&t.every((n,r)=>or(n.parameters,e[r].parameters))}function Ho(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function e$(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ae&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(e(i,r)))}),n}var xu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>new Go,providedIn:"root"})}return t})(),Go=class{parse(e){let n=new G_(e);return new ar(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${_u(e.root,!0)}`,r=i$(e.queryParams),i=typeof e.fragment=="string"?`#${n$(e.fragment)}`:"";return`${n}${r}${i}`}},t$=new Go;function gf(t){return t.segments.map(e=>aM(e)).join("/")}function _u(t,e){if(!t.hasChildren())return gf(t);if(e){let n=t.children[ae]?_u(t.children[ae],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${_u(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=e$(t,(r,i)=>i===ae?[_u(t.children[ae],!1)]:[`${i}:${_u(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ae]!=null?`${gf(t)}/${n[0]}`:`${gf(t)}/(${n.join("//")})`}}function sM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hf(t){return sM(t).replace(/%3B/gi,";")}function n$(t){return encodeURI(t)}function q_(t){return sM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mf(t){return decodeURIComponent(t)}function WR(t){return mf(t.replace(/\+/g,"%20"))}function aM(t){return`${q_(t.path)}${r$(t.parameters)}`}function r$(t){return Object.entries(t).map(([e,n])=>`;${q_(e)}=${q_(n)}`).join("")}function i$(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${hf(n)}=${hf(i)}`).join("&"):`${hf(n)}=${hf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var o$=/^[^\/()?;#]+/;function U_(t){let e=t.match(o$);return e?e[0]:""}var s$=/^[^\/()?;=#]+/;function a$(t){let e=t.match(s$);return e?e[0]:""}var c$=/^[^=?&#]+/;function u$(t){let e=t.match(c$);return e?e[0]:""}var l$=/^[^&#]+/;function d$(t){let e=t.match(l$);return e?e[0]:""}var G_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new De(e,n)),r}parseSegment(){let e=U_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new xi(mf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=a$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=U_(this.remaining);i&&(r=i,this.capture(r))}e[mf(n)]=mf(r)}parseQueryParam(e){let n=u$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=d$(this.remaining);s&&(r=s,this.capture(r))}let i=WR(n),o=WR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=U_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ae);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ae]:new De([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function cM(t){return t.segments.length>0?new De([],{[ae]:t}):t}function uM(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=uM(i);if(r===ae&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new De(t.segments,e);return h$(n)}function h$(t){if(t.numberOfChildren===1&&t.children[ae]){let e=t.children[ae];return new De(t.segments.concat(e.segments),e.children)}return t}function Oi(t){return t instanceof ar}function lM(t,e,n=null,r=null){let i=dM(t);return hM(i,e,n,r)}function dM(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new De(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=cM(r);return e??i}function hM(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return j_(i,i,i,n,r);let o=f$(e);if(o.toRoot())return j_(i,i,new De([],{}),n,r);let s=p$(o,i,t),a=s.processChildren?wu(s.segmentGroup,s.index,o.commands):pM(s.segmentGroup,s.index,o.commands);return j_(i,s.segmentGroup,a,n,r)}function vf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Cu(t){return typeof t=="object"&&t!=null&&t.outlets}function j_(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=fM(t,e,n);let a=cM(uM(s));return new ar(a,o,i)}function fM(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=fM(o,e,n)}),new De(t.segments,r)}var _f=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&vf(r[0]))throw new B(4003,!1);let i=r.find(Cu);if(i&&i!==tM(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function f$(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new _f(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new _f(n,e,r)}var fa=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function p$(t,e,n){if(t.isAbsolute)return new fa(e,!0,0);if(!n)return new fa(e,!1,NaN);if(n.parent===null)return new fa(n,!0,0);let r=vf(t.commands[0])?0:1,i=n.segments.length-1+r;return g$(n,i,t.numberOfDoubleDots)}function g$(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new fa(r,!1,i-o)}function m$(t){return Cu(t[0])?t[0].outlets:{[ae]:t}}function pM(t,e,n){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return wu(t,e,n);let r=y$(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new De(t.segments.slice(0,r.pathIndex),{});return o.children[ae]=new De(t.segments.slice(r.pathIndex),t.children),wu(o,0,i)}else return r.match&&i.length===0?new De(t.segments,{}):r.match&&!t.hasChildren()?W_(t,e,n):r.match?wu(t,0,i):W_(t,e,n)}function wu(t,e,n){if(n.length===0)return new De(t.segments,{});{let r=m$(n),i={};if(Object.keys(r).some(o=>o!==ae)&&t.children[ae]&&t.numberOfChildren===1&&t.children[ae].segments.length===0){let o=wu(t.children[ae],e,n);return new De(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=pM(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new De(t.segments,i)}}function y$(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Cu(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!QR(u,l,s))return o;r+=2}else{if(!QR(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function W_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Cu(o)){let u=v$(o.outlets);return new De(r,u)}if(i===0&&vf(n[0])){let u=t.segments[e];r.push(new xi(u.path,KR(n[0]))),i++;continue}let s=Cu(o)?o.outlets[ae]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&vf(a)?(r.push(new xi(s,KR(a))),i+=2):(r.push(new xi(s,{})),i++)}return new De(r,{})}function v$(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=W_(new De([],{}),0,r))}),e}function KR(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function QR(t,e,n){return t==n.path&&or(e,n.parameters)}var yf="imperative",pt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(pt||{}),ln=class{id;url;constructor(e,n){this.id=e,this.url=n}},Wo=class extends ln{type=pt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cr=class extends ln{urlAfterRedirects;type=pt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Yt||{}),bu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(bu||{}),sr=class extends ln{reason;code;type=pt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gr=class extends ln{reason;code;type=pt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},ga=class extends ln{error;target;type=pt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tu=class extends ln{urlAfterRedirects;state;type=pt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ef=class extends ln{urlAfterRedirects;state;type=pt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wf=class extends ln{urlAfterRedirects;state;shouldActivate;type=pt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},If=class extends ln{urlAfterRedirects;state;type=pt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cf=class extends ln{urlAfterRedirects;state;type=pt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bf=class{route;type=pt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Tf=class{route;type=pt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Df=class{snapshot;type=pt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sf=class{snapshot;type=pt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Af=class{snapshot;type=pt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rf=class{snapshot;type=pt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Du=class{},ma=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function _$(t,e){return t.providers&&!t._injector&&(t._injector=iu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ln(t){return t.outlet||ae}function E$(t,e){let n=t.filter(r=>Ln(r)===e);return n.push(...t.filter(r=>Ln(r)!==e)),n}function Ou(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Mf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ou(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new _a(this.rootInjector)}},_a=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Mf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Q(dt))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=K_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=K_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Q_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Q_(e,this._root).map(n=>n.value)}};function K_(t,e){if(t===e.value)return e;for(let n of e.children){let r=K_(t,n);if(r)return r}return null}function Q_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Q_(t,n);if(r.length)return r.unshift(e),r}return[]}var un=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ha(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Su=class extends Pf{snapshot;constructor(e,n){super(e),this.snapshot=n,r0(this,e)}toString(){return this.snapshot.toString()}};function gM(t){let e=w$(t),n=new ot([new xi("",{})]),r=new ot({}),i=new ot({}),o=new ot({}),s=new ot(""),a=new Wr(n,r,o,s,i,ae,t,e.root);return a.snapshot=e.root,new Su(new un(a,[]),e)}function w$(t){let e={},n={},r={},i="",o=new zo([],e,r,i,n,ae,t,null,{});return new Au("",new un(o,[]))}var Wr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(te(l=>l[Nu]))??$(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>qo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>qo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),i?.data),t._resolvedData)}:r={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},i&&yM(i)&&(r.resolve[Nu]=i.title),r}var zo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Nu]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Au=class extends Pf{url;constructor(e,n){super(n),this.url=e,r0(this,n)}toString(){return mM(this._root)}};function r0(t,e){e.value._routerState=t,e.children.forEach(n=>r0(t,n))}function mM(t){let e=t.children.length>0?` { ${t.children.map(mM).join(", ")} } `:"";return`${t.value}${e}`}function B_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,or(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),or(e.params,n.params)||t.paramsSubject.next(n.params),QB(e.url,n.url)||t.urlSubject.next(n.url),or(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Y_(t,e){let n=or(t.params,e.params)&&XB(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Y_(t.parent,e.parent))}function yM(t){return typeof t.title=="string"||t.title===null}var vM=new U(""),ku=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ae;activateEvents=new je;deactivateEvents=new je;attachEvents=new je;detachEvents=new je;routerOutletData=cS(void 0);parentContexts=x(_a);location=x(ia);changeDetector=x(Lo);inputBinder=x(Ff,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new J_(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Xe({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Si]})}return t})(),J_=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Wr?this.route:e===_a?this.childContexts:e===vM?this.outletData:this.parent.get(e,n)}},Ff=new U("");var i0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ge({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Re(0,"router-outlet")},dependencies:[ku],encapsulation:2})}return t})();function o0(t){let e=t.children&&t.children.map(o0),n=e?fe(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=i0),n}function I$(t,e,n){let r=Ru(t,e._root,n?n._root:void 0);return new Su(r,e)}function Ru(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=C$(t,e,n);return new un(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ru(t,a)),s}}let r=b$(e.value),i=e.children.map(o=>Ru(t,o));return new un(r,i)}}function C$(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ru(t,r,i);return Ru(t,r)})}function b$(t){return new Wr(new ot(t.url),new ot(t.params),new ot(t.queryParams),new ot(t.fragment),new ot(t.data),t.outlet,t.component,t)}var ya=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},_M="ngNavigationCancelingError";function xf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Oi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=EM(!1,Yt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function EM(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[_M]=!0,n.cancellationCode=e,n}function T$(t){return wM(t)&&Oi(t.url)}function wM(t){return!!t&&t[_M]}var D$=(t,e,n,r)=>te(i=>(new Z_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Z_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),B_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ha(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ha(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ha(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ha(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Rf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Sf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(B_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),B_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Of=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},pa=class{component;route;constructor(e,n){this.component=e,this.route=n}};function S$(t,e,n){let r=t._root,i=e?e._root:null;return Eu(r,i,n,[r.value])}function A$(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ea(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!rD(t)?t:e.get(t):r}function Eu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ha(e);return t.children.forEach(s=>{R$(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Iu(a,n.getContext(s),i)),i}function R$(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=M$(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Of(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Eu(t,e,a?a.children:null,r,i):Eu(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new pa(a.outlet.component,s))}else s&&Iu(e,a,i),i.canActivateChecks.push(new Of(r)),o.component?Eu(t,null,a?a.children:null,r,i):Eu(t,null,n,r,i);return i}function M$(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ho(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ho(t.url,e.url)||!or(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Y_(t,e)||!or(t.queryParams,e.queryParams);case"paramsChange":default:return!Y_(t,e)}}function Iu(t,e,n){let r=ha(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Iu(s,e.children.getContext(o),n):Iu(s,null,n):Iu(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new pa(e.outlet.component,i)):n.canDeactivateChecks.push(new pa(null,i)):n.canDeactivateChecks.push(new pa(null,i))}function Fu(t){return typeof t=="function"}function P$(t){return typeof t=="boolean"}function N$(t){return t&&Fu(t.canLoad)}function x$(t){return t&&Fu(t.canActivate)}function O$(t){return t&&Fu(t.canActivateChild)}function k$(t){return t&&Fu(t.canDeactivate)}function F$(t){return t&&Fu(t.canMatch)}function IM(t){return t instanceof bn||t?.name==="EmptyError"}var ff=Symbol("INITIAL_VALUE");function va(){return lt(t=>Ad(t.map(e=>e.pipe(Tr(1),Hm(ff)))).pipe(te(e=>{for(let n of e)if(n!==!0){if(n===ff)return ff;if(n===!1||L$(n))return n}return!0}),tn(e=>e!==ff),Tr(1)))}function L$(t){return Oi(t)||t instanceof ya}function V$(t,e){return st(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?$(fe(L({},n),{guardsResult:!0})):U$(s,r,i,t).pipe(st(a=>a&&P$(a)?j$(r,o,t,e):$(a)),te(a=>fe(L({},n),{guardsResult:a})))})}function U$(t,e,n,r){return pe(t).pipe(st(i=>q$(i.component,i.route,n,e,r)),Dr(i=>i!==!0,!0))}function j$(t,e,n,r){return pe(e).pipe(wi(i=>xs($$(i.route.parent,r),B$(i.route,r),z$(t,i.path,n),H$(t,i.route,n))),Dr(i=>i!==!0,!0))}function B$(t,e){return t!==null&&e&&e(new Af(t)),$(!0)}function $$(t,e){return t!==null&&e&&e(new Df(t)),$(!0)}function H$(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(o=>Rd(()=>{let s=Ou(e)??n,a=Ea(o,s),u=x$(a)?a.canActivate(e,t):wt(s,()=>a(e,t));return ki(u).pipe(Dr())}));return $(i).pipe(va())}function z$(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>A$(s)).filter(s=>s!==null).map(s=>Rd(()=>{let a=s.guards.map(u=>{let l=Ou(s.node)??n,h=Ea(u,l),p=O$(h)?h.canActivateChild(r,t):wt(l,()=>h(r,t));return ki(p).pipe(Dr())});return $(a).pipe(va())}));return $(o).pipe(va())}function q$(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return $(!0);let s=o.map(a=>{let u=Ou(e)??i,l=Ea(a,u),h=k$(l)?l.canDeactivate(t,e,n,r):wt(u,()=>l(t,e,n,r));return ki(h).pipe(Dr())});return $(s).pipe(va())}function G$(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return $(!0);let o=i.map(s=>{let a=Ea(s,t),u=N$(a)?a.canLoad(e,n):wt(t,()=>a(e,n));return ki(u)});return $(o).pipe(va(),CM(r))}function CM(t){return Pm(xe(e=>{if(typeof e!="boolean")throw xf(t,e)}),te(e=>e===!0))}function W$(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return $(!0);let o=i.map(s=>{let a=Ea(s,t),u=F$(a)?a.canMatch(e,n):wt(t,()=>a(e,n));return ki(u)});return $(o).pipe(va(),CM(r))}var Mu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Pu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function da(t){return Ns(new Mu(t))}function K$(t){return Ns(new B(4e3,!1))}function Q$(t){return Ns(EM(!1,Yt.GuardRejected))}var X_=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[ae])return K$(`${e.redirectTo}`);i=i.children[ae]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:m,data:I,title:A}=i,R=wt(o,()=>a({params:m,data:I,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:A}));if(R instanceof ar)throw new Pu(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Pu(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new ar(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new De(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},e0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Y$(t,e,n,r,i){let o=bM(t,e,n);return o.matched?(r=_$(e,r),W$(r,e,n,i).pipe(te(s=>s===!0?o:L({},e0)))):$(o)}function bM(t,e,n){if(e.path==="**")return J$(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},e0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||XR)(n,t,e);if(!i)return L({},e0);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function J$(t){return{matched:!0,parameters:t.length>0?tM(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function YR(t,e,n,r){return n.length>0&&eH(t,n,r)?{segmentGroup:new De(e,X$(r,new De(n,t.children))),slicedSegments:[]}:n.length===0&&tH(t,n,r)?{segmentGroup:new De(t.segments,Z$(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function Z$(t,e,n,r){let i={};for(let o of n)if(Lf(t,e,o)&&!r[Ln(o)]){let s=new De([],{});i[Ln(o)]=s}return L(L({},r),i)}function X$(t,e){let n={};n[ae]=e;for(let r of t)if(r.path===""&&Ln(r)!==ae){let i=new De([],{});n[Ln(r)]=i}return n}function eH(t,e,n){return n.some(r=>Lf(t,e,r)&&Ln(r)!==ae)}function tH(t,e,n){return n.some(r=>Lf(t,e,r))}function Lf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function nH(t,e,n){return e.length===0&&!t.children[n]}var t0=class{};function rH(t,e,n,r,i,o,s="emptyOnly"){return new n0(t,e,n,r,i,s,o).recognize()}var iH=31,n0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new X_(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=YR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:n,rootSnapshot:r})=>{let i=new un(r,n),o=new Au("",i),s=lM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new zo([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ae,n).pipe(te(r=>({children:r,rootSnapshot:n})),qe(r=>{if(r instanceof Pu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Mu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(te(s=>s instanceof un?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return pe(o).pipe(wi(s=>{let a=r.children[s],u=E$(n,s);return this.processSegmentGroup(e,u,a,s,i)}),$m((s,a)=>(s.push(...a),s)),Ii(null),Bm(),st(s=>{if(s===null)return da(r);let a=TM(s);return oH(a),$(a)}))}processSegment(e,n,r,i,o,s,a){return pe(n).pipe(wi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(qe(l=>{if(l instanceof Mu)return $(null);throw l}))),Dr(u=>!!u),qe(u=>{if(IM(u))return nH(r,i,o)?$(new t0):da(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Ln(r)!==s&&(s===ae||!Lf(i,o,r))?da(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):da(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=bM(n,i,o);if(!u)return da(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iH&&(this.allowRedirects=!1));let m=new zo(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,JR(i),Ln(i),i.component??i._loadedComponent??null,i,ZR(i)),I=Nf(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(I.params),m.data=Object.freeze(I.data);let A=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(st(R=>this.processSegment(e,r,n,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=Y$(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(lt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(lt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:m}=u,I=new zo(g,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,JR(r),Ln(r),r.component??r._loadedComponent??null,r,ZR(r)),A=Nf(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let{segmentGroup:R,slicedSegments:j}=YR(n,g,m,l);if(j.length===0&&R.hasChildren())return this.processChildren(h,l,R,I).pipe(te(q=>new un(I,q)));if(l.length===0&&j.length===0)return $(new un(I,[]));let K=Ln(r)===o;return this.processSegment(h,l,R,j,K?ae:o,!0,I).pipe(te(q=>new un(I,q instanceof un?[q]:[])))}))):da(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?$({routes:n._loadedRoutes,injector:n._loadedInjector}):G$(e,n,r,this.urlSerializer).pipe(st(i=>i?this.configLoader.loadChildren(e,n).pipe(xe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Q$(n))):$({routes:[],injector:e})}};function oH(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}function sH(t){let e=t.value.routeConfig;return e&&e.path===""}function TM(t){let e=[],n=new Set;for(let r of t){if(!sH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=TM(r.children);e.push(new un(r.value,i))}return e.filter(r=>!n.has(r))}function JR(t){return t.data||{}}function ZR(t){return t.resolve||{}}function aH(t,e,n,r,i,o){return st(s=>rH(t,e,n,r,s.extractedUrl,i,o).pipe(te(({state:a,tree:u})=>fe(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function cH(t,e){return st(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of DM(u))s.add(l);let a=0;return pe(s).pipe(wi(u=>o.has(u)?uH(u,r,t,e):(u.data=Nf(u,u.parent,t).resolve,$(void 0))),xe(()=>a++),Os(1),st(u=>a===s.size?$(n):jt))})}function DM(t){let e=t.children.map(n=>DM(n)).flat();return[t,...e]}function uH(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!yM(i)&&(o[Nu]=i.title),lH(o,t,e,r).pipe(te(s=>(t._resolvedData=s,t.data=Nf(t,t.parent,n).resolve,null)))}function lH(t,e,n,r){let i=z_(t);if(i.length===0)return $({});let o={};return pe(i).pipe(st(s=>dH(t[s],e,n,r).pipe(Dr(),xe(a=>{if(a instanceof ya)throw xf(new Go,a);o[s]=a}))),Os(1),te(()=>o),qe(s=>IM(s)?jt:Ns(s)))}function dH(t,e,n,r){let i=Ou(e)??r,o=Ea(t,i),s=o.resolve?o.resolve(e,n):wt(i,()=>o(e,n));return ki(s)}function $_(t){return lt(e=>{let n=t(e);return n?pe(n).pipe(te(()=>e)):$(e)})}var s0=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[Nu]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>x(SM),providedIn:"root"})}return t})(),SM=(()=>{class t extends s0{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Q(HR))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lu=new U("",{providedIn:"root",factory:()=>({})}),Vu=new U(""),AM=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(qA);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return $(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ki(n.loadComponent()).pipe(te(MM),xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),fo(()=>{this.componentLoaders.delete(n)})),i=new As(r,()=>new Ne).pipe(Ss());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=RM(r,this.compiler,n,this.onLoadEndListener).pipe(fo(()=>{this.childrenLoaders.delete(r)})),s=new As(o,()=>new Ne).pipe(Ss());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RM(t,e,n,r){return ki(t.loadChildren()).pipe(te(MM),st(i=>i instanceof c_||Array.isArray(i)?$(i):pe(e.compileModuleAsync(i))),te(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Vu,[],{optional:!0,self:!0}).flat()),{routes:s.map(o0),injector:o}}))}function hH(t){return t&&typeof t=="object"&&"default"in t}function MM(t){return hH(t)?t.default:t}var Vf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>x(fH),providedIn:"root"})}return t})(),fH=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),PM=new U("");var NM=new U(""),xM=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ne;transitionAbortSubject=new Ne;configLoader=x(AM);environmentInjector=x(dt);destroyRef=x(Xs);urlSerializer=x(xu);rootContexts=x(_a);location=x(aa);inputBindingEnabled=x(Ff,{optional:!0})!==null;titleStrategy=x(s0);options=x(Lu,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Vf);createViewTransition=x(PM,{optional:!0});navigationErrorHandler=x(NM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>$(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new bf(i)),r=i=>this.events.next(new Tf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(fe(L({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new ot(null),this.transitions.pipe(tn(r=>r!==null),lt(r=>{let i=!1,o=!1;return $(r).pipe(lt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Yt.SupersededByNewNavigation),jt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?fe(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Gr(s.id,this.urlSerializer.serialize(s.rawUrl),l,bu.IgnoredSameUrlNavigation)),s.resolve(!1),jt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return $(s).pipe(lt(l=>(this.events.next(new Wo(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?jt:Promise.resolve(l))),aH(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=fe(L({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Tu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:g,extras:m}=s,I=new Wo(l,this.urlSerializer.serialize(h),p,g);this.events.next(I);let A=gM(this.rootComponentType).snapshot;return this.currentTransition=r=fe(L({},s),{targetSnapshot:A,urlAfterRedirects:h,extras:fe(L({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,$(r)}else{let l="";return this.events.next(new Gr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,bu.IgnoredByUrlHandlingStrategy)),s.resolve(!1),jt}}),xe(s=>{let a=new Ef(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),te(s=>(this.currentTransition=r=fe(L({},s),{guards:S$(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),V$(this.environmentInjector,s=>this.events.next(s)),xe(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw xf(this.urlSerializer,s.guardsResult);let a=new wf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),tn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Yt.GuardRejected),!1)),$_(s=>{if(s.guards.canActivateChecks.length!==0)return $(s).pipe(xe(a=>{let u=new If(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),lt(a=>{let u=!1;return $(a).pipe(cH(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",Yt.NoDataFromResolver)}}))}),xe(a=>{let u=new Cf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),$_(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(xe(h=>{u.component=h}),te(()=>{})));for(let h of u.children)l.push(...a(h));return l};return Ad(a(s.targetSnapshot.root)).pipe(Ii(null),Tr(1))}),$_(()=>this.afterPreactivation()),lt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?pe(u).pipe(te(()=>r)):$(r)}),te(s=>{let a=I$(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=fe(L({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),xe(()=>{this.events.next(new Du)}),D$(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Tr(1),xe({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),nn(this.transitionAbortSubject.pipe(xe(s=>{throw s}))),fo(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Yt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),qe(s=>{if(this.destroyed)return r.resolve(!1),jt;if(o=!0,wM(s))this.events.next(new sr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),T$(s)?this.events.next(new ma(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new ga(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=wt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof ya){let{message:l,cancellationCode:h}=xf(this.urlSerializer,u);this.events.next(new sr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new ma(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return jt}))}))}cancelNavigationTransition(n,r,i){let o=new sr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pH(t){return t!==yf}var OM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>x(gH),providedIn:"root"})}return t})(),kf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},gH=(()=>{class t extends kf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ri(t)))(i||t)}})();static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kM=(()=>{class t{urlSerializer=x(xu);options=x(Lu,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=x(aa);urlHandlingStrategy=x(Vf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ar;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof ar?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=gM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>x(mH),providedIn:"root"})}return t})(),mH=(()=>{class t extends kM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Wo?this.updateStateMemento():n instanceof Gr?this.commitTransition(r):n instanceof Tu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Du?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof sr&&(n.code===Yt.GuardRejected||n.code===Yt.NoDataFromResolver)?this.restoreHistory(r):n instanceof ga?this.restoreHistory(r,!0):n instanceof cr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ri(t)))(i||t)}})();static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function a0(t,e){t.events.pipe(tn(n=>n instanceof cr||n instanceof sr||n instanceof ga||n instanceof Gr),te(n=>n instanceof cr||n instanceof Gr?0:(n instanceof sr?n.code===Yt.Redirect||n.code===Yt.SupersededByNewNavigation:!1)?2:1),tn(n=>n!==2),Tr(1)).subscribe(()=>{e()})}var yH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},bt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(l_);stateManager=x(kM);options=x(Lu,{optional:!0})||{};pendingTasks=x(nr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(xM);urlSerializer=x(xu);location=x(aa);urlHandlingStrategy=x(Vf);_events=new Ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(OM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(Vu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(Ff,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ze;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof sr&&r.code!==Yt.Redirect&&r.code!==Yt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof cr)this.navigated=!0;else if(r instanceof ma){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||pH(i.source)},s);this.scheduleNavigation(a,yf,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}EH(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(o0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=dM(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return hM(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Oi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yf,null,r)}navigate(n,r={skipLocationChange:!1}){return _H(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=L({},yH):r===!1?i=L({},vH):i=r,Oi(n))return GR(this.currentUrlTree,n,i);let o=this.parseUrl(n);return GR(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return a0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _H(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function EH(t){return!(t instanceof Du)&&!(t instanceof ma)}var Uf=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ne;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof cr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Oi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:LS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Oi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(W(bt),W(Wr),Pv("tabindex"),W(Mi),W(mn),W(sa))};static \u0275dir=Xe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ie("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ou("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Vo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Vo],replaceUrl:[2,"replaceUrl","replaceUrl",Vo],routerLink:"routerLink"},features:[Si]})}return t})();var IH=new U("");function c0(t,...e){return qt([{provide:Vu,multi:!0,useValue:t},[],{provide:Wr,useFactory:CH,deps:[bt]},{provide:xo,multi:!0,useFactory:bH},e.map(n=>n.\u0275providers)])}function CH(t){return t.routerState.root}function bH(){let t=x(Ze);return e=>{let n=t.get(zt);if(e!==n.components[0])return;let r=t.get(bt),i=t.get(TH);t.get(DH)===1&&r.initialNavigation(),t.get(SH,null,ce.Optional)?.setUpPreloading(),t.get(IH,null,ce.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var TH=new U("",{factory:()=>new Ne}),DH=new U("",{providedIn:"root",factory:()=>1});var SH=new U("");function AH(t,e){if(t&1){let n=jr();P(0,"div",7)(1,"strong"),k(2),N(),P(3,"p",19),k(4),N(),P(5,"button",20),Ie("click",function(){let i=er(n).$index,o=It();return tr(o.scroll(i))}),Re(6,"img",21),N()()}if(t&2){let n=e.$implicit;Y(2),Ct(n.title),Y(2),Ct(n.description)}}function RH(t,e){if(t&1&&(P(0,"div",17)(1,"div",22)(2,"h3",23),k(3),N(),P(4,"p",24),k(5),N()(),P(6,"div",25),Re(7,"video",26),N(),Re(8,"div",27),N()),t&2){let n=e.$implicit,r=e.$index;f_("id","advantage-",r,""),Y(),Vr("site-info__content--right",r%2!==0),Y(2),Ct(n.title),Y(2),Ct(n.description),Y(),Vr("site-info__video--left",r%2!==0)}}function MH(t,e){if(t&1&&(P(0,"div",18)(1,"div",22)(2,"h3",23),k(3),N(),P(4,"p",24),k(5),N()(),P(6,"div",25),Re(7,"video",26),N(),Re(8,"div",27),N()),t&2){let n=e.$implicit,r=e.$index;Y(),Vr("site-info__content--right",r%2!==0),Y(2),Ct(n.title),Y(2),Ct(n.description),Y(),Vr("site-info__video--left",r%2!==0)}}var jf=class t{advantages=[{title:"\u0423\u0434\u043E\u0431\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432",description:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0447\u0430\u043B\u044C\u043D\u0443\u044E \u0438 \u043A\u043E\u043D\u0435\u0447\u043D\u0443\u044E \u0442\u043E\u0447\u043A\u0438 \u0438 \u0441\u043F\u043E\u0441\u043E\u0431 \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u0436\u0435\u043D\u0438\u044F. \u0412\u0441\u0451. \u041C\u044B \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0438\u043C \u0432\u0430\u043C \u043D\u0430\u0438\u0431\u043E\u043B\u0435\u0435 \u043E\u043F\u0442\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u043C\u0430\u0440\u0448\u0440\u0443\u0442"},{title:"\u0418\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u0430\u044F \u043A\u0430\u0440\u0442\u0430",description:"\u0418\u0441\u0441\u043B\u0435\u0434\u0443\u0439\u0442\u0435 \u043C\u0438\u0440 \u0441 \u043F\u043E\u043C\u043E\u0449\u044C\u044E \u043D\u0430\u0448\u0435\u0439 \u0438\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0439 \u043A\u0430\u0440\u0442\u044B, \u043F\u043E\u0437\u0432\u043E\u043B\u044F\u044E\u0449\u0435\u0439 \u043E\u0442\u043C\u0435\u0447\u0430\u0442\u044C \u043B\u044E\u0431\u044B\u0435 \u0438\u043D\u0442\u0435\u0440\u0435\u0441\u043D\u044B\u0435 \u043C\u0435\u0441\u0442\u0430 \u0438 \u0434\u0435\u043B\u0430\u0442\u044C \u0443\u043D\u0438\u043A\u0430\u043B\u044C\u043D\u044B\u0435 \u0437\u0430\u043C\u0435\u0442\u043A\u0438."},{title:"\u0421\u043E\u043E\u0431\u0449\u0435\u0441\u0442\u0432\u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439",description:"\u0414\u0435\u043B\u0438\u0442\u0435\u0441\u044C \u0441\u0432\u043E\u0438\u043C\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430\u043C\u0438 \u0441 \u0434\u0440\u0443\u0433\u0438\u043C\u0438 \u043B\u044E\u0434\u044C\u043C\u0438, \u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0439\u0442\u0435 \u043E\u0442\u0437\u044B\u0432\u044B \u0438 \u043F\u043E\u043B\u0443\u0447\u0430\u0439\u0442\u0435 \u0441\u043E\u0432\u0435\u0442\u044B."},{title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u043F\u043E\u0435\u0437\u0434\u043E\u043A",description:"\u041E\u0442\u0441\u043B\u0435\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u0432\u043E\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B, \u043F\u0440\u043E\u0439\u0434\u0435\u043D\u043D\u043E\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435 \u0438 \u043C\u043D\u043E\u0433\u043E\u0435 \u0434\u0440\u0443\u0433\u043E\u0435 \u0441 \u043D\u0430\u0448\u0438\u043C \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435\u043C."}];features=[{title:"\u041F\u0440\u043E\u0444\u0438\u043B\u044C",description:`
        \u0412\u0430\u0448 \u043B\u0438\u0447\u043D\u044B\u0439 \u043A\u0430\u0431\u0438\u043D\u0435\u0442, \u0433\u0434\u0435 \u0445\u0440\u0430\u043D\u044F\u0442\u0441\u044F \u0432\u0441\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B, \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0438 \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435. 
        \u0417\u0434\u0435\u0441\u044C \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044F \u043F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u0430\u044F \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430: \u043E\u0431\u0449\u0435\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043F\u043E\u0441\u0442\u0440\u043E\u0435\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432, 
        \u0441\u0443\u043C\u043C\u0430\u0440\u043D\u043E\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435 (\u0432 \u043A\u043C/\u043C\u0438\u043B\u044F\u0445), \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438 \u0438 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0438\u0442\u0430\u0435\u043C\u044B\u0435 \u0432\u0438\u0434\u044B \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430. 
        \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043B\u0438\u0447\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0438 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F.
      `},{title:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",description:`
        \u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u0440\u0430\u0437\u0434\u0435\u043B \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u0441 \u0431\u044B\u0441\u0442\u0440\u044B\u043C \u0434\u043E\u0441\u0442\u0443\u043F\u043E\u043C \u043A\u043E \u0432\u0441\u0435\u043C \u0444\u0443\u043D\u043A\u0446\u0438\u044F\u043C. 
        \u0417\u0434\u0435\u0441\u044C \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u044E\u0442\u0441\u044F \u0432\u0430\u0448\u0438 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B, \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u043C\u0435\u0441\u0442\u0430 \u0438 \u0440\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u0438 
        \u043F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u0432 \u0432\u0430\u0448\u0435\u043C \u0440\u0435\u0433\u0438\u043E\u043D\u0435. \u0423\u0434\u043E\u0431\u043D\u0430\u044F \u043D\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044F \u043F\u043E\u0437\u0432\u043E\u043B\u044F\u0435\u0442 \u0431\u044B\u0441\u0442\u0440\u043E 
        \u043F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u043D\u0443\u0436\u043D\u043E\u043C\u0443 \u0440\u0430\u0437\u0434\u0435\u043B\u0443.
      `},{title:"\u0421\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442",description:`
        \u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442 \u0434\u043B\u044F \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u043F\u043E\u0435\u0437\u0434\u043E\u043A. \u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043D\u0430\u0447\u0430\u043B\u044C\u043D\u0443\u044E \u0438 \u043A\u043E\u043D\u0435\u0447\u043D\u0443\u044E \u0442\u043E\u0447\u043A\u0438 
        \u043D\u0430 \u043A\u0430\u0440\u0442\u0435 \u0438\u043B\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441\u0430, \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043F\u043E\u0441\u043E\u0431 \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u0436\u0435\u043D\u0438\u044F (\u043F\u0435\u0448\u043A\u043E\u043C, \u043D\u0430 \u0432\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434\u0435, 
        \u043D\u0430 \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435 \u0438\u043B\u0438 \u043E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u043C \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0435) - \u0441\u0438\u0441\u0442\u0435\u043C\u0430 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0438\u0442 2-3 \u043E\u043F\u0442\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0445 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u0430 
        \u0441 \u0440\u0430\u0441\u0447\u0435\u0442\u043E\u043C \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u044F \u0438 \u043E\u0440\u0438\u0435\u043D\u0442\u0438\u0440\u043E\u0432\u043E\u0447\u043D\u043E\u0433\u043E \u0432\u0440\u0435\u043C\u0435\u043D\u0438 \u0432 \u043F\u0443\u0442\u0438.
      `},{title:"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432",description:`
        \u041F\u043E\u043B\u043D\u044B\u0439 \u0430\u0440\u0445\u0438\u0432 \u0432\u0441\u0435\u0445 \u0432\u0430\u0448\u0438\u0445 \u043F\u043E\u0435\u0437\u0434\u043E\u043A \u0441 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044C\u044E \u0441\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u043A\u0438 \u043F\u043E \u0434\u0430\u0442\u0435, \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u044E 
        \u0438\u043B\u0438 \u0432\u0438\u0434\u0443 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430. \u0414\u043B\u044F \u043A\u0430\u0436\u0434\u043E\u0433\u043E \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u044F\u044E\u0442\u0441\u044F \u043E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B: 
        \u043F\u0440\u043E\u0439\u0434\u0435\u043D\u043D\u043E\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435, \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438, \u0441\u0440\u0435\u0434\u043D\u044F\u044F \u0441\u043A\u043E\u0440\u043E\u0441\u0442\u044C. \u0423\u0434\u043E\u0431\u043D\u043E \u0434\u043B\u044F \u0430\u043D\u0430\u043B\u0438\u0437\u0430 
        \u0432\u0430\u0448\u0435\u0439 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0441\u0442\u0438.
      `},{title:"\u0418\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435",description:`
        \u0425\u0440\u0430\u043D\u0438\u043B\u0438\u0449\u0435 \u0434\u043B\u044F \u0447\u0430\u0441\u0442\u043E \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u043C\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u0438 \u0432\u0430\u0436\u043D\u044B\u0445 \u043C\u0435\u0441\u0442. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0441\u043E\u0437\u0434\u0430\u0432\u0430\u0442\u044C 
        \u0442\u0435\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0435 \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438 (\u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, "\u0420\u0430\u0431\u043E\u0447\u0438\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B", "\u041F\u0440\u043E\u0433\u0443\u043B\u043A\u0438 \u043D\u0430 \u0432\u044B\u0445\u043E\u0434\u043D\u044B\u0435") 
        \u0438 \u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F \u0438\u043C\u0438 \u0441 \u0434\u0440\u0443\u0433\u0438\u043C\u0438 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C\u0438. \u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E \u0441 \u043B\u044E\u0431\u043E\u0433\u043E \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430.
      `},{title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",description:`
        \u041F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u043F\u043E\u0434 \u0432\u0430\u0448\u0438 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0442\u0435\u043D\u0438\u044F: \u0432\u044B\u0431\u043E\u0440 \u0446\u0432\u0435\u0442\u043E\u0432\u043E\u0439 \u0442\u0435\u043C\u044B, \u0435\u0434\u0438\u043D\u0438\u0446 \u0438\u0437\u043C\u0435\u0440\u0435\u043D\u0438\u044F 
        (\u043A\u043C/\u043C\u0438\u043B\u0438), \u044F\u0437\u044B\u043A\u0430 \u0438\u043D\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430. \u0417\u0434\u0435\u0441\u044C \u0436\u0435 \u043C\u043E\u0436\u043D\u043E \u0443\u043F\u0440\u0430\u0432\u043B\u044F\u0442\u044C \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F\u043C\u0438 \u0438 \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u043D\u044B\u043C\u0438 
        \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043C\u0438.
      `}];siteInfoBlocks=[{title:"\u0423\u0434\u043E\u0431\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432",description:`
        \u041D\u0430\u0448 \u0430\u043B\u0433\u043E\u0440\u0438\u0442\u043C \u043F\u043E\u0438\u0441\u043A\u0430 \u043F\u043E\u043C\u043E\u0433\u0430\u0435\u0442 \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u044C \u043E\u043F\u0442\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0435 \u043F\u0443\u0442\u0438 \u0441 \u0443\u0447\u0435\u0442\u043E\u043C \u0432\u0430\u0448\u0438\u0445 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0442\u0435\u043D\u0438\u0439. 
        \u041F\u043E\u0441\u043B\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0438\u044F \u0442\u043E\u0447\u0435\u043A \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0438 \u043D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F \u0432\u044B \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u0435 2-3 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 
        \u0441 \u0434\u0435\u0442\u0430\u043B\u044C\u043D\u043E\u0439 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0435\u0439: \u043E\u0431\u0449\u0435\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435, \u043E\u0440\u0438\u0435\u043D\u0442\u0438\u0440\u043E\u0432\u043E\u0447\u043D\u043E\u0435 \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438, \u043E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 
        \u043E\u0440\u0438\u0435\u043D\u0442\u0438\u0440\u044B. \u0414\u043B\u044F \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u043C\u043E\u0436\u043D\u043E \u0438\u0441\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043F\u043B\u0430\u0442\u043D\u044B\u0435 \u0434\u043E\u0440\u043E\u0433\u0438, \u0430 \u0434\u043B\u044F \u043F\u0435\u0448\u0438\u0445 - 
        \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u043D\u0430\u0438\u0431\u043E\u043B\u0435\u0435 \u0436\u0438\u0432\u043E\u043F\u0438\u0441\u043D\u044B\u0435 \u043F\u0443\u0442\u0438.
      `},{title:"\u0418\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u0430\u044F \u043A\u0430\u0440\u0442\u0430",description:`
        \u0423\u0434\u043E\u0431\u043D\u044B\u0439 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442 \u0434\u043B\u044F \u0432\u0438\u0437\u0443\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u043F\u043E\u0435\u0437\u0434\u043E\u043A. \u041A\u0430\u0440\u0442\u0430 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 
        \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0440\u0435\u0436\u0438\u043C\u043E\u0432 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F (\u0441\u0445\u0435\u043C\u0430, \u0441\u043F\u0443\u0442\u043D\u0438\u043A) \u0438 \u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0435\u0442 \u043F\u043E\u043B\u0435\u0437\u043D\u044B\u0435 \u043E\u0431\u044A\u0435\u043A\u0442\u044B 
        \u0432\u0434\u043E\u043B\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430: \u043A\u0430\u0444\u0435, \u0410\u0417\u0421, \u0434\u043E\u0441\u0442\u043E\u043F\u0440\u0438\u043C\u0435\u0447\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u0438. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0434\u043E\u0431\u0430\u0432\u043B\u044F\u0442\u044C \u0441\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0435 
        \u043C\u0435\u0442\u043A\u0438 \u0438 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438 \u043A \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430\u043C, \u0430 \u0437\u0430\u0442\u0435\u043C \u0441\u043E\u0445\u0440\u0430\u043D\u044F\u0442\u044C \u0438\u0445 \u0432 \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435.
      `},{title:"\u0421\u043E\u043E\u0431\u0449\u0435\u0441\u0442\u0432\u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439",description:`
        \u041F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0430 \u0434\u043B\u044F \u043E\u0431\u043C\u0435\u043D\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430\u043C\u0438 \u0438 \u043E\u043F\u044B\u0442\u043E\u043C. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u0443\u0431\u043B\u0438\u043A\u043E\u0432\u0430\u0442\u044C \u0441\u0432\u043E\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B, 
        \u043E\u0446\u0435\u043D\u0438\u0432\u0430\u0442\u044C \u0447\u0443\u0436\u0438\u0435 \u0438 \u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0442\u044C \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438. \u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u043E\u0432 \u0432\u044B\u0434\u0435\u043B\u044F\u0435\u0442 \u043D\u0430\u0438\u0431\u043E\u043B\u0435\u0435 
        \u043F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u044B\u0435 \u0438 \u043F\u0440\u043E\u0432\u0435\u0440\u0435\u043D\u043D\u044B\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B \u0432 \u0432\u0430\u0448\u0435\u043C \u0433\u043E\u0440\u043E\u0434\u0435. \u041E\u0441\u043E\u0431\u0435\u043D\u043D\u043E \u043F\u043E\u043B\u0435\u0437\u043D\u043E \u0434\u043B\u044F \u043F\u043E\u0438\u0441\u043A\u0430 
        \u043D\u0435\u043E\u0447\u0435\u0432\u0438\u0434\u043D\u044B\u0445 \u0438 \u0438\u043D\u0442\u0435\u0440\u0435\u0441\u043D\u044B\u0445 \u043F\u0443\u0442\u0435\u0439.
      `},{title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u043F\u043E\u0435\u0437\u0434\u043E\u043A",description:`
        \u0414\u0435\u0442\u0430\u043B\u044C\u043D\u0430\u044F \u0430\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0430 \u0432\u0430\u0448\u0438\u0445 \u043F\u0435\u0440\u0435\u043C\u0435\u0449\u0435\u043D\u0438\u0439. \u0412 \u043F\u0440\u043E\u0444\u0438\u043B\u0435 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044F \u043E\u0431\u0449\u0435\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E 
        \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432, \u0441\u0443\u043C\u043C\u0430\u0440\u043D\u043E\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435, \u0441\u0440\u0435\u0434\u043D\u0435\u0435 \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438. \u0414\u043B\u044F \u0432\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434\u043D\u044B\u0445 \u0438 \u043F\u0435\u0448\u0438\u0445 
        \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u044B\u0432\u0430\u0435\u0442\u0441\u044F \u043F\u0440\u0438\u043C\u0435\u0440\u043D\u044B\u0439 \u0440\u0430\u0441\u0445\u043E\u0434 \u043A\u0430\u043B\u043E\u0440\u0438\u0439. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u0440\u043E\u0441\u043C\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044C 
        \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0443 \u0437\u0430 \u0440\u0430\u0437\u043D\u044B\u0435 \u043F\u0435\u0440\u0438\u043E\u0434\u044B \u0438 \u0441\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u0442\u044C \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C.
      `}];scroll(e){let n=document.getElementById(`advantage-${e}`);n&&n.scrollIntoView({behavior:"smooth"})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ge({type:t,selectors:[["app-start-page"]],decls:31,vars:0,consts:[[1,"main"],[1,"text-content"],[1,"text-content__top"],[1,"text-content__title"],[1,"text-content__body"],[1,"text-content__subtitle"],[1,"advantages"],[1,"advantages__item"],[1,"gallery"],["src","\u0421\u043D\u0438\u043C\u043E\u043A \u044D\u043A\u0440\u0430\u043D\u0430 2025-04-28 143604.jpg","alt","\u041A\u0430\u0440\u0442\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430",1,"gallery__main-image"],[1,"gallery__thumbnails"],["src","image 4.jpg","alt","\u041F\u0440\u0438\u043C\u0435\u0440 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 1",1,"gallery__thumbnail"],["src","image 5.jpg","alt","\u041F\u0440\u0438\u043C\u0435\u0440 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 2",1,"gallery__thumbnail"],[1,"site-info"],[1,"site-info__container"],[1,"site-info__title"],[1,"site-info__intro"],[1,"site-info__block",3,"id"],[1,"site-info__block"],[1,"advantages__text"],[1,"advantages__button",3,"click"],["src","arrow-down.svg","alt","\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u043F\u043E\u0434\u0440\u043E\u0431\u043D\u043E\u0441\u0442\u044F\u043C"],[1,"site-info__content"],[1,"site-info__subtitle"],[1,"site-info__text"],[1,"site-info__video"],["src","RouteGuide \u2014 \u042F\u043D\u0434\u0435\u043A\u0441\xA0\u0411\u0440\u0430\u0443\u0437\u0435\u0440 2025-04-29 01-02-50.mp4","controls",""],[1,"site-info__clearfix"]],template:function(n,r){n&1&&(P(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),k(4,"\u041A\u0430\u0436\u0434\u044B\u0439 \u043C\u0430\u0440\u0448\u0440\u0443\u0442 \u2014 \u044D\u0442\u043E \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u043F\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435"),N()(),P(5,"div",4)(6,"h2",5),k(7,"\u041D\u0430\u0448\u0438 \u043F\u0440\u0435\u0438\u043C\u0443\u0449\u0435\u0441\u0442\u0432\u0430"),N(),P(8,"div",6),On(9,AH,7,2,"div",7,Ur),N()()(),P(11,"section",8),Re(12,"img",9),P(13,"div",10),Re(14,"img",11)(15,"img",12),N()()(),P(16,"section",13)(17,"div",14)(18,"h2",15),k(19,"\u041E \u0441\u0430\u0439\u0442\u0435 \u0438 \u043A\u0430\u043A \u0438\u043C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),N(),P(20,"p",16),k(21," \u0414\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C \u043D\u0430 "),P(22,"strong"),k(23,"Route Guide"),N(),k(24,"! \u042D\u0442\u043E\u0442 \u0441\u0430\u0439\u0442 \u0441\u043E\u0437\u0434\u0430\u043D, \u0447\u0442\u043E\u0431\u044B \u0441\u0434\u0435\u043B\u0430\u0442\u044C \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u043F\u0440\u043E\u0441\u0442\u044B\u043C, \u0443\u0434\u043E\u0431\u043D\u044B\u043C \u0438 \u0443\u0432\u043B\u0435\u043A\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u043C. \u0417\u0434\u0435\u0441\u044C \u0432\u044B \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u0431\u044B\u0441\u0442\u0440\u043E \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u044C \u043B\u0443\u0447\u0448\u0438\u0435 \u043F\u0443\u0442\u0438 \u0434\u043B\u044F \u043F\u0440\u043E\u0433\u0443\u043B\u043E\u043A, \u043F\u043E\u0435\u0437\u0434\u043E\u043A \u043D\u0430 \u0432\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434\u0435, \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435 \u0438 \u043D\u0435 \u0442\u043E\u043B\u044C\u043A\u043E. \u041C\u044B \u043F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u0438\u043B\u0438 \u0434\u043B\u044F \u0432\u0430\u0441 \u043A\u043E\u0440\u043E\u0442\u043A\u0438\u0435 \u0432\u0438\u0434\u0435\u043E-\u0438\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u0438 \u043A \u043A\u0430\u0436\u0434\u043E\u043C\u0443 \u0440\u0430\u0437\u0434\u0435\u043B\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u043D\u0430\u043A\u043E\u043C\u0441\u0442\u0432\u043E \u0441 \u0444\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B\u043E\u043C \u043F\u0440\u043E\u0448\u043B\u043E \u043B\u0435\u0433\u043A\u043E! "),N(),On(25,RH,9,8,"div",17,Ur),P(27,"h2",15),k(28,"\u041E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438"),N(),On(29,MH,9,6,"div",18,Ur),N()()),n&2&&(Y(9),kn(r.advantages),Y(16),kn(r.siteInfoBlocks),Y(4),kn(r.features))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}.main[_ngcontent-%COMP%]{display:flex;gap:50px;align-items:center;justify-content:center;padding:20px;max-width:1920px;margin:0 auto}.text-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:50px;max-width:calc(100vw - 970px)}.text-content__top[_ngcontent-%COMP%]{background-color:#e6d70ae6;padding:25px;box-shadow:5px 5px 10px #00000080;text-align:center;height:75px;display:flex;align-items:center;justify-content:center;border-radius:10px}.text-content__title[_ngcontent-%COMP%]{font-family:Playfair Display SC,serif;font-size:32px;margin:0}.text-content__body[_ngcontent-%COMP%]{background-color:#e6d70ae6;box-shadow:5px 5px 10px #00000080;padding-top:25px;overflow-y:auto;border-radius:10px}.text-content__subtitle[_ngcontent-%COMP%]{margin:0;font-family:Playfair Display SC,serif;font-size:26px;text-align:center}.advantages[_ngcontent-%COMP%]{margin-top:0}.advantages__item[_ngcontent-%COMP%]{border-top:10px solid transparent;border-left:10px solid rgba(0,0,0,.25);border-bottom:10px solid rgba(0,0,0,.5);border-right:10px solid transparent;box-shadow:5px 5px 5px #00000040;padding:10px;width:calc(100% - 40px);font-family:Playfair Display,serif;font-size:18px}.advantages__title[_ngcontent-%COMP%]{display:block;margin-bottom:8px}.advantages__text[_ngcontent-%COMP%]{margin:0;line-height:1.5}.advantages__button[_ngcontent-%COMP%]{margin-top:5px;height:25px;width:100%;border:none;background-color:#ffffffbf;cursor:pointer}.advantages__button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;width:100px}.advantages__button[_ngcontent-%COMP%]:hover{background-color:#00000080}.advantages__button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{filter:invert(1)}.gallery[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:25px}.gallery__main-image[_ngcontent-%COMP%]{width:100%;max-width:770px;height:500px;object-fit:cover;box-shadow:5px 5px 10px #00000080;border-radius:10px}.gallery__thumbnails[_ngcontent-%COMP%]{display:flex;gap:50px;max-width:820px}.gallery__thumbnail[_ngcontent-%COMP%]{height:250px;object-fit:cover;box-shadow:5px 5px 10px #00000080;border-radius:10px}.gallery__thumbnail[_ngcontent-%COMP%]:first-child{width:350px}.gallery__thumbnail[_ngcontent-%COMP%]:last-child{width:370px}.site-info[_ngcontent-%COMP%]{background-color:#000000bf;padding:50px 20px;margin-top:30px;box-sizing:border-box;box-shadow:5px 5px 5px #00000080;border-radius:10px;color:#fff;width:max-content;max-width:calc(100vw - 150px);display:flex;justify-content:center}.site-info__container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.site-info__title[_ngcontent-%COMP%], .site-info__subtitle[_ngcontent-%COMP%], .site-info__feature-title[_ngcontent-%COMP%]{font-family:Playfair Display SC,serif;margin:0 0 20px;text-align:center}.site-info__title[_ngcontent-%COMP%]{font-size:32px}.site-info__subtitle[_ngcontent-%COMP%]{font-size:20px}.site-info__intro[_ngcontent-%COMP%], .site-info__text[_ngcontent-%COMP%], .site-info__final[_ngcontent-%COMP%]{font-family:Playfair Display,serif;font-size:18px;line-height:1.6;margin:0 0 20px;text-align:justify;text-justify:inter-word;hyphens:auto}.site-info__block[_ngcontent-%COMP%]{display:flex;gap:50px;margin-bottom:40px;align-items:flex-start}.site-info__block[_ngcontent-%COMP%]:nth-child(2n){flex-direction:row-reverse}.site-info__content[_ngcontent-%COMP%]{flex:1;min-width:0}.site-info__video[_ngcontent-%COMP%]{width:350px;height:225px;flex-shrink:0}.site-info__video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:cover;box-shadow:5px 5px 5px #00000080;border:5px solid rgb(255,255,255)}@media (max-width: 1400px){.main[_ngcontent-%COMP%]{flex-direction:column;gap:30px}.text-content[_ngcontent-%COMP%]{max-width:calc(100vw - 100px);transform:scale(.75);transform-origin:top center}.gallery[_ngcontent-%COMP%]{margin-top:-175px;width:100%;align-items:center}.gallery__main-image[_ngcontent-%COMP%]{width:400px;height:250px}.gallery__thumbnails[_ngcontent-%COMP%]{flex-direction:column;gap:25px}.gallery__thumbnail[_ngcontent-%COMP%]{width:400px!important;height:250px}.site-info[_ngcontent-%COMP%]{width:100%;padding:30px 15px;box-sizing:border-box}.site-info__container[_ngcontent-%COMP%]{width:100%}.site-info__block[_ngcontent-%COMP%]{flex-direction:column!important;gap:20px}.site-info__video[_ngcontent-%COMP%]{width:100%;height:auto;aspect-ratio:16/9}.site-info__content[_ngcontent-%COMP%]{width:100%}}"]})};var FM=()=>{};var UM=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PH=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Bf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(g=64)),r.push(n[h],n[p],n[g],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(UM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new l0;let g=o<<2|a>>4;if(r.push(g),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let I=l<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},NH=function(t){let e=UM(t);return Bf.encodeByteArray(e,!0)},ju=function(t){return NH(t).replace(/\./g,"")},$f=function(t){try{return Bf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xH=()=>h0().__FIREBASE_DEFAULTS__,OH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&$f(t[1]);return e&&JSON.parse(e)},Hf=()=>{try{return FM()||xH()||OH()||kH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},f0=t=>{var e,n;return(n=(e=Hf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jM=t=>{let e=f0(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},p0=()=>{var t;return(t=Hf())===null||t===void 0?void 0:t.config},g0=t=>{var e;return(e=Hf())===null||e===void 0?void 0:e[`_${t}`]};var Ko=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Qo(t){return t.endsWith(".cloudworkstations.dev")}function zf(t){return v(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function BM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ju(JSON.stringify(n)),ju(JSON.stringify(s)),""].join(".")}var Uu={};function FH(){let t={prod:[],emulator:[]};for(let e of Object.keys(Uu))Uu[e]?t.emulator.push(e):t.prod.push(e);return t}function LH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var LM=!1;function Ia(t,e){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||Uu[t]===e||Uu[t]||LM)return;Uu[t]=e;function n(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=FH().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{LM=!0,s()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=LH(r),m=n("text"),I=document.getElementById(m)||document.createElement("span"),A=n("learnmore"),R=document.getElementById(A)||document.createElement("a"),j=n("preprendIcon"),K=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let q=g.element;a(q),h(R,A);let we=l();u(K,j),q.append(K,I,R,we),document.body.appendChild(q)}o?(I.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $M(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function VH(){var t;let e=(t=Hf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GM(){let t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WM(){return!VH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bu(){try{return typeof indexedDB=="object"}catch{return!1}}function KM(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var UH="FirebaseError",dn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UH,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vn.prototype.create)}},Vn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?jH(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new dn(i,a,r)}};function jH(t,e){return t.replace(BH,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var BH=/\{\$([^}]+)}/g;function QM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ur(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(VM(o)&&VM(s)){if(!ur(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function VM(t){return t!==null&&typeof t=="object"}function $u(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ca(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ba(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YM(t,e){let n=new d0(t,e);return n.subscribe.bind(n)}var d0=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$H(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=u0),i.error===void 0&&(i.error=u0),i.complete===void 0&&(i.complete=u0);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function $H(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function u0(){}var hre=4*60*60*1e3;function Tt(t){return t&&t._delegate?t._delegate:t}var Ut=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Yo="[DEFAULT]";var m0=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ko;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zH(e))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Yo){return this.instances.has(e)}getOptions(e=Yo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yo){return this.component?this.component.multipleInstances?e:Yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HH(t){return t===Yo?void 0:t}function zH(t){return t.instantiationMode==="EAGER"}var qf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new m0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var qH=[],me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(me||{}),GH={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},WH=me.INFO,KH={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},QH=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=KH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},lr=class{constructor(e){this.name=e,this._logLevel=WH,this._logHandler=QH,this._userLogHandler=null,qH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var YH=(t,e)=>e.some(n=>t instanceof n),JM,ZM;function JH(){return JM||(JM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZH(){return ZM||(ZM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XM=new WeakMap,v0=new WeakMap,eP=new WeakMap,y0=new WeakMap,E0=new WeakMap;function XH(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(dr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&XM.set(n,t)}).catch(()=>{}),E0.set(e,t),e}function ez(t){if(v0.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});v0.set(t,e)}var _0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return v0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tP(t){_0=t(_0)}function tz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Gf(this),e,...n);return eP.set(r,e.sort?e.sort():[e]),dr(r)}:ZH().includes(t)?function(...e){return t.apply(Gf(this),e),dr(XM.get(this))}:function(...e){return dr(t.apply(Gf(this),e))}}function nz(t){return typeof t=="function"?tz(t):(t instanceof IDBTransaction&&ez(t),YH(t,JH())?new Proxy(t,_0):t)}function dr(t){if(t instanceof IDBRequest)return XH(t);if(y0.has(t))return y0.get(t);let e=nz(t);return e!==t&&(y0.set(t,e),E0.set(e,t)),e}var Gf=t=>E0.get(t);function rP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=dr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(dr(s.result),u.oldVersion,u.newVersion,dr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var rz=["get","getKey","getAll","getAllKeys","count"],iz=["put","add","delete","clear"],w0=new Map;function nP(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(w0.get(e))return w0.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=iz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rz.includes(n)))return;let o=function(s,...a){return v(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return w0.set(e,o),o}tP(t=>fe(L({},t),{get:(e,n,r)=>nP(e,n)||t.get(e,n,r),has:(e,n)=>!!nP(e,n)||t.has(e,n)}));var C0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oz(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function oz(t){let e=t.getComponent();return e?.type==="VERSION"}var b0="@firebase/app",iP="0.12.3";var Qr=new lr("@firebase/app"),sz="@firebase/app-compat",az="@firebase/analytics-compat",cz="@firebase/analytics",uz="@firebase/app-check-compat",lz="@firebase/app-check",dz="@firebase/auth",hz="@firebase/auth-compat",fz="@firebase/database",pz="@firebase/data-connect",gz="@firebase/database-compat",mz="@firebase/functions",yz="@firebase/functions-compat",vz="@firebase/installations",_z="@firebase/installations-compat",Ez="@firebase/messaging",wz="@firebase/messaging-compat",Iz="@firebase/performance",Cz="@firebase/performance-compat",bz="@firebase/remote-config",Tz="@firebase/remote-config-compat",Dz="@firebase/storage",Sz="@firebase/storage-compat",Az="@firebase/firestore",Rz="@firebase/vertexai",Mz="@firebase/firestore-compat",Pz="firebase",Nz="11.7.3";var T0="[DEFAULT]",xz={[b0]:"fire-core",[sz]:"fire-core-compat",[cz]:"fire-analytics",[az]:"fire-analytics-compat",[lz]:"fire-app-check",[uz]:"fire-app-check-compat",[dz]:"fire-auth",[hz]:"fire-auth-compat",[fz]:"fire-rtdb",[pz]:"fire-data-connect",[gz]:"fire-rtdb-compat",[mz]:"fire-fn",[yz]:"fire-fn-compat",[vz]:"fire-iid",[_z]:"fire-iid-compat",[Ez]:"fire-fcm",[wz]:"fire-fcm-compat",[Iz]:"fire-perf",[Cz]:"fire-perf-compat",[bz]:"fire-rc",[Tz]:"fire-rc-compat",[Dz]:"fire-gcs",[Sz]:"fire-gcs-compat",[Az]:"fire-fst",[Mz]:"fire-fst-compat",[Rz]:"fire-vertex","fire-js":"fire-js",[Pz]:"fire-js-all"};var Hu=new Map,Oz=new Map,D0=new Map;function oP(t,e){try{t.container.addComponent(e)}catch(n){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Un(t){let e=t.name;if(D0.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;D0.set(e,t);for(let n of Hu.values())oP(n,t);for(let n of Oz.values())oP(n,t);return!0}function Ta(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jt(t){return t==null?!1:t.settings!==void 0}var kz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new Vn("app","Firebase",kz);var S0=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}};var Li=Nz;function M0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:T0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fi.create("bad-app-name",{appName:String(i)});if(n||(n=p0()),!n)throw Fi.create("no-options");let o=Hu.get(i);if(o){if(ur(n,o.options)&&ur(r,o.config))return o;throw Fi.create("duplicate-app",{appName:i})}let s=new qf(i);for(let u of D0.values())s.addComponent(u);let a=new S0(n,r,s);return Hu.set(i,a),a}function Jo(t=T0){let e=Hu.get(t);if(!e&&t===T0&&p0())return M0();if(!e)throw Fi.create("no-app",{appName:t});return e}function Wf(){return Array.from(Hu.values())}function We(t,e,n){var r;let i=(r=xz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(a.join(" "));return}Un(new Ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Fz="firebase-heartbeat-database",Lz=1,zu="firebase-heartbeat-store",I0=null;function uP(){return I0||(I0=rP(Fz,Lz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fi.create("idb-open",{originalErrorMessage:t.message})})),I0}function Vz(t){return v(this,null,function*(){try{let n=(yield uP()).transaction(zu),r=yield n.objectStore(zu).get(lP(t));return yield n.done,r}catch(e){if(e instanceof dn)Qr.warn(e.message);else{let n=Fi.create("idb-get",{originalErrorMessage:e?.message});Qr.warn(n.message)}}})}function sP(t,e){return v(this,null,function*(){try{let r=(yield uP()).transaction(zu,"readwrite");yield r.objectStore(zu).put(e,lP(t)),yield r.done}catch(n){if(n instanceof dn)Qr.warn(n.message);else{let r=Fi.create("idb-set",{originalErrorMessage:n?.message});Qr.warn(r.message)}}})}function lP(t){return`${t.name}!${t.options.appId}`}var Uz=1024,jz=30,A0=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new R0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=aP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>jz){let s=$z(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qr.warn(r)}})}getHeartbeatsHeader(){return v(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=aP(),{heartbeatsToSend:r,unsentEntries:i}=Bz(this._heartbeatsCache.heartbeats),o=ju(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Qr.warn(n),""}})}};function aP(){return new Date().toISOString().substring(0,10)}function Bz(t,e=Uz){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),cP(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var R0=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Bu()?KM().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Vz(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sP(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function cP(t){return ju(JSON.stringify({version:2,heartbeats:t})).length}function $z(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Hz(t){Un(new Ut("platform-logger",e=>new C0(e),"PRIVATE")),Un(new Ut("heartbeat",e=>new A0(e),"PRIVATE")),We(b0,iP,t),We(b0,iP,"esm2017"),We("fire-js","")}Hz("");var zz="firebase",qz="11.7.3";We(zz,qz,"app");function P0(t){t===void 0&&(Th(P0),t=x(Ze));let e=t.get(Zc);return n=>new le(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Vi=new So("ANGULARFIRE2_VERSION");function qu(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Sa=(t,e)=>{let n=e?[e]:Wf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Da=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Da||{}),dP=p_()&&typeof Zone<"u"?Da.WARN:Da.SILENT;var Kf=class{zone;delegate;constructor(e,n=Lm){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Ui=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=x(Te);this.outsideAngular=n.runOutsideAngular(()=>new Kf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Kf(typeof Zone>"u"?void 0:Zone.current,Fm))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hP=!1;function Gz(t,e){!hP&&(dP>Da.SILENT||p_())&&(hP=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),dP>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function Wz(t){let e=x(Te,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Zo(t){let e=x(Te,{optional:!0});return e?e.run(()=>t()):t()}var Kz=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),wt(n,()=>Zo(()=>t.apply(void 0,r)))),Ye=(t,e,n)=>(n||=e?Da.WARN:Da.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=x(Ui),s=x(Zc),a=x(dt)}catch{return Gz(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Zo(()=>s.add())),i[l]=Kz(i[l],r,a));let u=Wz(()=>t.apply(this,i));return e?u instanceof le?u.pipe(Ei(o.outsideAngular),_i(o.insideAngular),P0(a)):u instanceof Promise?Zo(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>wt(a,()=>Zo(()=>l(p))),p=>wt(a,()=>Zo(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Zo(()=>u):u instanceof le?u.pipe(Ei(o.outsideAngular),_i(o.insideAngular)):Zo(()=>u)});var Yr=class{constructor(e){return e}},Xo=class{constructor(){return Wf()}};function Qz(t){return t&&t.length===1?t[0]:new Yr(Jo())}var N0=new U("angularfire2._apps"),Yz={provide:Yr,useFactory:Qz,deps:[[new an,N0]]},Jz={provide:Xo,deps:[[new an,N0]]};function Zz(t){return(e,n)=>{let r=n.get(No);We("angularfire",Vi.full,"core"),We("angularfire",Vi.full,"app"),We("angular",zA.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Yr(i)}}function fP(t,...e){return qt([Yz,Jz,{provide:N0,useFactory:Zz(t),multi:!0,deps:[Te,Ze,Ui,...e]}])}var pP=Ye(M0,!0);var Xz=new Map,e5={activated:!1,tokenObservers:[]},t5={initialized:!1,enabled:!1};function jn(t){return Xz.get(t)||Object.assign({},e5)}function vP(){return t5}var n5="https://content-firebaseappcheck.googleapis.com/v1";var r5="exchangeDebugToken",gP={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},vie=24*60*60*1e3;var k0=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return v(this,null,function*(){this.stop();try{this.pending=new Ko,this.pending.promise.catch(n=>{}),yield i5(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ko,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function i5(t){return new Promise(e=>{setTimeout(e,t)})}var o5={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ji=new Vn("appCheck","AppCheck",o5);function _P(t){if(!jn(t).activated)throw ji.create("use-before-activation",{appName:t.name})}function EP(r,i){return v(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(m){throw ji.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw ji.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw ji.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ji.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function wP(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${n5}/projects/${n}/apps/${r}:${r5}?key=${i}`,body:{debug_token:e}}}var s5="firebase-app-check-database",a5=1,F0="firebase-app-check-store";var Qf=null;function c5(){return Qf||(Qf=new Promise((t,e)=>{try{let n=indexedDB.open(s5,a5);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ji.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(F0,{keyPath:"compositeKey"})}}}catch(n){e(ji.create("storage-open",{originalErrorMessage:n?.message}))}}),Qf)}function u5(t,e){return l5(d5(t),e)}function l5(t,e){return v(this,null,function*(){let r=(yield c5()).transaction(F0,"readwrite"),o=r.objectStore(F0).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ji.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function d5(t){return`${t.options.appId}-${t.name}`}var Gu=new lr("@firebase/app-check");function x0(t,e){return Bu()?u5(t,e).catch(n=>{Gu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function IP(){return vP().enabled}function CP(){return v(this,null,function*(){let t=vP();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var h5={error:"UNKNOWN_ERROR"};function f5(t){return Bf.encodeString(JSON.stringify(t),!1)}function L0(t,e=!1,n=!1){return v(this,null,function*(){let r=t.app;_P(r);let i=jn(r),o=i.token,s;if(o&&!Wu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Wu(l)?o=l:yield x0(r,void 0))}if(!e&&o&&Wu(o))return{token:o.token};let a=!1;if(IP())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=EP(wP(r,yield CP()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield x0(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Gu.warn(l.message):n&&Gu.error(l),O0(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield jn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Gu.warn(l.message):n&&Gu.error(l),s=l}let u;return o?s?Wu(o)?u={token:o.token,internalError:s}:u=O0(s):(u={token:o.token},i.token=o,yield x0(r,o)):u=O0(s),a&&y5(r,u),u})}function p5(t){return v(this,null,function*(){let e=t.app;_P(e);let{provider:n}=jn(e);if(IP()){let r=yield CP(),{token:i}=yield EP(wP(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function g5(t,e,n,r){let{app:i}=t,o=jn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Wu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),mP(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>mP(t))}function bP(t,e){let n=jn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function mP(t){let{app:e}=t,n=jn(e),r=n.tokenRefresher;r||(r=m5(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function m5(t){let{app:e}=t;return new k0(()=>v(null,null,function*(){let n=jn(e),r;if(n.token?r=yield L0(t,!0):r=yield L0(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=jn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},gP.RETRIAL_MIN_WAIT,gP.RETRIAL_MAX_WAIT)}function y5(t,e){let n=jn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Wu(t){return t.expireTimeMillis-Date.now()>0}function O0(t){return{token:f5(h5),error:t}}var V0=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=jn(this.app);for(let n of e)bP(this.app,n.next);return Promise.resolve()}};function v5(t,e){return new V0(t,e)}function _5(t){return{getToken:e=>L0(t,e),getLimitedUseToken:()=>p5(t),addTokenListener:e=>g5(t,"INTERNAL",e),removeTokenListener:e=>bP(t.app,e)}}var E5="@firebase/app-check",w5="0.9.3";var I5="app-check",yP="app-check-internal";function C5(){Un(new Ut(I5,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return v5(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(yP).initialize()})),Un(new Ut(yP,t=>{let e=t.getProvider("app-check").getImmediate();return _5(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),We(E5,w5)}C5();var b5="app-check";var Aa=class{constructor(){return Sa(b5)}};var T5=["localhost","0.0.0.0","127.0.0.1"],Pie=typeof window<"u"&&T5.includes(window.location.hostname);function jP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var BP=jP,$P=new Vn("auth","Firebase",jP());var tp=new lr("@firebase/auth");function D5(t,...e){tp.logLevel<=me.WARN&&tp.warn(`Auth (${Li}): ${t}`,...e)}function Jf(t,...e){tp.logLevel<=me.ERROR&&tp.error(`Auth (${Li}): ${t}`,...e)}function fr(t,...e){throw uE(t,...e)}function es(t,...e){return uE(t,...e)}function HP(t,e,n){let r=Object.assign(Object.assign({},BP()),{[e]:n});return new Vn("auth","Firebase",r).create(e,{appName:t.name})}function Xr(t){return HP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uE(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $P.create(t,...e)}function ne(t,e,...n){if(!t)throw uE(e,...n)}function Jr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Jf(e),new Error(e)}function Hi(t,e){t||Jr(e)}function $0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function S5(){return TP()==="http:"||TP()==="https:"}function TP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function A5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S5()||zM()||"connection"in navigator)?navigator.onLine:!0}function R5(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ts=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hi(n>e,"Short delay should be less than long delay!"),this.isMobile=$M()||qM()}get(){return A5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function lE(t,e){Hi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var np=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var M5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var P5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],N5=new ts(3e4,6e4);function zi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function qi(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){return zP(t,i,()=>v(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=$u(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:g},l);return HM()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Qo(t.emulatorConfig.host)&&(m.credentials="include"),np.fetch()(yield qP(t,t.config.apiHost,n,p),m)}))})}function zP(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},M5),e);try{let i=new H0(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Yf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Yf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Yf(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw HP(t,h,l);fr(t,h)}}catch(i){if(i instanceof dn)throw i;fr(t,"network-request-failed",{message:String(i)})}})}function nl(o,s,a,u){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield qi(t,e,n,r,i);return"mfaPendingCredential"in l&&fr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function qP(t,e,n,r){return v(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?lE(t.config,i):`${t.config.apiScheme}://${i}`;return P5.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function x5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var H0=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(es(this.auth,"network-request-failed")),N5.get())})}};function Yf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=es(t,e,r);return i.customData._tokenResponse=n,i}function DP(t){return t!==void 0&&t.enterprise!==void 0}var z0=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return x5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function O5(t,e){return v(this,null,function*(){return qi(t,"GET","/v2/recaptchaConfig",zi(t,e))})}function k5(t,e){return v(this,null,function*(){return qi(t,"POST","/v1/accounts:delete",e)})}function rp(t,e){return v(this,null,function*(){return qi(t,"POST","/v1/accounts:lookup",e)})}function Qu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dE(t,e=!1){return v(this,null,function*(){let n=Tt(t),r=yield n.getIdToken(e),i=hE(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Qu(U0(i.auth_time)),issuedAtTime:Qu(U0(i.iat)),expirationTime:Qu(U0(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function U0(t){return Number(t)*1e3}function hE(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jf("JWT malformed, contained fewer than 3 sections"),null;try{let i=$f(n);return i?JSON.parse(i):(Jf("Failed to decode base64 JWT payload"),null)}catch(i){return Jf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function SP(t){let e=hE(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ju(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof dn&&F5(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function F5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var q0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Zu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qu(this.lastLoginAt),this.creationTime=Qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ip(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ju(t,rp(n,{idToken:r}));ne(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GP(o.providerUserInfo):[],a=L5(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Zu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function fE(t){return v(this,null,function*(){let e=Tt(t);yield ip(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function L5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GP(t){return t.map(e=>{var{providerId:n}=e,r=Vm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function V5(t,e){return v(this,null,function*(){let n=yield zP(t,{},()=>v(null,null,function*(){let r=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield qP(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",np.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function U5(t,e){return v(this,null,function*(){return qi(t,"POST","/v2/accounts:revokeToken",zi(t,e))})}var Yu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");let n=SP(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield V5(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ne(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ne(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Jr("not implemented")}};function Bi(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var $i=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Vm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Ju(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return dE(this,e)}reload(){return fE(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ip(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Jt(this.auth.app))return Promise.reject(Xr(this.auth));let e=yield this.getIdToken();return yield Ju(this,k5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=n.photoURL)!==null&&s!==void 0?s:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:q,emailVerified:we,isAnonymous:vt,providerData:be,stsTokenManager:b}=n;ne(q&&b,e,"internal-error");let _=Yu.fromJSON(this.name,b);ne(typeof q=="string",e,"internal-error"),Bi(p,e.name),Bi(g,e.name),ne(typeof we=="boolean",e,"internal-error"),ne(typeof vt=="boolean",e,"internal-error"),Bi(m,e.name),Bi(I,e.name),Bi(A,e.name),Bi(R,e.name),Bi(j,e.name),Bi(K,e.name);let w=new t({uid:q,auth:e,email:g,emailVerified:we,displayName:p,isAnonymous:vt,photoURL:I,phoneNumber:m,tenantId:A,stsTokenManager:_,createdAt:j,lastLoginAt:K});return be&&Array.isArray(be)&&(w.providerData=be.map(C=>Object.assign({},C))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new Yu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ip(o),o})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];ne(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?GP(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Yu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Zu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var AP=new Map;function Zr(t){Hi(t instanceof Function,"Expected a class definition");let e=AP.get(t);return e?(Hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AP.set(t,e),e)}var j5=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),G0=j5;function Zf(t,e,n){return`firebase:${t}:${e}:${n}`}var op=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Zf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Zf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield rp(this.auth,{idToken:e}).catch(()=>{});return n?$i._fromGetAccountInfoResponse(this.auth,n,e):null}return $i._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(Zr(G0),e,r);let i=(yield Promise.all(n.map(l=>v(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Zr(G0),s=Zf(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield rp(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield $i._fromGetAccountInfoResponse(e,g,h)}else p=$i._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>v(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function RP(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZP(e))return"Blackberry";if(XP(e))return"Webos";if(KP(e))return"Safari";if((e.includes("chrome/")||QP(e))&&!e.includes("edge/"))return"Chrome";if(JP(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function WP(t=gt()){return/firefox\//i.test(t)}function KP(t=gt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QP(t=gt()){return/crios\//i.test(t)}function YP(t=gt()){return/iemobile/i.test(t)}function JP(t=gt()){return/android/i.test(t)}function ZP(t=gt()){return/blackberry/i.test(t)}function XP(t=gt()){return/webos/i.test(t)}function pE(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B5(t=gt()){var e;return pE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $5(){return GM()&&document.documentMode===10}function eN(t=gt()){return pE(t)||JP(t)||XP(t)||ZP(t)||/windows phone/i.test(t)||YP(t)}function tN(t,e=[]){let n;switch(t){case"Browser":n=RP(gt());break;case"Worker":n=`${RP(gt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Li}/${r}`}var W0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function H5(n){return v(this,arguments,function*(t,e={}){return qi(t,"GET","/v2/passwordPolicy",zi(t,e))})}var z5=6,K0=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:z5,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Q0=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sp(this),this.idTokenSubscription=new sp(this),this.beforeStateQueue=new W0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$P,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield op.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield rp(this,{idToken:e}),r=yield $i._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(Jt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield ip(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=R5()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Jt(this.app))return Promise.reject(Xr(this));let n=e?Tt(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Jt(this.app)?Promise.reject(Xr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Jt(this.app)?Promise.reject(Xr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Zr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield H5(this),n=new K0(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield U5(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Zr(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=yield op.create(this,[Zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;if(Jt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&D5(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function rs(t){return Tt(t)}var sp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=YM(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var fp={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q5(t){fp=t}function nN(t){return fp.loadJS(t)}function G5(){return fp.recaptchaEnterpriseScript}function W5(){return fp.gapiScript}function rN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Y0=class{constructor(){this.enterprise=new J0}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},J0=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var K5="recaptcha-enterprise",iN="NO_RECAPTCHA",Z0=class{constructor(e){this.type=K5,this.auth=rs(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(o){return v(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>v(null,null,function*(){O5(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new z0(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;DP(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(iN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Y0().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&DP(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=G5();u.length!==0&&(u+=a),nN(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Ku(t,e,n,r=!1,i=!1){return v(this,null,function*(){let o=new Z0(t),s;if(i)s=iN;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function X0(t,e,n,r,i){return v(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Ku(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>v(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Ku(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Ku(t,e,n);return r(t,a).catch(u=>v(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield Ku(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let a=yield Ku(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function gE(t,e){let n=Ta(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(ur(o,e??{}))return i;fr(i,"already-initialized")}return n.initialize({options:e})}function Q5(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function mE(t,e,n){let r=rs(t);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=oN(e),{host:s,port:a}=Y5(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(ur(l,r.config.emulator)&&ur(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Qo(s)?(Ia("Auth",!0),zf(`${o}//${s}${u}`)):i||J5()}function oN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y5(t){let e=oN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:MP(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:MP(s)}}}function MP(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function J5(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Xu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}};function Z5(t,e){return v(this,null,function*(){return qi(t,"POST","/v1/accounts:signUp",e)})}function X5(t,e){return v(this,null,function*(){return nl(t,"POST","/v1/accounts:signInWithPassword",zi(t,e))})}function eq(t,e){return v(this,null,function*(){return nl(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))})}function tq(t,e){return v(this,null,function*(){return nl(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))})}var el=class t extends Xu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X0(e,n,"signInWithPassword",X5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eq(e,{email:this._email,oobCode:this._password});default:fr(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return X0(e,r,"signUpPassword",Z5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return tq(e,{idToken:n,email:this._email,oobCode:this._password});default:fr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function j0(t,e){return v(this,null,function*(){return nl(t,"POST","/v1/accounts:signInWithIdp",zi(t,e))})}function nq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rq(t){let e=Ca(ba(t)).link,n=e?Ca(ba(e)).deep_link_id:null,r=Ca(ba(t)).deep_link_id;return(r?Ca(ba(r)).link:null)||r||n||e||t}var ap=class t{constructor(e){var n,r,i,o,s,a;let u=Ca(ba(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=nq((i=u.mode)!==null&&i!==void 0?i:null);ne(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=rq(e);try{return new t(n)}catch{return null}}};var sN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return el._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ap.parseLink(r);return ne(i,"argument-error"),el._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),cp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var eE=class extends cp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function iq(t,e){return v(this,null,function*(){return nl(t,"POST","/v1/accounts:signUp",zi(t,e))})}var Ra=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let o=yield $i._fromIdTokenResponse(e,r,i),s=PP(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=PP(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function PP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var tE=class t extends dn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function aN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?tE._fromErrorAndOperation(t,o,e,r):o})}function oq(t,e,n=!1){return v(this,null,function*(){let r=yield Ju(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ra._forOperation(t,"link",r)})}function sq(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(Jt(r.app))return Promise.reject(Xr(r));let i="reauthenticate";try{let o=yield Ju(t,aN(r,i,e,t),n);ne(o.idToken,r,"internal-error");let s=hE(o.idToken);ne(s,r,"internal-error");let{sub:a}=s;return ne(t.uid===a,r,"user-mismatch"),Ra._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&fr(r,"user-mismatch"),o}})}function cN(t,e,n=!1){return v(this,null,function*(){if(Jt(t.app))return Promise.reject(Xr(t));let r="signIn",i=yield aN(t,r,e),o=yield Ra._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function yE(t,e){return v(this,null,function*(){return cN(rs(t),e)})}function uN(t){return v(this,null,function*(){let e=rs(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function vE(t,e,n){return v(this,null,function*(){if(Jt(t.app))return Promise.reject(Xr(t));let r=rs(t),s=yield X0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iq,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&uN(t),u}),a=yield Ra._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function _E(t,e,n){return Jt(t.app)?Promise.reject(Xr(t)):yE(Tt(t),sN.credential(e,n)).catch(r=>v(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&uN(t),r}))}function rl(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function EE(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function wE(t){return Tt(t).signOut()}var up="__sak";var lp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(up,"1"),this.storage.removeItem(up),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var aq=1e3,cq=10,uq=(()=>{class t extends lp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);$5()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,cq):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},aq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield mi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield mi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield mi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),lN=uq;var lq=(()=>{class t extends lp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),IE=lq;function dq(t){return Promise.all(t.map(e=>v(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var hq=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>v(this,null,function*(){return h(r.origin,s)})),l=yield dq(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function dN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var nE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=dN("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function hr(){return window}function fq(t){hr().location.href=t}function hN(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}function pq(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function gq(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mq(){return hN()?self:null}var fN="firebaseLocalStorageDb",yq=1,dp="firebaseLocalStorage",pN="fbase_key",ns=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function pp(t,e){return t.transaction([dp],e?"readwrite":"readonly").objectStore(dp)}function vq(){let t=indexedDB.deleteDatabase(fN);return new ns(t).toPromise()}function rE(){let t=indexedDB.open(fN,yq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(dp,{keyPath:pN})}catch(i){n(i)}}),t.addEventListener("success",()=>v(null,null,function*(){let r=t.result;r.objectStoreNames.contains(dp)?e(r):(r.close(),yield vq(),e(yield rE()))}))})}function NP(t,e,n){return v(this,null,function*(){let r=pp(t,!0).put({[pN]:e,value:n});return new ns(r).toPromise()})}function _q(t,e){return v(this,null,function*(){let n=pp(t,!1).get(e),r=yield new ns(n).toPromise();return r===void 0?null:r.value})}function xP(t,e){let n=pp(t,!0).delete(e);return new ns(n).toPromise()}var Eq=800,wq=3,Iq=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield rE(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>wq)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return hN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=hq._getInstance(mq()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield pq(),!this.activeServiceWorker)return;this.sender=new nE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||gq()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield rE();return yield NP(n,up,"1"),yield xP(n,up),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>NP(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>_q(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>xP(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(o=>{let s=pp(o,!1).getAll();return new ns(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),Eq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),gN=Iq;var Uie=rN("rcb"),jie=new ts(3e4,6e4);function Cq(t,e){return e?Zr(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var tl=class extends Xu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return j0(e,this._buildIdpRequest())}_linkToIdToken(e,n){return j0(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return j0(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function bq(t){return cN(t.auth,new tl(t),t.bypassAuthState)}function Tq(t){let{auth:e,user:n}=t;return ne(n,e,"internal-error"),sq(n,new tl(t),t.bypassAuthState)}function Dq(t){return v(this,null,function*(){let{auth:e,user:n}=t;return ne(n,e,"internal-error"),oq(n,new tl(t),t.bypassAuthState)})}var iE=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bq;case"linkViaPopup":case"linkViaRedirect":return Dq;case"reauthViaPopup":case"reauthViaRedirect":return Tq;default:fr(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Bie=new ts(2e3,1e4);var Sq="pendingRedirect",Xf=new Map,oE=class t extends iE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Xf.get(this.auth._key());if(!e){try{let r=(yield Aq(this.resolver,this.auth))?yield mi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xf.set(this.auth._key(),e)}return this.bypassAuthState||Xf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return mi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,mi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function Aq(t,e){return v(this,null,function*(){let n=Pq(e),r=Mq(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Rq(t,e){Xf.set(t._key(),e)}function Mq(t){return Zr(t._redirectPersistence)}function Pq(t){return Zf(Sq,t.config.apiKey,t.name)}function Nq(t,e,n=!1){return v(this,null,function*(){if(Jt(t.app))return Promise.reject(Xr(t));let r=rs(t),i=Cq(r,e),s=yield new oE(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var xq=10*60*1e3,sE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Oq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(es(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xq&&this.cachedEventUids.clear(),this.cachedEventUids.has(OP(e))}saveEventToCache(e){this.cachedEventUids.add(OP(e)),this.lastProcessedEventTime=Date.now()}};function OP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Oq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mN(t);default:return!1}}function kq(n){return v(this,arguments,function*(t,e={}){return qi(t,"GET","/v1/projects",e)})}var Fq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lq=/^https?/;function Vq(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield kq(t);for(let n of e)try{if(Uq(n))return}catch{}fr(t,"unauthorized-domain")})}function Uq(t){let e=$0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Lq.test(n))return!1;if(Fq.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var jq=new ts(3e4,6e4);function kP(){let t=hr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Bq(t){return new Promise((e,n)=>{var r,i,o;function s(){kP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kP(),n(es(t,"network-request-failed"))},timeout:jq.get()})}if(!((i=(r=hr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=hr().gapi)===null||o===void 0)&&o.load)s();else{let a=rN("iframefcb");return hr()[a]=()=>{gapi.load?s():n(es(t,"network-request-failed"))},nN(`${W5()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw ep=null,e})}var ep=null;function $q(t){return ep=ep||Bq(t),ep}var Hq=new ts(5e3,15e3),zq="__/auth/iframe",qq="emulator/auth/iframe",Gq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kq(t){let e=t.config;ne(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?lE(e,qq):`https://${t.config.authDomain}/${zq}`,r={apiKey:e.apiKey,appName:t.name,v:Li},i=Wq.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${$u(r).slice(1)}`}function Qq(t){return v(this,null,function*(){let e=yield $q(t),n=hr().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:Kq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gq,dontclear:!0},r=>new Promise((i,o)=>v(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=es(t,"network-request-failed"),a=hr().setTimeout(()=>{o(s)},Hq.get());function u(){hr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var Yq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jq=500,Zq=600,Xq="_blank",e6="http://localhost",hp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function t6(t,e,n,r=Jq,i=Zq){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},Yq),{width:r.toString(),height:i.toString(),top:o,left:s}),l=gt().toLowerCase();n&&(a=QP(l)?Xq:n),WP(l)&&(e=e||e6,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[m,I])=>`${g}${m}=${I},`,"");if(B5(l)&&a!=="_self")return n6(e||"",a),new hp(null);let p=window.open(e||"",a,h);ne(p,t,"popup-blocked");try{p.focus()}catch{}return new hp(p)}function n6(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var r6="__/auth/handler",i6="emulator/auth/handler",o6=encodeURIComponent("fac");function FP(t,e,n,r,i,o){return v(this,null,function*(){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Li,eventId:i};if(e instanceof cp){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",QM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof eE){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${o6}=${encodeURIComponent(u)}`:"";return`${s6(t)}?${$u(a).slice(1)}${l}`})}function s6({config:t}){return t.emulator?lE(t,i6):`https://${t.authDomain}/${r6}`}var B0="webStorageSupport",aE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IE,this._completeRedirectFn=Nq,this._overrideRedirectResult=Rq}_openPopup(e,n,r,i){return v(this,null,function*(){var o;Hi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield FP(e,n,r,$0(),i);return t6(e,s,dN())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let o=yield FP(e,n,r,$0(),i);return fq(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Hi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield Qq(e),r=new sE(e);return n.register("authEvent",i=>(ne(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(B0,{type:B0},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[B0];s!==void 0&&n(!!s),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eN()||KP()||pE()}},yN=aE;var LP="@firebase/auth",VP="1.10.4";var cE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function a6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c6(t){Un(new Ut("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ne(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tN(t)},l=new Q0(r,i,o,u);return Q5(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Un(new Ut("auth-internal",e=>{let n=rs(e.getProvider("auth").getImmediate());return(r=>new cE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(LP,VP,a6(t)),We(LP,VP,"esm2017")}var u6=5*60,l6=g0("authIdTokenMaxAge")||u6,UP=null,d6=t=>e=>v(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l6)return;let i=n?.token;UP!==i&&(UP=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function CE(t=Jo()){let e=Ta(t,"auth");if(e.isInitialized())return e.getImmediate();let n=gE(t,{popupRedirectResolver:yN,persistence:[gN,lN,IE]}),r=g0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=d6(o.toString());EE(n,s,()=>s(n.currentUser)),rl(n,a=>s(a))}}let i=f0("auth");return i?mE(n,`http://${i}`):Ia("Auth",!1),n}function h6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}q5({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=es("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",h6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c6("Browser");function EN(t){return new le(function(e){var n=rl(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var wN="auth",is=class{constructor(e){return e}},il=class{constructor(){return Sa(wN)}};var bE=new U("angularfire2.auth-instances");function X6(t,e){let n=qu(wN,t,e);return n&&new is(n)}function e8(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new is(r)}}var t8={provide:il,deps:[[new an,bE]]},n8={provide:is,useFactory:X6,deps:[[new an,bE],Yr]};function IN(t,...e){return We("angularfire",Vi.full,"auth"),qt([n8,t8,{provide:bE,useFactory:e8(t),multi:!0,deps:[Te,Ze,Ui,Xo,[new an,Aa],...e]}])}var CN=Ye(EN,!0);var bN=Ye(vE,!0,2);var TN=Ye(CE,!0);var DN=Ye(_E,!0,2);var SN=Ye(wE,!0,2);var AN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},RN={};var ei,TE;(function(){var t;function e(b,_){function w(){}w.prototype=_.prototype,b.D=_.prototype,b.prototype=new w,b.prototype.constructor=b,b.C=function(C,T,S){for(var E=Array(arguments.length-2),wr=2;wr<arguments.length;wr++)E[wr-2]=arguments[wr];return _.prototype[T].apply(C,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,_,w){w||(w=0);var C=Array(16);if(typeof _=="string")for(var T=0;16>T;++T)C[T]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(T=0;16>T;++T)C[T]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=b.g[0],w=b.g[1],T=b.g[2];var S=b.g[3],E=_+(S^w&(T^S))+C[0]+3614090360&4294967295;_=w+(E<<7&4294967295|E>>>25),E=S+(T^_&(w^T))+C[1]+3905402710&4294967295,S=_+(E<<12&4294967295|E>>>20),E=T+(w^S&(_^w))+C[2]+606105819&4294967295,T=S+(E<<17&4294967295|E>>>15),E=w+(_^T&(S^_))+C[3]+3250441966&4294967295,w=T+(E<<22&4294967295|E>>>10),E=_+(S^w&(T^S))+C[4]+4118548399&4294967295,_=w+(E<<7&4294967295|E>>>25),E=S+(T^_&(w^T))+C[5]+1200080426&4294967295,S=_+(E<<12&4294967295|E>>>20),E=T+(w^S&(_^w))+C[6]+2821735955&4294967295,T=S+(E<<17&4294967295|E>>>15),E=w+(_^T&(S^_))+C[7]+4249261313&4294967295,w=T+(E<<22&4294967295|E>>>10),E=_+(S^w&(T^S))+C[8]+1770035416&4294967295,_=w+(E<<7&4294967295|E>>>25),E=S+(T^_&(w^T))+C[9]+2336552879&4294967295,S=_+(E<<12&4294967295|E>>>20),E=T+(w^S&(_^w))+C[10]+4294925233&4294967295,T=S+(E<<17&4294967295|E>>>15),E=w+(_^T&(S^_))+C[11]+2304563134&4294967295,w=T+(E<<22&4294967295|E>>>10),E=_+(S^w&(T^S))+C[12]+1804603682&4294967295,_=w+(E<<7&4294967295|E>>>25),E=S+(T^_&(w^T))+C[13]+4254626195&4294967295,S=_+(E<<12&4294967295|E>>>20),E=T+(w^S&(_^w))+C[14]+2792965006&4294967295,T=S+(E<<17&4294967295|E>>>15),E=w+(_^T&(S^_))+C[15]+1236535329&4294967295,w=T+(E<<22&4294967295|E>>>10),E=_+(T^S&(w^T))+C[1]+4129170786&4294967295,_=w+(E<<5&4294967295|E>>>27),E=S+(w^T&(_^w))+C[6]+3225465664&4294967295,S=_+(E<<9&4294967295|E>>>23),E=T+(_^w&(S^_))+C[11]+643717713&4294967295,T=S+(E<<14&4294967295|E>>>18),E=w+(S^_&(T^S))+C[0]+3921069994&4294967295,w=T+(E<<20&4294967295|E>>>12),E=_+(T^S&(w^T))+C[5]+3593408605&4294967295,_=w+(E<<5&4294967295|E>>>27),E=S+(w^T&(_^w))+C[10]+38016083&4294967295,S=_+(E<<9&4294967295|E>>>23),E=T+(_^w&(S^_))+C[15]+3634488961&4294967295,T=S+(E<<14&4294967295|E>>>18),E=w+(S^_&(T^S))+C[4]+3889429448&4294967295,w=T+(E<<20&4294967295|E>>>12),E=_+(T^S&(w^T))+C[9]+568446438&4294967295,_=w+(E<<5&4294967295|E>>>27),E=S+(w^T&(_^w))+C[14]+3275163606&4294967295,S=_+(E<<9&4294967295|E>>>23),E=T+(_^w&(S^_))+C[3]+4107603335&4294967295,T=S+(E<<14&4294967295|E>>>18),E=w+(S^_&(T^S))+C[8]+1163531501&4294967295,w=T+(E<<20&4294967295|E>>>12),E=_+(T^S&(w^T))+C[13]+2850285829&4294967295,_=w+(E<<5&4294967295|E>>>27),E=S+(w^T&(_^w))+C[2]+4243563512&4294967295,S=_+(E<<9&4294967295|E>>>23),E=T+(_^w&(S^_))+C[7]+1735328473&4294967295,T=S+(E<<14&4294967295|E>>>18),E=w+(S^_&(T^S))+C[12]+2368359562&4294967295,w=T+(E<<20&4294967295|E>>>12),E=_+(w^T^S)+C[5]+4294588738&4294967295,_=w+(E<<4&4294967295|E>>>28),E=S+(_^w^T)+C[8]+2272392833&4294967295,S=_+(E<<11&4294967295|E>>>21),E=T+(S^_^w)+C[11]+1839030562&4294967295,T=S+(E<<16&4294967295|E>>>16),E=w+(T^S^_)+C[14]+4259657740&4294967295,w=T+(E<<23&4294967295|E>>>9),E=_+(w^T^S)+C[1]+2763975236&4294967295,_=w+(E<<4&4294967295|E>>>28),E=S+(_^w^T)+C[4]+1272893353&4294967295,S=_+(E<<11&4294967295|E>>>21),E=T+(S^_^w)+C[7]+4139469664&4294967295,T=S+(E<<16&4294967295|E>>>16),E=w+(T^S^_)+C[10]+3200236656&4294967295,w=T+(E<<23&4294967295|E>>>9),E=_+(w^T^S)+C[13]+681279174&4294967295,_=w+(E<<4&4294967295|E>>>28),E=S+(_^w^T)+C[0]+3936430074&4294967295,S=_+(E<<11&4294967295|E>>>21),E=T+(S^_^w)+C[3]+3572445317&4294967295,T=S+(E<<16&4294967295|E>>>16),E=w+(T^S^_)+C[6]+76029189&4294967295,w=T+(E<<23&4294967295|E>>>9),E=_+(w^T^S)+C[9]+3654602809&4294967295,_=w+(E<<4&4294967295|E>>>28),E=S+(_^w^T)+C[12]+3873151461&4294967295,S=_+(E<<11&4294967295|E>>>21),E=T+(S^_^w)+C[15]+530742520&4294967295,T=S+(E<<16&4294967295|E>>>16),E=w+(T^S^_)+C[2]+3299628645&4294967295,w=T+(E<<23&4294967295|E>>>9),E=_+(T^(w|~S))+C[0]+4096336452&4294967295,_=w+(E<<6&4294967295|E>>>26),E=S+(w^(_|~T))+C[7]+1126891415&4294967295,S=_+(E<<10&4294967295|E>>>22),E=T+(_^(S|~w))+C[14]+2878612391&4294967295,T=S+(E<<15&4294967295|E>>>17),E=w+(S^(T|~_))+C[5]+4237533241&4294967295,w=T+(E<<21&4294967295|E>>>11),E=_+(T^(w|~S))+C[12]+1700485571&4294967295,_=w+(E<<6&4294967295|E>>>26),E=S+(w^(_|~T))+C[3]+2399980690&4294967295,S=_+(E<<10&4294967295|E>>>22),E=T+(_^(S|~w))+C[10]+4293915773&4294967295,T=S+(E<<15&4294967295|E>>>17),E=w+(S^(T|~_))+C[1]+2240044497&4294967295,w=T+(E<<21&4294967295|E>>>11),E=_+(T^(w|~S))+C[8]+1873313359&4294967295,_=w+(E<<6&4294967295|E>>>26),E=S+(w^(_|~T))+C[15]+4264355552&4294967295,S=_+(E<<10&4294967295|E>>>22),E=T+(_^(S|~w))+C[6]+2734768916&4294967295,T=S+(E<<15&4294967295|E>>>17),E=w+(S^(T|~_))+C[13]+1309151649&4294967295,w=T+(E<<21&4294967295|E>>>11),E=_+(T^(w|~S))+C[4]+4149444226&4294967295,_=w+(E<<6&4294967295|E>>>26),E=S+(w^(_|~T))+C[11]+3174756917&4294967295,S=_+(E<<10&4294967295|E>>>22),E=T+(_^(S|~w))+C[2]+718787259&4294967295,T=S+(E<<15&4294967295|E>>>17),E=w+(S^(T|~_))+C[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,b.g[2]=b.g[2]+T&4294967295,b.g[3]=b.g[3]+S&4294967295}r.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var w=_-this.blockSize,C=this.B,T=this.h,S=0;S<_;){if(T==0)for(;S<=w;)i(this,b,S),S+=this.blockSize;if(typeof b=="string"){for(;S<_;)if(C[T++]=b.charCodeAt(S++),T==this.blockSize){i(this,C),T=0;break}}else for(;S<_;)if(C[T++]=b[S++],T==this.blockSize){i(this,C),T=0;break}}this.h=T,this.o+=_},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var w=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=w&255,w/=256;for(this.u(b),b=Array(16),_=w=0;4>_;++_)for(var C=0;32>C;C+=8)b[w++]=this.g[_]>>>C&255;return b};function o(b,_){var w=a;return Object.prototype.hasOwnProperty.call(w,b)?w[b]:w[b]=_(b)}function s(b,_){this.h=_;for(var w=[],C=!0,T=b.length-1;0<=T;T--){var S=b[T]|0;C&&S==_||(w[T]=S,C=!1)}this.g=w}var a={};function u(b){return-128<=b&&128>b?o(b,function(_){return new s([_|0],0>_?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return R(l(-b));for(var _=[],w=1,C=0;b>=w;C++)_[C]=b/w|0,w*=4294967296;return new s(_,0)}function h(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return R(h(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(_,8)),C=p,T=0;T<b.length;T+=8){var S=Math.min(8,b.length-T),E=parseInt(b.substring(T,T+S),_);8>S?(S=l(Math.pow(_,S)),C=C.j(S).add(l(E))):(C=C.j(w),C=C.add(l(E)))}return C}var p=u(0),g=u(1),m=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-R(this).m();for(var b=0,_=1,w=0;w<this.g.length;w++){var C=this.i(w);b+=(0<=C?C:4294967296+C)*_,_*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I(this))return"0";if(A(this))return"-"+R(this).toString(b);for(var _=l(Math.pow(b,6)),w=this,C="";;){var T=we(w,_).g;w=j(w,T.j(_));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(b);if(w=T,I(w))return S+C;for(;6>S.length;)S="0"+S;C=S+C}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function I(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function A(b){return b.h==-1}t.l=function(b){return b=j(this,b),A(b)?-1:I(b)?0:1};function R(b){for(var _=b.g.length,w=[],C=0;C<_;C++)w[C]=~b.g[C];return new s(w,~b.h).add(g)}t.abs=function(){return A(this)?R(this):this},t.add=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],C=0,T=0;T<=_;T++){var S=C+(this.i(T)&65535)+(b.i(T)&65535),E=(S>>>16)+(this.i(T)>>>16)+(b.i(T)>>>16);C=E>>>16,S&=65535,E&=65535,w[T]=E<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function j(b,_){return b.add(R(_))}t.j=function(b){if(I(this)||I(b))return p;if(A(this))return A(b)?R(this).j(R(b)):R(R(this).j(b));if(A(b))return R(this.j(R(b)));if(0>this.l(m)&&0>b.l(m))return l(this.m()*b.m());for(var _=this.g.length+b.g.length,w=[],C=0;C<2*_;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var T=0;T<b.g.length;T++){var S=this.i(C)>>>16,E=this.i(C)&65535,wr=b.i(T)>>>16,oc=b.i(T)&65535;w[2*C+2*T]+=E*oc,K(w,2*C+2*T),w[2*C+2*T+1]+=S*oc,K(w,2*C+2*T+1),w[2*C+2*T+1]+=E*wr,K(w,2*C+2*T+1),w[2*C+2*T+2]+=S*wr,K(w,2*C+2*T+2)}for(C=0;C<_;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=_;C<2*_;C++)w[C]=0;return new s(w,0)};function K(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function q(b,_){this.g=b,this.h=_}function we(b,_){if(I(_))throw Error("division by zero");if(I(b))return new q(p,p);if(A(b))return _=we(R(b),_),new q(R(_.g),R(_.h));if(A(_))return _=we(b,R(_)),new q(R(_.g),_.h);if(30<b.g.length){if(A(b)||A(_))throw Error("slowDivide_ only works with positive integers.");for(var w=g,C=_;0>=C.l(b);)w=vt(w),C=vt(C);var T=be(w,1),S=be(C,1);for(C=be(C,2),w=be(w,2);!I(C);){var E=S.add(C);0>=E.l(b)&&(T=T.add(w),S=E),C=be(C,1),w=be(w,1)}return _=j(b,T.j(_)),new q(T,_)}for(T=p;0<=b.l(_);){for(w=Math.max(1,Math.floor(b.m()/_.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),S=l(w),E=S.j(_);A(E)||0<E.l(b);)w-=C,S=l(w),E=S.j(_);I(S)&&(S=g),T=T.add(S),b=j(b,E)}return new q(T,b)}t.A=function(b){return we(this,b).h},t.and=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],C=0;C<_;C++)w[C]=this.i(C)&b.i(C);return new s(w,this.h&b.h)},t.or=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],C=0;C<_;C++)w[C]=this.i(C)|b.i(C);return new s(w,this.h|b.h)},t.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],C=0;C<_;C++)w[C]=this.i(C)^b.i(C);return new s(w,this.h^b.h)};function vt(b){for(var _=b.g.length+1,w=[],C=0;C<_;C++)w[C]=b.i(C)<<1|b.i(C-1)>>>31;return new s(w,b.h)}function be(b,_){var w=_>>5;_%=32;for(var C=b.g.length-w,T=[],S=0;S<C;S++)T[S]=0<_?b.i(S+w)>>>_|b.i(S+w+1)<<32-_:b.i(S+w);return new s(T,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TE=RN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ei=RN.Integer=s}).apply(typeof AN<"u"?AN:typeof self<"u"?self:typeof window<"u"?window:{});var gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ti={};var DE,i8,Ma,SE,ol,mp,AE,RE,ME;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gp=="object"&&gp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var y=0;y<c.length-1;y++){var D=c[y];if(!(D in f))break e;f=f[D]}c=c[c.length-1],y=f[c],d=d(y),d!=y&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,y=!1,D={next:function(){if(!y&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return y=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,y),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),c.apply(this,y)}}function I(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(y,D,M){for(var V=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)V[Pe-2]=arguments[Pe];return d.prototype[D].apply(y,V)}}function A(c){let d=c.length;if(0<d){let f=Array(d);for(let y=0;y<d;y++)f[y]=c[y];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(u(y)){let D=c.length||0,M=y.length||0;c.length=D+M;for(let V=0;V<M;V++)c[D+V]=y[V]}else c.push(y)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function we(c){return we[" "](c),c}we[" "]=function(){};var vt=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function be(c,d,f){for(let y in c)d.call(f,c[y],y,c)}function b(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,d){let f,y;for(let D=1;D<arguments.length;D++){y=arguments[D];for(f in y)c[f]=y[f];for(let M=0;M<w.length;M++)f=w[M],Object.prototype.hasOwnProperty.call(y,f)&&(c[f]=y[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=Lg;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class wr{constructor(){this.h=this.g=null}add(d,f){let y=oc.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var oc=new j(()=>new H1,c=>c.reset());class H1{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let sc,ac=!1,Lg=new wr,rC=()=>{let c=a.Promise.resolve(void 0);sc=()=>{c.then(z1)}};var z1=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){S(f)}var d=oc;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ac=!1};function hi(){this.s=this.s,this.C=this.C}hi.prototype.s=!1,hi.prototype.ma=function(){this.s||(this.s=!0,this.N())},hi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function St(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var q1=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function cc(c,d){if(St.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(vt){e:{try{we(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:G1[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&cc.aa.h.call(this)}}I(cc,St);var G1={2:"touch",3:"pen",4:"mouse"};cc.prototype.h=function(){cc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var uc="closure_listenable_"+(1e6*Math.random()|0),W1=0;function K1(c,d,f,y,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=D,this.key=++W1,this.da=this.fa=!1}function kl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fl(c){this.src=c,this.g={},this.h=0}Fl.prototype.add=function(c,d,f,y,D){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var V=Ug(c,d,y,D);return-1<V?(d=c[V],f||(d.fa=!1)):(d=new K1(d,this.src,M,!!y,D),d.fa=f,c.push(d)),d};function Vg(c,d){var f=d.type;if(f in c.g){var y=c.g[f],D=Array.prototype.indexOf.call(y,d,void 0),M;(M=0<=D)&&Array.prototype.splice.call(y,D,1),M&&(kl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ug(c,d,f,y){for(var D=0;D<c.length;++D){var M=c[D];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==y)return D}return-1}var jg="closure_lm_"+(1e6*Math.random()|0),Bg={};function iC(c,d,f,y,D){if(y&&y.once)return sC(c,d,f,y,D);if(Array.isArray(d)){for(var M=0;M<d.length;M++)iC(c,d[M],f,y,D);return null}return f=qg(f),c&&c[uc]?c.K(d,f,l(y)?!!y.capture:!!y,D):oC(c,d,f,!1,y,D)}function oC(c,d,f,y,D,M){if(!d)throw Error("Invalid event type");var V=l(D)?!!D.capture:!!D,Pe=Hg(c);if(Pe||(c[jg]=Pe=new Fl(c)),f=Pe.add(d,f,y,V,M),f.proxy)return f;if(y=Q1(),f.proxy=y,y.src=c,y.listener=f,c.addEventListener)q1||(D=V),D===void 0&&(D=!1),c.addEventListener(d.toString(),y,D);else if(c.attachEvent)c.attachEvent(cC(d.toString()),y);else if(c.addListener&&c.removeListener)c.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Q1(){function c(f){return d.call(c.src,c.listener,f)}let d=Y1;return c}function sC(c,d,f,y,D){if(Array.isArray(d)){for(var M=0;M<d.length;M++)sC(c,d[M],f,y,D);return null}return f=qg(f),c&&c[uc]?c.L(d,f,l(y)?!!y.capture:!!y,D):oC(c,d,f,!0,y,D)}function aC(c,d,f,y,D){if(Array.isArray(d))for(var M=0;M<d.length;M++)aC(c,d[M],f,y,D);else y=l(y)?!!y.capture:!!y,f=qg(f),c&&c[uc]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=Ug(M,f,y,D),-1<f&&(kl(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=Hg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ug(d,f,y,D)),(f=-1<c?d[c]:null)&&$g(f))}function $g(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[uc])Vg(d.i,c);else{var f=c.type,y=c.proxy;d.removeEventListener?d.removeEventListener(f,y,c.capture):d.detachEvent?d.detachEvent(cC(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=Hg(d))?(Vg(f,c),f.h==0&&(f.src=null,d[jg]=null)):kl(c)}}}function cC(c){return c in Bg?Bg[c]:Bg[c]="on"+c}function Y1(c,d){if(c.da)c=!0;else{d=new cc(d,this);var f=c.listener,y=c.ha||c.src;c.fa&&$g(c),c=f.call(y,d)}return c}function Hg(c){return c=c[jg],c instanceof Fl?c:null}var zg="__closure_events_fn_"+(1e9*Math.random()>>>0);function qg(c){return typeof c=="function"?c:(c[zg]||(c[zg]=function(d){return c.handleEvent(d)}),c[zg])}function At(){hi.call(this),this.i=new Fl(this),this.M=this,this.F=null}I(At,hi),At.prototype[uc]=!0,At.prototype.removeEventListener=function(c,d,f,y){aC(this,c,d,f,y)};function Ft(c,d){var f,y=c.F;if(y)for(f=[];y;y=y.F)f.push(y);if(c=c.M,y=d.type||d,typeof d=="string")d=new St(d,c);else if(d instanceof St)d.target=d.target||c;else{var D=d;d=new St(y,c),C(d,D)}if(D=!0,f)for(var M=f.length-1;0<=M;M--){var V=d.g=f[M];D=Ll(V,y,!0,d)&&D}if(V=d.g=c,D=Ll(V,y,!0,d)&&D,D=Ll(V,y,!1,d)&&D,f)for(M=0;M<f.length;M++)V=d.g=f[M],D=Ll(V,y,!1,d)&&D}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],y=0;y<f.length;y++)kl(f[y]);delete c.g[d],c.h--}}this.F=null},At.prototype.K=function(c,d,f,y){return this.i.add(String(c),d,!1,f,y)},At.prototype.L=function(c,d,f,y){return this.i.add(String(c),d,!0,f,y)};function Ll(c,d,f,y){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,M=0;M<d.length;++M){var V=d[M];if(V&&!V.da&&V.capture==f){var Pe=V.listener,_t=V.ha||V.src;V.fa&&Vg(c.i,V),D=Pe.call(_t,y)!==!1&&D}}return D&&!y.defaultPrevented}function uC(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function lC(c){c.g=uC(()=>{c.g=null,c.i&&(c.i=!1,lC(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class J1 extends hi{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:lC(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lc(c){hi.call(this),this.h=c,this.g={}}I(lc,hi);var dC=[];function hC(c){be(c.g,function(d,f){this.g.hasOwnProperty(f)&&$g(d)},c),c.g={}}lc.prototype.N=function(){lc.aa.N.call(this),hC(this)},lc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gg=a.JSON.stringify,Z1=a.JSON.parse,X1=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Wg(){}Wg.prototype.h=null;function fC(c){return c.h||(c.h=c.i())}function pC(){}var dc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kg(){St.call(this,"d")}I(Kg,St);function Qg(){St.call(this,"c")}I(Qg,St);var io={},gC=null;function Vl(){return gC=gC||new At}io.La="serverreachability";function mC(c){St.call(this,io.La,c)}I(mC,St);function hc(c){let d=Vl();Ft(d,new mC(d))}io.STAT_EVENT="statevent";function yC(c,d){St.call(this,io.STAT_EVENT,c),this.stat=d}I(yC,St);function Lt(c){let d=Vl();Ft(d,new yC(d,c))}io.Ma="timingevent";function vC(c,d){St.call(this,io.Ma,c),this.size=d}I(vC,St);function fc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function pc(){this.g=!0}pc.prototype.xa=function(){this.g=!1};function ek(c,d,f,y,D,M){c.info(function(){if(c.g)if(M)for(var V="",Pe=M.split("&"),_t=0;_t<Pe.length;_t++){var Ce=Pe[_t].split("=");if(1<Ce.length){var Rt=Ce[0];Ce=Ce[1];var Mt=Rt.split("_");V=2<=Mt.length&&Mt[1]=="type"?V+(Rt+"="+Ce+"&"):V+(Rt+"=redacted&")}}else V=null;else V=M;return"XMLHTTP REQ ("+y+") [attempt "+D+"]: "+d+`
`+f+`
`+V})}function tk(c,d,f,y,D,M,V){c.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+D+"]: "+d+`
`+f+`
`+M+" "+V})}function _s(c,d,f,y){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+rk(c,f)+(y?" "+y:"")})}function nk(c,d){c.info(function(){return"TIMEOUT: "+d})}pc.prototype.info=function(){};function rk(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var y=f[c];if(!(2>y.length)){var D=y[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var V=1;V<D.length;V++)D[V]=""}}}}return Gg(f)}catch{return d}}var Ul={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_C={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yg;function jl(){}I(jl,Wg),jl.prototype.g=function(){return new XMLHttpRequest},jl.prototype.i=function(){return{}},Yg=new jl;function fi(c,d,f,y){this.j=c,this.i=d,this.l=f,this.R=y||1,this.U=new lc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new EC}function EC(){this.i=null,this.g="",this.h=!1}var wC={},Jg={};function Zg(c,d,f){c.L=1,c.v=zl(Ir(d)),c.m=f,c.P=!0,IC(c,null)}function IC(c,d){c.F=Date.now(),Bl(c),c.A=Ir(c.v);var f=c.A,y=c.R;Array.isArray(y)||(y=[String(y)]),FC(f.i,"t",y),c.C=0,f=c.j.J,c.h=new EC,c.g=eb(c.j,f?d:null,!c.m),0<c.O&&(c.M=new J1(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,y=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(dC[0]=D.toString()),D=dC);for(var M=0;M<D.length;M++){var V=iC(f,D[M],y||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),hc(),ek(c.i,c.u,c.A,c.l,c.R,c.m)}fi.prototype.ca=function(c){c=c.target;let d=this.M;d&&Cr(c)==3?d.j():this.Y(c)},fi.prototype.Y=function(c){try{if(c==this.g)e:{let Mt=Cr(this.g);var d=this.g.Ba();let Is=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||HC(this.g)))){this.J||Mt!=4||d==7||(d==8||0>=Is?hc(3):hc(2)),Xg(this);var f=this.g.Z();this.X=f;t:if(CC(this)){var y=HC(this.g);c="";var D=y.length,M=Cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),gc(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(y[d],{stream:!(M&&d==D-1)});y.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,tk(this.i,this.u,this.A,this.l,this.R,Mt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,_t=this.g;if((Pe=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Pe)){var Ce=Pe;break t}}Ce=null}if(f=Ce)_s(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,em(this,f);else{this.o=!1,this.s=3,Lt(12),oo(this),gc(this);break e}}if(this.P){f=!0;let In;for(;!this.J&&this.C<V.length;)if(In=ik(this,V),In==Jg){Mt==4&&(this.s=4,Lt(14),f=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(In==wC){this.s=4,Lt(15),_s(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else _s(this.i,this.l,In,null),em(this,In);if(CC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||V.length!=0||this.h.h||(this.s=1,Lt(16),f=!1),this.o=this.o&&f,!f)_s(this.i,this.l,V,"[Invalid Chunked Response]"),oo(this),gc(this);else if(0<V.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),sm(Rt),Rt.M=!0,Lt(11))}}else _s(this.i,this.l,V,null),em(this,V);Mt==4&&oo(this),this.o&&!this.J&&(Mt==4?YC(this.j,this):(this.o=!1,Bl(this)))}else wk(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),oo(this),gc(this)}}}catch{}finally{}};function CC(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ik(c,d){var f=c.C,y=d.indexOf(`
`,f);return y==-1?Jg:(f=Number(d.substring(f,y)),isNaN(f)?wC:(y+=1,y+f>d.length?Jg:(d=d.slice(y,y+f),c.C=y+f,d)))}fi.prototype.cancel=function(){this.J=!0,oo(this)};function Bl(c){c.S=Date.now()+c.I,bC(c,c.I)}function bC(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=fc(g(c.ba,c),d)}function Xg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}fi.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(nk(this.i,this.A),this.L!=2&&(hc(),Lt(17)),oo(this),this.s=2,gc(this)):bC(this,this.S-c)};function gc(c){c.j.G==0||c.J||YC(c.j,c)}function oo(c){Xg(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,hC(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function em(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||tm(f.h,c))){if(!c.K&&tm(f.h,c)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var D=y;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Ql(f),Wl(f);else break e;om(f),Lt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=fc(g(f.Za,f),6e3));if(1>=SC(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ao(f,11)}else if((c.K||f.g==c)&&Ql(f),!K(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let Ce=D[d];if(f.T=Ce[0],Ce=Ce[1],f.G==2)if(Ce[0]=="c"){f.K=Ce[1],f.ia=Ce[2];let Rt=Ce[3];Rt!=null&&(f.la=Rt,f.j.info("VER="+f.la));let Mt=Ce[4];Mt!=null&&(f.Aa=Mt,f.j.info("SVER="+f.Aa));let Is=Ce[5];Is!=null&&typeof Is=="number"&&0<Is&&(y=1.5*Is,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let In=c.g;if(In){let Jl=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jl){var M=y.h;M.g||Jl.indexOf("spdy")==-1&&Jl.indexOf("quic")==-1&&Jl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(nm(M,M.h),M.h=null))}if(y.D){let am=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;am&&(y.ya=am,Le(y.I,y.D,am))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var V=c;if(y.qa=XC(y,y.J?y.ia:null,y.W),V.K){AC(y.h,V);var Pe=V,_t=y.L;_t&&(Pe.I=_t),Pe.B&&(Xg(Pe),Bl(Pe)),y.g=V}else KC(y);0<f.i.length&&Kl(f)}else Ce[0]!="stop"&&Ce[0]!="close"||ao(f,7);else f.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?ao(f,7):im(f):Ce[0]!="noop"&&f.l&&f.l.ta(Ce),f.v=0)}}hc(4)}catch{}}var ok=class{constructor(c,d){this.g=c,this.map=d}};function TC(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function DC(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function SC(c){return c.h?1:c.g?c.g.size:0}function tm(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function nm(c,d){c.g?c.g.add(d):c.h=d}function AC(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}TC.prototype.cancel=function(){if(this.i=RC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function RC(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return A(c.i)}function sk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,y=0;y<f;y++)d.push(c[y]);return d}d=[],f=0;for(y in c)d[f++]=c[y];return d}function ak(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let y in c)d[f++]=y;return d}}}function MC(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=ak(c),y=sk(c),D=y.length,M=0;M<D;M++)d.call(void 0,y[M],f&&f[M],c)}var PC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ck(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var y=c[f].indexOf("="),D=null;if(0<=y){var M=c[f].substring(0,y);D=c[f].substring(y+1)}else M=c[f];d(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function so(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof so){this.h=c.h,$l(this,c.j),this.o=c.o,this.g=c.g,Hl(this,c.s),this.l=c.l;var d=c.i,f=new vc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),NC(this,f),this.m=c.m}else c&&(d=String(c).match(PC))?(this.h=!1,$l(this,d[1]||"",!0),this.o=mc(d[2]||""),this.g=mc(d[3]||"",!0),Hl(this,d[4]),this.l=mc(d[5]||"",!0),NC(this,d[6]||"",!0),this.m=mc(d[7]||"")):(this.h=!1,this.i=new vc(null,this.h))}so.prototype.toString=function(){var c=[],d=this.j;d&&c.push(yc(d,xC,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(yc(d,xC,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(yc(f,f.charAt(0)=="/"?dk:lk,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",yc(f,fk)),c.join("")};function Ir(c){return new so(c)}function $l(c,d,f){c.j=f?mc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Hl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function NC(c,d,f){d instanceof vc?(c.i=d,pk(c.i,c.h)):(f||(d=yc(d,hk)),c.i=new vc(d,c.h))}function Le(c,d,f){c.i.set(d,f)}function zl(c){return Le(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function mc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function yc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,uk),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function uk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xC=/[#\/\?@]/g,lk=/[#\?:]/g,dk=/[#\?]/g,hk=/[#\?@]/g,fk=/#/g;function vc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function pi(c){c.g||(c.g=new Map,c.h=0,c.i&&ck(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=vc.prototype,t.add=function(c,d){pi(this),this.i=null,c=Es(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function OC(c,d){pi(c),d=Es(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function kC(c,d){return pi(c),d=Es(c,d),c.g.has(d)}t.forEach=function(c,d){pi(this),this.g.forEach(function(f,y){f.forEach(function(D){c.call(d,D,y,this)},this)},this)},t.na=function(){pi(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){let D=c[y];for(let M=0;M<D.length;M++)f.push(d[y])}return f},t.V=function(c){pi(this);let d=[];if(typeof c=="string")kC(this,c)&&(d=d.concat(this.g.get(Es(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return pi(this),this.i=null,c=Es(this,c),kC(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function FC(c,d,f){OC(c,d),0<f.length&&(c.i=null,c.g.set(Es(c,d),A(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];let M=encodeURIComponent(String(y)),V=this.V(y);for(y=0;y<V.length;y++){var D=M;V[y]!==""&&(D+="="+encodeURIComponent(String(V[y]))),c.push(D)}}return this.i=c.join("&")};function Es(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function pk(c,d){d&&!c.j&&(pi(c),c.i=null,c.g.forEach(function(f,y){var D=y.toLowerCase();y!=D&&(OC(this,y),FC(this,D,f))},c)),c.j=d}function gk(c,d){let f=new pc;if(a.Image){let y=new Image;y.onload=m(gi,f,"TestLoadImage: loaded",!0,d,y),y.onerror=m(gi,f,"TestLoadImage: error",!1,d,y),y.onabort=m(gi,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=m(gi,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=c}else d(!1)}function mk(c,d){let f=new pc,y=new AbortController,D=setTimeout(()=>{y.abort(),gi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:y.signal}).then(M=>{clearTimeout(D),M.ok?gi(f,"TestPingServer: ok",!0,d):gi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),gi(f,"TestPingServer: error",!1,d)})}function gi(c,d,f,y,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),y(f)}catch{}}function yk(){this.g=new X1}function vk(c,d,f){let y=f||"";try{MC(c,function(D,M){let V=D;l(D)&&(V=Gg(D)),d.push(y+M+"="+encodeURIComponent(V))})}catch(D){throw d.push(y+"type="+encodeURIComponent("_badmap")),D}}function _c(c){this.l=c.Ub||null,this.j=c.eb||!1}I(_c,Wg),_c.prototype.g=function(){return new ql(this.l,this.j)},_c.prototype.i=function(c){return function(){return c}}({});function ql(c,d){At.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(ql,At),t=ql.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,wc(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ec(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wc(this)),this.g&&(this.readyState=3,wc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;LC(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function LC(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ec(this):wc(this),this.readyState==3&&LC(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ec(this))},t.Qa=function(c){this.g&&(this.response=c,Ec(this))},t.ga=function(){this.g&&Ec(this)};function Ec(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wc(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function wc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function VC(c){let d="";return be(c,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function rm(c,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=VC(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Le(c,d,f))}function He(c){At.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(He,At);var _k=/^https?$/i,Ek=["POST","PUT"];t=He.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yg.g(),this.v=this.o?fC(this.o):fC(Yg),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){UC(this,M);return}if(c=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var D in y)f.set(D,y[D]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let M of y.keys())f.set(M,y.get(M));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ek,d,void 0))||y||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,V]of f)this.g.setRequestHeader(M,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$C(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){UC(this,M)}};function UC(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,jC(c),Gl(c)}function jC(c){c.A||(c.A=!0,Ft(c,"complete"),Ft(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ft(this,"complete"),Ft(this,"abort"),Gl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gl(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?BC(this):this.bb())},t.bb=function(){BC(this)};function BC(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Cr(c)!=4||c.Z()!=2)){if(c.u&&Cr(c)==4)uC(c.Ea,0,c);else if(Ft(c,"readystatechange"),Cr(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=V===0){var D=String(c.D).match(PC)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),y=!_k.test(D?D.toLowerCase():"")}f=y}if(f)Ft(c,"complete"),Ft(c,"success");else{c.m=6;try{var M=2<Cr(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",jC(c)}}finally{Gl(c)}}}}function Gl(c,d){if(c.g){$C(c);let f=c.g,y=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Ft(c,"ready");try{f.onreadystatechange=y}catch{}}}function $C(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Cr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Cr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Z1(d)}};function HC(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wk(c){let d={};c=(c.g&&2<=Cr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<c.length;y++){if(K(c[y]))continue;var f=T(c[y]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[D]||[];d[D]=M,M.push(f)}b(d,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ic(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function zC(c){this.Aa=0,this.i=[],this.j=new pc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ic("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ic("baseRetryDelayMs",5e3,c),this.cb=Ic("retryDelaySeedMs",1e4,c),this.Wa=Ic("forwardChannelMaxRetries",2,c),this.wa=Ic("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new TC(c&&c.concurrentRequestLimit),this.Da=new yk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zC.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,y){Lt(0),this.W=c,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=XC(this,null,this.W),Kl(this)};function im(c){if(qC(c),c.G==3){var d=c.U++,f=Ir(c.I);if(Le(f,"SID",c.K),Le(f,"RID",d),Le(f,"TYPE","terminate"),Cc(c,f),d=new fi(c,c.j,d),d.L=2,d.v=zl(Ir(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=eb(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Bl(d)}ZC(c)}function Wl(c){c.g&&(sm(c),c.g.cancel(),c.g=null)}function qC(c){Wl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ql(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Kl(c){if(!DC(c.h)&&!c.s){c.s=!0;var d=c.Ga;sc||rC(),ac||(sc(),ac=!0),Lg.add(d,c),c.B=0}}function Ik(c,d){return SC(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=fc(g(c.Ga,c,d),JC(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new fi(this,this.j,c),M=this.o;if(this.S&&(M?(M=_(M),C(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=WC(this,D,d),f=Ir(this.I),Le(f,"RID",c),Le(f,"CVER",22),this.D&&Le(f,"X-HTTP-Session-Id",this.D),Cc(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(VC(M)))+"&"+d:this.m&&rm(f,this.m,M)),nm(this.h,D),this.Ua&&Le(f,"TYPE","init"),this.P?(Le(f,"$req",d),Le(f,"SID","null"),D.T=!0,Zg(D,f,null)):Zg(D,f,d),this.G=2}}else this.G==3&&(c?GC(this,c):this.i.length==0||DC(this.h)||GC(this))};function GC(c,d){var f;d?f=d.l:f=c.U++;let y=Ir(c.I);Le(y,"SID",c.K),Le(y,"RID",f),Le(y,"AID",c.T),Cc(c,y),c.m&&c.o&&rm(y,c.m,c.o),f=new fi(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=WC(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),nm(c.h,f),Zg(f,y,d)}function Cc(c,d){c.H&&be(c.H,function(f,y){Le(d,y,f)}),c.l&&MC({},function(f,y){Le(d,y,f)})}function WC(c,d,f){f=Math.min(c.i.length,f);var y=c.l?g(c.l.Na,c.l,c):null;e:{var D=c.i;let M=-1;for(;;){let V=["count="+f];M==-1?0<f?(M=D[0].g,V.push("ofs="+M)):M=0:V.push("ofs="+M);let Pe=!0;for(let _t=0;_t<f;_t++){let Ce=D[_t].g,Rt=D[_t].map;if(Ce-=M,0>Ce)M=Math.max(0,D[_t].g-100),Pe=!1;else try{vk(Rt,V,"req"+Ce+"_")}catch{y&&y(Rt)}}if(Pe){y=V.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,y}function KC(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;sc||rC(),ac||(sc(),ac=!0),Lg.add(d,c),c.v=0}}function om(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=fc(g(c.Fa,c),JC(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,QC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=fc(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lt(10),Wl(this),QC(this))};function sm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function QC(c){c.g=new fi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Ir(c.qa);Le(d,"RID","rpc"),Le(d,"SID",c.K),Le(d,"AID",c.T),Le(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Le(d,"TO",c.ja),Le(d,"TYPE","xmlhttp"),Cc(c,d),c.m&&c.o&&rm(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=zl(Ir(d)),f.m=null,f.P=!0,IC(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Wl(this),om(this),Lt(19))};function Ql(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function YC(c,d){var f=null;if(c.g==d){Ql(c),sm(c),c.g=null;var y=2}else if(tm(c.h,d))f=d.D,AC(c.h,d),y=1;else return;if(c.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;y=Vl(),Ft(y,new vC(y,f)),Kl(c)}else KC(c);else if(D=d.s,D==3||D==0&&0<d.X||!(y==1&&Ik(c,d)||y==2&&om(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:ao(c,5);break;case 4:ao(c,10);break;case 3:ao(c,6);break;default:ao(c,2)}}}function JC(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ao(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),y=c.Xa;let D=!y;y=new so(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$l(y,"https"),zl(y),D?gk(y.toString(),f):mk(y.toString(),f)}else Lt(2);c.G=0,c.l&&c.l.sa(d),ZC(c),qC(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function ZC(c){if(c.G=0,c.ka=[],c.l){let d=RC(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,A(c.i),c.i.length=0),c.l.ra()}}function XC(c,d,f){var y=f instanceof so?Ir(f):new so(f);if(y.g!="")d&&(y.g=d+"."+y.g),Hl(y,y.s);else{var D=a.location;y=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var M=new so(null);y&&$l(M,y),d&&(M.g=d),D&&Hl(M,D),f&&(M.l=f),y=M}return f=c.D,d=c.ya,f&&d&&Le(y,f,d),Le(y,"VER",c.la),Cc(c,y),y}function eb(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new He(new _c({eb:f})):new He(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tb(){}t=tb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yl(){}Yl.prototype.g=function(c,d){return new Xt(c,d)};function Xt(c,d){At.call(this),this.g=new zC(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ws(this)}I(Xt,At),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){im(this.g)},Xt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Gg(c),c=f);d.i.push(new ok(d.Ya++,c)),d.G==3&&Kl(d)},Xt.prototype.N=function(){this.g.l=null,delete this.j,im(this.g),delete this.g,Xt.aa.N.call(this)};function nb(c){Kg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}I(nb,Kg);function rb(){Qg.call(this),this.status=1}I(rb,Qg);function ws(c){this.g=c}I(ws,tb),ws.prototype.ua=function(){Ft(this.g,"a")},ws.prototype.ta=function(c){Ft(this.g,new nb(c))},ws.prototype.sa=function(c){Ft(this.g,new rb)},ws.prototype.ra=function(){Ft(this.g,"b")},Yl.prototype.createWebChannel=Yl.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,ME=ti.createWebChannelTransport=function(){return new Yl},RE=ti.getStatEventTarget=function(){return Vl()},AE=ti.Event=io,mp=ti.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ul.NO_ERROR=0,Ul.TIMEOUT=8,Ul.HTTP_ERROR=6,ol=ti.ErrorCode=Ul,_C.COMPLETE="complete",SE=ti.EventType=_C,pC.EventType=dc,dc.OPEN="a",dc.CLOSE="b",dc.ERROR="c",dc.MESSAGE="d",At.prototype.listen=At.prototype.K,Ma=ti.WebChannel=pC,i8=ti.FetchXmlHttpFactory=_c,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,DE=ti.XhrIo=He}).apply(typeof gp<"u"?gp:typeof self<"u"?self:typeof window<"u"?window:{});var MN="@firebase/firestore",PN="4.7.14";var mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");var Ya="11.7.3";var cs=new lr("@firebase/firestore");function Pa(){return cs.logLevel}function z(t,...e){if(cs.logLevel<=me.DEBUG){let n=e.map(vI);cs.debug(`Firestore (${Ya}): ${t}`,...n)}}function ri(t,...e){if(cs.logLevel<=me.ERROR){let n=e.map(vI);cs.error(`Firestore (${Ya}): ${t}`,...n)}}function Va(t,...e){if(cs.logLevel<=me.WARN){let n=e.map(vI);cs.warn(`Firestore (${Ya}): ${t}`,...n)}}function vI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Ix(t,r,n)}function Ix(t,e,n){let r=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ri(r),new Error(r)}function Ae(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Ix(e,i,r)}function ie(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends dn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var $n=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Cp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},kE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}},FE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},LE=class{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new $n;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $n,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>v(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $n)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new Cp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new mt(e)}},VE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},UE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new VE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},bp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jE=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function o8(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function Cx(){return new TextEncoder}var Tp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=o8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function he(t,e){return t<e?-1:t>e?1:0}function BE(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return he(r,i);{let o=Cx(),s=s8(o.encode(NN(t,n)),o.encode(NN(e,n)));return s!==0?s:he(r,i)}}n+=r>65535?2:1}return he(t.length,e.length)}function NN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function s8(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return he(t[n],e[n]);return he(t.length,e.length)}function Ua(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var xN=-62135596800,ON=1e6,Dt=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ON);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xN)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ON}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-xN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Dt(0,0))}static max(){return new t(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var kN="__name__",Dp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return he(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):BE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ei.fromString(e.substring(4,e.length-2))}},$e=class t extends Dp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},a8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hn=class t extends Dp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return a8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kN}static keyField(){return new t([kN])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new H(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Z=class t{constructor(e){this.path=e}static fromPath(e){return new t($e.fromString(e))}static fromName(e){return new t($e.fromString(e).popFirst(5))}static empty(){return new t($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new $e(e.slice()))}};var dl=-1,$E=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};$E.UNKNOWN_ID=-1;function c8(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new us(i,Z.empty(),e)}function u8(t){return new us(t.readTime,t.key,dl)}var us=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(se.min(),Z.empty(),dl)}static max(){return new t(se.max(),Z.empty(),dl)}};function l8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}var d8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",HE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ja(t){return v(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==d8)throw t;z("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function h8(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Za(t){return t.name==="IndexedDbTransactionError"}var _I=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),EI=-1;function sg(t){return t==null}function hl(t){return t===0&&1/t==-1/0}function f8(t){return typeof t=="number"&&Number.isInteger(t)&&!hl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var bx="";function p8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FN(e)),e=g8(t.get(n),e);return FN(e)}function g8(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case bx:n+="";break;default:n+=o}}return n}function FN(t){return t+bx+""}var m8="remoteDocuments",Tx="owner";var Dx="mutationQueues";var Sx="mutations";var Ax="documentMutations",y8="remoteDocumentsV14";var Rx="remoteDocumentGlobal";var Mx="targets";var Px="targetDocuments";var Nx="targetGlobal",xx="collectionParents";var Ox="clientMetadata";var kx="bundles";var Fx="namedQueries";var v8="indexConfiguration";var _8="indexState";var E8="indexEntries";var Lx="documentOverlays";var w8="globals";var I8=[Dx,Sx,Ax,m8,Mx,Tx,Nx,Px,Ox,Rx,xx,kx,Fx],qoe=[...I8,Lx],C8=[Dx,Sx,Ax,y8,Mx,Tx,Nx,Px,Ox,Rx,xx,kx,Fx,Lx],b8=C8,T8=[...b8,v8,_8,E8];var Goe=[...T8,w8];function LN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ms(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vx(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ke=class t{constructor(e,n){this.comparator=e,this.root=n||gr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ka(this.root,e,this.comparator,!0)}},ka=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}};gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new gr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class t{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sp(this.data.getIterator())}getIteratorFrom(e){return new Sp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Sp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pr=class t{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new t([])}unionWith(e){let n=new yt(hn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ap=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ot=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ap("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ot.EMPTY_BYTE_STRING=new Ot("");var D8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(t){if(Ae(!!t,39018),typeof t=="string"){let e=0,n=D8.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oi(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}var Ux="server_timestamp",jx="__type__",Bx="__previous_value__",$x="__local_write_time__";function wI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[jx])===null||n===void 0?void 0:n.stringValue)===Ux}function ag(t){let e=t.mapValue.fields[Bx];return wI(e)?ag(e):e}function fl(t){let e=ii(t.mapValue.fields[$x].timestampValue);return new Dt(e.seconds,e.nanos)}var zE=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Rp="(default)",Mp=class t{constructor(e,n){this.projectId=e,this.database=n||Rp}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Rp}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var II="__type__",Hx="__max__",yp={mapValue:{fields:{__type__:{stringValue:Hx}}}},CI="__vector__",ja="value";function Wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wI(t)?4:qx(t)?9007199254740991:zx(t)?10:11:ee(28295,{value:t})}function vr(t,e){if(t===e)return!0;let n=Wi(t);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fl(t).isEqual(fl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ii(i.timestampValue),a=ii(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return oi(i.bytesValue).isEqual(oi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ue(i.geoPointValue.latitude)===Ue(o.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ue(i.integerValue)===Ue(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ue(i.doubleValue),a=Ue(o.doubleValue);return s===a?hl(s)===hl(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ua(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(LN(s)!==LN(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!vr(s[u],a[u])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function pl(t,e){return(t.values||[]).find(n=>vr(n,e))!==void 0}function Ba(t,e){if(t===e)return 0;let n=Wi(t),r=Wi(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ue(o.integerValue||o.doubleValue),u=Ue(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return VN(t.timestampValue,e.timestampValue);case 4:return VN(fl(t),fl(e));case 5:return BE(t.stringValue,e.stringValue);case 6:return function(o,s){let a=oi(o),u=oi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=he(a[l],u[l]);if(h!==0)return h}return he(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=he(Ue(o.latitude),Ue(s.latitude));return a!==0?a:he(Ue(o.longitude),Ue(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return UN(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},m=(a=p[ja])===null||a===void 0?void 0:a.arrayValue,I=(u=g[ja])===null||u===void 0?void 0:u.arrayValue,A=he(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=I?.values)===null||h===void 0?void 0:h.length)||0);return A!==0?A:UN(m,I)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===yp.mapValue&&s===yp.mapValue)return 0;if(o===yp.mapValue)return 1;if(s===yp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=BE(u[p],h[p]);if(g!==0)return g;let m=Ba(a[u[p]],l[h[p]]);if(m!==0)return m}return he(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{Pe:n})}}function VN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);let n=ii(t),r=ii(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function UN(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ba(n[i],r[i]);if(o)return o}return he(n.length,r.length)}function $a(t){return qE(t)}function qE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=qE(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${qE(n.fields[s])}`;return i+"}"}(t.mapValue):ee(61005,{value:t})}function Ep(t){switch(Wi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ag(t);return e?16+Ep(e):16;case 5:return 2*t.stringValue.length;case 6:return oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ep(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ms(r.fields,(o,s)=>{i+=o.length+Ep(s)}),i}(t.mapValue);default:throw ee(13486,{value:t})}}function jN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function GE(t){return!!t&&"integerValue"in t}function bI(t){return!!t&&"arrayValue"in t}function BN(t){return!!t&&"nullValue"in t}function $N(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wp(t){return!!t&&"mapValue"in t}function zx(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[II])===null||n===void 0?void 0:n.stringValue)===CI}function al(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ms(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=al(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=al(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Hx}var Koe={mapValue:{fields:{[II]:{stringValue:CI},[ja]:{arrayValue:{}}}}};var Bn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(n)}setAll(e){let n=hn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=al(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());wp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ms(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(al(this.value))}};function Gx(t){let e=[];return ms(t.fields,(n,r)=>{let i=new hn([n]);if(wp(r)){let o=Gx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new pr(e)}var Hn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,se.min(),se.min(),se.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,se.min(),se.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,se.min(),se.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ha=class{constructor(e,n){this.position=e,this.inclusive=n}};function HN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Z.comparator(Z.fromName(s.referenceValue),n.key):r=Ba(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}var ls=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function S8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Pp=class{},rt=class t extends Pp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KE(e,n,r):n==="array-contains"?new JE(e,r):n==="in"?new ZE(e,r):n==="not-in"?new XE(e,r):n==="array-contains-any"?new ew(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QE(e,r):new YE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ba(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(Ba(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},zn=class t extends Pp{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return Wx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function Wx(t){return t.op==="and"}function Kx(t){return A8(t)&&Wx(t)}function A8(t){for(let e of t.filters)if(e instanceof zn)return!1;return!0}function WE(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+$a(t.value);if(Kx(t))return t.filters.map(e=>WE(e)).join(",");{let e=t.filters.map(n=>WE(n)).join(",");return`${t.op}(${e})`}}function Qx(t,e){return t instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&vr(r.value,i.value)}(t,e):t instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Qx(s,i.filters[a]),!0):!1}(t,e):void ee(19439)}function Yx(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${$a(n.value)}`}(t):t instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(Yx).join(" ,")+"}"}(t):"Filter"}var KE=class extends rt{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){let n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}},QE=class extends rt{constructor(e,n){super(e,"in",n),this.keys=Jx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},YE=class extends rt{constructor(e,n){super(e,"not-in",n),this.keys=Jx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Jx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}var JE=class extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return bI(n)&&pl(n.arrayValue,this.value)}},ZE=class extends rt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&pl(this.value.arrayValue,n)}},XE=class extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pl(this.value.arrayValue,n)}},ew=class extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!bI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pl(this.value.arrayValue,r))}};var tw=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function qN(t,e=null,n=[],r=[],i=null,o=null,s=null){return new tw(t,e,n,r,i,o,s)}function TI(t){let e=ie(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>WE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$a(r)).join(",")),e.Ie=n}return e.Ie}function DI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Qx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zN(t.startAt,e.startAt)&&zN(t.endAt,e.endAt)}function nw(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ki=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function R8(t,e,n,r,i,o,s,a){return new Ki(t,e,n,r,i,o,s,a)}function SI(t){return new Ki(t)}function GN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zx(t){return t.collectionGroup!==null}function cl(t){let e=ie(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yt(hn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new ls(o,r))}),n.has(hn.keyField().canonicalString())||e.Ee.push(new ls(hn.keyField(),r))}return e.Ee}function mr(t){let e=ie(t);return e.de||(e.de=M8(e,cl(t))),e.de}function M8(t,e){if(t.limitType==="F")return qN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ls(i.field,o)});let n=t.endAt?new Ha(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ha(t.startAt.position,t.startAt.inclusive):null;return qN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rw(t,e){let n=t.filters.concat([e]);return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function iw(t,e,n){return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cg(t,e){return DI(mr(t),mr(e))&&t.limitType===e.limitType}function Xx(t){return`${TI(mr(t))}|lt:${t.limitType}`}function Na(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Yx(i)).join(", ")}]`),sg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$a(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$a(i)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function ug(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of cl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=HN(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,cl(r),i)||r.endAt&&!function(s,a,u){let l=HN(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,cl(r),i))}(t,e)}function P8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eO(t){return(e,n)=>{let r=!1;for(let i of cl(t)){let o=N8(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function N8(t,e,n){let r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ba(u,l):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}var si=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Vx(this.inner)}size(){return this.innerSize}};var x8=new Ke(Z.comparator);function ai(){return x8}var tO=new Ke(Z.comparator);function sl(...t){let e=tO;for(let n of t)e=e.insert(n.key,n);return e}function nO(t){let e=tO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function os(){return ul()}function rO(){return ul()}function ul(){return new si(t=>t.toString(),(t,e)=>t.isEqual(e))}var O8=new Ke(Z.comparator),k8=new yt(Z.comparator);function ve(...t){let e=k8;for(let n of t)e=e.add(n);return e}var F8=new yt(he);function L8(){return F8}function AI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hl(e)?"-0":e}}function iO(t){return{integerValue:""+t}}function V8(t,e){return f8(e)?iO(e):AI(t,e)}var za=class{constructor(){this._=void 0}};function U8(t,e,n){return t instanceof qa?function(i,o){let s={fields:{[jx]:{stringValue:Ux},[$x]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&wI(o)&&(o=ag(o)),o&&(s.fields[Bx]=o),{mapValue:s}}(n,e):t instanceof ds?sO(t,e):t instanceof hs?aO(t,e):function(i,o){let s=oO(i,o),a=WN(s)+WN(i.Re);return GE(s)&&GE(i.Re)?iO(a):AI(i.serializer,a)}(t,e)}function j8(t,e,n){return t instanceof ds?sO(t,e):t instanceof hs?aO(t,e):n}function oO(t,e){return t instanceof Ga?function(r){return GE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var qa=class extends za{},ds=class extends za{constructor(e){super(),this.elements=e}};function sO(t,e){let n=cO(e);for(let r of t.elements)n.some(i=>vr(i,r))||n.push(r);return{arrayValue:{values:n}}}var hs=class extends za{constructor(e){super(),this.elements=e}};function aO(t,e){let n=cO(e);for(let r of t.elements)n=n.filter(i=>!vr(i,r));return{arrayValue:{values:n}}}var Ga=class extends za{constructor(e,n){super(),this.serializer=e,this.Re=n}};function WN(t){return Ue(t.integerValue||t.doubleValue)}function cO(t){return bI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function B8(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ds&&i instanceof ds||r instanceof hs&&i instanceof hs?Ua(r.elements,i.elements,vr):r instanceof Ga&&i instanceof Ga?vr(r.Re,i.Re):r instanceof qa&&i instanceof qa}(t.transform,e.transform)}var ow=class{constructor(e,n){this.version=e,this.transformResults=n}},ni=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ip(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Wa=class{};function uO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gl(t.key,ni.none()):new fs(t.key,t.data,ni.none());{let n=t.data,r=Bn.empty(),i=new yt(hn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ci(t.key,r,new pr(i.toArray()),ni.none())}}function $8(t,e,n){t instanceof fs?function(i,o,s){let a=i.value.clone(),u=QN(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ci?function(i,o,s){if(!Ip(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=QN(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(lO(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ll(t,e,n,r){return t instanceof fs?function(o,s,a,u){if(!Ip(o.precondition,s))return a;let l=o.value.clone(),h=YN(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ci?function(o,s,a,u){if(!Ip(o.precondition,s))return a;let l=YN(o.fieldTransforms,u,s),h=s.data;return h.setAll(lO(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Ip(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function H8(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=oO(r.transform,i||null);o!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,o))}return n||null}function KN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ua(r,i,(o,s)=>B8(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var fs=class extends Wa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ci=class extends Wa{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function lO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function QN(t,e,n){let r=new Map;Ae(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,j8(s,a,n[i]))}return r}function YN(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,U8(o,s,e))}return r}var gl=class extends Wa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},sw=class extends Wa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var aw=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&$8(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ll(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ll(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=rO();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=uO(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(n,r)=>KN(n,r))&&Ua(this.baseMutations,e.baseMutations,(n,r)=>KN(n,r))}},cw=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return O8}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var uw=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var lw=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var tt,Ee;function z8(t){switch(t){case O.OK:return ee(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function dO(t){if(t===void 0)return ri("GRPC error has no .code"),O.UNKNOWN;switch(t){case tt.OK:return O.OK;case tt.CANCELLED:return O.CANCELLED;case tt.UNKNOWN:return O.UNKNOWN;case tt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case tt.INTERNAL:return O.INTERNAL;case tt.UNAVAILABLE:return O.UNAVAILABLE;case tt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case tt.NOT_FOUND:return O.NOT_FOUND;case tt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case tt.ABORTED:return O.ABORTED;case tt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case tt.DATA_LOSS:return O.DATA_LOSS;default:return ee(39323,{code:t})}}(Ee=tt||(tt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";var JN=null;var q8=new ei([4294967295,4294967295],0);function ZN(t){let e=Cx().encode(t),n=new TE;return n.update(e),new Uint8Array(n.digest())}function XN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ei([n,r],0),new ei([i,o],0)]}var dw=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ss(`Invalid padding: ${n}`);if(r<0)throw new ss(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ss(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ss(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ei.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(ei.fromNumber(r)));return i.compare(q8)===1&&(i=new ei([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=ZN(e),[r,i]=XN(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let n=ZN(e),[r,i]=XN(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ss=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Np=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(se.min(),i,new Ke(he),ai(),ve())}},ml=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ve(),ve(),ve())}};var Fa=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},xp=class{constructor(e,n){this.targetId=e,this.Ce=n}},Op=class{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},kp=class{constructor(){this.Fe=0,this.Me=ex(),this.xe=Ot.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ve(),n=ve(),r=ve();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee(38017,{changeType:o})}}),new ml(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=ex()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ae(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},hw=class{constructor(e){this.ze=e,this.je=new Map,this.He=ai(),this.Je=vp(),this.Ye=vp(),this.Ze=new Ke(he)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(nw(o))if(r===0){let s=new Z(o.path);this.tt(n,s,Hn.newNoDocument(s,se.min()))}else Ae(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}JN?.ht(function(h,p,g,m,I){var A,R,j,K,q,we;let vt={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},be=p.unchangedNames;return be&&(vt.bloomFilter={applied:I===0,hashCount:(A=be?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(K=(j=(R=be?.bits)===null||R===void 0?void 0:R.bitmap)===null||j===void 0?void 0:j.length)!==null&&K!==void 0?K:0,padding:(we=(q=be?.bits)===null||q===void 0?void 0:q.padding)!==null&&we!==void 0?we:0,mightContain:b=>{var _;return(_=m?.mightContain(b))!==null&&_!==void 0&&_}}),vt}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=oi(r).toUint8Array()}catch(u){if(u instanceof Ap)return Va("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new dw(s,i,o)}catch(u){return Va(u instanceof ss?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&nw(a.target)){let u=new Z(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,Hn.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=ve();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Np(e,n,this.Ze,this.He,r);return this.He=ai(),this.Je=vp(),this.Ye=vp(),this.Ze=new Ke(he),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new kp,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new yt(he),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new yt(he),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new kp),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function vp(){return new Ke(Z.comparator)}function ex(){return new Ke(Z.comparator)}var G8={asc:"ASCENDING",desc:"DESCENDING"},W8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K8={and:"AND",or:"OR"},fw=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function pw(t,e){return t.useProto3Json||sg(e)?e:{value:e}}function Fp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q8(t,e){return Fp(t,e.toTimestamp())}function yr(t){return Ae(!!t,49232),se.fromTimestamp(function(n){let r=ii(n);return new Dt(r.seconds,r.nanos)}(t))}function RI(t,e){return gw(t,e).canonicalString()}function gw(t,e){let n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fO(t){let e=$e.fromString(t);return Ae(vO(e),10190,{key:e.toString()}),e}function mw(t,e){return RI(t.databaseId,e.path)}function PE(t,e){let n=fO(e);if(n.get(1)!==t.databaseId.projectId)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(gO(n))}function pO(t,e){return RI(t.databaseId,e)}function Y8(t){let e=fO(t);return e.length===4?$e.emptyPath():gO(e)}function yw(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gO(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function tx(t,e,n){return{name:mw(t,e),fields:n.value.mapValue.fields}}function J8(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ae(h===void 0||typeof h=="string",58123),Ot.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ot.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?O.UNKNOWN:dO(l.code);return new H(h,l.message||"")}(s);n=new Op(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=PE(t,r.document.name),o=yr(r.document.updateTime),s=r.document.createTime?yr(r.document.createTime):se.min(),a=new Bn({mapValue:{fields:r.document.fields}}),u=Hn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Fa(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=PE(t,r.document),o=r.readTime?yr(r.readTime):se.min(),s=Hn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Fa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=PE(t,r.document),o=r.removedTargetIds||[];n=new Fa([],o,i,null)}else{if(!("filter"in e))return ee(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new lw(i,o),a=r.targetId;n=new xp(a,s)}}return n}function Z8(t,e){let n;if(e instanceof fs)n={update:tx(t,e.key,e.value)};else if(e instanceof gl)n={delete:mw(t,e.key)};else if(e instanceof ci)n={update:tx(t,e.key,e.data),updateMask:aG(e.fieldMask)};else{if(!(e instanceof sw))return ee(16599,{ft:e.type});n={verify:mw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof qa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ds)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ga)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw ee(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Q8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee(27497)}(t,e.precondition)),n}function X8(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?yr(i.updateTime):yr(o);return s.isEqual(se.min())&&(s=yr(o)),new ow(s,i.transformResults||[])}(n,e))):[]}function eG(t,e){return{documents:[pO(t,e.path)]}}function tG(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pO(t,i);let o=function(l){if(l.length!==0)return yO(zn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:xa(g.field),direction:iG(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=pw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function nG(t){let e=Y8(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ae(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=mO(p);return g instanceof zn&&Kx(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(I){return new ls(Oa(I.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,sg(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,m=p.values||[];return new Ha(m,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,m=p.values||[];return new Ha(m,g)}(n.endAt)),R8(e,i,s,o,a,"F",u,l)}function rG(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Oa(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Oa(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Oa(n.unaryFilter.field);return rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Oa(n.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return rt.create(Oa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(r=>mO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function iG(t){return G8[t]}function oG(t){return W8[t]}function sG(t){return K8[t]}function xa(t){return{fieldPath:t.canonicalString()}}function Oa(t){return hn.fromServerFormat(t.fieldPath)}function yO(t){return t instanceof rt?function(n){if(n.op==="=="){if($N(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NAN"}};if(BN(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($N(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NAN"}};if(BN(n.value))return{unaryFilter:{field:xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xa(n.field),op:oG(n.op),value:n.value}}}(t):t instanceof zn?function(n){let r=n.getFilters().map(i=>yO(i));return r.length===1?r[0]:{compositeFilter:{op:sG(n.op),filters:r}}}(t):ee(54877,{filter:t})}function aG(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var yl=class t{constructor(e,n,r,i,o=se.min(),s=se.min(),a=Ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vw=class{constructor(e){this.wt=e}};function cG(t){let e=nG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?iw(e,e.limit,"L"):e}var Lp=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Ue(e.integerValue));else if("doubleValue"in e){let r=Ue(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),hl(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=ii(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(oi(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?qx(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):zx(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):ee(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=ja,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(Ue(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),Z.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};Lp.Wt=new Lp;var _w=class{constructor(){this.yn=new Ew}addToCollectionParentIndex(e,n){return this.yn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(us.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},Ew=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt($e.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt($e.comparator)).toArray()}};var Qoe=new Uint8Array(0);var nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_O=41943040,wn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(_O,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);var vl=class t{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new t(0)}static ir(){return new t(-1)}};var rx="LruGarbageCollector",uG=1048576;function ix([t,e],[n,r]){let i=he(t,n);return i===0?he(e,r):i}var ww=class{constructor(e){this.cr=e,this.buffer=new yt(ix),this.lr=0}hr(){return++this.lr}Pr(e){let n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();ix(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Iw=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){z(rx,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Za(n)?z(rx,"Ignoring IndexedDB error during garbage collection: ",n):yield Ja(n)}yield this.Ir(3e5)}))}},Cw=class{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(_I.le);let r=new ww(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(nx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nx):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Pa()<=me.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function lG(t,e){return new Cw(t,e)}var bw=class{constructor(){this.changes=new si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Tw=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Dw=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ll(r.mutation,i,pr.empty(),Dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){let i=os();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=sl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=os();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ai(),s=ul(),a=function(){return ul()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ci)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ll(h.mutation,l,h.mutation.getFieldMask(),Dt.now())):s.set(l.key,pr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Tw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ul(),i=new Ke((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||pr.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=rO();h.forEach(g=>{if(!o.has(g)){let m=uO(n.get(g),r.get(g));m!==null&&p.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(os()),a=dl,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ve())).next(h=>({batchId:a,changes:nO(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=sl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=sl();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=function(p,g){return new Ki(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Hn.newInvalidDocument(h)))});let a=sl();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ll(h.mutation,l,pr.empty(),Dt.now()),ug(n,l)&&(a=a.insert(u,l))}),a})}};var Sw=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return F.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yr(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:cG(i.bundledQuery),readTime:yr(i.readTime)}}(n)),F.resolve()}};var Aw=class{constructor(){this.overlays=new Ke(Z.comparator),this.Or=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=os();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let i=os(),o=n.length+1,s=new Z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ke((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=os(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=os(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new uw(n,r));let o=this.Or.get(n);o===void 0&&(o=ve(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}};var Rw=class{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}};var _l=class{constructor(){this.Nr=new yt(nt.Br),this.Lr=new yt(nt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){let r=new nt(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new nt(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){let n=new Z(new $e([])),r=new nt(n,e),i=new nt(n,e+1),o=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),o.push(s.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let n=new Z(new $e([])),r=new nt(n,e),i=new nt(n,e+1),o=ve();return this.Lr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new nt(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},nt=class{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Z.comparator(e.key,n.key)||he(e.Gr,n.Gr)}static kr(e,n){return he(e.Gr,n.Gr)||Z.comparator(e.key,n.key)}};var Mw=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new yt(nt.Br)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new aw(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.zr=this.zr.add(new nt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Hr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?EI:this.Jn-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],s=>{let a=this.jr(s.Gr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(he);return n.forEach(i=>{let o=new nt(i,0),s=new nt(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,s],a=>{r=r.add(a.Gr)})}),F.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;Z.isDocumentKey(o)||(o=o.child(""));let s=new nt(new Z(o),0),a=new yt(he);return this.zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Gr)),!0)},s),F.resolve(this.Jr(a))}Jr(e){let n=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return F.forEach(n.mutations,i=>{let o=new nt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){let r=new nt(n,0),i=this.zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Pw=class{constructor(e){this.Zr=e,this.docs=function(){return new Ke(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Hn.newInvalidDocument(n))}getEntries(e,n){let r=ai();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Hn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ai(),s=n.path,a=new Z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||l8(u8(h),r)<=0||(i.has(h.key)||ug(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ee(9500)}Xr(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Nw(this)}getSize(e){return F.resolve(this.size)}},Nw=class extends bw{constructor(e){super(),this.vr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}};var xw=class{constructor(e){this.persistence=e,this.ei=new si(n=>TI(n),DI),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.ti=0,this.ni=new _l,this.targetCount=0,this.ri=vl.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),F.resolve()}ar(e){this.ei.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ri=new vl(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.ar(n),F.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ei.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.ei.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ni.Wr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ni.containsKey(n))}};var Vp=class{constructor(e,n){this.ii={},this.overlays={},this.si=new _I(0),this.oi=!1,this.oi=!0,this._i=new Rw,this.referenceDelegate=e(this),this.ai=new xw(this),this.indexManager=new _w,this.remoteDocumentCache=function(i){return new Pw(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new vw(n),this.ci=new Sw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Aw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new Mw(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);let i=new Ow(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return F.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}},Ow=class extends HE{constructor(e){super(),this.currentSequenceNumber=e}},kw=class t{constructor(e){this.persistence=e,this.Ti=new _l,this.Ii=null}static Ei(e){return new t(e)}get di(){if(this.Ii)return this.Ii;throw ee(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.di,r=>{let i=Z.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return F.or([()=>F.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}},Up=class t{constructor(e,n){this.persistence=e,this.Ri=new si(r=>p8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=lG(this,n)}static Ei(e,n){return new t(e,n)}li(){}hi(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){let n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return F.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,se.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),F.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ep(e.data.value)),n}gr(e,n,r){return F.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.Ri.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Fw=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=ve(),i=ve();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Lw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Vw=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return WM()?8:h8(gt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Lw;return this.fs(e,n,s).next(a=>{if(o.result=a,this.Is)return this.gs(e,n,s,a.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(Pa()<=me.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),F.resolve()):(Pa()<=me.DEBUG&&z("QueryEngine","Query:",Na(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Pa()<=me.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):F.resolve())}Rs(e,n){if(GN(n))return F.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=iw(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ve(...o);return this.As.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ps(n,a);return this.ys(n,l,s,u.readTime)?this.Rs(e,iw(n,null,"F")):this.ws(e,l,n,u)}))})))}Vs(e,n,r,i){return GN(n)||i.isEqual(se.min())?F.resolve(null):this.As.getDocuments(e,r).next(o=>{let s=this.ps(n,o);return this.ys(n,s,r,i)?F.resolve(null):(Pa()<=me.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Na(n)),this.ws(e,s,n,c8(i,dl)).next(a=>a))})}ps(e,n){let r=new yt(eO(e));return n.forEach((i,o)=>{ug(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return Pa()<=me.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Na(n)),this.As.getDocumentsMatchingQuery(e,n,us.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var MI="LocalStore",dG=3e8,Uw=class{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new Ke(he),this.Ds=new si(o=>TI(o),DI),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dw(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}};function hG(t,e,n,r){return new Uw(t,e,n,r)}function EO(t,e){return v(this,null,function*(){let n=ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ve();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ms:l,removedBatchIds:s,addedBatchIds:a}))})})})}function fG(t,e){let n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),m=F.resolve();return g.forEach(I=>{m=m.next(()=>h.getEntry(u,I)).next(A=>{let R=l.docVersions.get(I);Ae(R!==null,48541),A.version.compareTo(R)<0&&(p.applyToRemoteDocument(A,l),A.isValidDocument()&&(A.setReadTime(l.commitVersion),h.addEntry(A)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ve();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wO(t){let e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function pG(t,e){let n=ie(t),r=e.snapshotVersion,i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.ai.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.ai.addMatchingKeys(o,h.addedDocuments,p)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Ot.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(A,R,j){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=dG?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(g,m,h)&&a.push(n.ai.updateTargetData(o,m))});let u=ai(),l=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(gG(o,s,e.documentUpdates).next(h=>{u=h.xs,l=h.Os})),!r.isEqual(se.min())){let h=n.ai.getLastRemoteSnapshotVersion(o).next(p=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ss=i,o))}function gG(t,e,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ai();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z(MI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{xs:s,Os:i}})}function mG(t,e){let n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=EI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yG(t,e){let n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.ai.allocateTargetId(r).next(s=>(i=new yl(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}function jw(t,e,n){return v(this,null,function*(){let r=ie(t),i=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Za(s))throw s;z(MI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function ox(t,e,n){let r=ie(t),i=se.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ie(u),g=p.Ds.get(h);return g!==void 0?F.resolve(p.Ss.get(g)):p.ai.getTargetData(l,h)}(r,s,mr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,n?i:se.min(),n?o:ve())).next(a=>(vG(r,P8(e),a),{documents:a,Ns:o})))}function vG(t,e,n){let r=t.vs.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}var jp=class{constructor(){this.activeTargetIds=L8()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Bw=class{constructor(){this.So=new jp,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new jp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var $w=class{vo(e){}shutdown(){}};var sx="ConnectivityMonitor",Bp=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){z(sx,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){z(sx,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var _p=null;function Hw(){return _p===null?_p=function(){return 268435456+Math.round(2147483648*Math.random())}():_p++,"0x"+_p.toString(16)}var NE="RestConnection",_G={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},zw=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Rp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){let s=Hw(),a=this.$o(e,n.toUriEncodedString());z(NE,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(u,i,o);let{host:l}=new URL(a),h=Qo(l);return this.Ko(e,a,u,r,h).then(p=>(z(NE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Va(NE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Wo(e,n,r,i,o,s){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){let r=_G[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}};var qw=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var xt="WebChannelConnection",Gw=class extends zw{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,o){let s=Hw();return new Promise((a,u)=>{let l=new DE;l.setWithCredentials(!0),l.listenOnce(SE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ol.NO_ERROR:let p=l.getResponseJson();z(xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case ol.TIMEOUT:z(xt,`RPC '${e}' ${s} timed out`),u(new H(O.DEADLINE_EXCEEDED,"Request time out"));break;case ol.HTTP_ERROR:let g=l.getStatus();if(z(xt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let I=m?.error;if(I&&I.status&&I.message){let A=function(j){let K=j.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(K)>=0?K:O.UNKNOWN}(I.status);u(new H(A,I.message))}else u(new H(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new H(O.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{s_:e,streamId:s,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{z(xt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);z(xt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}a_(e,n,r){let i=Hw(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ME(),a=RE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");z(xt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,m=!1,I=new qw({Go:R=>{m?z(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(z(xt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),z(xt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},zo:()=>p.close()}),A=(R,j,K)=>{R.listen(j,q=>{try{K(q)}catch(we){setTimeout(()=>{throw we},0)}})};return A(p,Ma.EventType.OPEN,()=>{m||(z(xt,`RPC '${e}' stream ${i} transport opened.`),I.t_())}),A(p,Ma.EventType.CLOSE,()=>{m||(m=!0,z(xt,`RPC '${e}' stream ${i} transport closed`),I.r_())}),A(p,Ma.EventType.ERROR,R=>{m||(m=!0,Va(xt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),I.r_(new H(O.UNAVAILABLE,"The operation could not be completed")))}),A(p,Ma.EventType.MESSAGE,R=>{var j;if(!m){let K=R.data[0];Ae(!!K,16349);let q=K,we=q?.error||((j=q[0])===null||j===void 0?void 0:j.error);if(we){z(xt,`RPC '${e}' stream ${i} received error:`,we);let vt=we.status,be=function(w){let C=tt[w];if(C!==void 0)return dO(C)}(vt),b=we.message;be===void 0&&(be=O.INTERNAL,b="Unknown error status: "+vt+" with message "+we.message),m=!0,I.r_(new H(be,b)),p.close()}else z(xt,`RPC '${e}' stream ${i} received:`,K),I.i_(K)}}),A(a,AE.STAT_EVENT,R=>{R.stat===mp.PROXY?z(xt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===mp.NOPROXY&&z(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.n_()},0),I}};function xE(){return typeof document<"u"?document:null}function lg(t){return new fw(t,!0)}var $p=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var ax="PersistentStream",Hp=class{constructor(e,n,r,i,o,s,a,u){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new $p(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return v(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return v(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,n){return v(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(n)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{let i=new H(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){let r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>v(this,null,function*(){this.state=0,this.start()}))}L_(e){return z(ax,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(z(ax,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ww=class extends Hp{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let n=J8(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?yr(s.readTime):se.min()}(e);return this.listener.Q_(n,r)}U_(e){let n={};n.database=yw(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=nw(u)?{documents:eG(o,u)}:{query:tG(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=hO(o,s.resumeToken);let l=pw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=Fp(o,s.snapshotVersion.toTimestamp());let l=pw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=rG(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){let n={};n.database=yw(this.serializer),n.removeTarget=e,this.F_(n)}},Kw=class extends Hp{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let n=X8(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.j_(r,n)}H_(){let e={};e.database=yw(this.serializer),this.F_(e)}G_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Z8(this.serializer,r))};this.F_(n)}};var Qw=class{},Yw=class extends Qw{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Qo(e,gw(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(O.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,gw(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(O.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},Jw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ri(n),this.ea=!1):z("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var ps="RemoteStore",Zw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(s=>{r.enqueueAndForget(()=>v(this,null,function*(){ys(this)&&(z(ps,"Restarting streams for network reachability change."),yield function(u){return v(this,null,function*(){let l=ie(u);l.aa.add(4),yield Tl(l),l.la.set("Unknown"),l.aa.delete(4),yield dg(l)})}(this))}))}),this.la=new Jw(r,i)}};function dg(t){return v(this,null,function*(){if(ys(t))for(let e of t.ua)yield e(!0)})}function Tl(t){return v(this,null,function*(){for(let e of t.ua)yield e(!1)})}function IO(t,e){let n=ie(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),OI(n)?xI(n):Xa(n).b_()&&NI(n,e))}function PI(t,e){let n=ie(t),r=Xa(n);n._a.delete(e),r.b_()&&CO(n,e),n._a.size===0&&(r.b_()?r.v_():ys(n)&&n.la.set("Unknown"))}function NI(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xa(t).U_(e)}function CO(t,e){t.ha.Ke(e),Xa(t).K_(e)}function xI(t){t.ha=new hw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Xa(t).start(),t.la.ta()}function OI(t){return ys(t)&&!Xa(t).w_()&&t._a.size>0}function ys(t){return ie(t).aa.size===0}function bO(t){t.ha=void 0}function EG(t){return v(this,null,function*(){t.la.set("Online")})}function wG(t){return v(this,null,function*(){t._a.forEach((e,n)=>{NI(t,e)})})}function IG(t,e){return v(this,null,function*(){bO(t),OI(t)?(t.la.ia(e),xI(t)):t.la.set("Unknown")})}function CG(t,e,n){return v(this,null,function*(){if(t.la.set("Online"),e instanceof Op&&e.state===2&&e.cause)try{yield function(i,o){return v(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i._a.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i._a.delete(a),i.ha.removeTarget(a))})}(t,e)}catch(r){z(ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield zp(t,r)}else if(e instanceof Fa?t.ha.Xe(e):e instanceof xp?t.ha.ot(e):t.ha.nt(e),!n.isEqual(se.min()))try{let r=yield wO(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.ha.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o._a.get(l);h&&o._a.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o._a.get(u);if(!h)return;o._a.set(u,h.withResumeToken(Ot.EMPTY_BYTE_STRING,h.snapshotVersion)),CO(o,u);let p=new yl(h.target,u,l,h.sequenceNumber);NI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){z(ps,"Failed to raise snapshot:",r),yield zp(t,r)}})}function zp(t,e,n){return v(this,null,function*(){if(!Za(e))throw e;t.aa.add(1),yield Tl(t),t.la.set("Offline"),n||(n=()=>wO(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(null,null,function*(){z(ps,"Retrying IndexedDB access"),yield n(),t.aa.delete(1),yield dg(t)}))})}function TO(t,e){return e().catch(n=>zp(t,n,e))}function hg(t){return v(this,null,function*(){let e=ie(t),n=Qi(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:EI;for(;bG(e);)try{let i=yield mG(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,TG(e,i)}catch(i){yield zp(e,i)}DO(e)&&SO(e)})}function bG(t){return ys(t)&&t.oa.length<10}function TG(t,e){t.oa.push(e);let n=Qi(t);n.b_()&&n.W_&&n.G_(e.mutations)}function DO(t){return ys(t)&&!Qi(t).w_()&&t.oa.length>0}function SO(t){Qi(t).start()}function DG(t){return v(this,null,function*(){Qi(t).H_()})}function SG(t){return v(this,null,function*(){let e=Qi(t);for(let n of t.oa)e.G_(n.mutations)})}function AG(t,e,n){return v(this,null,function*(){let r=t.oa.shift(),i=cw.from(r,e,n);yield TO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield hg(t)})}function RG(t,e){return v(this,null,function*(){e&&Qi(t).W_&&(yield function(r,i){return v(this,null,function*(){if(function(s){return z8(s)&&s!==O.ABORTED}(i.code)){let o=r.oa.shift();Qi(r).D_(),yield TO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield hg(r)}})}(t,e)),DO(t)&&SO(t)})}function cx(t,e){return v(this,null,function*(){let n=ie(t);n.asyncQueue.verifyOperationInProgress(),z(ps,"RemoteStore received new credentials");let r=ys(n);n.aa.add(3),yield Tl(n),r&&n.la.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),yield dg(n)})}function MG(t,e){return v(this,null,function*(){let n=ie(t);e?(n.aa.delete(2),yield dg(n)):e||(n.aa.add(2),yield Tl(n),n.la.set("Unknown"))})}function Xa(t){return t.Pa||(t.Pa=function(n,r,i){let o=ie(n);return o.Y_(),new Ww(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:EG.bind(null,t),Jo:wG.bind(null,t),Zo:IG.bind(null,t),Q_:CG.bind(null,t)}),t.ua.push(e=>v(null,null,function*(){e?(t.Pa.D_(),OI(t)?xI(t):t.la.set("Unknown")):(yield t.Pa.stop(),bO(t))}))),t.Pa}function Qi(t){return t.Ta||(t.Ta=function(n,r,i){let o=ie(n);return o.Y_(),new Kw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:DG.bind(null,t),Zo:RG.bind(null,t),z_:SG.bind(null,t),j_:AG.bind(null,t)}),t.ua.push(e=>v(null,null,function*(){e?(t.Ta.D_(),yield hg(t)):(yield t.Ta.stop(),t.oa.length>0&&(z(ps,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))}))),t.Ta}var Xw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new $n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function kI(t,e){if(ri("AsyncQueue",`${e}: ${t}`),Za(t))return new H(O.UNAVAILABLE,`${e}: ${t}`);throw t}var qp=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=sl(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Gp=class{constructor(){this.Ia=new Ke(Z.comparator)}track(e){let n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):ee(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){let e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}},Ka=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,qp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var eI=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},tI=class{constructor(){this.queries=ux(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){let i=ie(n),o=i.queries;i.queries=ux(),o.forEach((s,a)=>{for(let u of a.Ra)u.onError(r)})})(this,new H(O.ABORTED,"Firestore shutting down"))}};function ux(){return new si(t=>Xx(t),cg)}function AO(t,e){return v(this,null,function*(){let n=ie(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new eI,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield n.onListen(i,!0);break;case 1:o.Aa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=kI(s,`Initialization of query '${Na(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&FI(n)})}function RO(t,e){return v(this,null,function*(){let n=ie(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Ra.indexOf(e);s>=0&&(o.Ra.splice(s,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function PG(t,e){let n=ie(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Ra)a.pa(i)&&(r=!0);s.Aa=i}}r&&FI(n)}function NG(t,e,n){let r=ie(t),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(n);r.queries.delete(e)}function FI(t){t.fa.forEach(e=>{e.next()})}var nI,lx;(lx=nI||(nI={})).ya="default",lx.Cache="cache";var Wp=class{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;let r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==nI.Cache}};var Kp=class{constructor(e){this.key=e}},Qp=class{constructor(e){this.key=e}},rI=class{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ve(),this.mutatedKeys=ve(),this.Ua=eO(e),this.Ka=new qp(this.Ua)}get Wa(){return this.qa}Ga(e,n){let r=n?n.za:new Gp,i=n?n.Ka:this.Ka,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),m=ug(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),A=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),R=!1;g&&m?g.data.isEqual(m.data)?I!==A&&(r.track({type:3,doc:m}),R=!0):this.ja(g,m)||(r.track({type:2,doc:m}),R=!0,(u&&this.Ua(m,u)>0||l&&this.Ua(m,l)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),R=!0):g&&!m&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(m?(s=s.add(m),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ka:s,za:r,ys:a,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let s=e.za.da();s.sort((h,p)=>function(m,I){let A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Vt:R})}};return A(m)-A(I)}(h.type,p.type)||this.Ua(h.doc,p.doc)),this.Ha(r),i=i!=null&&i;let a=n&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,l=u!==this.Qa;return this.Qa=u,s.length!==0||l?{snapshot:new Ka(this.query,e.Ka,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Gp,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=ve(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new Qp(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new Kp(r))}),n}Xa(e){this.qa=e.Ns,this.$a=ve();let n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Ka.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},LI="SyncEngine",iI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},oI=class{constructor(e){this.key=e,this.tu=!1}},sI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new si(a=>Xx(a),cg),this.iu=new Map,this.su=new Set,this.ou=new Ke(Z.comparator),this._u=new Map,this.au=new _l,this.uu={},this.cu=new Map,this.lu=vl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function xG(t,e,n=!0){return v(this,null,function*(){let r=kO(t),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield MO(r,e,n,!0),i})}function OG(t,e){return v(this,null,function*(){let n=kO(t);yield MO(n,e,!0,!1)})}function MO(t,e,n,r){return v(this,null,function*(){let i=yield yG(t.localStore,mr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield kG(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&IO(t.remoteStore,i),a})}function kG(t,e,n,r,i){return v(this,null,function*(){t.Pu=(p,g,m)=>function(A,R,j,K){return v(this,null,function*(){let q=R.view.Ga(j);q.ys&&(q=yield ox(A.localStore,R.query,!1).then(({documents:b})=>R.view.Ga(b,q)));let we=K&&K.targetChanges.get(R.targetId),vt=K&&K.targetMismatches.get(R.targetId)!=null,be=R.view.applyChanges(q,A.isPrimaryClient,we,vt);return hx(A,R.targetId,be.Ya),be.snapshot})}(t,p,g,m);let o=yield ox(t.localStore,e,!0),s=new rI(e,o.Ns),a=s.Ga(o.documents),u=ml.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);hx(t,n,l.Ya);let h=new iI(e,n,s);return t.ru.set(e,h),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),l.snapshot})}function FG(t,e,n){return v(this,null,function*(){let r=ie(t),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(s=>!cg(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield jw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&PI(r.remoteStore,i.targetId),aI(r,i.targetId)}).catch(Ja))):(aI(r,i.targetId),yield jw(r.localStore,i.targetId,!0))})}function LG(t,e){return v(this,null,function*(){let n=ie(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),PI(n.remoteStore,r.targetId))})}function VG(t,e,n){return v(this,null,function*(){let r=qG(t);try{let i=yield function(s,a){let u=ie(s),l=Dt.now(),h=a.reduce((m,I)=>m.add(I.key),ve()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let I=ai(),A=ve();return u.Cs.getEntries(m,h).next(R=>{I=R,I.forEach((j,K)=>{K.isValidDocument()||(A=A.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,I)).next(R=>{p=R;let j=[];for(let K of a){let q=H8(K,p.get(K.key).overlayedDocument);q!=null&&j.push(new ci(K.key,q,Gx(q.value.mapValue),ni.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,j,a)}).next(R=>{g=R;let j=R.applyToLocalDocumentSet(p,A);return u.documentOverlayCache.saveOverlays(m,R.batchId,j)})}).then(()=>({batchId:g.batchId,changes:nO(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.uu[s.currentUser.toKey()];l||(l=new Ke(he)),l=l.insert(a,u),s.uu[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Dl(r,i.changes),yield hg(r.remoteStore)}catch(i){let o=kI(i,"Failed to persist write");n.reject(o)}})}function PO(t,e){return v(this,null,function*(){let n=ie(t);try{let r=yield pG(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n._u.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?Ae(s.tu,14607):i.removedDocuments.size>0&&(Ae(s.tu,42227),s.tu=!1))}),yield Dl(n,r,e)}catch(r){yield Ja(r)}})}function dx(t,e,n){let r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ru.forEach((o,s)=>{let a=s.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ie(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.Ra)g.ga(a)&&(l=!0)}),l&&FI(u)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function UG(t,e,n){return v(this,null,function*(){let r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r._u.get(e),o=i&&i.key;if(o){let s=new Ke(Z.comparator);s=s.insert(o,Hn.newNoDocument(o,se.min()));let a=ve().add(o),u=new Np(se.min(),new Map,new Ke(he),s,a);yield PO(r,u),r.ou=r.ou.remove(o),r._u.delete(e),VI(r)}else yield jw(r.localStore,e,!1).then(()=>aI(r,e,n)).catch(Ja)})}function jG(t,e){return v(this,null,function*(){let n=ie(t),r=e.batch.batchId;try{let i=yield fG(n.localStore,e);xO(n,r,null),NO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Dl(n,i)}catch(i){yield Ja(i)}})}function BG(t,e,n){return v(this,null,function*(){let r=ie(t);try{let i=yield function(s,a){let u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ae(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);xO(r,e,n),NO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Dl(r,i)}catch(i){yield Ja(i)}})}function NO(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function xO(t,e,n){let r=ie(t),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function aI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||OO(t,r)})}function OO(t,e){t.su.delete(e.path.canonicalString());let n=t.ou.get(e);n!==null&&(PI(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),VI(t))}function hx(t,e,n){for(let r of n)r instanceof Kp?(t.au.addReference(r.key,e),$G(t,r)):r instanceof Qp?(z(LI,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||OO(t,r.key)):ee(19791,{Iu:r})}function $G(t,e){let n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(z(LI,"New document in limbo: "+n),t.su.add(r),VI(t))}function VI(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){let e=t.su.values().next().value;t.su.delete(e);let n=new Z($e.fromString(e)),r=t.lu.next();t._u.set(r,new oI(n)),t.ou=t.ou.insert(n,r),IO(t.remoteStore,new yl(mr(SI(n.path)),r,"TargetPurposeLimboResolution",_I.le))}}function Dl(t,e,n){return v(this,null,function*(){let r=ie(t),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach((a,u)=>{s.push(r.Pu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Fw.Ps(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.nu.Q_(i),yield function(u,l){return v(this,null,function*(){let h=ie(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,g=>F.forEach(g.ls,m=>h.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>F.forEach(g.hs,m=>h.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!Za(p))throw p;z(MI,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let m=h.Ss.get(g),I=m.snapshotVersion,A=m.withLastLimboFreeSnapshotVersion(I);h.Ss=h.Ss.insert(g,A)}}})}(r.localStore,o))})}function HG(t,e){return v(this,null,function*(){let n=ie(t);if(!n.currentUser.isEqual(e)){z(LI,"User change. New user:",e.toKey());let r=yield EO(n.localStore,e);n.currentUser=e,function(o,s){o.cu.forEach(a=>{a.forEach(u=>{u.reject(new H(O.CANCELLED,s))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Dl(n,r.Ms)}})}function zG(t,e){let n=ie(t),r=n._u.get(e);if(r&&r.tu)return ve().add(r.key);{let i=ve(),o=n.iu.get(e);if(!o)return i;for(let s of o){let a=n.ru.get(s);i=i.unionWith(a.view.Wa)}return i}}function kO(t){let e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UG.bind(null,e),e.nu.Q_=PG.bind(null,e.eventManager),e.nu.Tu=NG.bind(null,e.eventManager),e}function qG(t){let e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BG.bind(null,e),e}var FO=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return v(this,null,function*(){this.serializer=lg(n.databaseInfo.databaseId),this.sharedClientState=this.Au(n),this.persistence=this.Ru(n),yield this.persistence.start(),this.localStore=this.Vu(n),this.gcScheduler=this.mu(n,this.localStore),this.indexBackfillerScheduler=this.fu(n,this.localStore)})}mu(n,r){return null}fu(n,r){return null}Vu(n){return hG(this.persistence,new Vw,n.initialUser,this.serializer)}Ru(n){return new Vp(kw.Ei,this.serializer)}Au(n){return new Bw}terminate(){return v(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),cI=class extends FO{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Ae(this.persistence.referenceDelegate instanceof Up,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Iw(r,e.asyncQueue,n)}Ru(e){let n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new Vp(r=>Up.Ei(r,n),this.serializer)}};var GG=(()=>{class t{initialize(n,r){return v(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=HG.bind(null,this.syncEngine),yield MG(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new tI}()}createDatastore(n){let r=lg(n.databaseInfo.databaseId),i=function(s){return new Gw(s)}(n.databaseInfo);return function(s,a,u,l){return new Yw(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new Zw(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>dx(this.syncEngine,r,0),function(){return Bp.C()?new Bp:new $w}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let g=new sI(o,s,a,u,l,h);return p&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return v(this,null,function*(){var n,r;yield function(o){return v(this,null,function*(){let s=ie(o);z(ps,"RemoteStore shutting down."),s.aa.add(5),yield Tl(s),s.ca.shutdown(),s.la.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Yp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Yi="FirestoreClient",uI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>v(this,null,function*(){z(Yi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z(Yi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new $n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=kI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function OE(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),z(Yi,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(null,null,function*(){r.isEqual(i)||(yield EO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function fx(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield WG(t);z(Yi,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cx(e.remoteStore,i)),t._onlineComponents=e})}function WG(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z(Yi,"Using user provided OfflineComponentProvider");try{yield OE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Va("Error using user provided cache. Falling back to memory cache: "+n),yield OE(t,new FO)}}else z(Yi,"Using default OfflineComponentProvider"),yield OE(t,new cI(void 0));return t._offlineComponents})}function LO(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(z(Yi,"Using user provided OnlineComponentProvider"),yield fx(t,t._uninitializedComponentsProvider._online)):(z(Yi,"Using default OnlineComponentProvider"),yield fx(t,new GG))),t._onlineComponents})}function KG(t){return LO(t).then(e=>e.syncEngine)}function VO(t){return v(this,null,function*(){let e=yield LO(t),n=e.eventManager;return n.onListen=xG.bind(null,e.syncEngine),n.onUnlisten=FG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LG.bind(null,e.syncEngine),n})}function QG(t,e,n={}){let r=new $n;return t.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,u,l){let h=new Yp({next:g=>{h.yu(),s.enqueueAndForget(()=>RO(o,p));let m=g.docs.has(a);!m&&g.fromCache?l.reject(new H(O.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&u&&u.source==="server"?l.reject(new H(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Wp(SI(a.path),h,{includeMetadataChanges:!0,Fa:!0});return AO(o,p)}(yield VO(t),t.asyncQueue,e,n,r)})),r.promise}function YG(t,e,n={}){let r=new $n;return t.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return function(o,s,a,u,l){let h=new Yp({next:g=>{h.yu(),s.enqueueAndForget(()=>RO(o,p)),g.fromCache&&u.source==="server"?l.reject(new H(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Wp(a,h,{includeMetadataChanges:!0,Fa:!0});return AO(o,p)}(yield VO(t),t.asyncQueue,e,n,r)})),r.promise}function UO(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var px=new Map;function jO(t,e,n){if(!n)throw new H(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JG(t,e,n,r){if(e===!0&&r===!0)throw new H(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gx(t){if(!Z.isDocumentKey(t))throw new H(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mx(t){if(Z.isDocumentKey(t))throw new H(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function ui(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=fg(t);throw new H(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var BO="firestore.googleapis.com",yx=!0,Jp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BO,this.ssl=yx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:yx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_O;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uG)throw new H(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Qa=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kE;switch(r.type){case"firstParty":return new UE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Ia("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=px.get(n);r&&(z("ComponentProvider","Removing Datastore"),px.delete(n),r.terminate())}(this),Promise.resolve()}};function $O(t,e,n,r={}){var i;t=ui(t,Qa);let o=Qo(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s.host!==BO&&s.host!==u&&Va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!ur(l,a)&&(t._setSettings(l),o&&(zf(`https://${u}`),Ia("Firestore",!0)),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=mt.MOCK_USER;else{h=BM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new H(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new mt(g)}t._authCredentials=new FE(new Cp(h,p))}}var gs=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Zt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Gi=class t extends gs{constructor(e,n,r){super(e,n,SI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new Z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function HO(t,e,...n){if(t=Tt(t),jO("collection","path",e),t instanceof Qa){let r=$e.fromString(e,...n);return mx(r),new Gi(t,null,r)}{if(!(t instanceof Zt||t instanceof Gi))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($e.fromString(e,...n));return mx(r),new Gi(t.firestore,null,r)}}function UI(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=Tp.newId()),jO("doc","path",e),t instanceof Qa){let r=$e.fromString(e,...n);return gx(r),new Zt(t,null,new Z(r))}{if(!(t instanceof Zt||t instanceof Gi))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($e.fromString(e,...n));return gx(r),new Zt(t.firestore,t instanceof Gi?t.converter:null,new Z(r))}}var vx="AsyncQueue",Zp=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new $p(this,"async_queue_retry"),this.ju=()=>{let r=xE();r&&z(vx,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let n=xE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let n=xE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let n=new $n;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return v(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Za(e))throw e;z(vx,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,ri("INTERNAL UNHANDLED ERROR: ",_x(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);let i=Xw.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&ee(47125,{ec:_x(this.Ku)})}verifyOperationInProgress(){}tc(){return v(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let n=this.Uu.indexOf(e);this.Uu.splice(n,1)}};function _x(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Ji=class extends Qa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Zp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Zp(e),this._firestoreClient=void 0,yield e}})}};function zO(t,e){let n=typeof t=="object"?t:Jo(),r=typeof t=="string"?t:e||Rp,i=Ta(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=jM("firestore");o&&$O(i,...o)}return i}function jI(t){if(t._terminated)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZG(t),t._firestoreClient}function ZG(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new zE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,UO(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var El=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ot.fromBase64String(e))}catch(n){throw new H(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var wl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Xp=class{constructor(e){this._methodName=e}};var Il=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var Cl=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var XG=/^__.*__$/,lI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new fs(e,this.data,n,this.fieldTransforms)}};function qO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{oc:t})}}var dI=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return eg(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(qO(this.oc)&&XG.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},hI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lg(e)}dc(e,n,r,i=!1){return new dI({oc:e,methodName:n,Ec:r,path:hn.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function BI(t){let e=t._freezeSettings(),n=lg(t._databaseId);return new hI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GO(t,e,n,r,i,o={}){let s=t.dc(o.merge||o.mergeFields?2:0,e,n,i);QO("Data must be an object, but it was:",s,r);let a=WO(r,s),u,l;if(o.merge)u=new pr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=t9(e,p,n);if(!s.contains(g))throw new H(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);r9(h,g)||h.push(g)}u=new pr(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new lI(new Bn(a),u,l)}function e9(t,e,n,r=!1){return $I(n,t.dc(r?4:3,e))}function $I(t,e){if(KO(t=Tt(t)))return QO("Unsupported field value:",e,t),WO(t,e);if(t instanceof Xp)return function(r,i){if(!qO(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=$I(a,i.Pc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Dt.fromDate(r);return{timestampValue:Fp(i.serializer,o)}}if(r instanceof Dt){let o=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fp(i.serializer,o)}}if(r instanceof Il)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof El)return{bytesValue:hO(i.serializer,r._byteString)};if(r instanceof Zt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:RI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cl)return function(s,a){return{mapValue:{fields:{[II]:{stringValue:CI},[ja]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Tc("VectorValues must only contain numeric values.");return AI(a.serializer,l)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${fg(r)}`)}(t,e)}function WO(t,e){let n={};return Vx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(t,(r,i)=>{let o=$I(i,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function KO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Il||t instanceof El||t instanceof Zt||t instanceof Xp||t instanceof Cl)}function QO(t,e,n){if(!KO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=fg(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function t9(t,e,n){if((e=Tt(e))instanceof wl)return e._internalPath;if(typeof e=="string")return YO(t,e);throw eg("Field path arguments must be of type string or ",t,!1,void 0,n)}var n9=new RegExp("[~\\*/\\[\\]]");function YO(t,e,n){if(e.search(n9)>=0)throw eg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wl(...e.split("."))._internalPath}catch{throw eg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function eg(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(O.INVALID_ARGUMENT,a+t+u)}function r9(t,e){return t.some(n=>n.isEqual(e))}var tg=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new fI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(pg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},fI=class extends tg{data(){return super.data()}};function pg(t,e){return typeof e=="string"?YO(t,e):e instanceof wl?e._internalPath:e._delegate._internalPath}function i9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bl=class{},ng=class extends bl{};function JO(t,e,...n){let r=[];e instanceof bl&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof pI).length,a=o.filter(u=>u instanceof rg).length;if(s>1||s>0&&a>0)throw new H(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var rg=class t extends ng{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return e1(e._query,n),new gs(e.firestore,e.converter,rw(e._query,n))}_parse(e){let n=BI(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){wx(p,h);let I=[];for(let A of p)I.push(Ex(u,o,A));g={arrayValue:{values:I}}}else g=Ex(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||wx(p,h),g=e9(a,s,p,h==="in"||h==="not-in");return rt.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function ZO(t,e,n){let r=e,i=pg("where",t);return rg._create(i,r,n)}var pI=class t extends bl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)e1(s,u),s=rw(s,u)}(e._query,n),new gs(e.firestore,e.converter,rw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var gI=class t extends ng{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new H(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ls(o,s)}(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Ki(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function XO(t,e="asc"){let n=e,r=pg("orderBy",t);return gI._create(r,n)}function Ex(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new H(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zx(e)&&n.indexOf("/")!==-1)throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child($e.fromString(n));if(!Z.isDocumentKey(r))throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jN(t,new Z(r))}if(n instanceof Zt)return jN(t,n._key);throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fg(n)}.`)}function wx(t,e){if(!Array.isArray(t)||t.length===0)throw new H(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e1(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var mI=class{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ms(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ja].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ue(s.doubleValue));return new Cl(o)}convertGeoPoint(e){return new Il(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ag(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){let n=ii(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=$e.fromString(e);Ae(vO(r),9688,{name:e});let i=new Mp(r.get(1),r.get(3)),o=new Z(r.popFirst(5));return i.isEqual(n)||ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function t1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var as=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ig=class extends tg{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new La(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},La=class extends ig{data(e={}){return super.data(e)}},yI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new as(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new La(this._firestore,this._userDataWriter,r.key,r,new as(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new La(i._firestore,i._userDataWriter,a.doc.key,a.doc,new as(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new La(i._firestore,i._userDataWriter,a.doc.key,a.doc,new as(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:o9(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function o9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}function n1(t){t=ui(t,Zt);let e=ui(t.firestore,Ji);return QG(jI(e),t._key).then(n=>s9(e,t,n))}var og=class extends mI{constructor(e){super(),this.firestore=e}convertBytes(e){return new El(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}};function r1(t){t=ui(t,gs);let e=ui(t.firestore,Ji),n=jI(e),r=new og(e);return i9(t._query),YG(n,t._query).then(i=>new yI(e,r,t,i))}function i1(t,e,n){t=ui(t,Zt);let r=ui(t.firestore,Ji),i=t1(t.converter,e,n);return HI(r,[GO(BI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ni.none())])}function o1(t){return HI(ui(t.firestore,Ji),[new gl(t._key,ni.none())])}function s1(t,e){let n=ui(t.firestore,Ji),r=UI(t),i=t1(t.converter,e);return HI(n,[GO(BI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then(()=>r)}function HI(t,e){return function(r,i){let o=new $n;return r.asyncQueue.enqueueAndForget(()=>v(null,null,function*(){return VG(yield KG(r),i,o)})),o.promise}(jI(t),e)}function s9(t,e,n){let r=n.docs.get(e._key),i=new og(t);return new ig(t,i,e._key,r,new as(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ya=i})(Li),Un(new Ut("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ji(new LE(r.getProvider("auth-internal")),new jE(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mp(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),We(MN,PN,e),We(MN,PN,"esm2017")})();var qn=class{constructor(e){return e}},a1="firestore",zI=class{constructor(){return Sa(a1)}};var qI=new U("angularfire2.firestore-instances");function a9(t,e){let n=qu(a1,t,e);return n&&new qn(n)}function c9(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new qn(r)}}var u9={provide:zI,deps:[[new an,qI]]},l9={provide:qn,useFactory:a9,deps:[[new an,qI],Yr]};function c1(t,...e){return We("angularfire",Vi.full,"fst"),qt([l9,u9,{provide:qI,useFactory:c9(t),multi:!0,deps:[Te,Ze,Ui,Xo,[new an,il],[new an,Aa],...e]}])}var u1=Ye(s1,!0,2);var GI=Ye(HO,!0,2);var l1=Ye(o1,!0,2);var Zi=Ye(UI,!0,2);var Sl=Ye(n1,!0);var d1=Ye(r1,!0);var h1=Ye(zO,!0);var f1=Ye(XO,!0,2),p1=Ye(JO,!0,2);var g1=Ye(i1,!0,2);var m1=Ye(ZO,!0,2);var kt=class t{constructor(e,n){this.auth=e;this.firestore=n;console.log("AuthService \u0441\u043E\u0437\u0434\u0430\u043D"),CN(this.auth).pipe(lt(r=>(console.log("Firebase Auth user state changed:",r?.uid),r?pe(this.getUserProfileFromFirestore(r.uid)).pipe(qe(i=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0438 \u043F\u0440\u043E\u0444\u0438\u043B\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0438\u0437 Firestore:",r.uid,i),$(null)))):$(null))),qe(r=>(console.error("\u041D\u0435\u043E\u0436\u0438\u0434\u0430\u043D\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430 \u0432 AuthState Observable:",r),this.logout(),$(null)))).subscribe(r=>{console.log("\u041E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 currentUserSubject:",r?r.id:"null"),this.currentUserSubject.next(r),r?localStorage.setItem("currentUserId",r.id):localStorage.removeItem("currentUserId")})}currentUserSubject=new ot(null);currentUser=this.currentUserSubject.asObservable();login(e,n){return console.log("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u043B\u043E\u0433\u0438\u043D\u0430 \u0434\u043B\u044F email:",e),pe(DN(this.auth,e,n)).pipe(lt(r=>r&&r.user?pe(this.getUserProfileFromFirestore(r.user.uid)):$(null)),xe(r=>{r?console.log("Firebase Auth login successful, user profile:",r.id):console.log("Login failed or user profile not found.")}),qe(r=>(console.error("Firebase Auth login error:",r.code,r.message),$(null))))}register(e,n,r){return console.log("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0434\u043B\u044F email:",e,"username:",r),pe(bN(this.auth,e,n)).pipe(lt(i=>v(this,null,function*(){console.log("Firebase Auth registration successful:",i.user.uid);let s=i.user.uid,a=Zi(this.firestore,`users/${s}`),u={username:r,description:"",avatarUrl:""};return yield g1(a,u),console.log("User profile document created in Firestore for UID:",s),L({id:s},u)})),xe(i=>{i&&console.log("Registration and profile creation complete:",i.id)}),qe(i=>(console.error("Firebase Auth registration or Firestore document creation error:",i.code,i.message),$(null))))}getUserProfileFromFirestore(e){return v(this,null,function*(){if(!e)return console.log("getUserProfileFromFirestore \u0432\u044B\u0437\u0432\u0430\u043D \u0431\u0435\u0437 uid."),null;console.log("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043F\u0440\u043E\u0444\u0438\u043B\u044C \u0438\u0437 Firestore \u0434\u043B\u044F UID:",e);let n=Zi(this.firestore,`users/${e}`),r=yield Sl(n);if(r.exists()){let i=r.data();return console.log("\u041F\u0440\u043E\u0444\u0438\u043B\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043F\u043E\u043B\u0443\u0447\u0435\u043D \u0438\u0437 Firestore:",e,i),L({id:r.id},i)}else return console.warn("\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442 \u043F\u0440\u043E\u0444\u0438\u043B\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D \u0432 Firestore \u0434\u043B\u044F UID:",e),null})}logout(){return console.log("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u043B\u043E\u0433\u0430\u0443\u0442\u0430."),pe(SN(this.auth)).pipe(xe(()=>{console.log("Firebase Auth logout successful.")}),qe(e=>(console.error("Firebase Auth logout error:",e.code,e.message),$(void 0))))}isLoggedIn(){return console.log("\u041F\u0440\u043E\u0432\u0435\u0440\u043A\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 isLoggedIn."),this.currentUser.pipe(te(e=>!!e))}getCurrentUserId(){return console.log("\u041F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0435 \u0442\u0435\u043A\u0443\u0449\u0435\u0433\u043E UID \u0438\u0437 BehaviorSubject."),this.currentUserSubject.value?.id||null}getUserById(e){if(console.log("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043F\u043E ID (UID) \u0438\u0437 Firestore:",e),!e)return console.warn("getUserById \u0432\u044B\u0437\u0432\u0430\u043D \u0431\u0435\u0437 id."),$(null);let n=Zi(this.firestore,`users/${e}`);return pe(Sl(n)).pipe(te(r=>{if(r.exists()){let i=r.data();return console.log("\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043F\u043E\u043B\u0443\u0447\u0435\u043D \u043F\u043E ID \u0438\u0437 Firestore:",r.id,i),L({id:r.id},i)}else return console.log(`\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0441 ID ${e} \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D \u0432 Firestore.`),null}),qe(r=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0438 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043F\u043E ID \u0438\u0437 Firestore:",e,r),$(null))))}static \u0275fac=function(n){return new(n||t)(Q(is),Q(qn))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};var gg=class t{constructor(e){this.authService=e;console.log("ProfileService \u0441\u043E\u0437\u0434\u0430\u043D")}getUserProfile(e){return console.log("ProfileService: \u043F\u043E\u043F\u044B\u0442\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043F\u0440\u043E\u0444\u0438\u043B\u044C \u0434\u043B\u044F userId:",e),this.authService.getUserById(e)}static \u0275fac=function(n){return new(n||t)(Q(kt))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};var mg=class t{constructor(e){this.firestore=e;console.log("SiteSettingsService \u0441\u043E\u0437\u0434\u0430\u043D")}getSiteSettings(){console.log("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0430\u0439\u0442\u0430 \u0438\u0437 Firestore.");let e=Zi(this.firestore,"settings/siteInfo");return pe(Sl(e)).pipe(te(n=>{if(n.exists()){let r=n.data();return console.log("\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0430\u0439\u0442\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u044B \u0438\u0437 Firestore: ",r),r}else return console.warn('\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442 \u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043A "settings/siteInfo" \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D \u0432 Firestore.'),null}),qe(n=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0438 \u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043A \u0441\u0430\u0439\u0442\u0430 \u0438\u0437 Firestore: ",n),$(null))))}static \u0275fac=function(n){return new(n||t)(Q(qn))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};function f9(t,e){if(t&1&&(P(0,"h2"),k(1),N(),P(2,"p"),k(3),N()),t&2){let n=It();Y(),Br("\u041F\u0440\u0438\u0432\u0435\u0442, ",n.currentUser.username,"!"),Y(2),Ct(n.currentUser.description||"\u0414\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043F\u0440\u043E\u0444\u0438\u043B\u044F.")}}function p9(t,e){t&1&&(P(0,"p"),k(1,"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 \u043F\u0440\u043E\u0444\u0438\u043B\u044F..."),N())}function g9(t,e){if(t&1&&(P(0,"th",4),k(1),N()),t&2){let n=e.$implicit;Y(),Ct(n)}}function m9(t,e){if(t&1&&(P(0,"tr")(1,"th",5),k(2),N()()),t&2){let n=e.$implicit;Y(2),Ct(n)}}var yg=class t{constructor(e,n,r,i){this.profileService=e;this.siteSettings=n;this.authService=r;this.router=i;console.log("ProfilePageComponent \u0441\u043E\u0437\u0434\u0430\u043D")}settings;currentUser=null;destroy$=new Ne;ngOnInit(){console.log("ProfilePageComponent OnInit"),this.siteSettings.getSiteSettings().pipe(nn(this.destroy$)).subscribe({next:e=>{console.log("\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u044B:",e),this.settings=e},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043A \u0441\u0430\u0439\u0442\u0430:",e)}}),this.authService.currentUser.pipe(nn(this.destroy$)).subscribe(e=>{this.currentUser=e,console.log("\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435 Profile:",this.currentUser?.username,"UID:",this.currentUser?.id),e||(console.log("\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0435 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u043D, \u0440\u0435\u0434\u0438\u0440\u0435\u043A\u0442 \u043D\u0430 /login."),this.router.navigate(["/login"]))})}ngOnDestroy(){console.log("ProfilePageComponent OnDestroy"),this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||t)(W(gg),W(mg),W(kt),W(bt))};static \u0275cmp=Ge({type:t,selectors:[["app-profile-page"]],decls:21,vars:2,consts:[[1,"profile-slidebar"],["src","Background-image.jpg","alt","Background image"],[1,"profile-stats"],[1,"profile-stats__stats-table"],["scope","col"],["scope","row"]],template:function(n,r){n&1&&(P(0,"main")(1,"section",0)(2,"h1"),k(3),N(),Re(4,"img",1),xn(5,f9,4,2)(6,p9,2,0,"p"),Re(7,"section"),N(),P(8,"section",2)(9,"h1"),k(10,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430"),N(),P(11,"table",3)(12,"thead")(13,"tr"),Re(14,"th",4),On(15,g9,2,1,"th",4,Ur),N()(),P(17,"tbody"),On(18,m9,3,1,"tr",null,Ur),N()(),Re(20,"section"),N()()),n&2&&(Y(3),Ct(r.settings==null||r.settings.ru==null||r.settings.ru.profile==null||r.settings.ru.profile.userInfo==null?null:r.settings.ru.profile.userInfo.title),Y(2),ir(r.currentUser?5:6),Y(10),kn(r.settings==null||r.settings.ru==null||r.settings.ru.profile==null||r.settings.ru.profile.userStats==null||r.settings.ru.profile.userStats.statsTable==null?null:r.settings.ru.profile.userStats.statsTable.columnTitle),Y(3),kn(r.settings==null||r.settings.ru==null||r.settings.ru.profile==null||r.settings.ru.profile.userStats==null||r.settings.ru.profile.userStats.statsTable==null?null:r.settings.ru.profile.userStats.statsTable.rowTitle))},dependencies:[Nt],styles:["[_nghost-%COMP%]{width:100%}main[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:25px;gap:25px}h1[_ngcontent-%COMP%]{margin:0;font-size:32px}.profile-slidebar[_ngcontent-%COMP%]{padding:20px;background-color:#000000bf;border-radius:10px;color:#fff;width:300px;display:flex;flex-direction:column;align-items:center;gap:10px}.profile-slidebar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:auto}.profile-stats[_ngcontent-%COMP%]{padding:20px;width:750px;background-color:#000000bf;border-radius:10px;color:#fff;display:flex;flex-direction:column;align-items:start;gap:10px}.profile-stats__stats-table[_ngcontent-%COMP%]{width:100%}.profile-stats__stats-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .profile-stats__stats-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 25px;height:25px;background-color:#ffffff40;font-size:20px}.profile-stats[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.profile-stats[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:auto}@media (max-width: 1200px){.profile-stats__stats-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .profile-stats__stats-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 10px;font-size:16px}}@media (max-width: 992px){main[_ngcontent-%COMP%]{flex-direction:column}.profile-slidebar[_ngcontent-%COMP%]{padding:10px;width:auto}.profile-slidebar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}.profile-slidebar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px}.profile-stats[_ngcontent-%COMP%]{width:auto}}@media (max-width: 567px){.profile-stats__stats-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .profile-stats__stats-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px;font-size:14px}}"]})};var y9=["mapContainer"],Xi=class t{mapContainer;map;routeLayer;markers=[];constructor(){}ngAfterViewInit(){this.initMap()}initMap(){return v(this,null,function*(){console.log("\u041D\u0430\u0447\u0430\u043B\u043E initMap..."),yield new Promise(e=>setTimeout(e,5e3)),console.log("\u0417\u0430\u0434\u0435\u0440\u0436\u043A\u0430 \u043F\u0435\u0440\u0435\u0434 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0435\u0439 \u043A\u0430\u0440\u0442\u044B \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0430.");try{let e=yield import("./chunk-FAOL3XIZ.js");if(!this.mapContainer||!this.mapContainer.nativeElement){console.warn("Map container not available for map initialization after delay.");return}if(console.log("\u0420\u0430\u0437\u043C\u0435\u0440\u044B \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0430 \u043A\u0430\u0440\u0442\u044B \u041F\u0415\u0420\u0415\u0414 L.map:",this.mapContainer.nativeElement.offsetWidth,this.mapContainer.nativeElement.offsetHeight),this.map=e.map(this.mapContainer.nativeElement,{}).setView([55.160077,61.397225],10),!this.map){console.error("\u041E\u0448\u0438\u0431\u043A\u0430: L.map \u043D\u0435 \u0432\u0435\u0440\u043D\u0443\u043B \u043E\u0431\u044A\u0435\u043A\u0442 \u043A\u0430\u0440\u0442\u044B \u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043F\u044B\u0442\u043A\u0438 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438. \u0420\u0430\u0437\u043C\u0435\u0440\u044B \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440\u0430 \u0431\u044B\u043B\u0438:",this.mapContainer.nativeElement.offsetWidth,this.mapContainer.nativeElement.offsetHeight);return}e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(this.map),console.log("\u041A\u0430\u0440\u0442\u0430 Leaflet \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0438 \u0441\u043B\u043E\u0439 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D.")}catch(e){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 Leaflet",e)}console.log("initMap \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D.")})}drawRoute(e){return v(this,null,function*(){let n=yield import("./chunk-FAOL3XIZ.js");this.clearRoute();try{e?.routes?.[0]?.geometry&&(this.routeLayer=n.geoJSON(e.routes[0].geometry,{style:{color:"rgb(23, 75, 45)",weight:5}}).addTo(this.map),this.routeLayer&&this.routeLayer.getBounds().isValid()&&this.map.fitBounds(this.routeLayer.getBounds()))}catch(r){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043E\u0442\u0440\u0438\u0441\u043E\u0432\u043A\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430",r)}})}addMarkers(e,n){return v(this,null,function*(){let r=yield import("./chunk-FAOL3XIZ.js");this.clearMarkers();try{let i=r.marker(e).addTo(this.map).bindPopup("\u041D\u0430\u0447\u0430\u043B\u043E").openPopup();this.markers.push(i);let o=r.marker(n).addTo(this.map).bindPopup("\u041A\u043E\u043D\u0435\u0446");this.markers.push(o)}catch(i){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u043A\u0435\u0440\u043E\u0432",i)}})}addMark(e){return v(this,null,function*(){let n=yield import("./chunk-FAOL3XIZ.js");this.clearMarkers();try{let r=n.marker(e).addTo(this.map).bindPopup("\u042F").openPopup();this.markers.push(r)}catch(r){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u043A\u0435\u0440\u043E\u0432",r)}})}clearRoute(){this.routeLayer&&(this.map.removeLayer(this.routeLayer),this.routeLayer=void 0)}clearMarkers(){this.markers.length>0&&(this.markers.forEach(e=>this.map.removeLayer(e)),this.markers=[])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ge({type:t,selectors:[["app-map"]],viewQuery:function(n,r){if(n&1&&oa(y9,5),n&2){let i;Oo(i=ko())&&(r.mapContainer=i.first)}},decls:2,vars:0,consts:[["mapContainer",""],[1,"map-container"]],template:function(n,r){n&1&&Re(0,"div",1,0)},styles:["[_nghost-%COMP%]{width:100%;height:100vh;max-height:1000px}.map-container[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;border:5px solid rgb(0,0,0)}"]})};var D1=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(W(Mi),W(mn))};static \u0275dir=Xe({type:t})}return t})(),JI=(()=>{class t extends D1{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ri(t)))(i||t)}})();static \u0275dir=Xe({type:t,features:[Nn]})}return t})(),Tg=new U("");var v9={provide:Tg,useExisting:xr(()=>_r),multi:!0};function _9(){let t=_n()?_n().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var E9=new U(""),_r=(()=>{class t extends D1{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!_9())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(W(Mi),W(mn),W(E9,8))};static \u0275dir=Xe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ie("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Fo([v9]),Nn]})}return t})();function w9(t){return t==null||I9(t)===0}function I9(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var ZI=new U(""),S1=new U("");function C9(t){return w9(t.value)?{required:!0}:null}function y1(t){return null}function A1(t){return t!=null}function R1(t){return Pi(t)?pe(t):t}function M1(t){let e={};return t.forEach(n=>{e=n!=null?L(L({},e),n):e}),Object.keys(e).length===0?null:e}function P1(t,e){return e.map(n=>n(t))}function b9(t){return!t.validate}function N1(t){return t.map(e=>b9(e)?e:n=>e.validate(n))}function T9(t){if(!t)return null;let e=t.filter(A1);return e.length==0?null:function(n){return M1(P1(n,e))}}function XI(t){return t!=null?T9(N1(t)):null}function D9(t){if(!t)return null;let e=t.filter(A1);return e.length==0?null:function(n){let r=P1(n,e).map(R1);return jm(r).pipe(te(M1))}}function eC(t){return t!=null?D9(N1(t)):null}function v1(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function S9(t){return t._rawValidators}function A9(t){return t._rawAsyncValidators}function KI(t){return t?Array.isArray(t)?t:[t]:[]}function _g(t,e){return Array.isArray(t)?t.includes(e):t===e}function _1(t,e){let n=KI(e);return KI(t).forEach(i=>{_g(n,i)||n.push(i)}),n}function E1(t,e){return KI(e).filter(n=>!_g(t,n))}var Eg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=XI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},nc=class extends Eg{name;get formDirective(){return null}get path(){return null}},xl=class extends Eg{_parent=null;name=null;valueAccessor=null},wg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},R9={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Fae=fe(L({},R9),{"[class.ng-submitted]":"isSubmitted"}),to=(()=>{class t extends wg{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(W(xl,2))};static \u0275dir=Xe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Vr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Nn]})}return t})(),no=(()=>{class t extends wg{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(W(nc,10))};static \u0275dir=Xe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Vr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Nn]})}return t})();var Al="VALID",vg="INVALID",ec="PENDING",Rl="DISABLED",eo=class{},Ig=class extends eo{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Pl=class extends eo{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Nl=class extends eo{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},tc=class extends eo{status;source;constructor(e,n){super(),this.status=e,this.source=n}},QI=class extends eo{source;constructor(e){super(),this.source=e}},YI=class extends eo{source;constructor(e){super(),this.source=e}};function x1(t){return(Dg(t)?t.validators:t)||null}function M9(t){return Array.isArray(t)?XI(t):t||null}function O1(t,e){return(Dg(e)?e.asyncValidators:t)||null}function P9(t){return Array.isArray(t)?eC(t):t||null}function Dg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function N9(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function x9(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var Cg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vn(this.statusReactive)}set status(e){vn(()=>this.statusReactive.set(e))}_status=Uo(()=>this.statusReactive());statusReactive=Po(void 0);get valid(){return this.status===Al}get invalid(){return this.status===vg}get pending(){return this.status==ec}get disabled(){return this.status===Rl}get enabled(){return this.status!==Rl}errors;get pristine(){return vn(this.pristineReactive)}set pristine(e){vn(()=>this.pristineReactive.set(e))}_pristine=Uo(()=>this.pristineReactive());pristineReactive=Po(!0);get dirty(){return!this.pristine}get touched(){return vn(this.touchedReactive)}set touched(e){vn(()=>this.touchedReactive.set(e))}_touched=Uo(()=>this.touchedReactive());touchedReactive=Po(!1);get untouched(){return!this.touched}_events=new Ne;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(_1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(E1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(E1(e,this._rawAsyncValidators))}hasValidator(e){return _g(this._rawValidators,e)}hasAsyncValidator(e){return _g(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(L({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Nl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Nl(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(L({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Pl(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Pl(!0,r))}markAsPending(e={}){this.status=ec;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new tc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(L({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Rl,this.errors=null,this._forEachChild(i=>{i.disable(fe(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ig(this.value,r)),this._events.next(new tc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(L({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Al,this._forEachChild(r=>{r.enable(fe(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(L({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Al||this.status===ec)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ig(this.value,n)),this._events.next(new tc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(L({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rl:Al}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ec,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=R1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new tc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?Rl:this.errors?vg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ec)?ec:this._anyControlsHaveStatus(vg)?vg:Al}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Pl(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Nl(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=M9(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=P9(this._rawAsyncValidators)}},bg=class extends Cg{constructor(e,n,r){super(x1(n),O1(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){x9(this,!0,e),Object.keys(e).forEach(r=>{N9(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var tC=new U("",{providedIn:"root",factory:()=>nC}),nC="always";function O9(t,e){return[...e.path,t]}function k1(t,e,n=nC){F1(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),F9(t,e),V9(t,e),L9(t,e),k9(t,e)}function w1(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function k9(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function F1(t,e){let n=S9(t);e.validator!==null?t.setValidators(v1(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=A9(t);e.asyncValidator!==null?t.setAsyncValidators(v1(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();w1(e._rawValidators,i),w1(e._rawAsyncValidators,i)}function F9(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&L1(t,e)})}function L9(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&L1(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function L1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function V9(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function U9(t,e){t==null,F1(t,e)}function j9(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function B9(t){return Object.getPrototypeOf(t.constructor)===JI}function $9(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function H9(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===_r?n=o:B9(o)?r=o:i=o}),i||r||n||null}var z9={provide:nc,useExisting:xr(()=>li)},Ml=Promise.resolve(),li=(()=>{class t extends nc{callSetDisabledState;get submitted(){return vn(this.submittedReactive)}_submitted=Uo(()=>this.submittedReactive());submittedReactive=Po(!1);_directives=new Set;form;ngSubmit=new je;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new bg({},XI(n),eC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ml.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),k1(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ml.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ml.then(()=>{let r=this._findContainer(n.path),i=new bg({});U9(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ml.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ml.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),$9(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new QI(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new YI(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(W(ZI,10),W(S1,10),W(tC,8))};static \u0275dir=Xe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ie("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Fo([z9]),Nn]})}return t})();function I1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function C1(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var q9=class extends Cg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(x1(n),O1(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(C1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){I1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){I1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){C1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var G9={provide:xl,useExisting:xr(()=>di)},b1=Promise.resolve(),di=(()=>{class t extends xl{_changeDetectorRef;callSetDisabledState;control=new q9;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new je;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=H9(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),j9(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){k1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){b1.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Vo(r);b1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?O9(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(W(nc,9),W(ZI,10),W(S1,10),W(Tg,10),W(Lo,8),W(tC,8))};static \u0275dir=Xe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Fo([G9]),Nn,Si]})}return t})();var ro=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Xe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var W9={provide:Tg,useExisting:xr(()=>rc),multi:!0};function V1(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function K9(t){return t.split(":")[0]}var rc=(()=>{class t extends JI{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=V1(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=K9(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ri(t)))(i||t)}})();static \u0275dir=Xe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ie("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Fo([W9]),Nn]})}return t})(),Sg=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(V1(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(W(mn),W(Mi),W(rc,9))};static \u0275dir=Xe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),Q9={provide:Tg,useExisting:xr(()=>U1),multi:!0};function T1(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Y9(t){return t.split(":")[0]}var U1=(()=>{class t extends JI{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=Y9(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ri(t)))(i||t)}})();static \u0275dir=Xe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ie("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Fo([Q9]),Nn]})}return t})(),Ag=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(T1(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(T1(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(W(mn),W(Mi),W(U1,9))};static \u0275dir=Xe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var J9=(()=>{class t{_validator=y1;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):y1,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Xe({type:t,features:[Si]})}return t})();var Z9={provide:ZI,useExisting:xr(()=>Ol),multi:!0};var Ol=(()=>{class t extends J9{required;inputName="required";normalizeInput=Vo;createValidator=n=>C9;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ri(t)))(i||t)}})();static \u0275dir=Xe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ou("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Fo([Z9]),Nn]})}return t})();var X9=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Fr({type:t});static \u0275inj=Or({})}return t})();var Er=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:tC,useValue:n.callSetDisabledState??nC}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Fr({type:t});static \u0275inj=Or({imports:[X9]})}return t})();function eW(t,e){if(t&1&&(P(0,"div",9)(1,"div",10)(2,"label",11),k(3,"\u0420\u0430\u0441\u0447\u0451\u0442\u043D\u043E\u0435 \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438"),N(),P(4,"p",12),k(5),N()()()),t&2){let n=It();Y(5),Ct(n.routeData.time)}}var Mg=class t{routeData;startAddressChange=new je;endAddressChange=new je;modeChange=new je;startAddress="";endAddress="";mode="car";constructor(){console.log("RouteInfoComponent \u0441\u043E\u0437\u0434\u0430\u043D")}onStartAddressChange(e){this.startAddressChange.emit(e),console.log("RouteInfo: startAddress \u0438\u0437\u043C\u0435\u043D\u0435\u043D",e)}onEndAddressChange(e){this.endAddressChange.emit(e),console.log("RouteInfo: endAddress \u0438\u0437\u043C\u0435\u043D\u0435\u043D",e)}onModeChange(e){this.modeChange.emit(e),console.log("RouteInfo: mode \u0438\u0437\u043C\u0435\u043D\u0435\u043D",e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ge({type:t,selectors:[["app-route-info"]],inputs:{routeData:"routeData"},outputs:{startAddressChange:"startAddressChange",endAddressChange:"endAddressChange",modeChange:"modeChange"},decls:17,vars:4,consts:[[1,"route-form"],[1,"route-form__title"],[1,"route-form__label"],["placeholder","\u041E\u0442\u043A\u0443\u0434\u0430","name","startAddress",1,"route-form__input",3,"ngModelChange","ngModel"],["placeholder","\u041A\u0443\u0434\u0430","name","endAddress",1,"route-form__input",3,"ngModelChange","ngModel"],["name","mode",1,"route-form__select",3,"ngModelChange","ngModel"],["value","foot"],["value","bike"],["value","car"],[1,"route-form__time-info"],[1,"route-form__time-item"],[1,"route-form__time-label"],[1,"route-form__time-value"]],template:function(n,r){n&1&&(P(0,"form",0)(1,"h1",1),k(2,"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0435"),N(),P(3,"label",2),k(4,"\u041C\u0435\u0441\u0442\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F"),N(),P(5,"input",3),Ie("ngModelChange",function(o){return r.onStartAddressChange(o)}),N(),P(6,"label",2),k(7,"\u041C\u0435\u0441\u0442\u043E \u043F\u0440\u0438\u0431\u044B\u0442\u0438\u044F"),N(),P(8,"input",4),Ie("ngModelChange",function(o){return r.onEndAddressChange(o)}),N(),P(9,"select",5),Ie("ngModelChange",function(o){return r.onModeChange(o)}),P(10,"option",6),k(11,"\u041F\u0435\u0448\u043A\u043E\u043C"),N(),P(12,"option",7),k(13,"\u0412\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434"),N(),P(14,"option",8),k(15,"\u0410\u0432\u0442\u043E"),N()(),xn(16,eW,6,1,"div",9),N()),n&2&&(Y(5),Lr("ngModel",r.startAddress),Y(3),Lr("ngModel",r.endAddress),Y(),Lr("ngModel",r.mode),Y(7),ir(r.routeData?16:-1))},dependencies:[Nt,Er,ro,Sg,Ag,_r,rc,to,no,di,li],styles:[".route-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:max-content;background-color:#000000bf;border-radius:10px;padding:25px}.route-form__label[_ngcontent-%COMP%]{font-size:20px;margin-bottom:5px}.route-form__input[_ngcontent-%COMP%], .route-form__select[_ngcontent-%COMP%]{margin-bottom:25px;width:100%;height:35px;border-radius:10px;font-family:Playfair Display,serif;font-size:16px}.route-form__select[_ngcontent-%COMP%]{width:250px}.route-form__title[_ngcontent-%COMP%]{font-family:Playfair Display SC,serif;margin-top:0;font-size:32px;text-align:center}.route-form__time-info[_ngcontent-%COMP%]{display:flex;gap:25px}.route-form__time-info__time-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#ffffffbf;padding:10px;border-radius:10px;color:#000}.route-form__time-info__time-item__label[_ngcontent-%COMP%]{font-size:16px;margin-bottom:5px}.route-form__time-info__time-item__value[_ngcontent-%COMP%]{font-size:32px;margin:0}@media (max-width: 567px){.route-form[_ngcontent-%COMP%]{padding:15px}.route-form__label[_ngcontent-%COMP%]{font-size:16px}.route-form__input[_ngcontent-%COMP%], .route-form__select[_ngcontent-%COMP%]{margin-bottom:15px;font-size:14px}.route-form__title[_ngcontent-%COMP%]{font-size:26px}.route-form__time-info[_ngcontent-%COMP%]{gap:10px}.route-form__time-info__time-item__value[_ngcontent-%COMP%]{font-size:26px}}"]})};var ic=class t{constructor(e,n){this.http=e;this.firestore=n;console.log("RouteService \u0441\u043E\u0437\u0434\u0430\u043D")}nom_url="https://nominatim.openstreetmap.org/search";osrm_template_url="https://routing.openstreetmap.de/routed-";geocode(e){return v(this,null,function*(){let n=`${this.nom_url}?format=json&q=${encodeURIComponent(e)}`;console.log("\u0417\u0430\u043F\u0440\u043E\u0441 \u0433\u0435\u043E\u043A\u043E\u0434\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F:",n);try{let r=yield bd(this.http.get(n));if(console.log("\u041E\u0442\u0432\u0435\u0442 \u0433\u0435\u043E\u043A\u043E\u0434\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F:",r),r&&r.length>0)return[parseFloat(r[0].lat),parseFloat(r[0].lon)];throw console.log("\u0410\u0434\u0440\u0435\u0441 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D:",e),new Error("\u0410\u0434\u0440\u0435\u0441 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D")}catch(r){throw console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0433\u0435\u043E\u043A\u043E\u0434\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F:",r),r}})}getRoute(e,n,r){return v(this,null,function*(){let i=this.getMode(r),o=`${e[1]},${e[0]};${n[1]},${n[0]}`,s=`${this.osrm_template_url}${i}/route/v1/${i}/${o}?overview=full&geometries=geojson&steps=true`;console.log("\u0417\u0430\u043F\u0440\u043E\u0441 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",s);try{let a=yield bd(this.http.get(s));return console.log("\u041E\u0442\u0432\u0435\u0442 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",a),a}catch(a){throw console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",a),a}})}saveRoute(e,n){if(console.log("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0434\u043B\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F:",n,"\u0434\u0430\u043D\u043D\u044B\u0435:",e),!n)return console.error("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0431\u0435\u0437 userId."),alert("\u041E\u0448\u0438\u0431\u043A\u0430: \u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0434\u043B\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),$(null);let r=GI(this.firestore,"routes"),i=null,o=null;try{e.routes&&(i=JSON.stringify(e.routes)),e.waypoints&&(o=JSON.stringify(e.waypoints))}catch(a){return console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u0430\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0432 JSON:",a),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u043A\u0435 \u0434\u0430\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u043A \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044E."),$(null)}let s={userId:n,createdAt:new Date,startAddress:e.startAddress,endAddress:e.endAddress,mode:e.mode,routesJson:i,waypointsJson:o,duration:e.routes?.[0]?.duration,distance:e.routes?.[0]?.distance};return pe(u1(r,s)).pipe(xe(a=>{console.log("\u041C\u0430\u0440\u0448\u0440\u0443\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D \u0432 Firestore \u0441 ID:",a.id,"\u0434\u043B\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",n),alert("\u041C\u0430\u0440\u0448\u0440\u0443\u0442 \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D")}),qe(a=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0432 Firestore:",a),alert("\u0412\u044B\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438"),$(null))))}loadRoutes(e){if(console.log("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u0434\u043B\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F:",e),!e)return console.warn("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u0431\u0435\u0437 userId."),$([]);let n=GI(this.firestore,"routes"),r=p1(n,m1("userId","==",e),f1("createdAt","desc"));return pe(d1(r)).pipe(te(i=>{let o=[];return i.forEach(s=>{let a=s.data(),u=null,l=null;try{a.routesJson&&typeof a.routesJson=="string"&&(u=JSON.parse(a.routesJson)),a.waypointsJson&&typeof a.waypointsJson=="string"&&(l=JSON.parse(a.waypointsJson))}catch(p){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0430\u0440\u0441\u0438\u043D\u0433\u0430 JSON \u0434\u0430\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",s.id,p);return}let h={id:s.id,userId:a.userId,createdAt:a.createdAt,startAddress:a.startAddress,endAddress:a.endAddress,mode:a.mode,routes:u,waypoints:l,duration:a.duration,distance:a.distance};o.push(h)}),console.log("\u041C\u0430\u0440\u0448\u0440\u0443\u0442\u044B \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u044B \u0438 \u0440\u0430\u0441\u043F\u0430\u0440\u0441\u0435\u043D\u044B \u0438\u0437 Firestore \u0434\u043B\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",e,":",o.length),o}),qe(i=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u0438\u043B\u0438 \u043F\u0430\u0440\u0441\u0438\u043D\u0433\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u0438\u0437 Firestore:",i),$([]))))}deleteRoute(e){if(console.log("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",e),!e)return console.warn("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0431\u0435\u0437 routeId."),$(void 0);let n=Zi(this.firestore,`routes/${e}`);return pe(l1(n)).pipe(xe(()=>{console.log("\u041C\u0430\u0440\u0448\u0440\u0443\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D \u0438\u0437 Firestore:",e)}),qe(r=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0438\u0437 Firestore:",e,r),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),$(void 0))))}getMode(e){switch(e){case"foot":return"foot";case"bike":return"bike";default:return"car"}}static \u0275fac=function(n){return new(n||t)(Q(lf),Q(qn))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};var Pg=class t{constructor(e,n,r){this.routeService=e;this.authService=n;this.router=r;console.log("AddRoutePageComponent \u0441\u043E\u0437\u0434\u0430\u043D")}mapComponent;startAddress="";endAddress="";mode="car";routeInfo;currentRoute;currentUser=null;destroy$=new Ne;ngOnInit(){console.log("AddRoutePageComponent OnInit"),this.authService.currentUser.pipe(nn(this.destroy$)).subscribe(e=>{this.currentUser=e,console.log("\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435 AddRoute:",this.currentUser?.username,"UID:",this.currentUser?.id)})}ngOnDestroy(){console.log("AddRoutePageComponent OnDestroy"),this.destroy$.next(),this.destroy$.complete()}onStartAddressChange(e){this.startAddress=e,console.log("\u0412 \u0440\u043E\u0434. \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u0435 \u0438\u0437\u043C\u0435\u043D\u0438\u043B\u0441\u044F \u0441\u0442\u0430\u0440\u0442\u043E\u0432\u044B\u0439 \u0430\u0434\u0440\u0435\u0441: ",e)}onEndAddressChange(e){this.endAddress=e,console.log("\u0412 \u0440\u043E\u0434. \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u0435 \u0438\u0437\u043C\u0435\u043D\u0438\u043B\u0441\u044F \u043A\u043E\u043D\u0435\u0447\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441: ",e)}onModeChange(e){this.mode=e,console.log("\u0412 \u0440\u043E\u0434. \u043A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442\u0435 \u0438\u0437\u043C\u0435\u043D\u0438\u043B\u0441\u044F \u0442\u0438\u043F \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430: ",e)}calculateRoute(){return v(this,null,function*(){if(console.log("\u0417\u0430\u043F\u0443\u0449\u0435\u043D \u0440\u0430\u0441\u0447\u0435\u0442 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430..."),!this.startAddress||!this.endAddress){alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441\u0430");return}try{let e=yield this.routeService.geocode(this.startAddress),n=yield this.routeService.geocode(this.endAddress);this.mapComponent.addMarkers(e,n);let r=yield this.routeService.getRoute(e,n,this.mode);this.processRouteData(r)}catch(e){alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u0441\u0442\u0440\u043E\u0435\u043D\u0438\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430. \u041F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u0430\u0434\u0440\u0435\u0441\u043E\u0432."),console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",e)}})}processRouteData(e){console.log("\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430..."),this.mapComponent.drawRoute(e),this.currentRoute=e,this.currentRoute.startAddress=this.startAddress,this.currentRoute.endAddress=this.endAddress,this.currentRoute.mode=this.mode,e&&e.routes&&e.routes[0]&&e.routes[0].duration!==void 0&&e.routes[0].distance!==void 0?this.routeInfo={from:this.startAddress,to:this.endAddress,time:this.timeFormat(e.routes[0].duration),distance:`${(e.routes[0].distance/1e3).toFixed(2)} \u043A\u043C`}:(console.warn("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043F\u043E\u043B\u043D\u0443\u044E \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044E \u043E \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0435 (duration/distance)."),this.routeInfo={from:this.startAddress,to:this.endAddress,time:"\u041D/\u0414",distance:"\u041D/\u0414"}),console.log("\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0430.")}saveRoute(){if(console.log('\u041D\u0430\u0436\u0430\u0442\u0430 \u043A\u043D\u043E\u043F\u043A\u0430 "\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442".'),!this.currentUser||!this.currentUser.id){alert("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u043E\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442, \u0447\u0442\u043E\u0431\u044B \u0441\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442."),this.router.navigate(["/login"]);return}if(!this.currentRoute){alert("\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043F\u043E\u0441\u0442\u0440\u043E\u0439\u0442\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442.");return}this.routeService.saveRoute(this.currentRoute,this.currentUser.id).pipe(nn(this.destroy$)).subscribe()}timeFormat(e){if(e==null||isNaN(e))return"\u041D\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044F \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u0432\u0440\u0435\u043C\u044F";let n=Math.floor(e/86400),r=Math.floor(e%86400/3600),i=Math.floor(e%3600/60),o=Math.floor(e%60/1),s=[];return n>0&&s.push(`${n} \u0434`),r>0&&s.push(`${r} \u0447`),i>0&&s.push(`${i} \u043C\u0438\u043D`),o>0&&s.length===0&&s.push(`${o} \u0441\u0435\u043A`),s.length>0?s.join(" "):"\u041C\u0435\u043D\u0435\u0435 \u043C\u0438\u043D\u0443\u0442\u044B"}position(){alert("\u0424\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u0438\u044F \u043F\u043E\u0437\u0438\u0446\u0438\u0438 \u0435\u0449\u0435 \u043D\u0435 \u043F\u043E\u043B\u043D\u043E\u0441\u0442\u044C\u044E \u0440\u0435\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u043D \u0434\u043B\u044F \u044D\u0442\u043E\u0439 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B.")}static \u0275fac=function(n){return new(n||t)(W(ic),W(kt),W(bt))};static \u0275cmp=Ge({type:t,selectors:[["app-add-route-page"]],viewQuery:function(n,r){if(n&1&&oa(Xi,5),n&2){let i;Oo(i=ko())&&(r.mapComponent=i.first)}},decls:10,vars:1,consts:[[1,"main-page"],[1,"main-page__text-box"],[3,"startAddressChange","endAddressChange","modeChange","routeData"],[1,"main-page__add-route-btn",3,"click"],[1,"main-page__map-box"],[3,"click"]],template:function(n,r){n&1&&(P(0,"main",0)(1,"section",1)(2,"app-route-info",2),Ie("startAddressChange",function(o){return r.onStartAddressChange(o)})("endAddressChange",function(o){return r.onEndAddressChange(o)})("modeChange",function(o){return r.onModeChange(o)}),N(),P(3,"button",3),Ie("click",function(){return r.calculateRoute()}),k(4,"\u041F\u043E\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442"),N(),P(5,"button",3),Ie("click",function(){return r.saveRoute()}),k(6,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442"),N()(),P(7,"section",4),Re(8,"app-map"),N()(),P(9,"button",5),Ie("click",function(){return r.position()}),N()),n&2&&(Y(2),Lr("routeData",r.routeInfo))},dependencies:[Xi,Nt,Er,Mg],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.main-page[_ngcontent-%COMP%]{display:flex;gap:50px;width:calc(100% - 40px);align-items:center;justify-content:center;padding:20px;max-width:1920px;margin:0 auto;font-family:Playfair Display,serif;color:#fff}.main-page__text-box[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:25px}.main-page__add-route-btn[_ngcontent-%COMP%]{width:max-content;height:max-content;padding:10px;background-color:#004b00e6;font-family:Playfair Display,serif;font-size:28px;color:#fff;border:5px solid rgb(255,255,255);border-radius:10px;box-shadow:0 0 10px #000000bf;cursor:pointer}.main-page__add-route-btn[_ngcontent-%COMP%]:hover{background-color:#afffafe6;color:#000;border:5px solid rgb(0,0,0)}.main-page__map-box[_ngcontent-%COMP%]{width:60%;height:500px}@media (max-width: 1400px){.main-page__text-box[_ngcontent-%COMP%], .main-page__map-box[_ngcontent-%COMP%]{width:50%}}@media (max-width: 1200px){.main-page[_ngcontent-%COMP%]{flex-direction:column}.main-page__text-box[_ngcontent-%COMP%], .main-page__map-box[_ngcontent-%COMP%]{width:100%}}"]})};var tW=(t,e)=>e.id;function nW(t,e){t&1&&(P(0,"div"),k(1,"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u043E\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442, \u0447\u0442\u043E\u0431\u044B \u0443\u0432\u0438\u0434\u0435\u0442\u044C \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B."),N())}function rW(t,e){t&1&&(P(0,"div"),k(1,"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432..."),N())}function iW(t,e){t&1&&(P(0,"div"),k(1,"\u0423 \u0432\u0430\u0441 \u043F\u043E\u043A\u0430 \u043D\u0435\u0442 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432."),N())}function oW(t,e){if(t&1&&(P(0,"div"),k(1),qh(2,"date"),N()),t&2){let n=It().$implicit;Y(),Br(" \u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D: ",$A(2,1,n.createdAt,"short")," ")}}function sW(t,e){if(t&1){let n=jr();P(0,"article",17),Ie("click",function(){let i=er(n).$implicit,o=It(2);return tr(o.drawRoute(i))}),P(1,"div"),k(2),N(),P(3,"div"),k(4),N(),P(5,"div"),k(6),N(),xn(7,oW,3,4,"div"),P(8,"button",18),Ie("click",function(i){let o=er(n).$implicit,s=It(2);return tr(s.deleteRoute(i,o))}),k(9,"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"),N()()}if(t&2){let n=e.$implicit;Y(2),Br(" \u041E\u0442: ",n.startAddress," "),Y(2),Br(" \u0414\u043E: ",n.endAddress," "),Y(2),Br(" \u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442: ",n.mode," "),Y(),ir(n.createdAt?7:-1)}}function aW(t,e){if(t&1&&(P(0,"section",14),On(1,sW,10,4,"article",16,tW),N()),t&2){let n=It();Y(),kn(n.routes)}}var Ng=class t{constructor(e,n,r){this.routeService=e;this.authService=n;this.router=r;console.log("SavedPageComponent \u0441\u043E\u0437\u0434\u0430\u043D")}mapComponent;routes=null;allUserRoutes=[];filterFrom="";filterTo="";filterTime="";filterMode="";currentUser=null;destroy$=new Ne;ngOnInit(){console.log("SavedPageComponent OnInit"),this.authService.currentUser.pipe(nn(this.destroy$)).subscribe(e=>{this.currentUser=e,console.log("\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0430 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435 Saved:",this.currentUser?.username,"UID:",this.currentUser?.id),e&&e.id?this.loadRoutes(e.id):(this.routes=[],this.allUserRoutes=[],console.log("\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0435 \u0437\u0430\u043B\u043E\u0433\u0438\u043D\u0435\u043D, \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B \u043D\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B."))})}ngOnDestroy(){console.log("SavedPageComponent OnDestroy"),this.destroy$.next(),this.destroy$.complete()}loadRoutes(e){console.log("\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u0434\u043B\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F:",e),this.routeService.loadRoutes(e).pipe(nn(this.destroy$)).subscribe({next:n=>{this.allUserRoutes=n||[],console.log("\u041C\u0430\u0440\u0448\u0440\u0443\u0442\u044B \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u044B:",this.allUserRoutes.length),this.applyFilters()},error:n=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F:",e,n),this.allUserRoutes=[],this.routes=[],alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432.")}})}applyFilters(){if(console.log("\u041F\u0440\u0438\u043C\u0435\u043D\u0435\u043D\u0438\u0435 \u0444\u0438\u043B\u044C\u0442\u0440\u043E\u0432."),!this.allUserRoutes){this.routes=[];return}this.routes=this.allUserRoutes.filter(e=>{if(this.filterFrom&&!e.startAddress.toLowerCase().includes(this.filterFrom.toLowerCase())||this.filterTo&&!e.endAddress.toLowerCase().includes(this.filterTo.toLowerCase())||this.filterMode&&e.mode!==this.filterMode)return!1;if(this.filterTime)try{let n=null;if(e.createdAt instanceof Date)n=e.createdAt;else if(e.createdAt&&typeof e.createdAt=="object"&&typeof e.createdAt.toDate=="function")n=e.createdAt.toDate();else if(typeof e.createdAt=="string")try{n=new Date(e.createdAt),isNaN(n.getTime())&&(n=null)}catch{n=null}if(!n)return console.error("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 Date \u043E\u0431\u044A\u0435\u043A\u0442 \u0438\u0437:",e.createdAt),!1;if(n.toISOString().split("T")[0]!==this.filterTime)return!1}catch(n){return console.error("\u041D\u0435\u043F\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043D\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0444\u043E\u0440\u043C\u0430\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0438 \u0438\u043B\u0438 \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u0446\u0438\u0438 \u0434\u0430\u0442\u044B:",e.createdAt,n),!1}return!0}),console.log("\u041E\u0442\u0444\u0438\u043B\u044C\u0442\u0440\u043E\u0432\u0430\u043D\u043E \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432:",this.routes.length)}resetFilters(){console.log("\u0421\u0431\u0440\u043E\u0441 \u0444\u0438\u043B\u044C\u0442\u0440\u043E\u0432."),this.filterFrom="",this.filterTo="",this.filterTime="",this.filterMode="",this.routes=this.allUserRoutes}drawRoute(e){if(!this.mapComponent){console.error("\u041A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442 \u043A\u0430\u0440\u0442\u044B \u043D\u0435 \u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D!");return}if(console.log("\u0412\u044B\u0431\u0440\u0430\u043D \u0434\u043B\u044F \u043E\u0442\u0440\u0438\u0441\u043E\u0432\u043A\u0438: ",e),e&&e.waypoints&&e.waypoints.length>=2&&e.waypoints[0].location&&e.waypoints[1].location){let n=e.waypoints[0].location.reverse(),r=e.waypoints[1].location.reverse();console.log("Start: ",n),console.log("End: ",r),this.mapComponent.addMarkers(n,r),this.mapComponent.drawRoute(e)}else console.error("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0442\u0440\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442: \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\u0442 \u0434\u0430\u043D\u043D\u044B\u0435 waypoints \u0438\u043B\u0438 location \u0432 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u043E\u043C \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0435."),alert("\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u0442\u0440\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442. \u041D\u0435\u043F\u043E\u043B\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435.")}deleteRoute(e,n){if(e.stopPropagation(),console.log("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",n.id,"\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u043C:",this.currentUser?.id),!this.currentUser||!this.currentUser.id){alert("\u0412\u044B \u043D\u0435 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u043D\u044B \u0434\u043B\u044F \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432.");return}if(n.userId!==this.currentUser.id){console.warn("\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043F\u044B\u0442\u0430\u0435\u0442\u0441\u044F \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u0447\u0443\u0436\u043E\u0439 \u043C\u0430\u0440\u0448\u0440\u0443\u0442! UID:",this.currentUser.id,"\u0412\u043B\u0430\u0434\u0435\u043B\u0435\u0446 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",n.userId),alert("\u0412\u044B \u043D\u0435 \u043C\u043E\u0436\u0435\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u0442\u043E\u0442 \u043C\u0430\u0440\u0448\u0440\u0443\u0442.");return}this.routeService.deleteRoute(n.id).pipe(nn(this.destroy$)).subscribe({next:()=>{console.log("\u041C\u0430\u0440\u0448\u0440\u0443\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D \u0438\u0437 Firestore:",n.id),this.allUserRoutes=this.allUserRoutes.filter(r=>r.id!==n.id),this.applyFilters(),alert("\u041C\u0430\u0440\u0448\u0440\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D.")},error:r=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0438\u0437 Firestore:",n.id,r),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430.")}})}static \u0275fac=function(n){return new(n||t)(W(ic),W(kt),W(bt))};static \u0275cmp=Ge({type:t,selectors:[["app-saved-page"]],viewQuery:function(n,r){if(n&1&&oa(Xi,5),n&2){let i;Oo(i=ko())&&(r.mapComponent=i.first)}},decls:41,vars:5,consts:[[1,"search"],[1,"search__title"],[1,"search__filters"],[1,"search__filter"],[1,"search__filter-label"],["name","filterFrom",1,"search__filter-input",3,"ngModelChange","ngModel"],["name","filterTo",1,"search__filter-input",3,"ngModelChange","ngModel"],["type","date","name","filterTime",1,"search__filter-input",3,"ngModelChange","ngModel"],["name","filterMode",1,"search__filter-select",3,"ngModelChange","ngModel"],["value",""],["value","car"],["value","foot"],["value","bike"],[1,"search__button",3,"click"],[1,"routes"],[1,"map"],[1,"routes__items"],[1,"routes__items",3,"click"],[1,"routes__delete-button",3,"click"]],template:function(n,r){n&1&&(P(0,"main")(1,"h1"),k(2,"\u0418\u0437\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B"),N(),P(3,"section",0)(4,"h2",1),k(5,"\u041D\u0430\u0439\u0442\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442"),N(),P(6,"form",2)(7,"div",3)(8,"label",4),k(9,"\u0410\u0434\u0440\u0435\u0441 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F"),N(),P(10,"input",5),Kt("ngModelChange",function(o){return cn(r.filterFrom,o)||(r.filterFrom=o),o}),N()(),P(11,"div",3)(12,"label",4),k(13,"\u0410\u0434\u0440\u0435\u0441 \u043F\u0440\u0438\u0431\u044B\u0442\u0438\u044F"),N(),P(14,"input",6),Kt("ngModelChange",function(o){return cn(r.filterTo,o)||(r.filterTo=o),o}),N()(),P(15,"div",3)(16,"label",4),k(17,"\u0412\u0440\u0435\u043C\u044F \u0441\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u0438\u044F"),N(),P(18,"input",7),Kt("ngModelChange",function(o){return cn(r.filterTime,o)||(r.filterTime=o),o}),N()(),P(19,"div",3)(20,"label",4),k(21,"\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u043E\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043E"),N(),P(22,"select",8),Kt("ngModelChange",function(o){return cn(r.filterMode,o)||(r.filterMode=o),o}),P(23,"option",9),k(24,"\u0412\u0441\u0435"),N(),P(25,"option",10),k(26,"\u0410\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u044C"),N(),P(27,"option",11),k(28,"\u041F\u0435\u0448\u043A\u043E\u043C"),N(),P(29,"option",12),k(30,"\u0412\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434"),N()()()(),P(31,"button",13),Ie("click",function(){return r.applyFilters()}),k(32,"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B"),N(),P(33,"button",13),Ie("click",function(){return r.resetFilters()}),k(34,"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B"),N()(),xn(35,nW,2,0,"div")(36,rW,2,0,"div")(37,iW,2,0,"div")(38,aW,3,0,"section",14),P(39,"section",15),Re(40,"app-map"),N()()),n&2&&(Y(10),Wt("ngModel",r.filterFrom),Y(4),Wt("ngModel",r.filterTo),Y(4),Wt("ngModel",r.filterTime),Y(4),Wt("ngModel",r.filterMode),Y(13),ir(r.currentUser===null?35:r.routes===null?36:r.routes.length===0?37:38))},dependencies:[Nt,C_,Xi,Er,ro,Sg,Ag,_r,rc,to,no,di,li],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-family:Playfair Display,serif;color:#fff;gap:50px;padding:25px;width:calc(100vw - 150px)}main[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Playfair Display SC,serif;font-size:36px;color:#000;margin:0}main[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#000000bf;border-radius:10px;padding:10px;gap:25px}main[_ngcontent-%COMP%]   .search__button[_ngcontent-%COMP%]{height:30px;width:200px;background-color:#004b00e6;border-radius:10px;border:2px solid rgb(255,255,255);font-family:Playfair Display SC,serif;font-size:14px;color:#fff;cursor:pointer}main[_ngcontent-%COMP%]   .search__button[_ngcontent-%COMP%]:hover{background-color:#afffafe6;border:2px solid rgb(0,0,0);color:#000}main[_ngcontent-%COMP%]   .search__title[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]   .search__filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}main[_ngcontent-%COMP%]   .search__filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:5px}main[_ngcontent-%COMP%]   .search__filter-label[_ngcontent-%COMP%]{font-size:14px}main[_ngcontent-%COMP%]   .search__filter-input[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .search__filter-select[_ngcontent-%COMP%]{font-size:14px;height:20px;width:150px;border-radius:10px;border:none;padding:5px}main[_ngcontent-%COMP%]   .search__filter-select[_ngcontent-%COMP%]{height:30px;width:160px}main[_ngcontent-%COMP%]   .routes[_ngcontent-%COMP%]{width:calc(100% - 50px);display:grid;grid-template-columns:repeat(auto-fit,minmax(275px,500px));justify-content:center;background-color:#000000bf;border-radius:10px;padding:25px;gap:25px}main[_ngcontent-%COMP%]   .routes__items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#fff;font-size:16px;color:#000;padding:10px;border-radius:10px;cursor:pointer}main[_ngcontent-%COMP%]   .routes__items[_ngcontent-%COMP%]:hover{transform:scale(1.05)}main[_ngcontent-%COMP%]   .routes__delete-button[_ngcontent-%COMP%]{margin-top:20px;width:100px;height:30px;background-color:#640404bf;border-radius:10px;font-family:Playfair Display SC,serif;font-size:14px;color:#fff;cursor:pointer}main[_ngcontent-%COMP%]   .routes__delete-button[_ngcontent-%COMP%]:hover{background-color:#ff0000bf}main[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{width:100%;max-width:1000px;height:500px;margin-left:-10px}@media (max-width: 1200px){main[_ngcontent-%COMP%]   .routes[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(225px,275px));gap:15px}main[_ngcontent-%COMP%]   .routes__items[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 768px){main[_ngcontent-%COMP%]{gap:25px;width:calc(100vw - 65px)}main[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;text-align:center}main[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:calc(100% - 50px)}main[_ngcontent-%COMP%]   .search__filters[_ngcontent-%COMP%]{flex-direction:column}main[_ngcontent-%COMP%]   .search__filter-label[_ngcontent-%COMP%]{font-size:12px}main[_ngcontent-%COMP%]   .search__filter-input[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .search__filter-select[_ngcontent-%COMP%]{font-size:12px;height:15px;width:100%;padding:5px}main[_ngcontent-%COMP%]   .search__filter-select[_ngcontent-%COMP%]{height:25px;width:calc(100% + 40px)}main[_ngcontent-%COMP%]   .routes[_ngcontent-%COMP%]{width:calc(100% - 50px);grid-template-columns:repeat(auto-fit,minmax(225px,500px));padding:10px}main[_ngcontent-%COMP%]   .routes__items[_ngcontent-%COMP%]{font-size:12px;padding:10px}main[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{width:calc(100% - 40px);max-width:1000px;height:300px}}"]})};var xg=class t{constructor(e,n){this.authService=e;this.router=n;console.log("LoginPageComponent \u0441\u043E\u0437\u0434\u0430\u043D")}email="";password="";onSubmit(){if(console.log("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u043B\u043E\u0433\u0438\u043D\u0430 \u0441 email:",this.email),!this.email||!this.password){alert("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 email \u0438 \u043F\u0430\u0440\u043E\u043B\u044C.");return}this.authService.login(this.email,this.password).subscribe({next:e=>{e?(console.log("\u041B\u043E\u0433\u0438\u043D \u0443\u0441\u043F\u0435\u0448\u0435\u043D, \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C UID:",e.id,"\u043F\u0435\u0440\u0435\u0445\u043E\u0434 \u043D\u0430 /profile"),this.router.navigate(["/profile"])):alert("\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 email \u0438\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0441\u043D\u043E\u0432\u0430.")},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043B\u043E\u0433\u0438\u043D\u0435:",e),alert("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043F\u044B\u0442\u043A\u0435 \u0432\u0445\u043E\u0434\u0430.")}})}static \u0275fac=function(n){return new(n||t)(W(kt),W(bt))};static \u0275cmp=Ge({type:t,selectors:[["login-page"]],decls:31,vars:2,consts:[[1,"auth-container"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["id","email","type","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],["routerLink","/register"]],template:function(n,r){n&1&&(P(0,"div",0),k(1,`
\xA0 \xA0 `),P(2,"h1"),k(3,"\u0412\u0445\u043E\u0434"),N(),k(4,`
\xA0 \xA0 `),P(5,"form",1),Ie("ngSubmit",function(){return r.onSubmit()}),k(6,`
\xA0 \xA0 \xA0 \xA0 `),P(7,"div",2),k(8,`
\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 `),P(9,"label",3),k(10,"Email:"),N(),k(11,`
\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 `),P(12,"input",4),Kt("ngModelChange",function(o){return cn(r.email,o)||(r.email=o),o}),N(),k(13,`
\xA0 \xA0 \xA0 \xA0 `),N(),k(14,`
\xA0 \xA0 \xA0 \xA0 `),P(15,"div",2),k(16,`
\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 `),P(17,"label",5),k(18,"\u041F\u0430\u0440\u043E\u043B\u044C:"),N(),k(19,`
\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 `),P(20,"input",6),Kt("ngModelChange",function(o){return cn(r.password,o)||(r.password=o),o}),N(),k(21,`
\xA0 \xA0 \xA0 \xA0 `),N(),k(22,`
\xA0 \xA0 \xA0 \xA0 `),P(23,"button",7),k(24,"\u0412\u043E\u0439\u0442\u0438"),N(),k(25,`
\xA0 \xA0 `),N(),k(26,`
\xA0 \xA0 `),P(27,"p"),k(28,"\u0415\u0449\u0435 \u043D\u0435\u0442 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430? "),P(29,"a",8),k(30,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),N()()()),n&2&&(Y(12),Wt("ngModel",r.email),Y(8),Wt("ngModel",r.password))},dependencies:[Er,ro,_r,to,no,Ol,di,li,Nt],encapsulation:2})};var Og=class t{constructor(e,n){this.authService=e;this.router=n;console.log("RegisterPageComponent \u0441\u043E\u0437\u0434\u0430\u043D")}email="";password="";confirmPassword="";username="";onSubmit(){if(console.log("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0441 email:",this.email,"username:",this.username),this.password!==this.confirmPassword){alert("\u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442!");return}if(!this.email||!this.password||!this.username){alert("\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0432\u0441\u0435 \u043F\u043E\u043B\u044F: Email, \u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0438 \u041F\u0430\u0440\u043E\u043B\u044C.");return}this.authService.register(this.email,this.password,this.username).subscribe({next:e=>{e?(console.log("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F \u0443\u0441\u043F\u0435\u0448\u043D\u0430, \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C UID:",e.id,"\u043F\u0435\u0440\u0435\u0445\u043E\u0434 \u043D\u0430 /profile"),this.router.navigate(["/profile"])):alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438. \u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E, \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0441 \u0442\u0430\u043A\u0438\u043C email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043B\u0438 \u0432\u0432\u0435\u0434\u0435\u043D\u044B \u043D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435.")},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438:",e),alert("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043F\u043E\u043F\u044B\u0442\u043A\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438.")}})}static \u0275fac=function(n){return new(n||t)(W(kt),W(bt))};static \u0275cmp=Ge({type:t,selectors:[["app-register"]],decls:47,vars:4,consts:[[1,"auth-container"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["id","email","type","email","name","email","required","",3,"ngModelChange","ngModel"],["for","username"],["id","username","type","text","name","username","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","",3,"ngModelChange","ngModel"],["type","submit"],["routerLink","/login"]],template:function(n,r){n&1&&(P(0,"div",0),k(1," \xA0 \xA0 "),P(2,"h1"),k(3,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F"),N(),k(4," \xA0 \xA0 "),P(5,"form",1),Ie("ngSubmit",function(){return r.onSubmit()}),k(6," \xA0 \xA0 \xA0 \xA0 "),P(7,"div",2),k(8," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),P(9,"label",3),k(10,"Email:"),N(),k(11," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),P(12,"input",4),Kt("ngModelChange",function(o){return cn(r.email,o)||(r.email=o),o}),N(),k(13," \xA0 \xA0 \xA0 \xA0 "),N(),k(14," \xA0 \xA0 \xA0 \xA0 "),P(15,"div",2),k(16," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),P(17,"label",5),k(18,"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F:"),N(),k(19," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),P(20,"input",6),Kt("ngModelChange",function(o){return cn(r.username,o)||(r.username=o),o}),N(),k(21," \xA0 \xA0 \xA0 \xA0 "),N(),k(22," \xA0 \xA0 \xA0 \xA0 "),P(23,"div",2),k(24," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),P(25,"label",7),k(26,"\u041F\u0430\u0440\u043E\u043B\u044C:"),N(),k(27," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),P(28,"input",8),Kt("ngModelChange",function(o){return cn(r.password,o)||(r.password=o),o}),N(),k(29," \xA0 \xA0 \xA0 \xA0 "),N(),k(30," \xA0 \xA0 \xA0 \xA0 "),P(31,"div",2),k(32," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),P(33,"label",9),k(34,"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C:"),N(),k(35," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),P(36,"input",10),Kt("ngModelChange",function(o){return cn(r.confirmPassword,o)||(r.confirmPassword=o),o}),N(),k(37," \xA0 \xA0 \xA0 \xA0 "),N(),k(38," \xA0 \xA0 \xA0 \xA0 "),P(39,"button",11),k(40,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),N(),k(41," \xA0 \xA0 "),N(),k(42," \xA0 \xA0 "),P(43,"p"),k(44,"\u0423\u0436\u0435 \u0435\u0441\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442? "),P(45,"a",12),k(46,"\u0412\u043E\u0439\u0442\u0438"),N()()()),n&2&&(Y(12),Wt("ngModel",r.email),Y(8),Wt("ngModel",r.username),Y(8),Wt("ngModel",r.password),Y(8),Wt("ngModel",r.confirmPassword))},dependencies:[Er,ro,_r,to,no,Ol,di,li,Nt],encapsulation:2})};var B1=[{path:"",component:jf},{path:"login",component:xg},{path:"register",component:Og},{path:"profile",component:yg},{path:"add-route",component:Pg},{path:"saved",component:Ng},{path:"**",redirectTo:""}];var cW={apiKey:"AIzaSyD_Tln40K9dFiKJiH4nMWzbjr_AgZ9LsP4",authDomain:"routeguide-99882.firebaseapp.com",projectId:"routeguide-99882",storageBucket:"routeguide-99882.firebasestorage.app",messagingSenderId:"266514774821",appId:"1:266514774821:web:0b20be82a2e27e728438cc",measurementId:"G-K89G0Q59M4"},$1={providers:[WA({eventCoalescing:!0}),c0(B1),qR(zR()),L_(),fP(()=>pP(cW)),c1(()=>h1()),IN(()=>TN())]};var uW=t=>[t];function lW(t,e){if(t&1){let n=jr();P(0,"button",6),Ie("click",function(){er(n);let i=It(2);return tr(i.logout())}),k(1,"\u0412\u044B\u0439\u0442\u0438"),N()}}function dW(t,e){if(t&1){let n=jr();P(0,"button",7),Ie("click",function(){er(n);let i=It(2);return tr(i.t=!1)}),k(1),N()}if(t&2){let n=e.$implicit;Lr("routerLink",VA(2,uW,n.path)),Y(),Ct(n.text)}}function hW(t,e){if(t&1){let n=jr();P(0,"div",2),xn(1,lW,2,0,"button"),qh(2,"async"),On(3,dW,2,4,"button",3,Ur),N(),P(5,"button",4),Ie("click",function(){er(n);let i=It();return tr(i.t=!i.t)}),Re(6,"img",5),N()}if(t&2){let n=It();Y(),ir(BA(2,1,n.isLoggedIn$)?1:-1),Y(2),kn(n.buttonsContent)}}function fW(t,e){if(t&1){let n=jr();P(0,"button",8),Ie("click",function(){er(n);let i=It();return tr(i.t=!i.t)}),Re(1,"img",9),N()}}var kg=class t{constructor(e,n){this.router=e;this.authService=n}t=!1;buttonsContent=[{path:"",text:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F"},{path:"profile",text:"\u041F\u0440\u043E\u0444\u0438\u043B\u044C"},{path:"add-route",text:"\u0421\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442"},{path:"saved",text:"\u0418\u0437\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B"}];isLoggedIn$;ngOnInit(){this.isLoggedIn$=this.authService.isLoggedIn()}navigate(e){this.router.navigate([e]),this.t=!1}logout(){this.authService.logout(),this.router.navigate(["/login"]),this.t=!1}static \u0275fac=function(n){return new(n||t)(W(bt),W(kt))};static \u0275cmp=Ge({type:t,selectors:[["menu"]],decls:3,vars:1,consts:[[1,"menu"],[1,"menu__close"],[1,"menu__content"],[3,"routerLink"],[1,"menu__open",3,"click"],["src","left-arrow.svg","alt","Open Menu"],[3,"click"],[3,"click","routerLink"],[1,"menu__close",3,"click"],["src","rigth-arrow.svg","alt","Close Menu"]],template:function(n,r){n&1&&(P(0,"div",0),xn(1,hW,7,3)(2,fW,2,0,"button",1),N()),n&2&&(Y(),ir(r.t?1:2))},dependencies:[Nt,I_,Uf],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;bottom:0;padding:0;margin:0;z-index:1000}.menu[_ngcontent-%COMP%]{height:100%;width:max-content;background-color:#000000e6;display:flex;justify-content:space-between}.menu__content[_ngcontent-%COMP%]{padding:200px 25px;display:flex;flex-direction:column;align-items:center;gap:10px}.menu__content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;width:300px;background-color:transparent;border:3px rgb(255,255,255) solid;border-right:none;border-left:none;color:#fff;font-family:Playfair Display SC,serif;font-size:20px;cursor:pointer}.menu__content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffffbf;color:#000}.menu__close[_ngcontent-%COMP%], .menu__open[_ngcontent-%COMP%]{height:100%!important;width:50px!important;background-color:transparent;border:3px rgb(255,255,255) solid;border-top:none;border-bottom:none;color:#fff;cursor:pointer}.menu__close[_ngcontent-%COMP%]:hover, .menu__open[_ngcontent-%COMP%]:hover{background-color:#ffffffbf;color:#000}.menu__close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .menu__open[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(1);width:100%}@media (max-width: 768px){[_nghost-%COMP%]{width:max-content}.menu[_ngcontent-%COMP%]{height:max-content;min-width:50px;flex-direction:column}.menu__content[_ngcontent-%COMP%]{padding:25px;width:calc(100vw - 50px)}.menu__close[_ngcontent-%COMP%], .menu__open[_ngcontent-%COMP%]{height:80px!important;border:3px rgb(255,255,255) solid;border-left:none;border-right:none}.menu__close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .menu__open[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.menu__open[_ngcontent-%COMP%]{height:50px!important;width:100%!important}}"]})};var Fg=class t{title="RouteGuide";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ge({type:t,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"page"],[1,"site-title"],[1,"content"]],template:function(n,r){n&1&&(P(0,"div",0),Re(1,"menu"),P(2,"header")(3,"h1",1),k(4," Route Guide "),N()(),P(5,"div",2),Re(6,"router-outlet"),N()())},dependencies:[ku,kg],styles:["header[_ngcontent-%COMP%]{padding:10px 25px 10px 75px;width:calc(100% - 100px);height:80px;display:flex;justify-content:left;align-items:center;background:linear-gradient(90deg,rgba(0,0,0,.9),transparent)}header[_ngcontent-%COMP%]   .site-title[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:58px;color:#fff;margin:0}.page[_ngcontent-%COMP%]{position:relative}.content[_ngcontent-%COMP%]{margin:0 auto 0 50px;width:calc(100% - 50px);display:flex;flex-direction:column;align-items:center}@media (max-width: 768px){header[_ngcontent-%COMP%]{background:linear-gradient(#000,#00000040);height:60px;padding:10px 10px 10px 55px;width:calc(100% - 65px)}header[_ngcontent-%COMP%]   .site-title[_ngcontent-%COMP%]{font-size:42px}.content[_ngcontent-%COMP%]{margin:0 auto;width:100%}}"]})};x_(Fg,$1).catch(t=>console.error(t));
