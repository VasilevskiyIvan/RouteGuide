var TF=Object.create;var Uv=Object.defineProperty,CF=Object.defineProperties,DF=Object.getOwnPropertyDescriptor,SF=Object.getOwnPropertyDescriptors,AF=Object.getOwnPropertyNames,Gf=Object.getOwnPropertySymbols,uD=Object.getPrototypeOf,jv=Object.prototype.hasOwnProperty,cD=Object.prototype.propertyIsEnumerable,MF=Reflect.get;var aD=(t,e,n)=>e in t?Uv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K=(t,e)=>{for(var n in e||={})jv.call(e,n)&&aD(t,n,e[n]);if(Gf)for(var n of Gf(e))cD.call(e,n)&&aD(t,n,e[n]);return t},Ae=(t,e)=>CF(t,SF(e));var lD=(t,e)=>{var n={};for(var r in t)jv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Gf)for(var r of Gf(t))e.indexOf(r)<0&&cD.call(t,r)&&(n[r]=t[r]);return n};var xF=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var PF=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of AF(e))!jv.call(t,i)&&i!==n&&Uv(t,i,{get:()=>e[i],enumerable:!(r=DF(e,i))||r.enumerable});return t};var RF=(t,e,n)=>(n=t!=null?TF(uD(t)):{},PF(e||!t||!t.__esModule?Uv(n,"default",{value:t,enumerable:!0}):n,t));var Go=(t,e,n)=>MF(uD(t),n,e);var T=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{c(n.next(l))}catch(f){i(f)}},a=l=>{try{c(n.throw(l))}catch(f){i(f)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,a);c((n=n.apply(t,e)).next())});var CL=xF((dv,TL)=>{"use strict";(function(t,e){typeof dv=="object"&&typeof TL<"u"?e(dv):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.leaflet={}))})(dv,function(t){"use strict";var e="1.9.4";function n(s){var u,h,p,_;for(h=1,p=arguments.length;h<p;h++){_=arguments[h];for(u in _)s[u]=_[u]}return s}var r=Object.create||function(){function s(){}return function(u){return s.prototype=u,new s}}();function i(s,u){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var p=h.call(arguments,2);return function(){return s.apply(u,p.length?p.concat(h.call(arguments)):arguments)}}var o=0;function a(s){return"_leaflet_id"in s||(s._leaflet_id=++o),s._leaflet_id}function c(s,u,h){var p,_,w,S;return S=function(){p=!1,_&&(w.apply(h,_),_=!1)},w=function(){p?_=arguments:(s.apply(h,arguments),setTimeout(S,u),p=!0)},w}function l(s,u,h){var p=u[1],_=u[0],w=p-_;return s===p&&h?s:((s-_)%w+w)%w+_}function f(){return!1}function m(s,u){if(u===!1)return s;var h=Math.pow(10,u===void 0?6:u);return Math.round(s*h)/h}function y(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function I(s){return y(s).split(/\s+/)}function E(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?r(s.options):{});for(var h in u)s.options[h]=u[h];return s.options}function M(s,u,h){var p=[];for(var _ in s)p.push(encodeURIComponent(h?_.toUpperCase():_)+"="+encodeURIComponent(s[_]));return(!u||u.indexOf("?")===-1?"?":"&")+p.join("&")}var F=/\{ *([\w_ -]+) *\}/g;function V(s,u){return s.replace(F,function(h,p){var _=u[p];if(_===void 0)throw new Error("No value provided for variable "+h);return typeof _=="function"&&(_=_(u)),_})}var G=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function re(s,u){for(var h=0;h<s.length;h++)if(s[h]===u)return h;return-1}var X="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ke(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Pt=0;function We(s){var u=+new Date,h=Math.max(0,16-(u-Pt));return Pt=u+h,window.setTimeout(s,h)}var P=window.requestAnimationFrame||ke("RequestAnimationFrame")||We,C=window.cancelAnimationFrame||ke("CancelAnimationFrame")||ke("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function D(s,u,h){if(h&&P===We)s.call(u);else return P.call(window,i(s,u))}function x(s){s&&C.call(window,s)}var R={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:a,throttle:c,wrapNum:l,falseFn:f,formatNum:m,trim:y,splitWords:I,setOptions:E,getParamString:M,template:V,isArray:G,indexOf:re,emptyImageUrl:X,requestFn:P,cancelFn:C,requestAnimFrame:D,cancelAnimFrame:x};function O(){}O.extend=function(s){var u=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=u.__super__=this.prototype,p=r(h);p.constructor=u,u.prototype=p;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(u[_]=this[_]);return s.statics&&n(u,s.statics),s.includes&&(A(s.includes),n.apply(null,[p].concat(s.includes))),n(p,s),delete p.statics,delete p.includes,p.options&&(p.options=h.options?r(h.options):{},n(p.options,s.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,S=p._initHooks.length;w<S;w++)p._initHooks[w].call(this)}},u},O.include=function(s){var u=this.prototype.options;return n(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},O.mergeOptions=function(s){return n(this.prototype.options,s),this},O.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function A(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=G(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var mt={on:function(s,u,h){if(typeof s=="object")for(var p in s)this._on(p,s[p],u);else{s=I(s);for(var _=0,w=s.length;_<w;_++)this._on(s[_],u,h)}return this},off:function(s,u,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var p in s)this._off(p,s[p],u);else{s=I(s);for(var _=arguments.length===1,w=0,S=s.length;w<S;w++)_?this._off(s[w]):this._off(s[w],u,h)}return this},_on:function(s,u,h,p){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,h)===!1){h===this&&(h=void 0);var _={fn:u,ctx:h};p&&(_.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(_)}},_off:function(s,u,h){var p,_,w;if(this._events&&(p=this._events[s],!!p)){if(arguments.length===1){if(this._firingCount)for(_=0,w=p.length;_<w;_++)p[_].fn=f;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var S=this._listens(s,u,h);if(S!==!1){var k=p[S];this._firingCount&&(k.fn=f,this._events[s]=p=p.slice()),p.splice(S,1)}}},fire:function(s,u,h){if(!this.listens(s,h))return this;var p=n({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var _=this._events[s];if(_){this._firingCount=this._firingCount+1||1;for(var w=0,S=_.length;w<S;w++){var k=_[w],B=k.fn;k.once&&this.off(s,B,k.ctx),B.call(k.ctx||this,p)}this._firingCount--}}return h&&this._propagateEvent(p),this},listens:function(s,u,h,p){typeof s!="string"&&console.warn('"string" type argument expected');var _=u;typeof u!="function"&&(p=!!u,_=void 0,h=void 0);var w=this._events&&this._events[s];if(w&&w.length&&this._listens(s,_,h)!==!1)return!0;if(p){for(var S in this._eventParents)if(this._eventParents[S].listens(s,u,h,p))return!0}return!1},_listens:function(s,u,h){if(!this._events)return!1;var p=this._events[s]||[];if(!u)return!!p.length;h===this&&(h=void 0);for(var _=0,w=p.length;_<w;_++)if(p[_].fn===u&&p[_].ctx===h)return _;return!1},once:function(s,u,h){if(typeof s=="object")for(var p in s)this._on(p,s[p],u,!0);else{s=I(s);for(var _=0,w=s.length;_<w;_++)this._on(s[_],u,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[a(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[a(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,n({layer:s.target,propagatedFrom:s.target},s),!0)}};mt.addEventListener=mt.on,mt.removeEventListener=mt.clearAllEventListeners=mt.off,mt.addOneTimeEventListener=mt.once,mt.fireEvent=mt.fire,mt.hasEventListeners=mt.listens;var Ir=O.extend(mt);function we(s,u,h){this.x=h?Math.round(s):s,this.y=h?Math.round(u):u}var No=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};we.prototype={clone:function(){return new we(this.x,this.y)},add:function(s){return this.clone()._add(fe(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(fe(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new we(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new we(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=No(this.x),this.y=No(this.y),this},distanceTo:function(s){s=fe(s);var u=s.x-this.x,h=s.y-this.y;return Math.sqrt(u*u+h*h)},equals:function(s){return s=fe(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=fe(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function fe(s,u,h){return s instanceof we?s:G(s)?new we(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new we(s.x,s.y):new we(s,u,h)}function ot(s,u){if(s)for(var h=u?[s,u]:s,p=0,_=h.length;p<_;p++)this.extend(h[p])}ot.prototype={extend:function(s){var u,h;if(!s)return this;if(s instanceof we||typeof s[0]=="number"||"x"in s)u=h=fe(s);else if(s=an(s),u=s.min,h=s.max,!u||!h)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=h.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return fe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return fe(this.min.x,this.max.y)},getTopRight:function(){return fe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,h;return typeof s[0]=="number"||s instanceof we?s=fe(s):s=an(s),s instanceof ot?(u=s.min,h=s.max):u=h=s,u.x>=this.min.x&&h.x<=this.max.x&&u.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=an(s);var u=this.min,h=this.max,p=s.min,_=s.max,w=_.x>=u.x&&p.x<=h.x,S=_.y>=u.y&&p.y<=h.y;return w&&S},overlaps:function(s){s=an(s);var u=this.min,h=this.max,p=s.min,_=s.max,w=_.x>u.x&&p.x<h.x,S=_.y>u.y&&p.y<h.y;return w&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,h=this.max,p=Math.abs(u.x-h.x)*s,_=Math.abs(u.y-h.y)*s;return an(fe(u.x-p,u.y-_),fe(h.x+p,h.y+_))},equals:function(s){return s?(s=an(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function an(s,u){return!s||s instanceof ot?s:new ot(s,u)}function pn(s,u){if(s)for(var h=u?[s,u]:s,p=0,_=h.length;p<_;p++)this.extend(h[p])}pn.prototype={extend:function(s){var u=this._southWest,h=this._northEast,p,_;if(s instanceof ve)p=s,_=s;else if(s instanceof pn){if(p=s._southWest,_=s._northEast,!p||!_)return this}else return s?this.extend(Ve(s)||tt(s)):this;return!u&&!h?(this._southWest=new ve(p.lat,p.lng),this._northEast=new ve(_.lat,_.lng)):(u.lat=Math.min(p.lat,u.lat),u.lng=Math.min(p.lng,u.lng),h.lat=Math.max(_.lat,h.lat),h.lng=Math.max(_.lng,h.lng)),this},pad:function(s){var u=this._southWest,h=this._northEast,p=Math.abs(u.lat-h.lat)*s,_=Math.abs(u.lng-h.lng)*s;return new pn(new ve(u.lat-p,u.lng-_),new ve(h.lat+p,h.lng+_))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ve||"lat"in s?s=Ve(s):s=tt(s);var u=this._southWest,h=this._northEast,p,_;return s instanceof pn?(p=s.getSouthWest(),_=s.getNorthEast()):p=_=s,p.lat>=u.lat&&_.lat<=h.lat&&p.lng>=u.lng&&_.lng<=h.lng},intersects:function(s){s=tt(s);var u=this._southWest,h=this._northEast,p=s.getSouthWest(),_=s.getNorthEast(),w=_.lat>=u.lat&&p.lat<=h.lat,S=_.lng>=u.lng&&p.lng<=h.lng;return w&&S},overlaps:function(s){s=tt(s);var u=this._southWest,h=this._northEast,p=s.getSouthWest(),_=s.getNorthEast(),w=_.lat>u.lat&&p.lat<h.lat,S=_.lng>u.lng&&p.lng<h.lng;return w&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=tt(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function tt(s,u){return s instanceof pn?s:new pn(s,u)}function ve(s,u,h){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,h!==void 0&&(this.alt=+h)}ve.prototype={equals:function(s,u){if(!s)return!1;s=Ve(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+m(this.lat,s)+", "+m(this.lng,s)+")"},distanceTo:function(s){return Xr.distance(this,Ve(s))},wrap:function(){return Xr.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,h=u/Math.cos(Math.PI/180*this.lat);return tt([this.lat-u,this.lng-h],[this.lat+u,this.lng+h])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function Ve(s,u,h){return s instanceof ve?s:G(s)&&typeof s[0]!="object"?s.length===3?new ve(s[0],s[1],s[2]):s.length===2?new ve(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ve(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new ve(s,u,h)}var En={latLngToPoint:function(s,u){var h=this.projection.project(s),p=this.scale(u);return this.transformation._transform(h,p)},pointToLatLng:function(s,u){var h=this.scale(u),p=this.transformation.untransform(s,h);return this.projection.unproject(p)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,h=this.scale(s),p=this.transformation.transform(u.min,h),_=this.transformation.transform(u.max,h);return new ot(p,_)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?l(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?l(s.lat,this.wrapLat,!0):s.lat,p=s.alt;return new ve(h,u,p)},wrapLatLngBounds:function(s){var u=s.getCenter(),h=this.wrapLatLng(u),p=u.lat-h.lat,_=u.lng-h.lng;if(p===0&&_===0)return s;var w=s.getSouthWest(),S=s.getNorthEast(),k=new ve(w.lat-p,w.lng-_),B=new ve(S.lat-p,S.lng-_);return new pn(k,B)}},Xr=n({},En,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var h=Math.PI/180,p=s.lat*h,_=u.lat*h,w=Math.sin((u.lat-s.lat)*h/2),S=Math.sin((u.lng-s.lng)*h/2),k=w*w+Math.cos(p)*Math.cos(_)*S*S,B=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return this.R*B}}),Oo=6378137,gl={R:Oo,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,h=this.MAX_LATITUDE,p=Math.max(Math.min(h,s.lat),-h),_=Math.sin(p*u);return new we(this.R*s.lng*u,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(s){var u=180/Math.PI;return new ve((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:function(){var s=Oo*Math.PI;return new ot([-s,-s],[s,s])}()};function ml(s,u,h,p){if(G(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=h,this._d=p}ml.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new we((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function ei(s,u,h,p){return new ml(s,u,h,p)}var ko=n({},Xr,{code:"EPSG:3857",projection:gl,transformation:function(){var s=.5/(Math.PI*gl.R);return ei(s,.5,-s,.5)}()}),_l=n({},ko,{code:"EPSG:900913"});function cu(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function lu(s,u){var h="",p,_,w,S,k,B;for(p=0,w=s.length;p<w;p++){for(k=s[p],_=0,S=k.length;_<S;_++)B=k[_],h+=(_?"L":"M")+B.x+" "+B.y;h+=u?se.svg?"z":"x":""}return h||"M0 0"}var Os=document.documentElement.style,ks="ActiveXObject"in window,lf=ks&&!document.addEventListener,df="msLaunchUri"in navigator&&!("documentMode"in document),du=Wn("webkit"),vl=Wn("android"),hu=Wn("android 2")||Wn("android 3"),hf=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Pv=vl&&Wn("Google")&&hf<537&&!("AudioNode"in window),Ls=!!window.opera,fu=!df&&Wn("chrome"),pu=Wn("gecko")&&!du&&!Ls&&!ks,Kt=!fu&&Wn("safari"),Zt=Wn("phantom"),Fs="OTransition"in Os,ff=navigator.platform.indexOf("Win")===0,yl=ks&&"transition"in Os,wl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!hu,Lo="MozPerspective"in Os,pf=!window.L_DISABLE_3D&&(yl||wl||Lo)&&!Fs&&!Zt,Fo=typeof orientation<"u"||Wn("mobile"),El=Fo&&du,Rv=Fo&&wl,gf=!window.PointerEvent&&window.MSPointerEvent,gu=!!(window.PointerEvent||gf),Il="ontouchstart"in window||!!window.TouchEvent,mf=!window.L_NO_TOUCH&&(Il||gu),Vs=Fo&&Ls,bl=Fo&&pu,Tl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fi=function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",f,u),window.removeEventListener("testPassiveEventSupport",f,u)}catch{}return s}(),_f=function(){return!!document.createElement("canvas").getContext}(),Vo=!!(document.createElementNS&&cu("svg").createSVGRect),vf=!!Vo&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Bs=!Vo&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),yf=navigator.platform.indexOf("Mac")===0,un=navigator.platform.indexOf("Linux")===0;function Wn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var se={ie:ks,ielt9:lf,edge:df,webkit:du,android:vl,android23:hu,androidStock:Pv,opera:Ls,chrome:fu,gecko:pu,safari:Kt,phantom:Zt,opera12:Fs,win:ff,ie3d:yl,webkit3d:wl,gecko3d:Lo,any3d:pf,mobile:Fo,mobileWebkit:El,mobileWebkit3d:Rv,msPointer:gf,pointer:gu,touch:mf,touchNative:Il,mobileOpera:Vs,mobileGecko:bl,retina:Tl,passiveEvents:Fi,canvas:_f,svg:Vo,vml:Bs,inlineSvg:vf,mac:yf,linux:un},Bo=se.msPointer?"MSPointerDown":"pointerdown",wf=se.msPointer?"MSPointerMove":"pointermove",Ef=se.msPointer?"MSPointerUp":"pointerup",Vi=se.msPointer?"MSPointerCancel":"pointercancel",Cl={touchstart:Bo,touchmove:wf,touchend:Ef,touchcancel:Vi},If={touchstart:Tf,touchmove:Uo,touchend:Uo,touchcancel:Uo},br={},Dl=!1;function Sl(s,u,h){return u==="touchstart"&&Ml(),If[u]?(h=If[u].bind(this,h),s.addEventListener(Cl[u],h,!1),h):(console.warn("wrong event specified:",u),f)}function mu(s,u,h){if(!Cl[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(Cl[u],h,!1)}function ti(s){br[s.pointerId]=s}function bf(s){br[s.pointerId]&&(br[s.pointerId]=s)}function Al(s){delete br[s.pointerId]}function Ml(){Dl||(document.addEventListener(Bo,ti,!0),document.addEventListener(wf,bf,!0),document.addEventListener(Ef,Al,!0),document.addEventListener(Vi,Al,!0),Dl=!0)}function Uo(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var h in br)u.touches.push(br[h]);u.changedTouches=[u],s(u)}}function Tf(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&vt(u),Uo(s,u)}function Cf(s){var u={},h,p;for(p in s)h=s[p],u[p]=h&&h.bind?h.bind(s):h;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Nv=200;function _u(s,u){s.addEventListener("dblclick",u);var h=0,p;function _(w){if(w.detail!==1){p=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var S=Vl(w);if(!(S.some(function(B){return B instanceof HTMLLabelElement&&B.attributes.for})&&!S.some(function(B){return B instanceof HTMLInputElement||B instanceof HTMLSelectElement}))){var k=Date.now();k-h<=Nv?(p++,p===2&&u(Cf(w))):p=1,h=k}}}return s.addEventListener("click",_),{dblclick:u,simDblclick:_}}function Df(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var Us=cr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Tr=cr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ni=Tr==="webkitTransition"||Tr==="OTransition"?Tr+"End":"transitionend";function vu(s){return typeof s=="string"?document.getElementById(s):s}function js(s,u){var h=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!h||h==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(s,null);h=p?p[u]:null}return h==="auto"?null:h}function qe(s,u,h){var p=document.createElement(s);return p.className=u||"",h&&h.appendChild(p),p}function at(s){var u=s.parentNode;u&&u.removeChild(s)}function $s(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function ri(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function ii(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function yu(s,u){if(s.classList!==void 0)return s.classList.contains(u);var h=zs(s);return h.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(h)}function be(s,u){if(s.classList!==void 0)for(var h=I(u),p=0,_=h.length;p<_;p++)s.classList.add(h[p]);else if(!yu(s,u)){var w=zs(s);xl(s,(w?w+" ":"")+u)}}function _t(s,u){s.classList!==void 0?s.classList.remove(u):xl(s,y((" "+zs(s)+" ").replace(" "+u+" "," ")))}function xl(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function zs(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function In(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Ov(s,u)}function Ov(s,u){var h=!1,p="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(p)}catch{if(u===1)return}u=Math.round(u*100),h?(h.Enabled=u!==100,h.Opacity=u):s.style.filter+=" progid:"+p+"(opacity="+u+")"}function cr(s){for(var u=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in u)return s[h];return!1}function cn(s,u,h){var p=u||new we(0,0);s.style[Us]=(se.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(h?" scale("+h+")":"")}function ht(s,u){s._leaflet_pos=u,se.any3d?cn(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function lr(s){return s._leaflet_pos||new we(0,0)}var jo,Ze,$o;if("onselectstart"in document)jo=function(){ye(window,"selectstart",vt)},Ze=function(){nt(window,"selectstart",vt)};else{var Cr=cr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);jo=function(){if(Cr){var s=document.documentElement.style;$o=s[Cr],s[Cr]="none"}},Ze=function(){Cr&&(document.documentElement.style[Cr]=$o,$o=void 0)}}function Bi(){ye(window,"dragstart",vt)}function Pl(){nt(window,"dragstart",vt)}var Hs,Rl;function Nl(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(wu(),Hs=s,Rl=s.style.outlineStyle,s.style.outlineStyle="none",ye(window,"keydown",wu))}function wu(){Hs&&(Hs.style.outlineStyle=Rl,Hs=void 0,Rl=void 0,nt(window,"keydown",wu))}function Sf(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ui(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var oi={__proto__:null,TRANSFORM:Us,TRANSITION:Tr,TRANSITION_END:ni,get:vu,getStyle:js,create:qe,remove:at,empty:$s,toFront:ri,toBack:ii,hasClass:yu,addClass:be,removeClass:_t,setClass:xl,getClass:zs,setOpacity:In,testProp:cr,setTransform:cn,setPosition:ht,getPosition:lr,get disableTextSelection(){return jo},get enableTextSelection(){return Ze},disableImageDrag:Bi,enableImageDrag:Pl,preventOutline:Nl,restoreOutline:wu,getSizedParentNode:Sf,getScale:Ui};function ye(s,u,h,p){if(u&&typeof u=="object")for(var _ in u)kl(s,_,u[_],h);else{u=I(u);for(var w=0,S=u.length;w<S;w++)kl(s,u[w],h,p)}return this}var Gn="_leaflet_events";function nt(s,u,h,p){if(arguments.length===1)ji(s),delete s[Gn];else if(u&&typeof u=="object")for(var _ in u)Ll(s,_,u[_],h);else if(u=I(u),arguments.length===2)ji(s,function(k){return re(u,k)!==-1});else for(var w=0,S=u.length;w<S;w++)Ll(s,u[w],h,p);return this}function ji(s,u){for(var h in s[Gn]){var p=h.split(/\d/)[0];(!u||u(p))&&Ll(s,p,null,null,h)}}var Ol={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function kl(s,u,h,p){var _=u+a(h)+(p?"_"+a(p):"");if(s[Gn]&&s[Gn][_])return this;var w=function(k){return h.call(p||s,k||window.event)},S=w;!se.touchNative&&se.pointer&&u.indexOf("touch")===0?w=Sl(s,u,w):se.touch&&u==="dblclick"?w=_u(s,w):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Ol[u]||u,w,se.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(w=function(k){k=k||window.event,Gs(s,k)&&S(k)},s.addEventListener(Ol[u],w,!1)):s.addEventListener(u,S,!1):s.attachEvent("on"+u,w),s[Gn]=s[Gn]||{},s[Gn][_]=w}function Ll(s,u,h,p,_){_=_||u+a(h)+(p?"_"+a(p):"");var w=s[Gn]&&s[Gn][_];if(!w)return this;!se.touchNative&&se.pointer&&u.indexOf("touch")===0?mu(s,u,w):se.touch&&u==="dblclick"?Df(s,w):"removeEventListener"in s?s.removeEventListener(Ol[u]||u,w,!1):s.detachEvent("on"+u,w),s[Gn][_]=null}function gn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Fl(s){return kl(s,"wheel",gn),this}function qs(s){return ye(s,"mousedown touchstart dblclick contextmenu",gn),s._leaflet_disable_click=!0,this}function vt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function dr(s){return vt(s),gn(s),this}function Vl(s){if(s.composedPath)return s.composedPath();for(var u=[],h=s.target;h;)u.push(h),h=h.parentNode;return u}function zo(s,u){if(!u)return new we(s.clientX,s.clientY);var h=Ui(u),p=h.boundingClientRect;return new we((s.clientX-p.left)/h.x-u.clientLeft,(s.clientY-p.top)/h.y-u.clientTop)}var Ws=se.linux&&se.chrome?window.devicePixelRatio:se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Bl(s){return se.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Ws:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Gs(s,u){var h=u.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var ft={__proto__:null,on:ye,off:nt,stopPropagation:gn,disableScrollPropagation:Fl,disableClickPropagation:qs,preventDefault:vt,stop:dr,getPropagationPath:Vl,getMousePosition:zo,getWheelDelta:Bl,isExternalTarget:Gs,addListener:ye,removeListener:nt},Af=Ir.extend({run:function(s,u,h,p){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=lr(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,h=this._duration*1e3;u<h?this._runFrame(this._easeOut(u/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var h=this._startPos.add(this._offset.multiplyBy(s));u&&h._round(),ht(this._el,h),this.fire("step")},_complete:function(){x(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Be=Ir.extend({options:{crs:ko,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=E(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Ve(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Tr&&se.any3d&&!se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ye(this._proxy,ni,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,h){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(Ve(s),u,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=n({animate:h.animate},h.zoom),h.pan=n({animate:h.animate,duration:h.duration},h.pan));var p=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,h.zoom):this._tryAnimatedPan(s,h.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,h){var p=this.getZoomScale(u),_=this.getSize().divideBy(2),w=s instanceof we?s:this.latLngToContainerPoint(s),S=w.subtract(_).multiplyBy(1-1/p),k=this.containerPointToLatLng(_.add(S));return this.setView(k,u,{zoom:h})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():tt(s);var h=fe(u.paddingTopLeft||u.padding||[0,0]),p=fe(u.paddingBottomRight||u.padding||[0,0]),_=this.getBoundsZoom(s,!1,h.add(p));if(_=typeof u.maxZoom=="number"?Math.min(u.maxZoom,_):_,_===1/0)return{center:s.getCenter(),zoom:_};var w=p.subtract(h).divideBy(2),S=this.project(s.getSouthWest(),_),k=this.project(s.getNorthEast(),_),B=this.unproject(S.add(k).divideBy(2).add(w),_);return{center:B,zoom:_}},fitBounds:function(s,u){if(s=tt(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,u);return this.setView(h.center,h.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=fe(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Af,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){be(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,h){if(h=h||{},h.animate===!1||!se.any3d)return this.setView(s,u,h);this._stop();var p=this.project(this.getCenter()),_=this.project(s),w=this.getSize(),S=this._zoom;s=Ve(s),u=u===void 0?S:u;var k=Math.max(w.x,w.y),B=k*this.getZoomScale(S,u),q=_.distanceTo(p)||1,ee=1.42,ge=ee*ee;function Oe(Rt){var Wf=Rt?-1:1,wF=Rt?B:k,EF=B*B-k*k+Wf*ge*ge*q*q,IF=2*wF*ge*q,Bv=EF/IF,sD=Math.sqrt(Bv*Bv+1)-Bv,bF=sD<1e-9?-18:Math.log(sD);return bF}function Tn(Rt){return(Math.exp(Rt)-Math.exp(-Rt))/2}function Yt(Rt){return(Math.exp(Rt)+Math.exp(-Rt))/2}function hr(Rt){return Tn(Rt)/Yt(Rt)}var xn=Oe(0);function Ru(Rt){return k*(Yt(xn)/Yt(xn+ee*Rt))}function mF(Rt){return k*(Yt(xn)*hr(xn+ee*Rt)-Tn(xn))/ge}function _F(Rt){return 1-Math.pow(1-Rt,1.5)}var vF=Date.now(),iD=(Oe(1)-xn)/ee,yF=h.duration?1e3*h.duration:1e3*iD*.8;function oD(){var Rt=(Date.now()-vF)/yF,Wf=_F(Rt)*iD;Rt<=1?(this._flyToFrame=D(oD,this),this._move(this.unproject(p.add(_.subtract(p).multiplyBy(mF(Wf)/q)),S),this.getScaleZoom(k/Ru(Wf),S),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),oD.call(this),this},flyToBounds:function(s,u){var h=this._getBoundsCenterZoom(s,u);return this.flyTo(h.center,h.zoom,u)},setMaxBounds:function(s){return s=tt(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var h=this.getCenter(),p=this._limitCenter(h,this._zoom,tt(s));return h.equals(p)||this.panTo(p,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var h=fe(u.paddingTopLeft||u.padding||[0,0]),p=fe(u.paddingBottomRight||u.padding||[0,0]),_=this.project(this.getCenter()),w=this.project(s),S=this.getPixelBounds(),k=an([S.min.add(h),S.max.subtract(p)]),B=k.getSize();if(!k.contains(w)){this._enforcingBounds=!0;var q=w.subtract(k.getCenter()),ee=k.extend(w).getSize().subtract(B);_.x+=q.x<0?-ee.x:ee.x,_.y+=q.y<0?-ee.y:ee.y,this.panTo(this.unproject(_),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=n({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),p=u.divideBy(2).round(),_=h.divideBy(2).round(),w=p.subtract(_);return!w.x&&!w.y?this:(s.animate&&s.pan?this.panBy(w):(s.pan&&this._rawPanBy(w),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=n({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=i(this._handleGeolocationResponse,this),h=i(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,h,s):navigator.geolocation.getCurrentPosition(u,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,h=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,h=s.coords.longitude,p=new ve(u,h),_=p.toBounds(s.coords.accuracy*2),w=this._locateOptions;if(w.setView){var S=this.getBoundsZoom(_);this.setView(p,w.maxZoom?Math.min(S,w.maxZoom):S)}var k={latlng:p,bounds:_,timestamp:s.timestamp};for(var B in s.coords)typeof s.coords[B]=="number"&&(k[B]=s.coords[B]);this.fire("locationfound",k)}},addHandler:function(s,u){if(!u)return this;var h=this[s]=new u(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(x(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)at(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),p=qe("div",h,u||this._mapPane);return s&&(this._panes[s]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new pn(u,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,h){s=tt(s),h=fe(h||[0,0]);var p=this.getZoom()||0,_=this.getMinZoom(),w=this.getMaxZoom(),S=s.getNorthWest(),k=s.getSouthEast(),B=this.getSize().subtract(h),q=an(this.project(k,p),this.project(S,p)).getSize(),ee=se.any3d?this.options.zoomSnap:1,ge=B.x/q.x,Oe=B.y/q.y,Tn=u?Math.max(ge,Oe):Math.min(ge,Oe);return p=this.getScaleZoom(Tn,p),ee&&(p=Math.round(p/(ee/100))*(ee/100),p=u?Math.ceil(p/ee)*ee:Math.floor(p/ee)*ee),Math.max(_,Math.min(w,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new we(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var h=this._getTopLeftPoint(s,u);return new ot(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var h=this.options.crs;return u=u===void 0?this._zoom:u,h.scale(s)/h.scale(u)},getScaleZoom:function(s,u){var h=this.options.crs;u=u===void 0?this._zoom:u;var p=h.zoom(s*h.scale(u));return isNaN(p)?1/0:p},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Ve(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(fe(s),u)},layerPointToLatLng:function(s){var u=fe(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(Ve(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Ve(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(tt(s))},distance:function(s,u){return this.options.crs.distance(Ve(s),Ve(u))},containerPointToLayerPoint:function(s){return fe(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return fe(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(fe(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ve(s)))},mouseEventToContainerPoint:function(s){return zo(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=vu(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ye(u,"scroll",this._onScroll,this),this._containerId=a(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&se.any3d,be(s,"leaflet-container"+(se.touch?" leaflet-touch":"")+(se.retina?" leaflet-retina":"")+(se.ielt9?" leaflet-oldie":"")+(se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=js(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ht(this._mapPane,new we(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(be(s.markerPane,"leaflet-zoom-hide"),be(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,h){ht(this._mapPane,new we(0,0));var p=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var _=this._zoom!==u;this._moveStart(_,h)._move(s,u)._moveEnd(_),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,h,p){u===void 0&&(u=this._zoom);var _=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),p?h&&h.pinch&&this.fire("zoom",h):((_||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return x(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ht(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[a(this._container)]=this;var u=s?nt:ye;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),se.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){x(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var h=[],p,_=u==="mouseout"||u==="mouseover",w=s.target||s.srcElement,S=!1;w;){if(p=this._targets[a(w)],p&&(u==="click"||u==="preclick")&&this._draggableMoved(p)){S=!0;break}if(p&&p.listens(u,!0)&&(_&&!Gs(w,s)||(h.push(p),_))||w===this._container)break;w=w.parentNode}return!h.length&&!S&&!_&&this.listens(u,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var h=s.type;h==="mousedown"&&Nl(u),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,h){if(s.type==="click"){var p=n({},s);p.type="preclick",this._fireDOMEvent(p,p.type,h)}var _=this._findEventTargets(s,u);if(h){for(var w=[],S=0;S<h.length;S++)h[S].listens(u,!0)&&w.push(h[S]);_=w.concat(_)}if(_.length){u==="contextmenu"&&vt(s);var k=_[0],B={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var q=k.getLatLng&&(!k._radius||k._radius<=10);B.containerPoint=q?this.latLngToContainerPoint(k.getLatLng()):this.mouseEventToContainerPoint(s),B.layerPoint=this.containerPointToLayerPoint(B.containerPoint),B.latlng=q?k.getLatLng():this.layerPointToLatLng(B.layerPoint)}for(S=0;S<_.length;S++)if(_[S].fire(u,B,!0),B.originalEvent._stopped||_[S].options.bubblingMouseEvents===!1&&re(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return lr(this._mapPane)||new we(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var h=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var h=this.getSize()._divideBy(2);return this.project(s,u)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,h){var p=this._getNewPixelOrigin(h,u);return this.project(s,u)._subtract(p)},_latLngBoundsToNewLayerBounds:function(s,u,h){var p=this._getNewPixelOrigin(h,u);return an([this.project(s.getSouthWest(),u)._subtract(p),this.project(s.getNorthWest(),u)._subtract(p),this.project(s.getSouthEast(),u)._subtract(p),this.project(s.getNorthEast(),u)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,h){if(!h)return s;var p=this.project(s,u),_=this.getSize().divideBy(2),w=new ot(p.subtract(_),p.add(_)),S=this._getBoundsOffset(w,h,u);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?s:this.unproject(p.add(S),u)},_limitOffset:function(s,u){if(!u)return s;var h=this.getPixelBounds(),p=new ot(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(p,u))},_getBoundsOffset:function(s,u,h){var p=an(this.project(u.getNorthEast(),h),this.project(u.getSouthWest(),h)),_=p.min.subtract(s.min),w=p.max.subtract(s.max),S=this._rebound(_.x,-w.x),k=this._rebound(_.y,-w.y);return new we(S,k)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),h=this.getMaxZoom(),p=se.any3d?this.options.zoomSnap:1;return p&&(s=Math.round(s/p)*p),Math.max(u,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var h=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,u),!0)},_createAnimProxy:function(){var s=this._proxy=qe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var h=Us,p=this._proxy.style[h];cn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),p===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();cn(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(u),_=this._getCenterOffset(s)._divideBy(1-1/p);return h.animate!==!0&&!this.getSize().contains(_)?!1:(D(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,h,p){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Mf(s,u){return new Be(s,u)}var Mn=O.extend({options:{position:"topright"},initialize:function(s){E(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),h=this.getPosition(),p=s._controlCorners[h];return be(u,"leaflet-control"),h.indexOf("bottom")!==-1?p.insertBefore(u,p.firstChild):p.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ho=function(s){return new Mn(s)};Be.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",h=this._controlContainer=qe("div",u+"control-container",this._container);function p(_,w){var S=u+_+" "+u+w;s[_+w]=qe("div",S,h)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)at(this._controlCorners[s]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ks=Mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,h,p){return h<p?-1:p<h?1:0}},initialize:function(s,u,h){E(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in s)this._addLayer(s[p],p);for(p in u)this._addLayer(u[p],p,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Mn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(a(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=qe("div",s),h=this.options.collapsed;u.setAttribute("aria-haspopup",!0),qs(u),Fl(u);var p=this._section=qe("section",s+"-list");h&&(this._map.on("click",this.collapse,this),ye(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=qe("a",s+"-toggle",u);_.href="#",_.title="Layers",_.setAttribute("role","button"),ye(_,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){vt(w),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=qe("div",s+"-base",p),this._separator=qe("div",s+"-separator",p),this._overlaysList=qe("div",s+"-overlays",p),u.appendChild(p)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&a(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:h}),this.options.sortLayers&&this._layers.sort(i(function(p,_){return this.options.sortFunction(p.layer,_.layer,p.name,_.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;$s(this._baseLayersList),$s(this._overlaysList),this._layerControlInputs=[];var s,u,h,p,_=0;for(h=0;h<this._layers.length;h++)p=this._layers[h],this._addItem(p),u=u||p.overlay,s=s||!p.overlay,_+=p.overlay?0:1;return this.options.hideSingleBase&&(s=s&&_>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(a(s.target)),h=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,u)},_createRadioElement:function(s,u){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=h,p.firstChild},_addItem:function(s){var u=document.createElement("label"),h=this._map.hasLayer(s.layer),p;s.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=h):p=this._createRadioElement("leaflet-base-layers_"+a(this),h),this._layerControlInputs.push(p),p.layerId=a(s.layer),ye(p,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+s.name;var w=document.createElement("span");u.appendChild(w),w.appendChild(p),w.appendChild(_);var S=s.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,h,p=[],_=[];this._handlingClick=!0;for(var w=s.length-1;w>=0;w--)u=s[w],h=this._getLayer(u.layerId).layer,u.checked?p.push(h):u.checked||_.push(h);for(w=0;w<_.length;w++)this._map.hasLayer(_[w])&&this._map.removeLayer(_[w]);for(w=0;w<p.length;w++)this._map.hasLayer(p[w])||this._map.addLayer(p[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,h,p=this._map.getZoom(),_=s.length-1;_>=0;_--)u=s[_],h=this._getLayer(u.layerId).layer,u.disabled=h.options.minZoom!==void 0&&p<h.options.minZoom||h.options.maxZoom!==void 0&&p>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ye(s,"click",vt),this.expand();var u=this;setTimeout(function(){nt(s,"click",vt),u._preventClick=!1})}}),xf=function(s,u,h){return new Ks(s,u,h)},Kn=Mn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",h=qe("div",u+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,u+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,u+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,h,p,_){var w=qe("a",h,p);return w.innerHTML=s,w.href="#",w.title=u,w.setAttribute("role","button"),w.setAttribute("aria-label",u),qs(w),ye(w,"click",dr),ye(w,"click",_,this),ye(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";_t(this._zoomInButton,u),_t(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(be(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(be(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Be.mergeOptions({zoomControl:!0}),Be.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Kn,this.addControl(this.zoomControl))});var Pf=function(s){return new Kn(s)},Rf=Mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",h=qe("div",u),p=this.options;return this._addScales(p,u+"-line",h),s.on(p.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,h){s.metric&&(this._mScale=qe("div",u,h)),s.imperial&&(this._iScale=qe("div",u,h))},_update:function(){var s=this._map,u=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),h=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,h,u/s)},_updateImperial:function(s){var u=s*3.2808399,h,p,_;u>5280?(h=u/5280,p=this._getRoundNum(h),this._updateScale(this._iScale,p+" mi",p/h)):(_=this._getRoundNum(u),this._updateScale(this._iScale,_+" ft",_/u))},_updateScale:function(s,u,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),h=s/u;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,u*h}}),Zs=function(s){return new Rf(s)},Nf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qs=Mn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(se.inlineSvg?Nf+" ":"")+"Leaflet</a>"},initialize:function(s){E(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=qe("div","leaflet-control-attribution"),qs(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Be.mergeOptions({attributionControl:!0}),Be.addInitHook(function(){this.options.attributionControl&&new Qs().addTo(this)});var Eu=function(s){return new Qs(s)};Mn.Layers=Ks,Mn.Zoom=Kn,Mn.Scale=Rf,Mn.Attribution=Qs,Ho.layers=xf,Ho.zoom=Pf,Ho.scale=Zs,Ho.attribution=Eu;var Zn=O.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zn.addTo=function(s,u){return s.addHandler(u,this),this};var Iu={Events:mt},Of=se.touch?"touchstart mousedown":"mousedown",Dr=Ir.extend({options:{clickTolerance:3},initialize:function(s,u,h,p){E(this,p),this._element=s,this._dragStartTarget=u||s,this._preventOutline=h},enable:function(){this._enabled||(ye(this._dragStartTarget,Of,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Dr._dragging===this&&this.finishDrag(!0),nt(this._dragStartTarget,Of,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!yu(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Dr._dragging===this&&this.finishDrag();return}if(!(Dr._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Dr._dragging=this,this._preventOutline&&Nl(this._element),Bi(),jo(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,h=Sf(this._element);this._startPoint=new we(u.clientX,u.clientY),this._startPos=lr(this._element),this._parentScale=Ui(h);var p=s.type==="mousedown";ye(document,p?"mousemove":"touchmove",this._onMove,this),ye(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,h=new we(u.clientX,u.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,vt(s),this._moved||(this.fire("dragstart"),this._moved=!0,be(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ht(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),nt(document,"mousemove touchmove",this._onMove,this),nt(document,"mouseup touchend touchcancel",this._onUp,this),Pl(),Ze();var u=this._moved&&this._moving;this._moving=!1,Dr._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function qo(s,u,h){var p,_=[1,4,2,8],w,S,k,B,q,ee,ge,Oe;for(w=0,ee=s.length;w<ee;w++)s[w]._code=si(s[w],u);for(k=0;k<4;k++){for(ge=_[k],p=[],w=0,ee=s.length,S=ee-1;w<ee;S=w++)B=s[w],q=s[S],B._code&ge?q._code&ge||(Oe=Ys(q,B,ge,u,h),Oe._code=si(Oe,u),p.push(Oe)):(q._code&ge&&(Oe=Ys(q,B,ge,u,h),Oe._code=si(Oe,u),p.push(Oe)),p.push(B));s=p}return s}function Ul(s,u){var h,p,_,w,S,k,B,q,ee;if(!s||s.length===0)throw new Error("latlngs not passed");bn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ge=Ve([0,0]),Oe=tt(s),Tn=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());Tn<1700&&(ge=bu(s));var Yt=s.length,hr=[];for(h=0;h<Yt;h++){var xn=Ve(s[h]);hr.push(u.project(Ve([xn.lat-ge.lat,xn.lng-ge.lng])))}for(k=B=q=0,h=0,p=Yt-1;h<Yt;p=h++)_=hr[h],w=hr[p],S=_.y*w.x-w.y*_.x,B+=(_.x+w.x)*S,q+=(_.y+w.y)*S,k+=S*3;k===0?ee=hr[0]:ee=[B/k,q/k];var Ru=u.unproject(fe(ee));return Ve([Ru.lat+ge.lat,Ru.lng+ge.lng])}function bu(s){for(var u=0,h=0,p=0,_=0;_<s.length;_++){var w=Ve(s[_]);u+=w.lat,h+=w.lng,p++}return Ve([u/p,h/p])}var jl={__proto__:null,clipPolygon:qo,polygonCenter:Ul,centroid:bu};function Tu(s,u){if(!u||!s.length)return s.slice();var h=u*u;return s=$i(s,h),s=kf(s,h),s}function $l(s,u,h){return Math.sqrt(jt(s,u,h,!0))}function Cu(s,u,h){return jt(s,u,h)}function kf(s,u){var h=s.length,p=typeof Uint8Array<"u"?Uint8Array:Array,_=new p(h);_[0]=_[h-1]=1,Du(s,_,u,0,h-1);var w,S=[];for(w=0;w<h;w++)_[w]&&S.push(s[w]);return S}function Du(s,u,h,p,_){var w=0,S,k,B;for(k=p+1;k<=_-1;k++)B=jt(s[k],s[p],s[_],!0),B>w&&(S=k,w=B);w>h&&(u[S]=1,Du(s,u,h,p,S),Du(s,u,h,S,_))}function $i(s,u){for(var h=[s[0]],p=1,_=0,w=s.length;p<w;p++)Su(s[p],s[_])>u&&(h.push(s[p]),_=p);return _<w-1&&h.push(s[w-1]),h}var zl;function Hl(s,u,h,p,_){var w=p?zl:si(s,h),S=si(u,h),k,B,q;for(zl=S;;){if(!(w|S))return[s,u];if(w&S)return!1;k=w||S,B=Ys(s,u,k,h,_),q=si(B,h),k===w?(s=B,w=q):(u=B,S=q)}}function Ys(s,u,h,p,_){var w=u.x-s.x,S=u.y-s.y,k=p.min,B=p.max,q,ee;return h&8?(q=s.x+w*(B.y-s.y)/S,ee=B.y):h&4?(q=s.x+w*(k.y-s.y)/S,ee=k.y):h&2?(q=B.x,ee=s.y+S*(B.x-s.x)/w):h&1&&(q=k.x,ee=s.y+S*(k.x-s.x)/w),new we(q,ee,_)}function si(s,u){var h=0;return s.x<u.min.x?h|=1:s.x>u.max.x&&(h|=2),s.y<u.min.y?h|=4:s.y>u.max.y&&(h|=8),h}function Su(s,u){var h=u.x-s.x,p=u.y-s.y;return h*h+p*p}function jt(s,u,h,p){var _=u.x,w=u.y,S=h.x-_,k=h.y-w,B=S*S+k*k,q;return B>0&&(q=((s.x-_)*S+(s.y-w)*k)/B,q>1?(_=h.x,w=h.y):q>0&&(_+=S*q,w+=k*q)),S=s.x-_,k=s.y-w,p?S*S+k*k:new we(_,w)}function bn(s){return!G(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ql(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bn(s)}function zi(s,u){var h,p,_,w,S,k,B,q;if(!s||s.length===0)throw new Error("latlngs not passed");bn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ee=Ve([0,0]),ge=tt(s),Oe=ge.getNorthWest().distanceTo(ge.getSouthWest())*ge.getNorthEast().distanceTo(ge.getNorthWest());Oe<1700&&(ee=bu(s));var Tn=s.length,Yt=[];for(h=0;h<Tn;h++){var hr=Ve(s[h]);Yt.push(u.project(Ve([hr.lat-ee.lat,hr.lng-ee.lng])))}for(h=0,p=0;h<Tn-1;h++)p+=Yt[h].distanceTo(Yt[h+1])/2;if(p===0)q=Yt[0];else for(h=0,w=0;h<Tn-1;h++)if(S=Yt[h],k=Yt[h+1],_=S.distanceTo(k),w+=_,w>p){B=(w-p)/_,q=[k.x-B*(k.x-S.x),k.y-B*(k.y-S.y)];break}var xn=u.unproject(fe(q));return Ve([xn.lat+ee.lat,xn.lng+ee.lng])}var d={__proto__:null,simplify:Tu,pointToSegmentDistance:$l,closestPointOnSegment:Cu,clipSegment:Hl,_getEdgeIntersection:Ys,_getBitCode:si,_sqClosestPointOnSegment:jt,isFlat:bn,_flat:ql,polylineCenter:zi},g={project:function(s){return new we(s.lng,s.lat)},unproject:function(s){return new ve(s.y,s.x)},bounds:new ot([-180,-90],[180,90])},v={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ot([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,h=this.R,p=s.lat*u,_=this.R_MINOR/h,w=Math.sqrt(1-_*_),S=w*Math.sin(p),k=Math.tan(Math.PI/4-p/2)/Math.pow((1-S)/(1+S),w/2);return p=-h*Math.log(Math.max(k,1e-10)),new we(s.lng*u*h,p)},unproject:function(s){for(var u=180/Math.PI,h=this.R,p=this.R_MINOR/h,_=Math.sqrt(1-p*p),w=Math.exp(-s.y/h),S=Math.PI/2-2*Math.atan(w),k=0,B=.1,q;k<15&&Math.abs(B)>1e-7;k++)q=_*Math.sin(S),q=Math.pow((1-q)/(1+q),_/2),B=Math.PI/2-2*Math.atan(w*q)-S,S+=B;return new ve(S*u,s.x*u/h)}},b={__proto__:null,LonLat:g,Mercator:v,SphericalMercator:gl},N=n({},Xr,{code:"EPSG:3395",projection:v,transformation:function(){var s=.5/(Math.PI*v.R);return ei(s,.5,-s,.5)}()}),U=n({},Xr,{code:"EPSG:4326",projection:g,transformation:ei(1/180,1,-1/180,.5)}),Z=n({},En,{projection:g,transformation:ei(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var h=u.lng-s.lng,p=u.lat-s.lat;return Math.sqrt(h*h+p*p)},infinite:!0});En.Earth=Xr,En.EPSG3395=N,En.EPSG3857=ko,En.EPSG900913=_l,En.EPSG4326=U,En.Simple=Z;var Pe=Ir.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[a(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[a(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var h=this.getEvents();u.on(h,this),this.once("remove",function(){u.off(h,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Be.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=a(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=a(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return a(s)in this._layers},eachLayer:function(s,u){for(var h in this._layers)s.call(u,this._layers[h]);return this},_addLayers:function(s){s=s?G(s)?s:[s]:[];for(var u=0,h=s.length;u<h;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[a(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=a(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,h=this._getZoomSpan();for(var p in this._zoomBoundLayers){var _=this._zoomBoundLayers[p].options;s=_.minZoom===void 0?s:Math.min(s,_.minZoom),u=_.maxZoom===void 0?u:Math.max(u,_.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var pt=Pe.extend({initialize:function(s,u){E(this,u),this._layers={};var h,p;if(s)for(h=0,p=s.length;h<p;h++)this.addLayer(s[h])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),h,p;for(h in this._layers)p=this._layers[h],p[s]&&p[s].apply(p,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var h in this._layers)s.call(u,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return a(s)}}),Ge=function(s,u){return new pt(s,u)},ut=pt.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),pt.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),pt.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new pn;for(var u in this._layers){var h=this._layers[u];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Qt=function(s,u){return new ut(s,u)},Qn=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){E(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(h,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(p,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(s,u){var h=this.options,p=h[u+"Size"];typeof p=="number"&&(p=[p,p]);var _=fe(p),w=fe(u==="shadow"&&h.shadowAnchor||h.iconAnchor||_&&_.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(h.className||""),w&&(s.style.marginLeft=-w.x+"px",s.style.marginTop=-w.y+"px"),_&&(s.style.width=_.x+"px",s.style.height=_.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return se.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Yn(s){return new Qn(s)}var ai=Qn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof ai.imagePath!="string"&&(ai.imagePath=this._detectIconPath()),(this.options.imagePath||ai.imagePath)+Qn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(h,p,_){var w=p.exec(h);return w&&w[_]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=qe("div","leaflet-default-icon-path",document.body),u=js(s,"background-image")||js(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Au=Zn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Dr(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),be(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,h=u._map,p=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,w=lr(u._icon),S=h.getPixelBounds(),k=h.getPixelOrigin(),B=an(S.min._subtract(k).add(_),S.max._subtract(k).subtract(_));if(!B.contains(w)){var q=fe((Math.max(B.max.x,w.x)-B.max.x)/(S.max.x-B.max.x)-(Math.min(B.min.x,w.x)-B.min.x)/(S.min.x-B.min.x),(Math.max(B.max.y,w.y)-B.max.y)/(S.max.y-B.max.y)-(Math.min(B.min.y,w.y)-B.min.y)/(S.min.y-B.min.y)).multiplyBy(p);h.panBy(q,{animate:!1}),this._draggable._newPos._add(q),this._draggable._startPos._add(q),ht(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=D(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(x(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,h=u._shadow,p=lr(u._icon),_=u._map.layerPointToLatLng(p);h&&ht(h,p),u._latlng=_,s.latlng=_,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){x(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Lf=Pe.extend({options:{icon:new ai,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){E(this,u),this._latlng=Ve(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=Ve(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),p=!1;h!==this._icon&&(this._icon&&this._removeIcon(),p=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),be(h,u),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(h,"focus",this._panOnFocus,this);var _=s.icon.createShadow(this._shadow),w=!1;_!==this._shadow&&(this._removeShadow(),w=!0),_&&(be(_,u),_.alt=""),this._shadow=_,s.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&w&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&nt(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ht(this._icon,s),this._shadow&&ht(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Au)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Au(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&In(this._icon,s),this._shadow&&In(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,h=u.iconSize?fe(u.iconSize):fe(0,0),p=u.iconAnchor?fe(u.iconAnchor):fe(0,0);s.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:h.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function JL(s,u){return new Lf(s,u)}var Wo=Pe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return E(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ff=Wo.extend({options:{fill:!0,radius:10},initialize:function(s,u){E(this,u),this._latlng=Ve(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=Ve(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Wo.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,h=this._clickTolerance(),p=[s+h,u+h];this._pxBounds=new ot(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function XL(s,u){return new Ff(s,u)}var kv=Ff.extend({initialize:function(s,u,h){if(typeof u=="number"&&(u=n({},h,{radius:u})),E(this,u),this._latlng=Ve(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new pn(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Wo.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,h=this._map,p=h.options.crs;if(p.distance===Xr.distance){var _=Math.PI/180,w=this._mRadius/Xr.R/_,S=h.project([u+w,s]),k=h.project([u-w,s]),B=S.add(k).divideBy(2),q=h.unproject(B).lat,ee=Math.acos((Math.cos(w*_)-Math.sin(u*_)*Math.sin(q*_))/(Math.cos(u*_)*Math.cos(q*_)))/_;(isNaN(ee)||ee===0)&&(ee=w/Math.cos(Math.PI/180*u)),this._point=B.subtract(h.getPixelOrigin()),this._radius=isNaN(ee)?0:B.x-h.project([q,s-ee]).x,this._radiusY=B.y-S.y}else{var ge=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(ge).x}this._updateBounds()}});function eF(s,u,h){return new kv(s,u,h)}var Hi=Wo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){E(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,h=null,p=jt,_,w,S=0,k=this._parts.length;S<k;S++)for(var B=this._parts[S],q=1,ee=B.length;q<ee;q++){_=B[q-1],w=B[q];var ge=p(s,_,w,!0);ge<u&&(u=ge,h=p(s,_,w))}return h&&(h.distance=Math.sqrt(u)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=Ve(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new pn,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return bn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],h=bn(s),p=0,_=s.length;p<_;p++)h?(u[p]=Ve(s[p]),this._bounds.extend(u[p])):u[p]=this._convertLatLngs(s[p]);return u},_project:function(){var s=new ot;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new we(s,s);this._rawPxBounds&&(this._pxBounds=new ot([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,h){var p=s[0]instanceof ve,_=s.length,w,S;if(p){for(S=[],w=0;w<_;w++)S[w]=this._map.latLngToLayerPoint(s[w]),h.extend(S[w]);u.push(S)}else for(w=0;w<_;w++)this._projectLatlngs(s[w],u,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,h,p,_,w,S,k,B;for(h=0,_=0,w=this._rings.length;h<w;h++)for(B=this._rings[h],p=0,S=B.length;p<S-1;p++)k=Hl(B[p],B[p+1],s,p,!0),k&&(u[_]=u[_]||[],u[_].push(k[0]),(k[1]!==B[p+1]||p===S-2)&&(u[_].push(k[1]),_++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,h=0,p=s.length;h<p;h++)s[h]=Tu(s[h],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var h,p,_,w,S,k,B=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,w=this._parts.length;h<w;h++)for(k=this._parts[h],p=0,S=k.length,_=S-1;p<S;_=p++)if(!(!u&&p===0)&&$l(s,k[_],k[p])<=B)return!0;return!1}});function tF(s,u){return new Hi(s,u)}Hi._flat=ql;var Mu=Hi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ul(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=Hi.prototype._convertLatLngs.call(this,s),h=u.length;return h>=2&&u[0]instanceof ve&&u[0].equals(u[h-1])&&u.pop(),u},_setLatLngs:function(s){Hi.prototype._setLatLngs.call(this,s),bn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,h=new we(u,u);if(s=new ot(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,_=this._rings.length,w;p<_;p++)w=qo(this._rings[p],s,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,h,p,_,w,S,k,B,q;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(w=0,B=this._parts.length;w<B;w++)for(h=this._parts[w],S=0,q=h.length,k=q-1;S<q;k=S++)p=h[S],_=h[k],p.y>s.y!=_.y>s.y&&s.x<(_.x-p.x)*(s.y-p.y)/(_.y-p.y)+p.x&&(u=!u);return u||Hi.prototype._containsPoint.call(this,s,!0)}});function nF(s,u){return new Mu(s,u)}var qi=ut.extend({initialize:function(s,u){E(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=G(s)?s:s.features,h,p,_;if(u){for(h=0,p=u.length;h<p;h++)_=u[h],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var w=this.options;if(w.filter&&!w.filter(s))return this;var S=Vf(s,w);return S?(S.feature=jf(s),S.defaultOptions=S.options,this.resetStyle(S),w.onEachFeature&&w.onEachFeature(s,S),this.addLayer(S)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=n({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function Vf(s,u){var h=s.type==="Feature"?s.geometry:s,p=h?h.coordinates:null,_=[],w=u&&u.pointToLayer,S=u&&u.coordsToLatLng||Lv,k,B,q,ee;if(!p&&!h)return null;switch(h.type){case"Point":return k=S(p),UC(w,s,k,u);case"MultiPoint":for(q=0,ee=p.length;q<ee;q++)k=S(p[q]),_.push(UC(w,s,k,u));return new ut(_);case"LineString":case"MultiLineString":return B=Bf(p,h.type==="LineString"?0:1,S),new Hi(B,u);case"Polygon":case"MultiPolygon":return B=Bf(p,h.type==="Polygon"?1:2,S),new Mu(B,u);case"GeometryCollection":for(q=0,ee=h.geometries.length;q<ee;q++){var ge=Vf({geometry:h.geometries[q],type:"Feature",properties:s.properties},u);ge&&_.push(ge)}return new ut(_);case"FeatureCollection":for(q=0,ee=h.features.length;q<ee;q++){var Oe=Vf(h.features[q],u);Oe&&_.push(Oe)}return new ut(_);default:throw new Error("Invalid GeoJSON object.")}}function UC(s,u,h,p){return s?s(u,h):new Lf(h,p&&p.markersInheritOptions&&p)}function Lv(s){return new ve(s[1],s[0],s[2])}function Bf(s,u,h){for(var p=[],_=0,w=s.length,S;_<w;_++)S=u?Bf(s[_],u-1,h):(h||Lv)(s[_]),p.push(S);return p}function Fv(s,u){return s=Ve(s),s.alt!==void 0?[m(s.lng,u),m(s.lat,u),m(s.alt,u)]:[m(s.lng,u),m(s.lat,u)]}function Uf(s,u,h,p){for(var _=[],w=0,S=s.length;w<S;w++)_.push(u?Uf(s[w],bn(s[w])?0:u-1,h,p):Fv(s[w],p));return!u&&h&&_.length>0&&_.push(_[0].slice()),_}function xu(s,u){return s.feature?n({},s.feature,{geometry:u}):jf(u)}function jf(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Vv={toGeoJSON:function(s){return xu(this,{type:"Point",coordinates:Fv(this.getLatLng(),s)})}};Lf.include(Vv),kv.include(Vv),Ff.include(Vv),Hi.include({toGeoJSON:function(s){var u=!bn(this._latlngs),h=Uf(this._latlngs,u?1:0,!1,s);return xu(this,{type:(u?"Multi":"")+"LineString",coordinates:h})}}),Mu.include({toGeoJSON:function(s){var u=!bn(this._latlngs),h=u&&!bn(this._latlngs[0]),p=Uf(this._latlngs,h?2:u?1:0,!0,s);return u||(p=[p]),xu(this,{type:(h?"Multi":"")+"Polygon",coordinates:p})}}),pt.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(h){u.push(h.toGeoJSON(s).geometry.coordinates)}),xu(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var h=u==="GeometryCollection",p=[];return this.eachLayer(function(_){if(_.toGeoJSON){var w=_.toGeoJSON(s);if(h)p.push(w.geometry);else{var S=jf(w);S.type==="FeatureCollection"?p.push.apply(p,S.features):p.push(S)}}}),h?xu(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function jC(s,u){return new qi(s,u)}var rF=jC,$f=Pe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,h){this._url=s,this._bounds=tt(u),E(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&ri(this._image),this},bringToBack:function(){return this._map&&ii(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=tt(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:qe("img");if(be(u,"leaflet-image-layer"),this._zoomAnimated&&be(u,"leaflet-zoom-animated"),this.options.className&&be(u,this.options.className),u.onselectstart=f,u.onmousemove=f,u.onload=i(this.fire,this,"load"),u.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;cn(this._image,h,u)},_reset:function(){var s=this._image,u=new ot(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=u.getSize();ht(s,u.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){In(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),iF=function(s,u,h){return new $f(s,u,h)},$C=$f.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:qe("video");if(be(u,"leaflet-image-layer"),this._zoomAnimated&&be(u,"leaflet-zoom-animated"),this.options.className&&be(u,this.options.className),u.onselectstart=f,u.onmousemove=f,u.onloadeddata=i(this.fire,this,"load"),s){for(var h=u.getElementsByTagName("source"),p=[],_=0;_<h.length;_++)p.push(h[_].src);this._url=h.length>0?p:[u.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var S=qe("source");S.src=this._url[w],u.appendChild(S)}}});function oF(s,u,h){return new $C(s,u,h)}var zC=$f.extend({_initImage:function(){var s=this._image=this._url;be(s,"leaflet-image-layer"),this._zoomAnimated&&be(s,"leaflet-zoom-animated"),this.options.className&&be(s,this.options.className),s.onselectstart=f,s.onmousemove=f}});function sF(s,u,h){return new zC(s,u,h)}var ui=Pe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof ve||G(s))?(this._latlng=Ve(s),E(this,u)):(E(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&In(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&In(this._container,1),this.bringToFront(),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(In(this._container,0),this._removeTimeout=setTimeout(i(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Ve(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ri(this._container),this},bringToBack:function(){return this._map&&ii(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof ut){u=null;var h=this._source._layers;for(var p in h)if(h[p]._map){u=h[p];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=fe(this.options.offset),h=this._getAnchor();this._zoomAnimated?ht(this._container,s.add(h)):u=u.add(s).add(h);var p=this._containerBottom=-u.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=p+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Be.include({_initOverlay:function(s,u,h,p){var _=u;return _ instanceof s||(_=new s(p).setContent(u)),h&&_.setLatLng(h),_}}),Pe.include({_initOverlay:function(s,u,h,p){var _=h;return _ instanceof s?(E(_,p),_._source=this):(_=u&&!p?u:new s(p,this),_.setContent(h)),_}});var zf=ui.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,ui.prototype.openOn.call(this,s)},onAdd:function(s){ui.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wo||this._source.on("preclick",gn))},onRemove:function(s){ui.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wo||this._source.off("preclick",gn))},getEvents:function(){var s=ui.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=qe("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=qe("div",s+"-content-wrapper",u);if(this._contentNode=qe("div",s+"-content",h),qs(u),Fl(this._contentNode),ye(u,"contextmenu",gn),this._tipContainer=qe("div",s+"-tip-container",u),this._tip=qe("div",s+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=qe("a",s+"-close-button",u);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',ye(p,"click",function(_){vt(_),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),u.width=h+1+"px",u.whiteSpace="",u.height="";var p=s.offsetHeight,_=this.options.maxHeight,w="leaflet-popup-scrolled";_&&p>_?(u.height=_+"px",be(s,w)):_t(s,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();ht(this._container,u.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(js(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+u,p=this._containerWidth,_=new we(this._containerLeft,-h-this._containerBottom);_._add(lr(this._container));var w=s.layerPointToContainerPoint(_),S=fe(this.options.autoPanPadding),k=fe(this.options.autoPanPaddingTopLeft||S),B=fe(this.options.autoPanPaddingBottomRight||S),q=s.getSize(),ee=0,ge=0;w.x+p+B.x>q.x&&(ee=w.x+p-q.x+B.x),w.x-ee-k.x<0&&(ee=w.x-k.x),w.y+h+B.y>q.y&&(ge=w.y+h-q.y+B.y),w.y-ge-k.y<0&&(ge=w.y-k.y),(ee||ge)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ee,ge]))}},_getAnchor:function(){return fe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),aF=function(s,u){return new zf(s,u)};Be.mergeOptions({closePopupOnClick:!0}),Be.include({openPopup:function(s,u,h){return this._initOverlay(zf,s,u,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Pe.include({bindPopup:function(s,u){return this._popup=this._initOverlay(zf,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ut||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){dr(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Wo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Hf=ui.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){ui.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){ui.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=ui.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=qe("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,h,p=this._map,_=this._container,w=p.latLngToContainerPoint(p.getCenter()),S=p.layerPointToContainerPoint(s),k=this.options.direction,B=_.offsetWidth,q=_.offsetHeight,ee=fe(this.options.offset),ge=this._getAnchor();k==="top"?(u=B/2,h=q):k==="bottom"?(u=B/2,h=0):k==="center"?(u=B/2,h=q/2):k==="right"?(u=0,h=q/2):k==="left"?(u=B,h=q/2):S.x<w.x?(k="right",u=0,h=q/2):(k="left",u=B+(ee.x+ge.x)*2,h=q/2),s=s.subtract(fe(u,h,!0)).add(ee).add(ge),_t(_,"leaflet-tooltip-right"),_t(_,"leaflet-tooltip-left"),_t(_,"leaflet-tooltip-top"),_t(_,"leaflet-tooltip-bottom"),be(_,"leaflet-tooltip-"+k),ht(_,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&In(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return fe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),uF=function(s,u){return new Hf(s,u)};Be.include({openTooltip:function(s,u,h){return this._initOverlay(Hf,s,u,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Pe.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Hf,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[u](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ut||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(ye(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ye(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,h,p;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),p=this._map.containerPointToLayerPoint(h),u=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(u)}});var HC=Qn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?($s(u),u.appendChild(h.html)):u.innerHTML=h.html!==!1?h.html:"",h.bgPos){var p=fe(h.bgPos);u.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function cF(s){return new HC(s)}Qn.Default=ai;var Wl=Pe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){E(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),at(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ri(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ii(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof we?s:new we(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,h=-s(-1/0,1/0),p=0,_=u.length,w;p<_;p++)w=u[p].style.zIndex,u[p]!==this._container&&w&&(h=s(h,+w));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!se.ielt9){In(this._container,this.options.opacity);var s=+new Date,u=!1,h=!1;for(var p in this._tiles){var _=this._tiles[p];if(!(!_.current||!_.loaded)){var w=Math.min(1,(s-_.loaded)/200);In(_.el,w),w<1?u=!0:(_.active?h=!0:this._onOpaqueTile(_),_.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),u&&(x(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=qe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=u-Math.abs(s-h),this._onUpdateLevel(h)):(at(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var p=this._levels[s],_=this._map;return p||(p=this._levels[s]={},p.el=qe("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=u,p.origin=_.project(_.unproject(_.getPixelOrigin()),s).round(),p.zoom=s,this._setZoomTransform(p,_.getCenter(),_.getZoom()),f(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var s,u,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var p=u.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)at(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,h,p){var _=Math.floor(s/2),w=Math.floor(u/2),S=h-1,k=new we(+_,+w);k.z=+S;var B=this._tileCoordsToKey(k),q=this._tiles[B];return q&&q.active?(q.retain=!0,!0):(q&&q.loaded&&(q.retain=!0),S>p?this._retainParent(_,w,S,p):!1)},_retainChildren:function(s,u,h,p){for(var _=2*s;_<2*s+2;_++)for(var w=2*u;w<2*u+2;w++){var S=new we(_,w);S.z=h+1;var k=this._tileCoordsToKey(S),B=this._tiles[k];if(B&&B.active){B.retain=!0;continue}else B&&B.loaded&&(B.retain=!0);h+1<p&&this._retainChildren(_,w,h+1,p)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,h,p){var _=Math.round(u);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var w=this.options.updateWhenZooming&&_!==this._tileZoom;(!p||w)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,u)},_setZoomTransform:function(s,u,h){var p=this._map.getZoomScale(h,s.zoom),_=s.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(u,h)).round();se.any3d?cn(s.el,_,p):ht(s.el,_)},_resetGrid:function(){var s=this._map,u=s.options.crs,h=this._tileSize=this.getTileSize(),p=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],p).x/h.x),Math.ceil(s.project([0,u.wrapLng[1]],p).x/h.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],p).y/h.x),Math.ceil(s.project([u.wrapLat[1],0],p).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,h=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),p=u.getZoomScale(h,this._tileZoom),_=u.project(s,this._tileZoom).floor(),w=u.getSize().divideBy(p*2);return new ot(_.subtract(w),_.add(w))},_update:function(s){var u=this._map;if(u){var h=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(s),_=this._pxBoundsToTileRange(p),w=_.getCenter(),S=[],k=this.options.keepBuffer,B=new ot(_.getBottomLeft().subtract([k,-k]),_.getTopRight().add([k,-k]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var q in this._tiles){var ee=this._tiles[q].coords;(ee.z!==this._tileZoom||!B.contains(new we(ee.x,ee.y)))&&(this._tiles[q].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var ge=_.min.y;ge<=_.max.y;ge++)for(var Oe=_.min.x;Oe<=_.max.x;Oe++){var Tn=new we(Oe,ge);if(Tn.z=this._tileZoom,!!this._isValidTile(Tn)){var Yt=this._tiles[this._tileCoordsToKey(Tn)];Yt?Yt.current=!0:S.push(Tn)}}if(S.sort(function(xn,Ru){return xn.distanceTo(w)-Ru.distanceTo(w)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var hr=document.createDocumentFragment();for(Oe=0;Oe<S.length;Oe++)this._addTile(S[Oe],hr);this._level.el.appendChild(hr)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var h=this._globalTileRange;if(!u.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!u.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(s);return tt(this.options.bounds).overlaps(p)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,h=this.getTileSize(),p=s.scaleBy(h),_=p.add(h),w=u.unproject(p,s.z),S=u.unproject(_,s.z);return[w,S]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),h=new pn(u[0],u[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),h=new we(+u[0],+u[1]);return h.z=+u[2],h},_removeTile:function(s){var u=this._tiles[s];u&&(at(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){be(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=f,s.onmousemove=f,se.ielt9&&this.options.opacity<1&&In(s,this.options.opacity)},_addTile:function(s,u){var h=this._getTilePos(s),p=this._tileCoordsToKey(s),_=this.createTile(this._wrapCoords(s),i(this._tileReady,this,s));this._initTile(_),this.createTile.length<2&&D(i(this._tileReady,this,s,null,_)),ht(_,h),this._tiles[p]={el:_,coords:s,current:!0},u.appendChild(_),this.fire("tileloadstart",{tile:_,coords:s})},_tileReady:function(s,u,h){u&&this.fire("tileerror",{error:u,tile:h,coords:s});var p=this._tileCoordsToKey(s);h=this._tiles[p],h&&(h.loaded=+new Date,this._map._fadeAnimated?(In(h.el,0),x(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),u||(be(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),se.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new we(this._wrapX?l(s.x,this._wrapX):s.x,this._wrapY?l(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new ot(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function lF(s){return new Wl(s)}var Pu=Wl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=E(this,u),u.detectRetina&&se.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var h=document.createElement("img");return ye(h,"load",i(this._tileOnLoad,this,u,h)),ye(h,"error",i(this._tileOnError,this,u,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var u={r:se.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=h),u["-y"]=h}return V(this._url,n(u,this.options))},_tileOnLoad:function(s,u){se.ielt9?setTimeout(i(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,h){var p=this.options.errorTileUrl;p&&u.getAttribute("src")!==p&&(u.src=p),s(h,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,h=this.options.zoomReverse,p=this.options.zoomOffset;return h&&(s=u-s),s+p},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=f,u.onerror=f,!u.complete)){u.src=X;var h=this._tiles[s].coords;at(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:h})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",X),Wl.prototype._removeTile.call(this,s)},_tileReady:function(s,u,h){if(!(!this._map||h&&h.getAttribute("src")===X))return Wl.prototype._tileReady.call(this,s,u,h)}});function qC(s,u){return new Pu(s,u)}var WC=Pu.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var h=n({},this.defaultWmsParams);for(var p in u)p in this.options||(h[p]=u[p]);u=E(this,u);var _=u.detectRetina&&se.retina?2:1,w=this.getTileSize();h.width=w.x*_,h.height=w.y*_,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Pu.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),h=this._crs,p=an(h.project(u[0]),h.project(u[1])),_=p.min,w=p.max,S=(this._wmsVersion>=1.3&&this._crs===U?[_.y,_.x,w.y,w.x]:[_.x,_.y,w.x,w.y]).join(","),k=Pu.prototype.getTileUrl.call(this,s);return k+M(this.wmsParams,k,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(s,u){return n(this.wmsParams,s),u||this.redraw(),this}});function dF(s,u){return new WC(s,u)}Pu.WMS=WC,qC.wms=dF;var Wi=Pe.extend({options:{padding:.1},initialize:function(s){E(this,s),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var h=this._map.getZoomScale(u,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,u),w=p.multiplyBy(-h).add(_).subtract(this._map._getNewPixelOrigin(s,u));se.any3d?cn(this._container,w,h):ht(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),h=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new ot(h,h.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),GC=Wi.extend({options:{tolerance:0},getEvents:function(){var s=Wi.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ye(s,"mousemove",this._onMouseMove,this),ye(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ye(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){x(this._redrawRequest),delete this._ctx,at(this._container),nt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wi.prototype._update.call(this);var s=this._bounds,u=this._container,h=s.getSize(),p=se.retina?2:1;ht(u,s.min),u.width=p*h.x,u.height=p*h.y,u.style.width=h.x+"px",u.style.height=h.y+"px",se.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Wi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[a(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,h=u.next,p=u.prev;h?h.prev=p:this._drawLast=p,p?p.next=h:this._drawFirst=h,delete s._order,delete this._layers[a(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),h=[],p,_;for(_=0;_<u.length;_++){if(p=Number(u[_]),isNaN(p))return;h.push(p)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ot,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var h=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)s=p.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var h,p,_,w,S=s._parts,k=S.length,B=this._ctx;if(k){for(B.beginPath(),h=0;h<k;h++){for(p=0,_=S[h].length;p<_;p++)w=S[h][p],B[p?"lineTo":"moveTo"](w.x,w.y);u&&B.closePath()}this._fillStroke(B,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,h=this._ctx,p=Math.max(Math.round(s._radius),1),_=(Math.max(Math.round(s._radiusY),1)||p)/p;_!==1&&(h.save(),h.scale(1,_)),h.beginPath(),h.arc(u.x,u.y/_,p,0,Math.PI*2,!1),_!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,u){var h=u.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),h,p,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(p=h);this._fireEvent(p?[p]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(_t(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var h,p,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(u)&&(p=h);p!==this._hoveredLayer&&(this._handleMouseOut(s),p&&(be(this._container,"leaflet-interactive"),this._fireEvent([p],s,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,h){this._map._fireDOMEvent(u,h||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var h=u.next,p=u.prev;if(h)h.prev=p;else return;p?p.next=h:h&&(this._drawFirst=h),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var h=u.next,p=u.prev;if(p)p.next=h;else return;h?h.prev=p:p&&(this._drawLast=p),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function KC(s){return se.canvas?new GC(s):null}var Gl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),hF={_initContainer:function(){this._container=qe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wi.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=Gl("shape");be(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=Gl("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[a(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;at(u),s.removeInteractiveTarget(u),delete this._layers[a(s)]},_updateStyle:function(s){var u=s._stroke,h=s._fill,p=s.options,_=s._container;_.stroked=!!p.stroke,_.filled=!!p.fill,p.stroke?(u||(u=s._stroke=Gl("stroke")),_.appendChild(u),u.weight=p.weight+"px",u.color=p.color,u.opacity=p.opacity,p.dashArray?u.dashStyle=G(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=p.lineCap.replace("butt","flat"),u.joinstyle=p.lineJoin):u&&(_.removeChild(u),s._stroke=null),p.fill?(h||(h=s._fill=Gl("fill")),_.appendChild(h),h.color=p.fillColor||p.color,h.opacity=p.fillOpacity):h&&(_.removeChild(h),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),h=Math.round(s._radius),p=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+h+","+p+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){ri(s._container)},_bringToBack:function(s){ii(s._container)}},qf=se.vml?Gl:cu,Kl=Wi.extend({_initContainer:function(){this._container=qf("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qf("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),nt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wi.prototype._update.call(this);var s=this._bounds,u=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,h.setAttribute("width",u.x),h.setAttribute("height",u.y)),ht(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=qf("path");s.options.className&&be(u,s.options.className),s.options.interactive&&be(u,"leaflet-interactive"),this._updateStyle(s),this._layers[a(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){at(s._path),s.removeInteractiveTarget(s._path),delete this._layers[a(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,h=s.options;u&&(h.stroke?(u.setAttribute("stroke",h.color),u.setAttribute("stroke-opacity",h.opacity),u.setAttribute("stroke-width",h.weight),u.setAttribute("stroke-linecap",h.lineCap),u.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?u.setAttribute("stroke-dasharray",h.dashArray):u.removeAttribute("stroke-dasharray"),h.dashOffset?u.setAttribute("stroke-dashoffset",h.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),h.fill?(u.setAttribute("fill",h.fillColor||h.color),u.setAttribute("fill-opacity",h.fillOpacity),u.setAttribute("fill-rule",h.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,lu(s._parts,u))},_updateCircle:function(s){var u=s._point,h=Math.max(Math.round(s._radius),1),p=Math.max(Math.round(s._radiusY),1)||h,_="a"+h+","+p+" 0 1,0 ",w=s._empty()?"M0 0":"M"+(u.x-h)+","+u.y+_+h*2+",0 "+_+-h*2+",0 ";this._setPath(s,w)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){ri(s._path)},_bringToBack:function(s){ii(s._path)}});se.vml&&Kl.include(hF);function ZC(s){return se.svg||se.vml?new Kl(s):null}Be.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&KC(s)||ZC(s)}});var QC=Mu.extend({initialize:function(s,u){Mu.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=tt(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function fF(s,u){return new QC(s,u)}Kl.create=qf,Kl.pointsToPath=lu,qi.geometryToLayer=Vf,qi.coordsToLatLng=Lv,qi.coordsToLatLngs=Bf,qi.latLngToCoords=Fv,qi.latLngsToCoords=Uf,qi.getFeature=xu,qi.asFeature=jf,Be.mergeOptions({boxZoom:!0});var YC=Zn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){nt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),jo(),Bi(),this._startPoint=this._map.mouseEventToContainerPoint(s),ye(document,{contextmenu:dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=qe("div","leaflet-zoom-box",this._container),be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new ot(this._point,this._startPoint),h=u.getSize();ht(this._box,u.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(at(this._box),_t(this._container,"leaflet-crosshair")),Ze(),Pl(),nt(document,{contextmenu:dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var u=new pn(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Be.addInitHook("addHandler","boxZoom",YC),Be.mergeOptions({doubleClickZoom:!0});var JC=Zn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,h=u.getZoom(),p=u.options.zoomDelta,_=s.originalEvent.shiftKey?h-p:h+p;u.options.doubleClickZoom==="center"?u.setZoom(_):u.setZoomAround(s.containerPoint,_)}});Be.addInitHook("addHandler","doubleClickZoom",JC),Be.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var XC=Zn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Dr(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=tt(this._map.options.maxBounds);this._offsetLimit=an(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),h=this._initialWorldOffset,p=this._draggable._newPos.x,_=(p-u+h)%s+u-h,w=(p+u+h)%s-u-h,S=Math.abs(_+h)<Math.abs(w+h)?_:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(s){var u=this._map,h=u.options,p=!h.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),p)u.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,S=h.easeLinearity,k=_.multiplyBy(S/w),B=k.distanceTo([0,0]),q=Math.min(h.inertiaMaxSpeed,B),ee=k.multiplyBy(q/B),ge=q/(h.inertiaDeceleration*S),Oe=ee.multiplyBy(-ge/2).round();!Oe.x&&!Oe.y?u.fire("moveend"):(Oe=u._limitOffset(Oe,u.options.maxBounds),D(function(){u.panBy(Oe,{duration:ge,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});Be.addInitHook("addHandler","dragging",XC),Be.mergeOptions({keyboard:!0,keyboardPanDelta:80});var eD=Zn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ye(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),nt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,h=s.scrollTop||u.scrollTop,p=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(p,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},h=this.keyCodes,p,_;for(p=0,_=h.left.length;p<_;p++)u[h.left[p]]=[-1*s,0];for(p=0,_=h.right.length;p<_;p++)u[h.right[p]]=[s,0];for(p=0,_=h.down.length;p<_;p++)u[h.down[p]]=[0,s];for(p=0,_=h.up.length;p<_;p++)u[h.up[p]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},h=this.keyCodes,p,_;for(p=0,_=h.zoomIn.length;p<_;p++)u[h.zoomIn[p]]=s;for(p=0,_=h.zoomOut.length;p<_;p++)u[h.zoomOut[p]]=-s},_addHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){nt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,h=this._map,p;if(u in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(p=this._panKeys[u],s.shiftKey&&(p=fe(p).multiplyBy(3)),h.options.maxBounds&&(p=h._limitOffset(fe(p),h.options.maxBounds)),h.options.worldCopyJump){var _=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(p)));h.panTo(_)}else h.panBy(p)}else if(u in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;dr(s)}}});Be.addInitHook("addHandler","keyboard",eD),Be.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var tD=Zn.extend({addHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){nt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=Bl(s),h=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var p=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),p),dr(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,w=h?Math.ceil(_/h)*h:_,S=s._limitZoom(u+(this._delta>0?w:-w))-u;this._delta=0,this._startTime=null,S&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+S):s.setZoomAround(this._lastMousePos,u+S))}});Be.addInitHook("addHandler","scrollWheelZoom",tD);var pF=600;Be.mergeOptions({tapHold:se.touchNative&&se.safari&&se.mobile,tapTolerance:15});var nD=Zn.extend({addHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){nt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new we(u.clientX,u.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(ye(document,"touchend",vt),ye(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),pF),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){nt(document,"touchend",vt),nt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),nt(document,"touchend touchcancel contextmenu",this._cancel,this),nt(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new we(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});h._simulated=!0,u.target.dispatchEvent(h)}});Be.addInitHook("addHandler","tapHold",nD),Be.mergeOptions({touchZoom:se.touch,bounceAtZoomLimits:!0});var rD=Zn.extend({addHooks:function(){be(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),nt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var h=u.mouseEventToContainerPoint(s.touches[0]),p=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(h.add(p)._divideBy(2))),this._startDist=h.distanceTo(p),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),vt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,h=u.mouseEventToContainerPoint(s.touches[0]),p=u.mouseEventToContainerPoint(s.touches[1]),_=h.distanceTo(p)/this._startDist;if(this._zoom=u.getScaleZoom(_,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&_<1||this._zoom>u.getMaxZoom()&&_>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var w=h._add(p)._divideBy(2)._subtract(this._centerPoint);if(_===1&&w.x===0&&w.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),x(this._animRequest);var S=i(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(S,this,!0),vt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,x(this._animRequest),nt(document,"touchmove",this._onTouchMove,this),nt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Be.addInitHook("addHandler","touchZoom",rD),Be.BoxZoom=YC,Be.DoubleClickZoom=JC,Be.Drag=XC,Be.Keyboard=eD,Be.ScrollWheelZoom=tD,Be.TapHold=nD,Be.TouchZoom=rD,t.Bounds=ot,t.Browser=se,t.CRS=En,t.Canvas=GC,t.Circle=kv,t.CircleMarker=Ff,t.Class=O,t.Control=Mn,t.DivIcon=HC,t.DivOverlay=ui,t.DomEvent=ft,t.DomUtil=oi,t.Draggable=Dr,t.Evented=Ir,t.FeatureGroup=ut,t.GeoJSON=qi,t.GridLayer=Wl,t.Handler=Zn,t.Icon=Qn,t.ImageOverlay=$f,t.LatLng=ve,t.LatLngBounds=pn,t.Layer=Pe,t.LayerGroup=pt,t.LineUtil=d,t.Map=Be,t.Marker=Lf,t.Mixin=Iu,t.Path=Wo,t.Point=we,t.PolyUtil=jl,t.Polygon=Mu,t.Polyline=Hi,t.Popup=zf,t.PosAnimation=Af,t.Projection=b,t.Rectangle=QC,t.Renderer=Wi,t.SVG=Kl,t.SVGOverlay=zC,t.TileLayer=Pu,t.Tooltip=Hf,t.Transformation=ml,t.Util=R,t.VideoOverlay=$C,t.bind=i,t.bounds=an,t.canvas=KC,t.circle=eF,t.circleMarker=XL,t.control=Ho,t.divIcon=cF,t.extend=n,t.featureGroup=Qt,t.geoJSON=jC,t.geoJson=rF,t.gridLayer=lF,t.icon=Yn,t.imageOverlay=iF,t.latLng=Ve,t.latLngBounds=tt,t.layerGroup=Ge,t.map=Mf,t.marker=JL,t.point=fe,t.polygon=nF,t.polyline=tF,t.popup=aF,t.rectangle=fF,t.setOptions=E,t.stamp=a,t.svg=ZC,t.svgOverlay=sF,t.tileLayer=qC,t.tooltip=uF,t.transformation=ei,t.version=e,t.videoOverlay=oF;var gF=window.L;t.noConflict=function(){return window.L=gF,this},window.L=t})});function qv(t,e){return Object.is(t,e)}var $t=null,Kf=!1,Wv=1,fr=Symbol("SIGNAL");function Me(t){let e=$t;return $t=t,e}function Gv(){return $t}var Ql={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Yl(t){if(Kf)throw new Error("");if($t===null)return;$t.consumerOnSignalRead(t);let e=$t.nextProducerIndex++;if(Jf($t),e<$t.producerNode.length&&$t.producerNode[e]!==t&&Zl($t)){let n=$t.producerNode[e];Yf(n,$t.producerIndexOfThis[e])}$t.producerNode[e]!==t&&($t.producerNode[e]=t,$t.producerIndexOfThis[e]=Zl($t)?hD(t,$t,e):0),$t.producerLastReadVersion[e]=t.version}function dD(){Wv++}function Kv(t){if(!(Zl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Wv)){if(!t.producerMustRecompute(t)&&!Jv(t)){Hv(t);return}t.producerRecomputeValue(t),Hv(t)}}function Zv(t){if(t.liveConsumerNode===void 0)return;let e=Kf;Kf=!0;try{for(let n of t.liveConsumerNode)n.dirty||NF(n)}finally{Kf=e}}function Qv(){return $t?.consumerAllowSignalWrites!==!1}function NF(t){t.dirty=!0,Zv(t),t.consumerMarkedDirty?.(t)}function Hv(t){t.dirty=!1,t.lastCleanEpoch=Wv}function Qf(t){return t&&(t.nextProducerIndex=0),Me(t)}function Yv(t,e){if(Me(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Zl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Yf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Jv(t){Jf(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Kv(n),r!==n.version))return!0}return!1}function Xv(t){if(Jf(t),Zl(t))for(let e=0;e<t.producerNode.length;e++)Yf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function hD(t,e,n){if(fD(t),t.liveConsumerNode.length===0&&pD(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=hD(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Yf(t,e){if(fD(t),t.liveConsumerNode.length===1&&pD(t))for(let r=0;r<t.producerNode.length;r++)Yf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Jf(i),i.producerIndexOfThis[r]=e}}function Zl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Jf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function fD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function pD(t){return t.producerNode!==void 0}function ey(t,e){let n=Object.create(OF);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Kv(n),Yl(n),n.value===Zf)throw n.error;return n.value};return r[fr]=n,r}var $v=Symbol("UNSET"),zv=Symbol("COMPUTING"),Zf=Symbol("ERRORED"),OF=Ae(K({},Ql),{value:$v,dirty:!0,error:null,equal:qv,kind:"computed",producerMustRecompute(t){return t.value===$v||t.value===zv},producerRecomputeValue(t){if(t.value===zv)throw new Error("Detected cycle in computations.");let e=t.value;t.value=zv;let n=Qf(t),r,i=!1;try{r=t.computation(),Me(null),i=e!==$v&&e!==Zf&&r!==Zf&&t.equal(e,r)}catch(o){r=Zf,t.error=o}finally{Yv(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function kF(){throw new Error}var gD=kF;function mD(t){gD(t)}function ty(t){gD=t}var LF=null;function ny(t,e){let n=Object.create(Xf);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Yl(n),n.value);return r[fr]=n,r}function Jl(t,e){Qv()||mD(t),t.equal(t.value,e)||(t.value=e,FF(t))}function ry(t,e){Qv()||mD(t),Jl(t,e(t.value))}var Xf=Ae(K({},Ql),{equal:qv,value:void 0,kind:"signal"});function FF(t){t.version++,dD(),Zv(t),LF?.()}function iy(t){let e=Me(null);try{return t()}finally{Me(e)}}var oy;function Xl(){return oy}function Gi(t){let e=oy;return oy=t,e}var ep=Symbol("NotFound");function Te(t){return typeof t=="function"}function Nu(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var tp=Nu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Js(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Tt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Te(r))try{r()}catch(o){e=o instanceof tp?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{_D(o)}catch(a){e=e??[],a instanceof tp?e=[...e,...a.errors]:e.push(a)}}if(e)throw new tp(e)}}add(e){var n;if(e&&e!==this)if(this.closed)_D(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Js(n,e)}remove(e){let{_finalizers:n}=this;n&&Js(n,e),e instanceof t&&e._removeParent(this)}};Tt.EMPTY=(()=>{let t=new Tt;return t.closed=!0,t})();var sy=Tt.EMPTY;function np(t){return t instanceof Tt||t&&"closed"in t&&Te(t.remove)&&Te(t.add)&&Te(t.unsubscribe)}function _D(t){Te(t)?t():t.unsubscribe()}var Sr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ou={setTimeout(t,e,...n){let{delegate:r}=Ou;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ou;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function rp(t){Ou.setTimeout(()=>{let{onUnhandledError:e}=Sr;if(e)e(t);else throw t})}function ed(){}var vD=ay("C",void 0,void 0);function yD(t){return ay("E",void 0,t)}function wD(t){return ay("N",t,void 0)}function ay(t,e,n){return{kind:t,value:e,error:n}}var Xs=null;function ku(t){if(Sr.useDeprecatedSynchronousErrorHandling){let e=!Xs;if(e&&(Xs={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Xs;if(Xs=null,n)throw r}}else t()}function ED(t){Sr.useDeprecatedSynchronousErrorHandling&&Xs&&(Xs.errorThrown=!0,Xs.error=t)}var ea=class extends Tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,np(e)&&e.add(this)):this.destination=zF}static create(e,n,r){return new Ar(e,n,r)}next(e){this.isStopped?cy(wD(e),this):this._next(e)}error(e){this.isStopped?cy(yD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cy(vD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jF=Function.prototype.bind;function uy(t,e){return jF.call(t,e)}var ly=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ip(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ip(r)}else ip(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ip(n)}}},Ar=class extends ea{constructor(e,n,r){super();let i;if(Te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Sr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uy(e.next,o),error:e.error&&uy(e.error,o),complete:e.complete&&uy(e.complete,o)}):i=e}this.destination=new ly(i)}};function ip(t){Sr.useDeprecatedSynchronousErrorHandling?ED(t):rp(t)}function $F(t){throw t}function cy(t,e){let{onStoppedNotification:n}=Sr;n&&Ou.setTimeout(()=>n(t,e))}var zF={closed:!0,next:ed,error:$F,complete:ed};var Lu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Jn(t){return t}function dy(...t){return hy(t)}function hy(t){return t.length===0?Jn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var xe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=qF(n)?n:new Ar(n,r,i);return ku(()=>{let{operator:a,source:c}=this;o.add(a?a.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ID(r),new r((i,o)=>{let a=new Ar({next:c=>{try{n(c)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Lu](){return this}pipe(...n){return hy(n)(this)}toPromise(n){return n=ID(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=e=>new t(e),t})();function ID(t){var e;return(e=t??Sr.Promise)!==null&&e!==void 0?e:Promise}function HF(t){return t&&Te(t.next)&&Te(t.error)&&Te(t.complete)}function qF(t){return t&&t instanceof ea||HF(t)&&np(t)}function fy(t){return Te(t?.lift)}function Ue(t){return e=>{if(fy(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function je(t,e,n,r,i){return new py(t,e,n,r,i)}var py=class extends ea{constructor(e,n,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(c){try{n(c)}catch(l){e.error(l)}}:super._next,this._error=i?function(c){try{i(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fu(){return Ue((t,e)=>{let n=null;t._refCount++;let r=je(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Vu=class extends xe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tt;let n=this.getSubject();e.add(this.source.subscribe(je(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tt.EMPTY)}return e}refCount(){return Fu()(this)}};var bD=Nu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qe=(()=>{class t extends xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new op(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bD}next(n){ku(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ku(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ku(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?sy:(this.currentObservers=null,o.push(n),new Tt(()=>{this.currentObservers=null,Js(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new xe;return n.source=this,n}}return t.create=(e,n)=>new op(e,n),t})(),op=class extends Qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:sy}};var zt=class extends Qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var td={now(){return(td.delegate||Date).now()},delegate:void 0};var nd=class extends Qe{constructor(e=1/0,n=1/0,r=td){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:a}=this;n||(r.push(e),!i&&r.push(o.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let a=0;a<o.length&&!e.closed;a+=r?1:2)e.next(o[a]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let a=n.now(),c=0;for(let l=1;l<r.length&&r[l]<=a;l+=2)c=l;c&&r.splice(0,c+1)}}};var sp=class extends Tt{constructor(e,n){super()}schedule(e,n=0){return this}};var rd={setInterval(t,e,...n){let{delegate:r}=rd;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=rd;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Bu=class extends sp{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return rd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&rd.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Js(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Uu=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Uu.now=td.now;var ju=class extends Uu{constructor(e,n=Uu.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var gy=new ju(Bu);var ap=class extends Bu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var up=class extends ju{};var my=new up(ap);var Pn=new xe(t=>t.complete());function TD(t){return t&&Te(t.schedule)}function CD(t){return t[t.length-1]}function cp(t){return Te(CD(t))?t.pop():void 0}function Ko(t){return TD(CD(t))?t.pop():void 0}function _y(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function SD(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(m){try{f(r.next(m))}catch(y){a(y)}}function l(m){try{f(r.throw(m))}catch(y){a(y)}}function f(m){m.done?o(m.value):i(m.value).then(c,l)}f((r=r.apply(t,e||[])).next())})}function DD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ta(t){return this instanceof ta?(this.v=t,this):new ta(t)}function AD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(E){return function(M){return Promise.resolve(M).then(E,y)}}function c(E,M){r[E]&&(i[E]=function(F){return new Promise(function(V,G){o.push([E,F,V,G])>1||l(E,F)})},M&&(i[E]=M(i[E])))}function l(E,M){try{f(r[E](M))}catch(F){I(o[0][3],F)}}function f(E){E.value instanceof ta?Promise.resolve(E.value.v).then(m,y):I(o[0][2],E)}function m(E){l("next",E)}function y(E){l("throw",E)}function I(E,M){E(M),o.shift(),o.length&&l(o[0][0],o[0][1])}}function MD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof DD=="function"?DD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(c,l){a=t[o](a),i(c,l,a.done,a.value)})}}function i(o,a,c,l){Promise.resolve(l).then(function(f){o({value:f,done:c})},a)}}var lp=t=>t&&typeof t.length=="number"&&typeof t!="function";function dp(t){return Te(t?.then)}function hp(t){return Te(t[Lu])}function fp(t){return Symbol.asyncIterator&&Te(t?.[Symbol.asyncIterator])}function pp(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function WF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gp=WF();function mp(t){return Te(t?.[gp])}function _p(t){return AD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ta(n.read());if(i)return yield ta(void 0);yield yield ta(r)}}finally{n.releaseLock()}})}function vp(t){return Te(t?.getReader)}function yt(t){if(t instanceof xe)return t;if(t!=null){if(hp(t))return GF(t);if(lp(t))return KF(t);if(dp(t))return ZF(t);if(fp(t))return xD(t);if(mp(t))return QF(t);if(vp(t))return YF(t)}throw pp(t)}function GF(t){return new xe(e=>{let n=t[Lu]();if(Te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KF(t){return new xe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function ZF(t){return new xe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,rp)})}function QF(t){return new xe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function xD(t){return new xe(e=>{JF(t,e).catch(n=>e.error(n))})}function YF(t){return xD(_p(t))}function JF(t,e){var n,r,i,o;return SD(this,void 0,void 0,function*(){try{for(n=MD(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Rn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Zo(t,e=0){return Ue((n,r)=>{n.subscribe(je(r,i=>Rn(r,t,()=>r.next(i),e),()=>Rn(r,t,()=>r.complete(),e),i=>Rn(r,t,()=>r.error(i),e)))})}function Qo(t,e=0){return Ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function PD(t,e){return yt(t).pipe(Qo(e),Zo(e))}function RD(t,e){return yt(t).pipe(Qo(e),Zo(e))}function ND(t,e){return new xe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function OD(t,e){return new xe(n=>{let r;return Rn(n,e,()=>{r=t[gp](),Rn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>Te(r?.return)&&r.return()})}function yp(t,e){if(!t)throw new Error("Iterable cannot be null");return new xe(n=>{Rn(n,e,()=>{let r=t[Symbol.asyncIterator]();Rn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function kD(t,e){return yp(_p(t),e)}function LD(t,e){if(t!=null){if(hp(t))return PD(t,e);if(lp(t))return ND(t,e);if(dp(t))return RD(t,e);if(fp(t))return yp(t,e);if(mp(t))return OD(t,e);if(vp(t))return kD(t,e)}throw pp(t)}function $e(t,e){return e?LD(t,e):yt(t)}function ie(...t){let e=Ko(t);return $e(t,e)}function $u(t,e){let n=Te(t)?t:()=>t,r=i=>i.error(n());return new xe(e?i=>e.schedule(r,0,i):r)}function vy(t){return!!t&&(t instanceof xe||Te(t.lift)&&Te(t.subscribe))}var Mr=Nu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function wp(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Ar({next:a=>{r(a),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Mr)}});t.subscribe(o)})}function me(t,e){return Ue((n,r)=>{let i=0;n.subscribe(je(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:XF}=Array;function eV(t,e){return XF(e)?t(...e):t(e)}function Ep(t){return me(e=>eV(t,e))}var{isArray:tV}=Array,{getPrototypeOf:nV,prototype:rV,keys:iV}=Object;function Ip(t){if(t.length===1){let e=t[0];if(tV(e))return{args:e,keys:null};if(oV(e)){let n=iV(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function oV(t){return t&&typeof t=="object"&&nV(t)===rV}function bp(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Tp(...t){let e=Ko(t),n=cp(t),{args:r,keys:i}=Ip(t);if(r.length===0)return $e([],e);let o=new xe(sV(r,e,i?a=>bp(i,a):Jn));return n?o.pipe(Ep(n)):o}function sV(t,e,n=Jn){return r=>{FD(e,()=>{let{length:i}=t,o=new Array(i),a=i,c=i;for(let l=0;l<i;l++)FD(e,()=>{let f=$e(t[l],e),m=!1;f.subscribe(je(r,y=>{o[l]=y,m||(m=!0,c--),c||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function FD(t,e,n){t?Rn(n,t,e):e()}function VD(t,e,n,r,i,o,a,c){let l=[],f=0,m=0,y=!1,I=()=>{y&&!l.length&&!f&&e.complete()},E=F=>f<r?M(F):l.push(F),M=F=>{o&&e.next(F),f++;let V=!1;yt(n(F,m++)).subscribe(je(e,G=>{i?.(G),o?E(G):e.next(G)},()=>{V=!0},void 0,()=>{if(V)try{for(f--;l.length&&f<r;){let G=l.shift();a?Rn(e,a,()=>M(G)):M(G)}I()}catch(G){e.error(G)}}))};return t.subscribe(je(e,E,()=>{y=!0,I()})),()=>{c?.()}}function Ht(t,e,n=1/0){return Te(e)?Ht((r,i)=>me((o,a)=>e(r,o,i,a))(yt(t(r,i))),n):(typeof e=="number"&&(n=e),Ue((r,i)=>VD(r,i,t,n)))}function BD(t=1/0){return Ht(Jn,t)}function UD(){return BD(1)}function zu(...t){return UD()($e(t,Ko(t)))}function Cp(t){return new xe(e=>{yt(t()).subscribe(e)})}function yy(...t){let e=cp(t),{args:n,keys:r}=Ip(t),i=new xe(o=>{let{length:a}=n;if(!a){o.complete();return}let c=new Array(a),l=a,f=a;for(let m=0;m<a;m++){let y=!1;yt(n[m]).subscribe(je(o,I=>{y||(y=!0,f--),c[m]=I},()=>l--,void 0,()=>{(!l||!y)&&(f||o.next(r?bp(r,c):c),o.complete())}))}});return e?i.pipe(Ep(e)):i}function Cn(t,e){return Ue((n,r)=>{let i=0;n.subscribe(je(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Nt(t){return Ue((e,n)=>{let r=null,i=!1,o;r=e.subscribe(je(n,void 0,void 0,a=>{o=yt(t(a,Nt(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function jD(t,e,n,r,i){return(o,a)=>{let c=n,l=e,f=0;o.subscribe(je(a,m=>{let y=f++;l=c?t(l,m,y):(c=!0,m),r&&a.next(l)},i&&(()=>{c&&a.next(l),a.complete()})))}}function Yo(t,e){return Te(e)?Ht(t,e,1):Ht(t,1)}function Jo(t){return Ue((e,n)=>{let r=!1;e.subscribe(je(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function xr(t){return t<=0?()=>Pn:Ue((e,n)=>{let r=0;e.subscribe(je(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Dp(t=aV){return Ue((e,n)=>{let r=!1;e.subscribe(je(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function aV(){return new Mr}function na(t){return Ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ki(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Cn((i,o)=>t(i,o,r)):Jn,xr(1),n?Jo(e):Dp(()=>new Mr))}function Hu(t){return t<=0?()=>Pn:Ue((e,n)=>{let r=[];e.subscribe(je(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function wy(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Cn((i,o)=>t(i,o,r)):Jn,Hu(1),n?Jo(e):Dp(()=>new Mr))}function Ey(t,e){return Ue(jD(t,e,arguments.length>=2,!0))}function $D(t={}){let{connector:e=()=>new Qe,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let a,c,l,f=0,m=!1,y=!1,I=()=>{c?.unsubscribe(),c=void 0},E=()=>{I(),a=l=void 0,m=y=!1},M=()=>{let F=a;E(),F?.unsubscribe()};return Ue((F,V)=>{f++,!y&&!m&&I();let G=l=l??e();V.add(()=>{f--,f===0&&!y&&!m&&(c=Iy(M,i))}),G.subscribe(V),!a&&f>0&&(a=new Ar({next:re=>G.next(re),error:re=>{y=!0,I(),c=Iy(E,n,re),G.error(re)},complete:()=>{m=!0,I(),c=Iy(E,r),G.complete()}}),yt(F).subscribe(a))})(o)}}function Iy(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Ar({next:()=>{r.unsubscribe(),t()}});return yt(e(...n)).subscribe(r)}function by(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,$D({connector:()=>new nd(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ty(...t){let e=Ko(t);return Ue((n,r)=>{(e?zu(t,n,e):zu(t,n)).subscribe(r)})}function Ot(t,e){return Ue((n,r)=>{let i=null,o=0,a=!1,c=()=>a&&!i&&r.complete();n.subscribe(je(r,l=>{i?.unsubscribe();let f=0,m=o++;yt(t(l,m)).subscribe(i=je(r,y=>r.next(e?e(l,y,m,f++):y),()=>{i=null,c()}))},()=>{a=!0,c()}))})}function Nn(t){return Ue((e,n)=>{yt(t).subscribe(je(n,()=>n.complete(),ed)),!n.closed&&e.subscribe(n)})}function ct(t,e,n){let r=Te(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ue((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let c=!0;i.subscribe(je(o,l=>{var f;(f=r.next)===null||f===void 0||f.call(r,l),o.next(l)},()=>{var l;c=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var f;c=!1,(f=r.error)===null||f===void 0||f.call(r,l),o.error(l)},()=>{var l,f;c&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(f=r.finalize)===null||f===void 0||f.call(r)}))}):Jn}var My={JSACTION:"jsaction"},xy={JSACTION:"__jsaction",OWNER:"__owner"},WD={};function uV(t){return t[xy.JSACTION]}function zD(t,e){t[xy.JSACTION]=e}function cV(t){return WD[t]}function lV(t,e){WD[t]=e}var le={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},dV=[le.MOUSEENTER,le.MOUSELEAVE,"pointerenter","pointerleave"],zee=[le.CLICK,le.DBLCLICK,le.FOCUSIN,le.FOCUSOUT,le.KEYDOWN,le.KEYUP,le.KEYPRESS,le.MOUSEOVER,le.MOUSEOUT,le.SUBMIT,le.TOUCHSTART,le.TOUCHEND,le.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],hV=[le.FOCUS,le.BLUR,le.ERROR,le.LOAD,le.TOGGLE],Py=t=>hV.indexOf(t)>=0;function fV(t){return t===le.MOUSEENTER?le.MOUSEOVER:t===le.MOUSELEAVE?le.MOUSEOUT:t===le.POINTERENTER?le.POINTEROVER:t===le.POINTERLEAVE?le.POINTEROUT:t}function pV(t,e,n,r){let i=!1;Py(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function gV(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function mV(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var HD=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function _V(t){return t.which===2||t.which==null&&t.button===4}function vV(t){return HD&&t.metaKey||!HD&&t.ctrlKey||_V(t)||t.shiftKey}function yV(t,e,n){let r=t.relatedTarget;return(t.type===le.MOUSEOVER&&e===le.MOUSEENTER||t.type===le.MOUSEOUT&&e===le.MOUSELEAVE||t.type===le.POINTEROVER&&e===le.POINTERENTER||t.type===le.POINTEROUT&&e===le.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function wV(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===le.MOUSEOVER?n.type=le.MOUSEENTER:t.type===le.MOUSEOUT?n.type=le.MOUSELEAVE:t.type===le.POINTEROVER?n.type=le.POINTERENTER:n.type=le.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var EV=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),xp=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){EV&&(this.element.style.cursor="pointer"),this.handlerInfos.push(pV(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)gV(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},IV={EVENT_ACTION_SEPARATOR:":"};function Xo(t){return t.eventType}function Ry(t,e){t.eventType=e}function Ap(t){return t.event}function GD(t,e){t.event=e}function KD(t){return t.targetElement}function ZD(t,e){t.targetElement=e}function QD(t){return t.eic}function bV(t,e){t.eic=e}function TV(t){return t.timeStamp}function CV(t,e){t.timeStamp=e}function Mp(t){return t.eia}function YD(t,e,n){t.eia=[e,n]}function Cy(t){t.eia=void 0}function Sp(t){return t[1]}function DV(t){return t.eirp}function JD(t,e){t.eirp=e}function XD(t){return t.eir}function eS(t,e){t.eir=e}function tS(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function SV(t,e,n,r,i,o,a,c){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:a,eiack:c}}var Dy=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return Xo(this.eventInfo)}setEventType(e){Ry(this.eventInfo,e)}getEvent(){return Ap(this.eventInfo)}setEvent(e){GD(this.eventInfo,e)}getTargetElement(){return KD(this.eventInfo)}setTargetElement(e){ZD(this.eventInfo,e)}getContainer(){return QD(this.eventInfo)}setContainer(e){bV(this.eventInfo,e)}getTimestamp(){return TV(this.eventInfo)}setTimestamp(e){CV(this.eventInfo,e)}getAction(){let e=Mp(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Cy(this.eventInfo);return}YD(this.eventInfo,e.name,e.element)}getIsReplay(){return DV(this.eventInfo)}setIsReplay(e){JD(this.eventInfo,e)}getResolved(){return XD(this.eventInfo)}setResolved(e){eS(this.eventInfo,e)}clone(){return new t(tS(this.eventInfo))}},AV={},MV=/\s*;\s*/,xV=le.CLICK,Sy=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&Xo(e)===le.CLICK&&vV(Ap(e))?Ry(e,le.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){XD(e)||(this.populateAction(e,KD(e)),eS(e,!0))}resolveParentAction(e){let n=Mp(e),r=n&&Sp(n);Cy(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==QD(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Mp(e));)r=this.getParentNode(r);let i=Mp(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(Xo(e)===le.MOUSEENTER||Xo(e)===le.MOUSELEAVE||Xo(e)===le.POINTERENTER||Xo(e)===le.POINTERLEAVE)))if(yV(Ap(e),Xo(e),Sp(i))){let o=wV(Ap(e),Sp(i));GD(e,o),ZD(e,Sp(i))}else Cy(e)}getParentNode(e){let n=e[xy.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[Xo(n)];i!==void 0&&YD(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=uV(e);if(!n){let r=e.getAttribute(My.JSACTION);if(!r)n=AV,zD(e,n);else{if(n=cV(r),!n){n={};let i=r.split(MV);for(let o=0;o<i.length;o++){let a=i[o];if(!a)continue;let c=a.indexOf(IV.EVENT_ACTION_SEPARATOR),l=c!==-1,f=l?a.substr(0,c).trim():xV,m=l?a.substr(c+1).trim():a;n[f]=m}lV(r,n)}zD(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},nS=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(nS||{}),Ay=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Dy(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&PV(r.element,n)&&mV(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function PV(t,e){return t.tagName==="A"&&(e.getEventType()===le.CLICK||e.getEventType()===le.CLICKMOD)}var rS=Symbol.for("propagationStopped"),Ny={REPLAY:101};var RV="`preventDefault` called during event replay.";var NV="`composedPath` called during event replay.",Pp=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Sy({clickModSupport:n}),this.dispatcher=new Ay(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&LV(e),OV(e);e.getAction();){if(FV(e),Py(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),kV(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function OV(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[rS]=!0,n()};ra(e,"stopPropagation",r),ra(e,"stopImmediatePropagation",r)}function kV(t){return!!t.getEvent()[rS]}function LV(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);ra(e,"target",n),ra(e,"eventPhase",Ny.REPLAY),ra(e,"preventDefault",()=>{throw r(),new Error(RV+"")}),ra(e,"composedPath",()=>{throw new Error(NV+"")})}function FV(t){let e=t.getEvent(),n=t.getAction()?.element;n&&ra(e,"currentTarget",n,{configurable:!0})}function ra(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function iS(t,e){t.ecrd(n=>{e.dispatch(n)},nS.I_AM_THE_JSACTION_FRAMEWORK)}function VV(t){return t?.q??[]}function BV(t){t&&(qD(t.c,t.et,t.h),qD(t.c,t.etc,t.h,!0))}function qD(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var UV=!1,oS=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=UV;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=SV(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){JD(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&dV.indexOf(n)>=0)return;let o=(c,l,f)=>{this.handleEvent(c,l,f)};this.eventHandlers[n]=o;let a=fV(r||n);if(a!==n){let c=this.browserEventTypeToExtraEventTypes[a]||[];c.push(n),this.browserEventTypeToExtraEventTypes[a]=c}this.containerManager.addEventListener(a,c=>l=>{o(n,l,c)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),BV(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let a=0;a<o.length;a++){let c=tS(i);Ry(c,o[a]),this.handleEventInfo(c)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function sS(t,e=window){return VV(e._ejsas?.[t])}function Oy(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var sA="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",J=class extends Error{code;constructor(e,n){super(Q0(e,n)),this.code=e}};function jV(t){return`NG0${Math.abs(t)}`}function Q0(t,e){return`${jV(t)}${e?": "+e:""}`}var aA=Symbol("InputSignalNode#UNSET"),$V=Ae(K({},Xf),{transformFn:void 0,applyValueToInputSignal(t,e){Jl(t,e)}});function uA(t,e){let n=Object.create($V);n.value=t,n.transformFn=e?.transform;function r(){if(Yl(n),n.value===aA){let i=null;throw new J(-950,i)}return n.value}return r[fr]=n,r}function yd(t){return{toString:t}.toString()}var Rp="__parameters__";function zV(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function HV(t,e,n){return yd(()=>{let r=zV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return c.annotation=a,c;function c(l,f,m){let y=l.hasOwnProperty(Rp)?l[Rp]:Object.defineProperty(l,Rp,{value:[]})[Rp];for(;y.length<=m;)y.push(null);return(y[m]=y[m]||[]).push(a),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var es=globalThis;function st(t){for(let e in t)if(t[e]===st)return e;throw Error("Could not find renamed property on target object.")}function qV(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function kn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(kn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function aS(t,e){return t?e?`${t} ${e}`:t:e||""}var WV=st({__forward_ref__:st});function to(t){return t.__forward_ref__=to,t.toString=function(){return kn(this())},t}function Dn(t){return cA(t)?t():t}function cA(t){return typeof t=="function"&&t.hasOwnProperty(WV)&&t.__forward_ref__===to}function oe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function no(t){return{providers:t.providers||[],imports:t.imports||[]}}function _g(t){return uS(t,dA)||uS(t,hA)}function lA(t){return _g(t)!==null}function uS(t,e){return t.hasOwnProperty(e)?t[e]:null}function GV(t){let e=t&&(t[dA]||t[hA]);return e||null}function cS(t){return t&&(t.hasOwnProperty(lS)||t.hasOwnProperty(KV))?t[lS]:null}var dA=st({\u0275prov:st}),lS=st({\u0275inj:st}),hA=st({ngInjectableDef:st}),KV=st({ngInjectorDef:st}),Y=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fA(t){return t&&!!t.\u0275providers}var ZV=st({\u0275cmp:st}),QV=st({\u0275dir:st}),YV=st({\u0275pipe:st}),JV=st({\u0275mod:st}),qp=st({\u0275fac:st}),ad=st({__NG_ELEMENT_ID__:st}),dS=st({__NG_ENV_ID__:st});function vg(t){return typeof t=="string"?t:t==null?"":String(t)}function XV(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():vg(t)}function pA(t,e){throw new J(-200,t)}function Y0(t,e){throw new J(-201,!1)}var Se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Se||{}),e0;function gA(){return e0}function On(t){let e=e0;return e0=t,e}function mA(t,e,n){let r=_g(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Se.Optional)return null;if(e!==void 0)return e;Y0(t,"Injector")}var e4={},oa=e4,t0="__NG_DI_FLAG__",Wp=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?ep:oa,r)}},Gp="ngTempTokenPath",t4="ngTokenPath",n4=/\n/gm,r4="\u0275",hS="__source";function i4(t,e=Se.Default){if(Xl()===void 0)throw new J(-203,!1);if(Xl()===null)return mA(t,void 0,e);{let n=Xl(),r;return n instanceof Wp?r=n.injector:r=n,r.get(t,e&Se.Optional?null:void 0,e)}}function ue(t,e=Se.Default){return(gA()||i4)(Dn(t),e)}function $(t,e=Se.Default){return ue(t,yg(e))}function yg(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function n0(t){let e=[];for(let n=0;n<t.length;n++){let r=Dn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new J(900,!1);let i,o=Se.Default;for(let a=0;a<r.length;a++){let c=r[a],l=s4(c);typeof l=="number"?l===-1?i=c.token:o|=l:i=c}e.push(ue(i,o))}else e.push(ue(r))}return e}function o4(t,e){return t[t0]=e,t.prototype[t0]=e,t}function s4(t){return t[t0]}function a4(t,e,n,r){let i=t[Gp];throw e[hS]&&i.unshift(e[hS]),t.message=u4(`
`+t.message,i,n,r),t[t4]=i,t[Gp]=null,t}function u4(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==r4?t.slice(2):t;let i=kn(e);if(Array.isArray(e))i=e.map(kn).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];o.push(a+":"+(typeof c=="string"?JSON.stringify(c):kn(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(n4,`
  `)}`}var nr=o4(HV("Optional"),8);function aa(t,e){let n=t.hasOwnProperty(qp);return n?t[qp]:null}function c4(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function l4(t){return t.flat(Number.POSITIVE_INFINITY)}function J0(t,e){t.forEach(n=>Array.isArray(n)?J0(n,e):e(n))}function _A(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Kp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function d4(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function h4(t,e,n){let r=wd(t,e);return r>=0?t[r|1]=n:(r=~r,d4(t,r,e,n)),r}function ky(t,e){let n=wd(t,e);if(n>=0)return t[n|1]}function wd(t,e){return f4(t,e,1)}function f4(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=t[o<<n];if(e===a)return o<<n;a>e?i=o:r=o+1}return~(i<<n)}var ua={},pr=[],ns=new Y(""),vA=new Y("",-1),yA=new Y(""),Zp=class{get(e,n=oa){if(n===oa){let r=new Error(`NullInjectorError: No provider for ${kn(e)}!`);throw r.name="NullInjectorError",r}return n}};function wA(t,e){let n=t[JV]||null;if(!n&&e===!0)throw new Error(`Type ${kn(t)} does not have '\u0275mod' property.`);return n}function ca(t){return t[ZV]||null}function EA(t){return t[QV]||null}function IA(t){return t[YV]||null}function Fn(t){return{\u0275providers:t}}function p4(...t){return{\u0275providers:X0(!0,t),\u0275fromNgModule:!0}}function X0(t,...e){let n=[],r=new Set,i,o=a=>{n.push(a)};return J0(e,a=>{let c=a;r0(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&bA(i,o),n}function bA(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ew(i,o=>{e(o,r)})}}function r0(t,e,n,r){if(t=Dn(t),!t)return!1;let i=null,o=cS(t),a=!o&&ca(t);if(!o&&!a){let l=t.ngModule;if(o=cS(l),o)i=l;else return!1}else{if(a&&!a.standalone)return!1;i=t}let c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let f of l)r0(f,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let f;try{J0(o.imports,m=>{r0(m,e,n,r)&&(f||=[],f.push(m))})}finally{}f!==void 0&&bA(f,e)}if(!c){let f=aa(i)||(()=>new i);e({provide:i,useFactory:f,deps:pr},i),e({provide:yA,useValue:i,multi:!0},i),e({provide:ns,useValue:()=>ue(i),multi:!0},i)}let l=o.providers;if(l!=null&&!c){let f=t;ew(l,m=>{e(m,f)})}}else return!1;return i!==t&&t.providers!==void 0}function ew(t,e){for(let n of t)fA(n)&&(n=n.\u0275providers),Array.isArray(n)?ew(n,e):e(n)}var g4=st({provide:String,useValue:st});function TA(t){return t!==null&&typeof t=="object"&&g4 in t}function m4(t){return!!(t&&t.useExisting)}function _4(t){return!!(t&&t.useFactory)}function ec(t){return typeof t=="function"}function v4(t){return!!t.useClass}var wg=new Y(""),Fp={},fS={},Ly;function tw(){return Ly===void 0&&(Ly=new Zp),Ly}var Jt=class{},ud=class extends Jt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,o0(e,a=>this.processProvider(a)),this.records.set(vA,qu(void 0,this)),i.has("environment")&&this.records.set(Jt,qu(void 0,this));let o=this.records.get(wg);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(yA,pr,Se.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?ep:oa,r)}destroy(){od(this),this._destroyed=!0;let e=Me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(e)}}onDestroy(e){return od(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){od(this);let n=Gi(this),r=On(void 0),i;try{return e()}finally{Gi(n),On(r)}}get(e,n=oa,r=Se.Default){if(od(this),e.hasOwnProperty(dS))return e[dS](this);r=yg(r);let i,o=Gi(this),a=On(void 0);try{if(!(r&Se.SkipSelf)){let l=this.records.get(e);if(l===void 0){let f=b4(e)&&_g(e);f&&this.injectableDefInScope(f)?l=qu(i0(e),Fp):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let c=r&Se.Self?tw():this.parent;return n=r&Se.Optional&&n===oa?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Gp]=c[Gp]||[]).unshift(kn(e)),o)throw c;return a4(c,e,"R3InjectorError",this.source)}else throw c}finally{On(a),Gi(o)}}resolveInjectorInitializers(){let e=Me(null),n=Gi(this),r=On(void 0),i;try{let o=this.get(ns,pr,Se.Self);for(let a of o)a()}finally{Gi(n),On(r),Me(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(kn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Dn(e);let n=ec(e)?e:Dn(e&&e.provide),r=w4(e);if(!ec(e)&&e.multi===!0){let i=this.records.get(n);i||(i=qu(void 0,Fp,!0),i.factory=()=>n0(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=Me(null);try{return n.value===fS?pA(kn(e)):n.value===Fp&&(n.value=fS,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&I4(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Me(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Dn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function i0(t){let e=_g(t),n=e!==null?e.factory:aa(t);if(n!==null)return n;if(t instanceof Y)throw new J(204,!1);if(t instanceof Function)return y4(t);throw new J(204,!1)}function y4(t){if(t.length>0)throw new J(204,!1);let n=GV(t);return n!==null?()=>n.factory(t):()=>new t}function w4(t){if(TA(t))return qu(void 0,t.useValue);{let e=CA(t);return qu(e,Fp)}}function CA(t,e,n){let r;if(ec(t)){let i=Dn(t);return aa(i)||i0(i)}else if(TA(t))r=()=>Dn(t.useValue);else if(_4(t))r=()=>t.useFactory(...n0(t.deps||[]));else if(m4(t))r=(i,o)=>ue(Dn(t.useExisting),o!==void 0&&o&Se.Optional?Se.Optional:void 0);else{let i=Dn(t&&(t.useClass||t.provide));if(E4(t))r=()=>new i(...n0(t.deps));else return aa(i)||i0(i)}return r}function od(t){if(t.destroyed)throw new J(205,!1)}function qu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function E4(t){return!!t.deps}function I4(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function b4(t){return typeof t=="function"||typeof t=="object"&&t instanceof Y}function o0(t,e){for(let n of t)Array.isArray(n)?o0(n,e):n&&fA(n)?o0(n.\u0275providers,e):e(n)}function dn(t,e){let n;t instanceof ud?(od(t),n=t):n=new Wp(t);let r,i=Gi(n),o=On(void 0);try{return e()}finally{Gi(i),On(o)}}function DA(){return gA()!==void 0||Xl()!=null}function Eg(t){if(!DA())throw new J(-203,!1)}function T4(t){return typeof t=="function"}var er=0,he=1,Ee=2,Gt=3,Rr=4,Lr=5,Or=6,Qp=7,Wt=8,li=9,Qi=10,lt=11,cd=12,pS=13,ac=14,tr=15,la=16,Wu=17,Yi=18,Ig=19,SA=20,ts=21,Fy=22,Yp=23,gr=24,Qu=25,Et=26,AA=1,Ji=6,Xi=7,Jp=8,tc=9,ln=10;function Nr(t){return Array.isArray(t)&&typeof t[AA]=="object"}function mi(t){return Array.isArray(t)&&t[AA]===!0}function MA(t){return(t.flags&4)!==0}function _a(t){return t.componentOffset>-1}function nw(t){return(t.flags&1)===1}function di(t){return!!t.template}function ld(t){return(t[Ee]&512)!==0}function va(t){return(t[Ee]&256)===256}var s0=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function xA(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var rs=(()=>{let t=()=>PA;return t.ngInherit=!0,t})();function PA(t){return t.type.prototype.ngOnChanges&&(t.setInput=D4),C4}function C4(){let t=NA(this),e=t?.current;if(e){let n=t.previous;if(n===ua)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function D4(t,e,n,r,i){let o=this.declaredInputs[r],a=NA(t)||S4(t,{previous:ua,current:null}),c=a.current||(a.current={}),l=a.previous,f=l[o];c[o]=new s0(f&&f.currentValue,n,l===ua),xA(t,e,i,n)}var RA="__ngSimpleChanges__";function NA(t){return t[RA]||null}function S4(t,e){return t[RA]=e}var gS=null;var Xe=function(t,e=null,n){gS?.(t,e,n)},A4="svg",M4="math";function kr(t){for(;Array.isArray(t);)t=t[er];return t}function OA(t,e){return kr(e[t])}function Fr(t,e){return kr(e[t.index])}function Ed(t,e){return t.data[e]}function kA(t,e){return t[e]}function hi(t,e){let n=e[t];return Nr(n)?n:n[er]}function x4(t){return(t[Ee]&4)===4}function rw(t){return(t[Ee]&128)===128}function P4(t){return mi(t[Gt])}function nc(t,e){return e==null?null:t[e]}function LA(t){t[Wu]=0}function FA(t){t[Ee]&1024||(t[Ee]|=1024,rw(t)&&Id(t))}function R4(t,e){for(;t>0;)e=e[ac],t--;return e}function bg(t){return!!(t[Ee]&9216||t[gr]?.dirty)}function a0(t){t[Qi].changeDetectionScheduler?.notify(8),t[Ee]&64&&(t[Ee]|=1024),bg(t)&&Id(t)}function Id(t){t[Qi].changeDetectionScheduler?.notify(0);let e=da(t);for(;e!==null&&!(e[Ee]&8192||(e[Ee]|=8192,!rw(e)));)e=da(e)}function VA(t,e){if(va(t))throw new J(911,!1);t[ts]===null&&(t[ts]=[]),t[ts].push(e)}function N4(t,e){if(t[ts]===null)return;let n=t[ts].indexOf(e);n!==-1&&t[ts].splice(n,1)}function da(t){let e=t[Gt];return mi(e)?e[Gt]:e}function iw(t){return t[Qp]??=[]}function ow(t){return t.cleanup??=[]}function O4(t,e,n,r){let i=iw(e);i.push(n),t.firstCreatePass&&ow(t).push(r,i.length-1)}var Re={lFrame:WA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var u0=!1;function k4(){return Re.lFrame.elementDepthCount}function L4(){Re.lFrame.elementDepthCount++}function F4(){Re.lFrame.elementDepthCount--}function BA(){return Re.bindingsEnabled}function bd(){return Re.skipHydrationRootTNode!==null}function V4(t){return Re.skipHydrationRootTNode===t}function B4(t){Re.skipHydrationRootTNode=t}function U4(){Re.skipHydrationRootTNode=null}function Le(){return Re.lFrame.lView}function Xt(){return Re.lFrame.tView}function Vr(t){return Re.lFrame.contextLView=t,t[Wt]}function Br(t){return Re.lFrame.contextLView=null,t}function Vn(){let t=UA();for(;t!==null&&t.type===64;)t=t.parent;return t}function UA(){return Re.lFrame.currentTNode}function j4(){let t=Re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Td(t,e){let n=Re.lFrame;n.currentTNode=t,n.isParent=e}function jA(){return Re.lFrame.isParent}function $4(){Re.lFrame.isParent=!1}function $A(){return u0}function mS(t){let e=u0;return u0=t,e}function sw(){let t=Re.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function z4(t){return Re.lFrame.bindingIndex=t}function uc(){return Re.lFrame.bindingIndex++}function H4(t){let e=Re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function q4(){return Re.lFrame.inI18n}function W4(t,e){let n=Re.lFrame;n.bindingIndex=n.bindingRootIndex=t,c0(e)}function G4(){return Re.lFrame.currentDirectiveIndex}function c0(t){Re.lFrame.currentDirectiveIndex=t}function K4(t){let e=Re.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function zA(){return Re.lFrame.currentQueryIndex}function aw(t){Re.lFrame.currentQueryIndex=t}function Z4(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[Lr]:null}function HA(t,e,n){if(n&Se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Se.Host);)if(i=Z4(o),i===null||(o=o[ac],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Re.lFrame=qA();return r.currentTNode=e,r.lView=t,!0}function uw(t){let e=qA(),n=t[he];Re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qA(){let t=Re.lFrame,e=t===null?null:t.child;return e===null?WA(t):e}function WA(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function GA(){let t=Re.lFrame;return Re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var KA=GA;function cw(){let t=GA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Q4(t){return(Re.lFrame.contextLView=R4(t,Re.lFrame.contextLView))[Wt]}function ya(){return Re.lFrame.selectedIndex}function ha(t){Re.lFrame.selectedIndex=t}function Tg(){let t=Re.lFrame;return Ed(t.tView,t.selectedIndex)}function ZA(){return Re.lFrame.currentNamespace}var QA=!0;function lw(){return QA}function is(t){QA=t}function Y4(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let a=PA(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function YA(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:f,ngOnDestroy:m}=o;a&&(t.contentHooks??=[]).push(-n,a),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),l&&(t.viewHooks??=[]).push(-n,l),f&&((t.viewHooks??=[]).push(n,f),(t.viewCheckHooks??=[]).push(n,f)),m!=null&&(t.destroyHooks??=[]).push(n,m)}}function Vp(t,e,n){JA(t,e,3,n)}function Bp(t,e,n,r){(t[Ee]&3)===n&&JA(t,e,n,r)}function Vy(t,e){let n=t[Ee];(n&3)===e&&(n&=16383,n+=1,t[Ee]=n)}function JA(t,e,n,r){let i=r!==void 0?t[Wu]&65535:0,o=r??-1,a=e.length-1,c=0;for(let l=i;l<a;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(t[Wu]+=65536),(c<o||o==-1)&&(J4(t,n,e,l),t[Wu]=(t[Wu]&4294901760)+l+2),l++}function _S(t,e){Xe(4,t,e);let n=Me(null);try{e.call(t)}finally{Me(n),Xe(5,t,e)}}function J4(t,e,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],c=t[a];i?t[Ee]>>14<t[Wu]>>16&&(t[Ee]&3)===e&&(t[Ee]+=16384,_S(c,o)):_S(c,o)}var Yu=-1,fa=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function X4(t){return(t.flags&8)!==0}function e2(t){return(t.flags&16)!==0}function t2(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],c=n[r++];t.setAttribute(e,a,c,o)}else{let o=i,a=n[++r];n2(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),r++}}return r}function XA(t){return t===3||t===4||t===6}function n2(t){return t.charCodeAt(0)===64}function dd(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?vS(t,n,i,null,e[++r]):vS(t,n,i,null,null))}}return t}function vS(t,e,n,r,i){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){a=-1;break}else if(c>e){a=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function eM(t){return t!==Yu}function Xp(t){return t&32767}function r2(t){return t>>16}function eg(t,e){let n=r2(t),r=e;for(;n>0;)r=r[ac],n--;return r}var l0=!0;function tg(t){let e=l0;return l0=t,e}var i2=256,tM=i2-1,nM=5,o2=0,ci={};function s2(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ad)&&(r=n[ad]),r==null&&(r=n[ad]=o2++);let i=r&tM,o=1<<i;e.data[t+(i>>nM)]|=o}function ng(t,e){let n=rM(t,e);if(n!==-1)return n;let r=e[he];r.firstCreatePass&&(t.injectorIndex=e.length,By(r.data,t),By(e,null),By(r.blueprint,null));let i=dw(t,e),o=t.injectorIndex;if(eM(i)){let a=Xp(i),c=eg(i,e),l=c[he].data;for(let f=0;f<8;f++)e[o+f]=c[a+f]|l[a+f]}return e[o+8]=i,o}function By(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rM(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function dw(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=uM(i),r===null)return Yu;if(n++,i=i[ac],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Yu}function d0(t,e,n){s2(t,e,n)}function a2(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(XA(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function iM(t,e,n){if(n&Se.Optional||t!==void 0)return t;Y0(e,"NodeInjector")}function oM(t,e,n,r){if(n&Se.Optional&&r===void 0&&(r=null),(n&(Se.Self|Se.Host))===0){let i=t[li],o=On(void 0);try{return i?i.get(e,r,n&Se.Optional):mA(e,r,n&Se.Optional)}finally{On(o)}}return iM(r,e,n)}function sM(t,e,n,r=Se.Default,i){if(t!==null){if(e[Ee]&2048&&!(r&Se.Self)){let a=d2(t,e,n,r,ci);if(a!==ci)return a}let o=aM(t,e,n,r,ci);if(o!==ci)return o}return oM(e,n,r,i)}function aM(t,e,n,r,i){let o=c2(n);if(typeof o=="function"){if(!HA(e,t,r))return r&Se.Host?iM(i,n,r):oM(e,n,r,i);try{let a;if(a=o(r),a==null&&!(r&Se.Optional))Y0(n);else return a}finally{KA()}}else if(typeof o=="number"){let a=null,c=rM(t,e),l=Yu,f=r&Se.Host?e[tr][Lr]:null;for((c===-1||r&Se.SkipSelf)&&(l=c===-1?dw(t,e):e[c+8],l===Yu||!wS(r,!1)?c=-1:(a=e[he],c=Xp(l),e=eg(l,e)));c!==-1;){let m=e[he];if(yS(o,c,m.data)){let y=u2(c,e,n,a,r,f);if(y!==ci)return y}l=e[c+8],l!==Yu&&wS(r,e[he].data[c+8]===f)&&yS(o,c,e)?(a=m,c=Xp(l),e=eg(l,e)):c=-1}}return i}function u2(t,e,n,r,i,o){let a=e[he],c=a.data[t+8],l=r==null?_a(c)&&l0:r!=a&&(c.type&3)!==0,f=i&Se.Host&&o===c,m=Up(c,a,n,l,f);return m!==null?hd(e,a,m,c,i):ci}function Up(t,e,n,r,i){let o=t.providerIndexes,a=e.data,c=o&1048575,l=t.directiveStart,f=t.directiveEnd,m=o>>20,y=r?c:c+m,I=i?c+m:f;for(let E=y;E<I;E++){let M=a[E];if(E<l&&n===M||E>=l&&M.type===n)return E}if(i){let E=a[l];if(E&&di(E)&&E.type===n)return l}return null}function hd(t,e,n,r,i){let o=t[n],a=e.data;if(o instanceof fa){let c=o;c.resolving&&pA(XV(a[n]));let l=tg(c.canSeeViewProviders);c.resolving=!0;let f,m=c.injectImpl?On(c.injectImpl):null,y=HA(t,r,Se.Default);try{o=t[n]=c.factory(void 0,i,a,t,r),e.firstCreatePass&&n>=r.directiveStart&&Y4(n,a[n],e)}finally{m!==null&&On(m),tg(l),c.resolving=!1,KA()}}return o}function c2(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ad)?t[ad]:void 0;return typeof e=="number"?e>=0?e&tM:l2:e}function yS(t,e,n){let r=1<<t;return!!(n[e+(t>>nM)]&r)}function wS(t,e){return!(t&Se.Self)&&!(t&Se.Host&&e)}var sa=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return sM(this._tNode,this._lView,e,yg(r),n)}};function l2(){return new sa(Vn(),Le())}function os(t){return yd(()=>{let e=t.prototype.constructor,n=e[qp]||h0(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[qp]||h0(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function h0(t){return cA(t)?()=>{let e=h0(Dn(t));return e&&e()}:aa(t)}function d2(t,e,n,r,i){let o=t,a=e;for(;o!==null&&a!==null&&a[Ee]&2048&&!ld(a);){let c=aM(o,a,n,r|Se.Self,ci);if(c!==ci)return c;let l=o.parent;if(!l){let f=a[SA];if(f){let m=f.get(n,ci,r);if(m!==ci)return m}l=uM(a),a=a[ac]}o=l}return i}function uM(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[Lr]:null}function hw(t){return a2(Vn(),t)}function ES(t,e=null,n=null,r){let i=cM(t,e,n,r);return i.resolveInjectorInitializers(),i}function cM(t,e=null,n=null,r,i=new Set){let o=[n||pr,p4(t)];return r=r||(typeof t=="object"?void 0:kn(t)),new ud(o,e||tw(),r||null,i)}var kt=class t{static THROW_IF_NOT_FOUND=oa;static NULL=new Zp;static create(e,n){if(Array.isArray(e))return ES({name:""},n,e,"");{let r=e.name??"";return ES({name:r},e.parent,e.providers,r)}}static \u0275prov=oe({token:t,providedIn:"any",factory:()=>ue(vA)});static __NG_ELEMENT_ID__=-1};var h2=new Y("");h2.__NG_ELEMENT_ID__=t=>{let e=Vn();if(e===null)throw new J(204,!1);if(e.type&2)return e.value;if(t&Se.Optional)return null;throw new J(204,!1)};var lM=!1,cc=(()=>{class t{static __NG_ELEMENT_ID__=f2;static __NG_ENV_ID__=n=>n}return t})(),f0=class extends cc{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return va(n)?(e(),()=>{}):(VA(n,e),()=>N4(n,e))}};function f2(){return new f0(Le())}var pa=class{},Cg=new Y("",{providedIn:"root",factory:()=>!1});var dM=new Y(""),hM=new Y(""),_i=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new zt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}return t})(),Cd=(()=>{class t{internalPendingTasks=$(_i);scheduler=$(pa);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return T(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}return t})(),p0=class extends Qe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,DA()&&(this.destroyRef=$(cc,{optional:!0})??void 0,this.pendingTasks=$(_i,{optional:!0})??void 0)}emit(e){let n=Me(null);try{super.next(e)}finally{Me(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),a=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let c=super.subscribe({next:i,error:o,complete:a});return e instanceof Tt&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},wt=p0;function rg(...t){}function fM(t){let e,n;function r(){t=rg;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function IS(t){return queueMicrotask(()=>t()),()=>{t=rg}}var fw="isAngularZone",ig=fw+"_ID",p2=0,Ye=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new wt(!1);onMicrotaskEmpty=new wt(!1);onStable=new wt(!1);onError=new wt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=lM}=e;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,_2(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fw)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new J(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,g2,rg,rg);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},g2={};function pw(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function m2(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){fM(()=>{t.callbackScheduled=!1,g0(t),t.isCheckStableRunning=!0,pw(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),g0(t)}function _2(t){let e=()=>{m2(t)},n=p2++;t._inner=t._inner.fork({name:"angular",properties:{[fw]:!0,[ig]:n,[ig+n]:!0},onInvokeTask:(r,i,o,a,c,l)=>{if(v2(l))return r.invokeTask(o,a,c,l);try{return bS(t),r.invokeTask(o,a,c,l)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),TS(t)}},onInvoke:(r,i,o,a,c,l,f)=>{try{return bS(t),r.invoke(o,a,c,l,f)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!y2(l)&&e(),TS(t)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,g0(t),pw(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function g0(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function bS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function TS(t){t._nesting--,pw(t)}var m0=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new wt;onMicrotaskEmpty=new wt;onStable=new wt;onError=new wt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function v2(t){return pM(t,"__ignore_ng_zone__")}function y2(t){return pM(t,"__scheduler_tick__")}function pM(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var fi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},w2=new Y("",{providedIn:"root",factory:()=>{let t=$(Ye),e=$(fi);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function CS(t,e){return uA(t,e)}function E2(t){return uA(aA,t)}var gM=(CS.required=E2,CS);function I2(){return lc(Vn(),Le())}function lc(t,e){return new mr(Fr(t,e))}var mr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=I2}return t})();function b2(t){return t instanceof mr?t.nativeElement:t}function T2(t){return typeof t=="function"&&t[fr]!==void 0}function wa(t,e){let n=ny(t,e?.equal),r=n[fr];return n.set=i=>Jl(r,i),n.update=i=>ry(r,i),n.asReadonly=C2.bind(n),n}function C2(){let t=this[fr];if(t.readonlyFn===void 0){let e=()=>this();e[fr]=t,t.readonlyFn=e}return t.readonlyFn}function mM(t){return T2(t)&&typeof t.set=="function"}function D2(){return this._results[Symbol.iterator]()}var _0=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Qe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=l4(e);(this._changesDetected=!c4(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=D2},S2="ngSkipHydration",A2="ngskiphydration";function _M(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===A2)return!0}return!1}function vM(t){return t.hasAttribute(S2)}function og(t){return(t.flags&128)===128}function M2(t){if(og(t))return!0;let e=t.parent;for(;e;){if(og(t)||_M(e))return!0;e=e.parent}return!1}var yM=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(yM||{}),wM=new Map,x2=0;function P2(){return x2++}function R2(t){wM.set(t[Ig],t)}function v0(t){wM.delete(t[Ig])}var DS="__ngContext__";function Dd(t,e){Nr(e)?(t[DS]=e[Ig],R2(e)):t[DS]=e}function EM(t){return bM(t[cd])}function IM(t){return bM(t[Rr])}function bM(t){for(;t!==null&&!mi(t);)t=t[Rr];return t}var y0;function TM(t){y0=t}function Dg(){if(y0!==void 0)return y0;if(typeof document<"u")return document;throw new J(210,!1)}var Zi=new Y("",{providedIn:"root",factory:()=>N2}),N2="ng",gw=new Y(""),Ea=new Y("",{providedIn:"platform",factory:()=>"unknown"});var mw=new Y("",{providedIn:"root",factory:()=>Dg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function O2(){let t=new dc;return t.store=k2(Dg(),$(Zi)),t}var dc=(()=>{class t{static \u0275prov=oe({token:t,providedIn:"root",factory:O2});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function k2(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var CM="h",DM="b",L2="f",F2="n",V2="e",B2="t",_w="c",SM="x",sg="r",U2="i",j2="n",AM="d";var $2="di",z2="s",H2="p";var Np=new Y(""),MM=!1,xM=new Y("",{providedIn:"root",factory:()=>MM});var PM=new Y(""),q2=!1,W2=new Y(""),SS=new Y("",{providedIn:"root",factory:()=>new Map}),vw=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(vw||{}),hc=new Y(""),AS=new Set;function vi(t){AS.has(t)||(AS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var RM=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=G2}return t})();function G2(){return new RM(Le(),Vn())}var Gu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Gu||{}),NM=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}return t})(),K2=[Gu.EarlyRead,Gu.Write,Gu.MixedReadWrite,Gu.Read],Z2=(()=>{class t{ngZone=$(Ye);scheduler=$(pa);errorHandler=$(fi,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){$(hc,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Xe(16),this.executing=!0;for(let r of K2)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Xe(17)}register(n){let{view:r}=n;r!==void 0?((r[Qu]??=[]).push(n),Id(r),r[Ee]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(vw.AFTER_NEXT_RENDER,n):n()}static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}return t})(),w0=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,a=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Qu];e&&(this.view[Qu]=e.filter(n=>n!==this))}};function yw(t,e){!e?.injector&&Eg(yw);let n=e?.injector??$(kt);return vi("NgAfterNextRender"),Y2(t,n,e,!0)}function Q2(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Y2(t,e,n,r){let i=e.get(NM);i.impl??=e.get(Z2);let o=e.get(hc,null,{optional:!0}),a=n?.phase??Gu.MixedReadWrite,c=n?.manualCleanup!==!0?e.get(cc):null,l=e.get(RM,null,{optional:!0}),f=new w0(i.impl,Q2(t,a),l?.view,r,c,o?.snapshot(null));return i.impl.register(f),f}var Xn=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(Xn||{}),MS=0,J2=1,qt=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(qt||{});var X2=0,Sg=1;var eB=4,tB=5;var nB=7,Ju=8,rB=9,OM=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(OM||{});function jp(t,e){let n=oB(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function iB(t){jp(1,t),jp(0,t),jp(2,t)}function oB(t){let e=eB;return t===1?e=tB:t===2&&(e=rB),e}function kM(t){return t+1}function Sd(t,e){let n=t[he],r=kM(e.index);return t[r]}function Ag(t,e){let n=kM(e.index);return t.data[n]}function sB(t,e,n){let r=e[he],i=Ag(r,n);switch(t){case qt.Complete:return i.primaryTmplIndex;case qt.Loading:return i.loadingTmplIndex;case qt.Error:return i.errorTmplIndex;case qt.Placeholder:return i.placeholderTmplIndex;default:return null}}function xS(t,e){return e===qt.Placeholder?t.placeholderBlockConfig?.[MS]??null:e===qt.Loading?t.loadingBlockConfig?.[MS]??null:null}function aB(t){return t.loadingBlockConfig?.[J2]??null}function PS(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function uB(t,e){let n=e.primaryTmplIndex+Et;return Ed(t,n)}var Mg="ngb";var cB=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},lB=(t,e)=>{let n=t,r=n.getAttribute(Mg)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var dB=t=>{t.removeAttribute(My.JSACTION),t.removeAttribute(Mg),t.__jsaction_fns=void 0},hB=new Y("",{providedIn:"root",factory:()=>({})});function LM(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var ww=new Y("");var fB="__nghData__",FM=fB,pB="__nghDeferData__",gB=pB,Uy="ngh",mB="nghm",VM=()=>null;function _B(t,e,n=!1){let r=t.getAttribute(Uy);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let a=o?`|${o}`:"",c=n?i:a,l={};if(r!==""){let m=e.get(dc,null,{optional:!0});m!==null&&(l=m.get(FM,[])[Number(r)])}let f={data:l,firstChild:t.firstChild??null};return n&&(f.firstChild=t,xg(f,0,t.nextSibling)),c?t.setAttribute(Uy,c):t.removeAttribute(Uy),f}function vB(){VM=_B}function BM(t,e,n=!1){return VM(t,e,n)}function yB(t){let e=t._lView;return e[he].type===2?null:(ld(e)&&(e=e[Et]),e)}function wB(t){return t.textContent?.replace(/\s/gm,"")}function EB(t){let e=Dg(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let a=wB(o);return a==="ngetn"||a==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function xg(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function E0(t,e){return t.segmentHeads?.[e]??null}function IB(t){return t.get(W2,!1,{optional:!0})}function bB(t,e){let n=t.data,r=n[V2]?.[e]??null;return r===null&&n[_w]?.[e]&&(r=Ew(t,e)),r}function UM(t,e){return t.data[_w]?.[e]??null}function Ew(t,e){let n=UM(t,e)??[],r=0;for(let i of n)r+=i[sg]*(i[SM]??1);return r}function TB(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[AM];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Ad(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[AM];t.disconnectedNodes=n?new Set(n):null}return!!TB(t)?.has(e)}function CB(t,e){let n=e.get(ww),i=e.get(dc).get(gB,{}),o=!1,a=t,c=null,l=[];for(;!o&&a;){o=n.has(a);let f=n.hydrating.get(a);if(c===null&&f!=null){c=f.promise;break}l.unshift(a),a=i[a][H2]}return{parentBlockPromise:c,hydrationQueue:l}}function jy(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===mB}function RS(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function DB(t){for(let r of t.body.childNodes)if(jy(r))return;let e=RS(t.body.previousSibling);if(jy(e))return;let n=RS(t.head.lastChild);if(!jy(n))throw new J(-507,!1)}function jM(t,e){let n=t.contentQueries;if(n!==null){let r=Me(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let c=t.data[a];aw(o),c.contentQueries(2,e[a],a)}}}finally{Me(r)}}}function I0(t,e,n){aw(0);let r=Me(null);try{e(t,n)}finally{Me(r)}}function $M(t,e,n){if(MA(e)){let r=Me(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let a=i;a<o;a++){let c=t.data[a];if(c.contentQueries){let l=n[a];c.contentQueries(1,l,a)}}}finally{Me(r)}}}var pi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(pi||{});var Op;function SB(){if(Op===void 0&&(Op=null,es.trustedTypes))try{Op=es.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Op}function NS(t){return SB()?.createScriptURL(t)||t}var ag=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sA})`}};function Pg(t){return t instanceof ag?t.changingThisBreaksApplicationSecurity:t}function Iw(t,e){let n=AB(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${sA})`)}return n===e}function AB(t){return t instanceof ag&&t.getTypeName()||null}var MB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zM(t){return t=String(t),t.match(MB)?t:"unsafe:"+t}var Rg=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Rg||{});function xB(t){let e=qM();return e?e.sanitize(Rg.URL,t)||"":Iw(t,"URL")?Pg(t):zM(vg(t))}function PB(t){let e=qM();if(e)return NS(e.sanitize(Rg.RESOURCE_URL,t)||"");if(Iw(t,"ResourceURL"))return NS(Pg(t));throw new J(904,!1)}function RB(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?PB:xB}function HM(t,e,n){return RB(e,n)(t)}function qM(){let t=Le();return t&&t[Qi].sanitizer}var NB=/^>|^->|<!--|-->|--!>|<!-$/g,OB=/(<|>)/g,kB="\u200B$1\u200B";function LB(t){return t.replace(NB,e=>e.replace(OB,kB))}function FB(t){return t.ownerDocument.body}function WM(t){return t instanceof Function?t():t}function VB(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var GM="ng-template";function BB(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&VB(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(bw(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function bw(t){return t.type===4&&t.value!==GM}function UB(t,e,n){let r=t.type===4&&!n?GM:t.value;return e===r}function jB(t,e,n){let r=4,i=t.attrs,o=i!==null?HB(i):0,a=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!a&&!Pr(r)&&!Pr(l))return!1;if(a&&Pr(l))continue;a=!1,r=l|r&1;continue}if(!a)if(r&4){if(r=2|r&1,l!==""&&!UB(t,l,n)||l===""&&e.length===1){if(Pr(r))return!1;a=!0}}else if(r&8){if(i===null||!BB(t,i,l,n)){if(Pr(r))return!1;a=!0}}else{let f=e[++c],m=$B(l,i,bw(t),n);if(m===-1){if(Pr(r))return!1;a=!0;continue}if(f!==""){let y;if(m>o?y="":y=i[m+1].toLowerCase(),r&2&&f!==y){if(Pr(r))return!1;a=!0}}}}return Pr(r)||a}function Pr(t){return(t&1)===0}function $B(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let a=e[i];if(a===t)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return qB(e,t)}function zB(t,e,n=!1){for(let r=0;r<e.length;r++)if(jB(t,e[r],n))return!0;return!1}function HB(t){for(let e=0;e<t.length;e++){let n=t[e];if(XA(n))return e}return t.length}function qB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function OS(t,e){return t?":not("+e.trim()+")":e}function WB(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let c=t[++n];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Pr(a)&&(e+=OS(o,i),i=""),r=a,o=o||!Pr(r);n++}return i!==""&&(e+=OS(o,i)),e}function GB(t){return t.map(WB).join(",")}function KB(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Pr(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var ro={};function KM(t,e){return t.createText(e)}function ZB(t,e,n){t.setValue(e,n)}function ZM(t,e){return t.createComment(LB(e))}function Tw(t,e,n){return t.createElement(e,n)}function ug(t,e,n,r,i){t.insertBefore(e,n,r,i)}function QM(t,e,n){t.appendChild(e,n)}function kS(t,e,n,r,i){r!==null?ug(t,e,n,r,i):QM(t,e,n)}function Cw(t,e,n){t.removeChild(null,e,n)}function YM(t){t.textContent=""}function QB(t,e,n){t.setAttribute(e,"style",n)}function YB(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function JM(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&t2(t,e,r),i!==null&&YB(t,e,i),o!==null&&QB(t,e,o)}function Dw(t,e,n,r,i,o,a,c,l,f,m){let y=Et+r,I=y+i,E=JB(y,I),M=typeof f=="function"?f():f;return E[he]={type:t,blueprint:E,template:n,queries:null,viewQuery:c,declTNode:e,data:E.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:M,incompleteFirstPass:!1,ssrId:m}}function JB(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ro);return n}function XB(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Dw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Sw(t,e,n,r,i,o,a,c,l,f,m){let y=e.blueprint.slice();return y[er]=i,y[Ee]=r|4|128|8|64|1024,(f!==null||t&&t[Ee]&2048)&&(y[Ee]|=2048),LA(y),y[Gt]=y[ac]=t,y[Wt]=n,y[Qi]=a||t&&t[Qi],y[lt]=c||t&&t[lt],y[li]=l||t&&t[li]||null,y[Lr]=o,y[Ig]=P2(),y[Or]=m,y[SA]=f,y[tr]=e.type==2?t[tr]:y,y}function eU(t,e,n){let r=Fr(e,t),i=XB(n),o=t[Qi].rendererFactory,a=Aw(t,Sw(t,i,null,XM(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=a}function XM(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function ex(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Aw(t,e){return t[cd]?t[pS][Rr]=e:t[cd]=e,t[pS]=e,e}function ce(t=1){tx(Xt(),Le(),ya()+t,!1)}function tx(t,e,n,r){if(!r)if((e[Ee]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Vp(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Bp(e,o,0,n)}ha(n)}var Ng=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ng||{});function b0(t,e,n,r){let i=Me(null);try{let[o,a,c]=t.inputs[n],l=null;(a&Ng.SignalBased)!==0&&(l=e[o][fr]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,o):xA(e,l,o,r)}finally{Me(i)}}function nx(t,e,n,r,i){let o=ya(),a=r&2;try{ha(-1),a&&e.length>Et&&tx(t,e,Et,!1),Xe(a?2:0,i),n(r,i)}finally{ha(o),Xe(a?3:1,i)}}function Mw(t,e,n){aU(t,e,n),(n.flags&64)===64&&uU(t,e,n)}function rx(t,e,n=Fr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],c=a===-1?n(e,t):t[a];t[i++]=c}}}function tU(t,e,n,r){let o=r.get(xM,MM)||n===pi.ShadowDom,a=t.selectRootElement(e,o);return nU(a),a}function nU(t){ix(t)}var ix=()=>null;function rU(t){vM(t)?YM(t):EB(t)}function iU(){ix=rU}function oU(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function xw(t,e,n,r,i,o,a,c){if(!c&&Rw(e,t,n,r,i)){_a(e)&&sU(n,e.index);return}if(e.type&3){let l=Fr(e,n);r=oU(r),i=a!=null?a(i,e.value||"",r):i,o.setProperty(l,r,i)}else e.type&12}function sU(t,e){let n=hi(e,t);n[Ee]&16||(n[Ee]|=64)}function aU(t,e,n){let r=n.directiveStart,i=n.directiveEnd;_a(n)&&eU(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ng(n,e);let o=n.initialInputs;for(let a=r;a<i;a++){let c=t.data[a],l=hd(e,t,a,n);if(Dd(l,e),o!==null&&hU(e,a-r,l,c,n,o),di(c)){let f=hi(n.index,e);f[Wt]=hd(e,t,a,n)}}}function uU(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=G4();try{ha(o);for(let c=r;c<i;c++){let l=t.data[c],f=e[c];c0(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&cU(l,f)}}finally{ha(-1),c0(a)}}function cU(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ox(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];zB(e,o.selectors,!1)&&(r??=[],di(o)?r.unshift(o):r.push(o))}return r}function lU(t,e,n,r,i,o){let a=Fr(t,e);dU(e[lt],a,o,t.value,n,r,i)}function dU(t,e,n,r,i,o,a){if(o==null)t.removeAttribute(e,i,n);else{let c=a==null?vg(o):a(o,r||"",i);t.setAttribute(e,i,c,n)}}function hU(t,e,n,r,i,o){let a=o[e];if(a!==null)for(let c=0;c<a.length;c+=2){let l=a[c],f=a[c+1];b0(r,n,l,f)}}function Pw(t,e){let n=t[li],r=n?n.get(fi,null):null;r&&r.handleError(e)}function Rw(t,e,n,r,i){let o=t.inputs?.[r],a=t.hostDirectiveInputs?.[r],c=!1;if(a)for(let l=0;l<a.length;l+=2){let f=a[l],m=a[l+1],y=e.data[f];b0(y,n[f],m,i),c=!0}if(o)for(let l of o){let f=n[l],m=e.data[l];b0(m,f,r,i),c=!0}return c}function fU(t,e){let n=hi(e,t),r=n[he];pU(r,n);let i=n[er];i!==null&&n[Or]===null&&(n[Or]=BM(i,n[li])),Xe(18),Nw(r,n,n[Wt]),Xe(19,n[Wt])}function pU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Nw(t,e,n){uw(e);try{let r=t.viewQuery;r!==null&&I0(1,r,n);let i=t.template;i!==null&&nx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Yi]?.finishViewCreation(t),t.staticContentQueries&&jM(t,e),t.staticViewQueries&&I0(2,t.viewQuery,n);let o=t.components;o!==null&&gU(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ee]&=-5,cw()}}function gU(t,e){for(let n=0;n<e.length;n++)fU(t,e[n])}function Md(t,e,n,r){let i=Me(null);try{let o=e.tView,c=t[Ee]&4096?4096:16,l=Sw(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),f=t[e.index];l[la]=f;let m=t[Yi];return m!==null&&(l[Yi]=m.createEmbeddedView(o)),Nw(o,l,n),l}finally{Me(i)}}function rc(t,e){return!e||e.firstChild===null||og(t)}var mU;function Ow(t,e){return mU(t,e)}var eo=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(eo||{});function fc(t){return(t.flags&32)===32}function Ku(t,e,n,r,i){if(r!=null){let o,a=!1;mi(r)?o=r:Nr(r)&&(a=!0,r=r[er]);let c=kr(r);t===0&&n!==null?i==null?QM(e,n,c):ug(e,n,c,i||null,!0):t===1&&n!==null?ug(e,n,c,i||null,!0):t===2?Cw(e,c,a):t===3&&e.destroyNode(c),o!=null&&AU(e,t,o,n,i)}}function _U(t,e){sx(t,e),e[er]=null,e[Lr]=null}function vU(t,e,n,r,i,o){r[er]=i,r[Lr]=e,kg(t,r,n,1,i,o)}function sx(t,e){e[Qi].changeDetectionScheduler?.notify(9),kg(t,e,e[lt],2,null,null)}function yU(t){let e=t[cd];if(!e)return $y(t[he],t);for(;e;){let n=null;if(Nr(e))n=e[cd];else{let r=e[ln];r&&(n=r)}if(!n){for(;e&&!e[Rr]&&e!==t;)Nr(e)&&$y(e[he],e),e=e[Gt];e===null&&(e=t),Nr(e)&&$y(e[he],e),n=e&&e[Rr]}e=n}}function kw(t,e){let n=t[tc],r=n.indexOf(e);n.splice(r,1)}function Og(t,e){if(va(e))return;let n=e[lt];n.destroyNode&&kg(t,e,n,3,null,null),yU(e)}function $y(t,e){if(va(e))return;let n=Me(null);try{e[Ee]&=-129,e[Ee]|=256,e[gr]&&Xv(e[gr]),EU(t,e),wU(t,e),e[he].type===1&&e[lt].destroy();let r=e[la];if(r!==null&&mi(e[Gt])){r!==e[Gt]&&kw(r,e);let i=e[Yi];i!==null&&i.detachView(t)}v0(e)}finally{Me(n)}}function wU(t,e){let n=t.cleanup,r=e[Qp];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let c=n[a+3];c>=0?r[c]():r[-c].unsubscribe(),a+=2}else{let c=r[n[a+1]];n[a].call(c)}r!==null&&(e[Qp]=null);let i=e[ts];if(i!==null){e[ts]=null;for(let a=0;a<i.length;a++){let c=i[a];c()}}let o=e[Yp];if(o!==null){e[Yp]=null;for(let a of o)a.destroy()}}function EU(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof fa)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let c=i[o[a]],l=o[a+1];Xe(4,c,l);try{l.call(c)}finally{Xe(5,c,l)}}else{Xe(4,i,o);try{o.call(i)}finally{Xe(5,i,o)}}}}}function IU(t,e,n){return bU(t,e.parent,n)}function bU(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[er];if(_a(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===pi.None||i===pi.Emulated)return null}return Fr(r,n)}function TU(t,e,n){return DU(t,e,n)}function CU(t,e,n){return t.type&40?Fr(t,n):null}var DU=CU,LS;function Lw(t,e,n,r){let i=IU(t,r,e),o=e[lt],a=r.parent||e[Lr],c=TU(a,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)kS(o,i,n[l],c,!1);else kS(o,i,n,c,!1);LS!==void 0&&LS(o,r,e,n,i)}function sd(t,e){if(e!==null){let n=e.type;if(n&3)return Fr(e,t);if(n&4)return T0(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return sd(t,r);{let i=t[e.index];return mi(i)?T0(-1,i):kr(i)}}else{if(n&128)return sd(t,e.next);if(n&32)return Ow(e,t)()||kr(t[e.index]);{let r=ax(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=da(t[tr]);return sd(i,r)}else return sd(t,e.next)}}}return null}function ax(t,e){if(e!==null){let r=t[tr][Lr],i=e.projection;return r.projection[i]}return null}function T0(t,e){let n=ln+t+1;if(n<e.length){let r=e[n],i=r[he].firstChild;if(i!==null)return sd(r,i)}return e[Xi]}function Fw(t,e,n,r,i,o,a){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(a&&e===0&&(c&&Dd(kr(c),r),n.flags|=2),!fc(n))if(l&8)Fw(t,e,n.child,r,i,o,!1),Ku(e,t,i,c,o);else if(l&32){let f=Ow(n,r),m;for(;m=f();)Ku(e,t,i,m,o);Ku(e,t,i,c,o)}else l&16?SU(t,e,r,n,i,o):Ku(e,t,i,c,o);n=a?n.projectionNext:n.next}}function kg(t,e,n,r,i,o){Fw(n,r,t.firstChild,e,i,o,!1)}function SU(t,e,n,r,i,o){let a=n[tr],l=a[Lr].projection[r.projection];if(Array.isArray(l))for(let f=0;f<l.length;f++){let m=l[f];Ku(e,t,i,m,o)}else{let f=l,m=a[Gt];og(r)&&(f.flags|=128),Fw(t,e,f,m,i,o,!0)}}function AU(t,e,n,r,i){let o=n[Xi],a=kr(n);o!==a&&Ku(e,t,r,o,i);for(let c=ln;c<n.length;c++){let l=n[c];kg(l[he],l,t,e,r,o)}}function MU(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:eo.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=eo.Important),t.setStyle(n,r,i,o))}}function cg(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(kr(o)),mi(o)&&xU(o,r);let a=n.type;if(a&8)cg(t,e,n.child,r);else if(a&32){let c=Ow(n,e),l;for(;l=c();)r.push(l)}else if(a&16){let c=ax(e,n);if(Array.isArray(c))r.push(...c);else{let l=da(e[tr]);cg(l[he],l,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function xU(t,e){for(let n=ln;n<t.length;n++){let r=t[n],i=r[he].firstChild;i!==null&&cg(r[he],r,i,e)}t[Xi]!==t[er]&&e.push(t[Xi])}function ux(t){if(t[Qu]!==null){for(let e of t[Qu])e.impl.addSequence(e);t[Qu].length=0}}var cx=[];function PU(t){return t[gr]??RU(t)}function RU(t){let e=cx.pop()??Object.create(OU);return e.lView=t,e}function NU(t){t.lView[gr]!==t&&(t.lView=null,cx.push(t))}var OU=Ae(K({},Ql),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Id(t.lView)},consumerOnSignalRead(){this.lView[gr]=this}});function kU(t){let e=t[gr]??Object.create(LU);return e.lView=t,e}var LU=Ae(K({},Ql),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=da(t.lView);for(;e&&!lx(e[he]);)e=da(e);e&&FA(e)},consumerOnSignalRead(){this.lView[gr]=this}});function lx(t){return t.type!==2}function dx(t){if(t[Yp]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Yp])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Ee]&8192)}}var FU=100;function hx(t,e=!0,n=0){let i=t[Qi].rendererFactory,o=!1;o||i.begin?.();try{VU(t,n)}catch(a){throw e&&Pw(t,a),a}finally{o||i.end?.()}}function VU(t,e){let n=$A();try{mS(!0),C0(t,e);let r=0;for(;bg(t);){if(r===FU)throw new J(103,!1);r++,C0(t,1)}}finally{mS(n)}}function BU(t,e,n,r){if(va(e))return;let i=e[Ee],o=!1,a=!1;uw(e);let c=!0,l=null,f=null;o||(lx(t)?(f=PU(e),l=Qf(f)):Gv()===null?(c=!1,f=kU(e),l=Qf(f)):e[gr]&&(Xv(e[gr]),e[gr]=null));try{LA(e),z4(t.bindingStartIndex),n!==null&&nx(t,e,n,2,r);let m=(i&3)===3;if(!o)if(m){let E=t.preOrderCheckHooks;E!==null&&Vp(e,E,null)}else{let E=t.preOrderHooks;E!==null&&Bp(e,E,0,null),Vy(e,0)}if(a||UU(e),dx(e),fx(e,0),t.contentQueries!==null&&jM(t,e),!o)if(m){let E=t.contentCheckHooks;E!==null&&Vp(e,E)}else{let E=t.contentHooks;E!==null&&Bp(e,E,1),Vy(e,1)}$U(t,e);let y=t.components;y!==null&&gx(e,y,0);let I=t.viewQuery;if(I!==null&&I0(2,I,r),!o)if(m){let E=t.viewCheckHooks;E!==null&&Vp(e,E)}else{let E=t.viewHooks;E!==null&&Bp(e,E,2),Vy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Fy]){for(let E of e[Fy])E();e[Fy]=null}o||(ux(e),e[Ee]&=-73)}catch(m){throw o||Id(e),m}finally{f!==null&&(Yv(f,l),c&&NU(f)),cw()}}function fx(t,e){for(let n=EM(t);n!==null;n=IM(n))for(let r=ln;r<n.length;r++){let i=n[r];px(i,e)}}function UU(t){for(let e=EM(t);e!==null;e=IM(e)){if(!(e[Ee]&2))continue;let n=e[tc];for(let r=0;r<n.length;r++){let i=n[r];FA(i)}}}function jU(t,e,n){Xe(18);let r=hi(e,t);px(r,n),Xe(19,r[Wt])}function px(t,e){rw(t)&&C0(t,e)}function C0(t,e){let r=t[he],i=t[Ee],o=t[gr],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(o?.dirty&&Jv(o)),a||=!1,o&&(o.dirty=!1),t[Ee]&=-9217,a)BU(r,t,r.template,t[Wt]);else if(i&8192){dx(t),fx(t,1);let c=r.components;c!==null&&gx(t,c,1),ux(t)}}function gx(t,e,n){for(let r=0;r<e.length;r++)jU(t,e[r],n)}function $U(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ha(~i);else{let o=i,a=n[++r],c=n[++r];W4(a,o);let l=e[o];Xe(24,l),c(2,l),Xe(25,l)}}}finally{ha(-1)}}function Lg(t,e){let n=$A()?64:1088;for(t[Qi].changeDetectionScheduler?.notify(e);t;){t[Ee]|=n;let r=da(t);if(ld(t)&&!r)return t;t=r}return null}function mx(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function _x(t,e){let n=ln+e;if(n<t.length)return t[n]}function xd(t,e,n,r=!0){let i=e[he];if(zU(i,e,t,n),r){let a=T0(n,t),c=e[lt],l=c.parentNode(t[Xi]);l!==null&&vU(i,t[Lr],c,e,l,a)}let o=e[Or];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Vw(t,e){let n=fd(t,e);return n!==void 0&&Og(n[he],n),n}function fd(t,e){if(t.length<=ln)return;let n=ln+e,r=t[n];if(r){let i=r[la];i!==null&&i!==t&&kw(i,r),e>0&&(t[n-1][Rr]=r[Rr]);let o=Kp(t,ln+e);_U(r[he],r);let a=o[Yi];a!==null&&a.detachView(o[he]),r[Gt]=null,r[Rr]=null,r[Ee]&=-129}return r}function zU(t,e,n,r){let i=ln+r,o=n.length;r>0&&(n[i-1][Rr]=e),r<o-ln?(e[Rr]=n[i],_A(n,ln+r,e)):(n.push(e),e[Rr]=null),e[Gt]=n;let a=e[la];a!==null&&n!==a&&vx(a,e);let c=e[Yi];c!==null&&c.insertView(t),a0(e),e[Ee]|=128}function vx(t,e){let n=t[tc],r=e[Gt];if(Nr(r))t[Ee]|=2;else{let i=r[Gt][tr];e[tr]!==i&&(t[Ee]|=2)}n===null?t[tc]=[e]:n.push(e)}var pd=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[he];return cg(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Wt]}set context(e){this._lView[Wt]=e}get destroyed(){return va(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Gt];if(mi(e)){let n=e[Jp],r=n?n.indexOf(this):-1;r>-1&&(fd(e,r),Kp(n,r))}this._attachedToViewContainer=!1}Og(this._lView[he],this._lView)}onDestroy(e){VA(this._lView,e)}markForCheck(){Lg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ee]&=-129}reattach(){a0(this._lView),this._lView[Ee]|=128}detectChanges(){this._lView[Ee]|=1024,hx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ld(this._lView),n=this._lView[la];n!==null&&!e&&kw(n,this._lView),sx(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e;let n=ld(this._lView),r=this._lView[la];r!==null&&!n&&vx(r,this._lView),a0(this._lView)}};var gd=(()=>{class t{static __NG_ELEMENT_ID__=WU}return t})(),HU=gd,qU=class extends HU{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Md(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new pd(i)}};function WU(){return Bw(Vn(),Le())}function Bw(t,e){return t.type&4?new qU(e,t,lc(t,e)):null}function Uw(t,e,n,r,i){let o=t.data[e];if(o===null)o=GU(t,e,n,r,i),q4()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=j4();o.injectorIndex=a===null?-1:a.injectorIndex}return Td(o,!0),o}function GU(t,e,n,r,i){let o=UA(),a=jA(),c=a?o:o&&o.parent,l=t.data[e]=ZU(t,c,n,e,r,i);return KU(t,l,o,a),l}function KU(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function ZU(t,e,n,r,i,o){let a=e?e.injectorIndex:-1,c=0;return bd()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var QU=new RegExp(`^(\\d+)*(${DM}|${CM})*(.*)`);function YU(t){let e=t.match(QU),[n,r,i,o]=e,a=r?parseInt(r,10):i,c=[];for(let[l,f,m]of o.matchAll(/(f|n)(\d*)/g)){let y=parseInt(m,10)||1;c.push(f,y)}return[a,...c]}function JU(t){return!t.prev&&t.parent?.type===8}function zy(t){return t.index-Et}function XU(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Fg(t,e,n,r){let i=zy(r),o=XU(t,i);if(o===void 0){let a=t.data[j2];if(a?.[i])o=tj(a[i],n);else if(e.firstChild===r)o=t.firstChild;else{let c=r.prev===null,l=r.prev??r.parent;if(JU(r)){let f=zy(r.parent);o=E0(t,f)}else{let f=Fr(l,n);if(c)o=f.firstChild;else{let m=zy(l),y=E0(t,m);if(l.type===2&&y){let E=Ew(t,m)+1;o=Vg(E,y)}else o=f.nextSibling}}}}return o}function Vg(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function ej(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let a=0;a<o;a++)switch(i){case L2:n=n.firstChild;break;case F2:n=n.nextSibling;break}}return n}function tj(t,e){let[n,...r]=YU(t),i;if(n===CM)i=e[tr][er];else if(n===DM)i=FB(e[tr][er]);else{let o=Number(n);i=kr(e[o+Et])}return ej(i,r)}var nj=!1;function rj(t){nj=t}function ij(t){let e=t[Or];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[lt];for(let o of r.values())oj(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function oj(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Et);i&&Cw(t,i,!1)}}function yx(t){let e=t[Ji]??[],r=t[Gt][lt],i=[];for(let o of e)o.data[$2]!==void 0?i.push(o):wx(o,r);t[Ji]=i}function sj(t){let{lContainer:e}=t,n=e[Ji];if(n===null)return;let i=e[Gt][lt];for(let o of n)wx(o,i)}function wx(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[sg];for(;n<i;){let o=r.nextSibling;Cw(e,r,!1),r=o,n++}}}function Bg(t){yx(t);let e=t[er];Nr(e)&&lg(e);for(let n=ln;n<t.length;n++)lg(t[n])}function lg(t){ij(t);let e=t[he];for(let n=Et;n<e.bindingStartIndex;n++)if(mi(t[n])){let r=t[n];Bg(r)}else Nr(t[n])&&lg(t[n])}function Ex(t){let e=t._views;for(let n of e){let r=yB(n);r!==null&&r[er]!==null&&(Nr(r)?lg(r):Bg(r))}}function aj(t,e,n,r){t!==null&&(n.cleanup(e),Bg(t.lContainer),Ex(r))}function uj(t,e){let n=[];for(let r of e)for(let i=0;i<(r[SM]??1);i++){let o={data:r,firstChild:null};r[sg]>0&&(o.firstChild=t,t=Vg(r[sg],t)),n.push(o)}return[t,n]}var Ix=()=>null;function cj(t,e){let n=t[Ji];return!e||n===null||n.length===0?null:n[0].data[U2]===e?n.shift():(yx(t),null)}function lj(){Ix=cj}function md(t,e){return Ix(t,e)}var dj=class{},bx=class{},D0=class{resolveComponentFactory(e){throw Error(`No component factory found for ${kn(e)}.`)}},Ug=class{static NULL=new D0},ic=class{},ss=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>hj()}return t})();function hj(){let t=Le(),e=Vn(),n=hi(e.index,t);return(Nr(n)?n:t)[lt]}var fj=(()=>{class t{static \u0275prov=oe({token:t,providedIn:"root",factory:()=>null})}return t})();var Hy={},Xu=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=yg(r);let i=this.injector.get(e,Hy,r);return i!==Hy||n===Hy?i:this.parentInjector.get(e,n,r)}};function FS(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number")o=c;else if(o==1)i=aS(i,c);else if(o==2){let l=c,f=e[++a];r=aS(r,l+": "+f+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ae(t,e=Se.Default){let n=Le();if(n===null)return ue(t,e);let r=Vn();return sM(r,n,Dn(t),e)}function Tx(t,e,n,r,i){let o=r===null?null:{"":-1},a=i(t,n);if(a!==null){let c,l=null,f=null,m=gj(a);m===null?c=a:[c,l,f]=m,vj(t,e,n,c,o,l,f)}o!==null&&r!==null&&pj(n,r,o)}function pj(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new J(-301,!1);r.push(e[i],o)}}function gj(t){let e=null,n=!1;for(let a=0;a<t.length;a++){let c=t[a];if(a===0&&di(c)&&(e=c),c.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let a of t)a.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,mj(a,r,o,i)),a===e&&(r??=[],r.push(a));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function mj(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function _j(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function vj(t,e,n,r,i,o,a){let c=r.length,l=!1;for(let I=0;I<c;I++){let E=r[I];!l&&di(E)&&(l=!0,_j(t,n,I)),d0(ng(n,e),t,E.type)}Tj(n,t.data.length,c);for(let I=0;I<c;I++){let E=r[I];E.providersResolver&&E.providersResolver(E)}let f=!1,m=!1,y=ex(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let I=0;I<c;I++){let E=r[I];if(n.mergedAttrs=dd(n.mergedAttrs,E.hostAttrs),wj(t,n,e,y,E),bj(y,E,i),a!==null&&a.has(E)){let[F,V]=a.get(E);n.directiveToIndex.set(E.type,[y,F+n.directiveStart,V+n.directiveStart])}else(o===null||!o.has(E))&&n.directiveToIndex.set(E.type,y);E.contentQueries!==null&&(n.flags|=4),(E.hostBindings!==null||E.hostAttrs!==null||E.hostVars!==0)&&(n.flags|=64);let M=E.type.prototype;!f&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),f=!0),!m&&(M.ngOnChanges||M.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),m=!0),y++}yj(t,n,o)}function yj(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))VS(0,e,i,r),VS(1,e,i,r),US(e,r,!1);else{let o=n.get(i);BS(0,e,o,r),BS(1,e,o,r),US(e,r,!0)}}}function VS(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;t===0?a=e.inputs??={}:a=e.outputs??={},a[o]??=[],a[o].push(r),Cx(e,o)}}function BS(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[a]??=[],c[a].push(r,o),Cx(e,a)}}function Cx(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function US(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||bw(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,c=0;for(;c<r.length;){let l=r[c];if(l===0){c+=4;continue}else if(l===5){c+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let f=i[l];for(let m of f)if(m===e){a??=[],a.push(l,r[c+1]);break}}else if(n&&o.hasOwnProperty(l)){let f=o[l];for(let m=0;m<f.length;m+=2)if(f[m]===e){a??=[],a.push(f[m+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(a)}function wj(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=aa(i.type,!0)),a=new fa(o,di(i),ae);t.blueprint[r]=a,n[r]=a,Ej(t,e,r,ex(t,n,i.hostVars,ro),i)}function Ej(t,e,n,r,i){let o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let c=~e.index;Ij(a)!=c&&a.push(c),a.push(n,r,o)}}function Ij(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function bj(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;di(e)&&(n[""]=t)}}function Tj(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Dx(t,e,n,r,i,o,a,c){let l=e.consts,f=nc(l,a),m=Uw(e,t,2,r,f);return o&&Tx(e,n,m,nc(l,c),i),m.mergedAttrs=dd(m.mergedAttrs,m.attrs),m.attrs!==null&&FS(m,m.attrs,!1),m.mergedAttrs!==null&&FS(m,m.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,m),m}function Sx(t,e){YA(t,e),MA(e)&&t.queries.elementEnd(e)}var dg=class extends Ug{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ca(e);return new _d(n,this.ngModule)}};function Cj(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Ng.SignalBased)!==0};return i&&(o.transform=i),o})}function Dj(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Sj(t,e,n){let r=e instanceof Jt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Xu(n,r):n}function Aj(t){let e=t.get(ic,null);if(e===null)throw new J(407,!1);let n=t.get(fj,null),r=t.get(pa,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function Mj(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Tw(e,n,n==="svg"?A4:n==="math"?M4:null)}var _d=class extends bx{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Cj(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Dj(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=GB(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Xe(22);let o=Me(null);try{let a=this.componentDef,c=r?["ng-version","19.2.11"]:KB(this.componentDef.selectors[0]),l=Dw(0,null,null,1,0,null,null,null,null,[c],null),f=Sj(a,i||this.ngModule,e),m=Aj(f),y=m.rendererFactory.createRenderer(null,a),I=r?tU(y,r,a.encapsulation,f):Mj(a,y),E=Sw(null,l,null,512|XM(a),null,null,m,y,f,null,BM(I,f,!0));E[Et]=I,uw(E);let M=null;try{let F=Dx(Et,l,E,"#host",()=>[this.componentDef],!0,0);I&&(JM(y,I,F),Dd(I,E)),Mw(l,E,F),$M(l,F,E),Sx(l,F),n!==void 0&&xj(F,this.ngContentSelectors,n),M=hi(F.index,E),E[Wt]=M[Wt],Nw(l,E,null)}catch(F){throw M!==null&&v0(M),v0(E),F}finally{Xe(23),cw()}return new S0(this.componentType,E)}finally{Me(o)}}},S0=class extends dj{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Ed(n[he],Et),this.location=lc(this._tNode,n),this.instance=hi(this._tNode.index,n)[Wt],this.hostView=this.changeDetectorRef=new pd(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Rw(r,i[he],i,e,n);this.previousInputValues.set(e,n);let a=hi(r.index,i);Lg(a,1)}get injector(){return new sa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function xj(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var pc=(()=>{class t{static __NG_ELEMENT_ID__=Pj}return t})();function Pj(){let t=Vn();return Mx(t,Le())}var Rj=pc,Ax=class extends Rj{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return lc(this._hostTNode,this._hostLView)}get injector(){return new sa(this._hostTNode,this._hostLView)}get parentInjector(){let e=dw(this._hostTNode,this._hostLView);if(eM(e)){let n=eg(e,this._hostLView),r=Xp(e),i=n[he].data[r+8];return new sa(i,n)}else return new sa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=jS(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ln}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=md(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(c,i,rc(this._hostTNode,a)),c}createComponent(e,n,r,i,o){let a=e&&!T4(e),c;if(a)c=n;else{let M=n||{};c=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let l=a?e:new _d(ca(e)),f=r||this.parentInjector;if(!o&&l.ngModule==null){let F=(a?f:this.parentInjector).get(Jt,null);F&&(o=F)}let m=ca(l.componentType??{}),y=md(this._lContainer,m?.id??null),I=y?.firstChild??null,E=l.create(f,i,I,o);return this.insertImpl(E.hostView,c,rc(this._hostTNode,y)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(P4(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=i[Gt],f=new Ax(l,l[Lr],l[Gt]);f.detach(f.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return xd(a,i,o,r),e.attachToViewContainerRef(),_A(qy(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=jS(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=fd(this._lContainer,n);r&&(Kp(qy(this._lContainer),n),Og(r[he],r))}detach(e){let n=this._adjustIndex(e,-1),r=fd(this._lContainer,n);return r&&Kp(qy(this._lContainer),n)!=null?new pd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function jS(t){return t[Jp]}function qy(t){return t[Jp]||(t[Jp]=[])}function Mx(t,e){let n,r=e[t.index];return mi(r)?n=r:(n=mx(r,e,null,t),e[t.index]=n,Aw(e,n)),xx(n,e,t,r),new Ax(n,t,e)}function Nj(t,e){let n=t[lt],r=n.createComment(""),i=Fr(e,t),o=n.parentNode(i);return ug(n,o,r,n.nextSibling(i),!1),r}var xx=Px,jw=()=>!1;function Oj(t,e,n){return jw(t,e,n)}function Px(t,e,n,r){if(t[Xi])return;let i;n.type&8?i=kr(r):i=Nj(e,n),t[Xi]=i}function kj(t,e,n){if(t[Xi]&&t[Ji])return!0;let r=n[Or],i=e.index-Et;if(!r||M2(e)||Ad(r,i))return!1;let a=E0(r,i),c=r.data[_w]?.[i],[l,f]=uj(a,c);return t[Xi]=l,t[Ji]=f,!0}function Lj(t,e,n,r){jw(t,n,e)||Px(t,e,n,r)}function Fj(){xx=Lj,jw=kj}var A0=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},M0=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let a=n.getByIndex(o),c=this.queries[a.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)$w(e,n).matches!==null&&this.queries[n].setDirty()}},x0=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=qj(e):this.predicate=e}},P0=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},R0=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,Vj(n,o)),this.matchTNodeWithReadOption(e,n,Up(n,e,o,!1,!1))}else r===gd?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Up(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===mr||i===pc||i===gd&&n.type&4)this.addMatch(n.index,-2);else{let o=Up(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Vj(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Bj(t,e){return t.type&11?lc(t,e):t.type&4?Bw(t,e):null}function Uj(t,e,n,r){return n===-1?Bj(e,t):n===-2?jj(t,e,r):hd(t,t[he],n,e)}function jj(t,e,n){if(n===mr)return lc(e,t);if(n===gd)return Bw(e,t);if(n===pc)return Mx(e,t)}function Rx(t,e,n,r){let i=e[Yi].queries[r];if(i.matches===null){let o=t.data,a=n.matches,c=[];for(let l=0;a!==null&&l<a.length;l+=2){let f=a[l];if(f<0)c.push(null);else{let m=o[f];c.push(Uj(e,m,a[l+1],n.metadata.read))}}i.matches=c}return i.matches}function N0(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let a=Rx(t,e,i,n);for(let c=0;c<o.length;c+=2){let l=o[c];if(l>0)r.push(a[c/2]);else{let f=o[c+1],m=e[-l];for(let y=ln;y<m.length;y++){let I=m[y];I[la]===I[Gt]&&N0(I[he],I,f,r)}if(m[tc]!==null){let y=m[tc];for(let I=0;I<y.length;I++){let E=y[I];N0(E[he],E,f,r)}}}}}return r}function $j(t,e){return t[Yi].queries[e].queryList}function zj(t,e,n){let r=new _0((n&4)===4);return O4(t,e,r,r.destroy),(e[Yi]??=new M0).queries.push(new A0(r))-1}function Hj(t,e,n){let r=Xt();return r.firstCreatePass&&(Wj(r,new x0(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),zj(r,Le(),e)}function qj(t){return t.split(",").map(e=>e.trim())}function Wj(t,e,n){t.queries===null&&(t.queries=new P0),t.queries.track(new R0(e,n))}function $w(t,e){return t.queries.getByIndex(e)}function Gj(t,e){let n=t[he],r=$w(n,e);return r.crossesNgTemplate?N0(n,t,e,[]):Rx(n,t,r,e)}var oc=class{},zw=class{};var O0=class extends oc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new dg(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=wA(e);this._bootstrapComponents=WM(o.bootstrap),this._r3Injector=cM(e,n,[{provide:oc,useValue:this},{provide:Ug,useValue:this.componentFactoryResolver},...r],kn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},k0=class extends zw{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new O0(this.moduleType,e,[])}};var hg=class extends oc{injector;componentFactoryResolver=new dg(this);instance=null;constructor(e){super();let n=new ud([...e.providers,{provide:oc,useValue:this},{provide:Ug,useValue:this.componentFactoryResolver}],e.parent||tw(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Pd(t,e,n=null){return new hg({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Kj=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=X0(!1,n.type),i=r.length>0?Pd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=oe({token:t,providedIn:"environment",factory:()=>new t(ue(Jt))})}return t})();function Ct(t){return yd(()=>{let e=Nx(t),n=Ae(K({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yM.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Kj).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||pi.Emulated,styles:t.styles||pr,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&vi("NgStandalone"),Ox(n);let r=t.dependencies;return n.directiveDefs=$S(r,!1),n.pipeDefs=$S(r,!0),n.id=Xj(n),n})}function Zj(t){return ca(t)||EA(t)}function Qj(t){return t!==null}function io(t){return yd(()=>({type:t.type,bootstrap:t.bootstrap||pr,declarations:t.declarations||pr,imports:t.imports||pr,exports:t.exports||pr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Yj(t,e){if(t==null)return ua;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,a,c,l;Array.isArray(i)?(c=i[0],o=i[1],a=i[2]??o,l=i[3]||null):(o=i,a=i,c=Ng.None,l=null),n[o]=[r,c,l],e[o]=a}return n}function Jj(t){if(t==null)return ua;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Lt(t){return yd(()=>{let e=Nx(t);return Ox(e),e})}function Hw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nx(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||ua,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||pr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yj(t.inputs,e),outputs:Jj(t.outputs),debugInfo:null}}function Ox(t){t.features?.forEach(e=>e(t))}function $S(t,e){if(!t)return null;let n=e?IA:Zj;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Qj)}function Xj(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function e3(t){return Object.getPrototypeOf(t.prototype).constructor}function Ur(t){let e=e3(t.type),n=!0,r=[t];for(;e;){let i;if(di(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new J(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let a=t;a.inputs=Wy(t.inputs),a.declaredInputs=Wy(t.declaredInputs),a.outputs=Wy(t.outputs);let c=i.hostBindings;c&&o3(t,c);let l=i.viewQuery,f=i.contentQueries;if(l&&r3(t,l),f&&i3(t,f),t3(t,i),qV(t.outputs,i.outputs),di(i)&&i.data.animation){let m=t.data;m.animation=(m.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let c=o[a];c&&c.ngInherit&&c(t),c===Ur&&(n=!1)}}e=Object.getPrototypeOf(e)}n3(r)}function t3(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function n3(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=dd(i.hostAttrs,n=dd(n,i.hostAttrs))}}function Wy(t){return t===ua?{}:t===pr?[]:t}function r3(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function i3(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function o3(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function kx(t,e,n){return t[e]=n}function gi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function s3(t,e,n,r){let i=gi(t,e,n);return gi(t,e+1,r)||i}function a3(t,e,n,r,i,o,a,c,l){let f=e.consts,m=Uw(e,t,4,a||null,c||null);BA()&&Tx(e,n,m,nc(f,l),ox),m.mergedAttrs=dd(m.mergedAttrs,m.attrs),YA(e,m);let y=m.tView=Dw(2,m,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f,null);return e.queries!==null&&(e.queries.template(e,m),y.queries=e.queries.embeddedTView(m)),m}function L0(t,e,n,r,i,o,a,c,l,f){let m=n+Et,y=e.firstCreatePass?a3(m,e,t,r,i,o,a,c,l):e.data[m];Td(y,!1);let I=Lx(e,t,y,n);lw()&&Lw(e,t,I,y),Dd(I,t);let E=mx(I,t,I,y);return t[m]=E,Aw(t,E),Oj(E,y,t),nw(y)&&Mw(e,t,y),l!=null&&rx(t,y,f),y}function rr(t,e,n,r,i,o,a,c){let l=Le(),f=Xt(),m=nc(f.consts,o);return L0(l,f,t,e,n,r,i,m,a,c),rr}var Lx=Fx;function Fx(t,e,n,r){return is(!0),e[lt].createComment("")}function u3(t,e,n,r){let i=e[Or],o=!i||bd()||fc(n)||Ad(i,r);if(is(o),o)return Fx(t,e);let a=i.data[B2]?.[r]??null;a!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=a);let c=Fg(i,t,e,n);xg(i,r,c);let l=Ew(i,r);return Vg(l,c)}function c3(){Lx=u3}var l3=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let a=i.length>0?Pd(i,r,o):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=oe({token:t,providedIn:"environment",factory:()=>new t})}return t})();var d3=new Y("");function Gy(t,e,n){return t.get(l3).getOrCreateInjector(e,t,n,"")}function h3(t,e,n){if(t instanceof Xu){let i=t.injector,o=t.parentInjector,a=Gy(o,e,n);return new Xu(i,a)}let r=t.get(Jt);if(r!==t){let i=Gy(r,e,n);return new Xu(t,i)}return Gy(t,e,n)}function Zu(t,e,n,r=!1){let i=n[Gt],o=i[he];if(va(i))return;let a=Sd(i,e),c=a[Sg],l=a[nB];if(!(l!==null&&t<l)&&zS(c,t)&&zS(a[X2]??-1,t)){let f=Ag(o,e),y=!r&&!0&&(aB(f)!==null||xS(f,qt.Loading)!==null||xS(f,qt.Placeholder))?g3:p3;try{y(t,a,n,e,i)}catch(I){Pw(i,I)}}}function f3(t,e){let n=t[Ji]?.findIndex(i=>i.data[z2]===e[Sg])??-1;return{dehydratedView:n>-1?t[Ji][n]:null,dehydratedViewIx:n}}function p3(t,e,n,r,i){Xe(20);let o=sB(t,i,r);if(o!==null){e[Sg]=t;let a=i[he],c=o+Et,l=Ed(a,c),f=0;Vw(n,f);let m;if(t===qt.Complete){let M=Ag(a,r),F=M.providers;F&&F.length>0&&(m=h3(i[li],M,F))}let{dehydratedView:y,dehydratedViewIx:I}=f3(n,e),E=Md(i,l,null,{injector:m,dehydratedView:y});if(xd(n,E,f,rc(l,y)),Lg(E,2),I>-1&&n[Ji]?.splice(I,1),(t===qt.Complete||t===qt.Error)&&Array.isArray(e[Ju])){for(let M of e[Ju])M();e[Ju]=null}}Xe(21)}function zS(t,e){return t<e}function HS(t,e,n){t.loadingPromise.then(()=>{t.loadingState===Xn.COMPLETE?Zu(qt.Complete,e,n):t.loadingState===Xn.FAILED&&Zu(qt.Error,e,n)})}var g3=null;var qw=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Vx=new Y("");var m3=(()=>{class t{static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new F0})}return t})(),F0=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function as(t){return!!t&&typeof t.then=="function"}function Ww(t){return!!t&&typeof t.subscribe=="function"}var _3=new Y("");var Bx=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=$(_3,{optional:!0})??[];injector=$(kt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=dn(this.injector,i);if(as(o))n.push(o);else if(Ww(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ia=new Y("");function v3(){ty(()=>{throw new J(600,!1)})}function y3(t){return t.isBoundToModule}var w3=10;var Ln=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=$(w2);afterRenderManager=$(NM);zonelessEnabled=$(Cg);rootEffectScheduler=$(m3);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Qe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=$(_i).hasPendingTasks.pipe(me(n=>!n));constructor(){$(hc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=$(Jt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=kt.NULL){Xe(10);let o=n instanceof bx;if(!this._injector.get(Bx).done){let E="";throw new J(405,E)}let c;o?c=n:c=this._injector.get(Ug).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=y3(c)?void 0:this._injector.get(oc),f=r||c.selector,m=c.create(i,[],f,l),y=m.location.nativeElement,I=m.injector.get(Vx,null);return I?.registerApplication(y),m.onDestroy(()=>{this.detachView(m.hostView),$p(this.components,m),I?.unregisterApplication(y)}),this._loadComponent(m),Xe(11,m),m}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Xe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(vw.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new J(101,!1);let n=Me(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Me(n),this.afterTick.next(),Xe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ic,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<w3;)Xe(14),this.synchronizeOnce(),Xe(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)E3(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>bg(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;$p(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Ia,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>$p(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new J(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $p(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function E3(t,e,n,r){if(!n&&!bg(t))return;hx(t,e,n&&!r?0:1)}function I3(t,e,n){let r=e[li],i=e[he];if(t.loadingState!==Xn.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=Sd(e,n),a=uB(i,t);t.loadingState=Xn.IN_PROGRESS,jp(1,o);let c=t.dependencyResolverFn,l=r.get(Cd).add();return c?(t.loadingPromise=Promise.allSettled(c()).then(f=>{let m=!1,y=[],I=[];for(let E of f)if(E.status==="fulfilled"){let M=E.value,F=ca(M)||EA(M);if(F)y.push(F);else{let V=IA(M);V&&I.push(V)}}else{m=!0;break}if(m){if(t.loadingState=Xn.FAILED,t.errorTmplIndex===null){let E="",M=new J(-750,!1);Pw(e,M)}}else{t.loadingState=Xn.COMPLETE;let E=a.tView;if(y.length>0){E.directiveRegistry=PS(E.directiveRegistry,y);let M=y.map(V=>V.type),F=X0(!1,...M);t.providers=F}I.length>0&&(E.pipeRegistry=PS(E.pipeRegistry,I))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,l()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=Xn.COMPLETE,l()}),t.loadingPromise)}function b3(t,e){return e[li].get(d3,null,{optional:!0})?.behavior!==OM.Manual}function T3(t,e,n){let r=e[he],i=e[n.index];if(!b3(t,e))return;let o=Sd(e,n),a=Ag(r,n);switch(iB(o),a.loadingState){case Xn.NOT_STARTED:Zu(qt.Loading,n,i),I3(a,e,n),a.loadingState===Xn.IN_PROGRESS&&HS(a,n,i);break;case Xn.IN_PROGRESS:Zu(qt.Loading,n,i),HS(a,n,i);break;case Xn.COMPLETE:Zu(qt.Complete,n,i);break;case Xn.FAILED:Zu(qt.Error,n,i);break;default:}}function C3(t,e,n){return T(this,null,function*(){let r=t.get(ww);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:a}=CB(e,t);if(a.length===0)return;o!==null&&a.shift(),A3(r,a),o!==null&&(yield o);let c=a[0];r.has(c)?yield qS(t,a,n):r.awaitParentBlock(c,()=>T(null,null,function*(){return yield qS(t,a,n)}))})}function qS(t,e,n){return T(this,null,function*(){let r=t.get(ww),i=r.hydrating,o=t.get(_i),a=o.add();for(let l=0;l<e.length;l++){let f=e[l],m=r.get(f);if(m!=null){if(yield x3(m),yield M3(t),D3(m)){sj(m),WS(e.slice(l),r);break}i.get(f).resolve()}else{S3(l,e,r),WS(e.slice(l),r);break}}let c=e[e.length-1];yield i.get(c)?.promise,o.remove(a),n&&n(e),aj(r.get(c),e,r,t.get(Ln))})}function D3(t){return Sd(t.lView,t.tNode)[Sg]===qt.Error}function S3(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&Bg(i.lContainer)}function WS(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function A3(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function M3(t){return new Promise(e=>yw(e,{injector:t}))}function x3(t){return T(this,null,function*(){let{tNode:e,lView:n}=t,r=Sd(n,e);return new Promise(i=>{P3(r,i),T3(2,n,e)})})}function P3(t,e){Array.isArray(t[Ju])||(t[Ju]=[]),t[Ju].push(e)}function Rd(t,e,n,r){let i=Le(),o=uc();if(gi(i,o,e)){let a=Xt(),c=Tg();lU(c,i,t,e,n,r)}return Rd}function Ux(t,e,n,r){return gi(t,uc(),n)?e+vg(n)+r:ro}function kp(t,e){return t<<17|e<<2}function ga(t){return t>>17&32767}function R3(t){return(t&2)==2}function N3(t,e){return t&131071|e<<17}function V0(t){return t|2}function sc(t){return(t&131068)>>2}function Ky(t,e){return t&-131069|e<<2}function O3(t){return(t&1)===1}function B0(t){return t|1}function k3(t,e,n,r,i,o){let a=o?e.classBindings:e.styleBindings,c=ga(a),l=sc(a);t[r]=n;let f=!1,m;if(Array.isArray(n)){let y=n;m=y[1],(m===null||wd(y,m)>0)&&(f=!0)}else m=n;if(i)if(l!==0){let I=ga(t[c+1]);t[r+1]=kp(I,c),I!==0&&(t[I+1]=Ky(t[I+1],r)),t[c+1]=N3(t[c+1],r)}else t[r+1]=kp(c,0),c!==0&&(t[c+1]=Ky(t[c+1],r)),c=r;else t[r+1]=kp(l,0),c===0?c=r:t[l+1]=Ky(t[l+1],r),l=r;f&&(t[r+1]=V0(t[r+1])),GS(t,m,r,!0),GS(t,m,r,!1),L3(e,m,t,r,o),a=kp(c,l),o?e.classBindings=a:e.styleBindings=a}function L3(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&wd(o,e)>=0&&(n[r+1]=B0(n[r+1]))}function GS(t,e,n,r){let i=t[n+1],o=e===null,a=r?ga(i):sc(i),c=!1;for(;a!==0&&(c===!1||o);){let l=t[a],f=t[a+1];F3(l,e)&&(c=!0,t[a+1]=r?B0(f):V0(f)),a=r?ga(f):sc(f)}c&&(t[n+1]=r?V0(i):B0(i))}function F3(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?wd(t,e)>=0:!1}function yi(t,e,n){let r=Le(),i=uc();if(gi(r,i,e)){let o=Xt(),a=Tg();xw(o,a,r,t,e,r[lt],n,!1)}return yi}function KS(t,e,n,r,i){Rw(e,t,n,i?"class":"style",r)}function oo(t,e){return V3(t,e,null,!0),oo}function V3(t,e,n,r){let i=Le(),o=Xt(),a=H4(2);if(o.firstUpdatePass&&U3(o,t,a,r),e!==ro&&gi(i,a,e)){let c=o.data[ya()];q3(o,c,i,i[lt],t,i[a+1]=W3(e,n),r,a)}}function B3(t,e){return e>=t.expandoStartIndex}function U3(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ya()],a=B3(t,n);G3(o,r)&&e===null&&!a&&(e=!1),e=j3(i,o,e,r),k3(i,o,e,n,a,r)}}function j3(t,e,n,r){let i=K4(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Zy(null,t,e,n,r),n=vd(n,e.attrs,r),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==i)if(n=Zy(i,t,e,n,r),o===null){let l=$3(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Zy(null,t,e,l[1],r),l=vd(l,e.attrs,r),z3(t,e,r,l))}else o=H3(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function $3(t,e,n){let r=n?e.classBindings:e.styleBindings;if(sc(r)!==0)return t[ga(r)]}function z3(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ga(i)]=r}function H3(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let a=t[o].hostAttrs;r=vd(r,a,n)}return vd(r,e.attrs,n)}function Zy(t,e,n,r,i){let o=null,a=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<a&&(o=e[c],r=vd(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function vd(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),h4(t,a,n?!0:e[++o]))}return t===void 0?null:t}function q3(t,e,n,r,i,o,a,c){if(!(e.type&3))return;let l=t.data,f=l[c+1],m=O3(f)?ZS(l,e,n,i,sc(f),a):void 0;if(!fg(m)){fg(o)||R3(f)&&(o=ZS(l,null,n,i,c,a));let y=OA(ya(),n);MU(r,a,y,i,o)}}function ZS(t,e,n,r,i,o){let a=e===null,c;for(;i>0;){let l=t[i],f=Array.isArray(l),m=f?l[1]:l,y=m===null,I=n[i+1];I===ro&&(I=y?pr:void 0);let E=y?ky(I,r):m===r?I:void 0;if(f&&!fg(E)&&(E=ky(l,r)),fg(E)&&(c=E,a))return c;let M=t[i+1];i=a?ga(M):sc(M)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(c=ky(l,r))}return c}function fg(t){return t!==void 0}function W3(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=kn(Pg(t)))),t}function G3(t,e){return(t.flags&(e?8:16))!==0}var U0=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Qy(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function K3(t,e,n){let r,i,o=0,a=t.length-1,c=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=a&&o<=l;){let f=t.at(o),m=e[o],y=Qy(o,f,o,m,n);if(y!==0){y<0&&t.updateValue(o,m),o++;continue}let I=t.at(a),E=e[l],M=Qy(a,I,l,E,n);if(M!==0){M<0&&t.updateValue(a,E),a--,l--;continue}let F=n(o,f),V=n(a,I),G=n(o,m);if(Object.is(G,V)){let re=n(l,E);Object.is(re,F)?(t.swap(o,a),t.updateValue(a,E),l--,a--):t.move(a,o),t.updateValue(o,m),o++;continue}if(r??=new pg,i??=YS(t,o,a,n),j0(t,r,o,G))t.updateValue(o,m),o++,a++;else if(i.has(G))r.set(F,t.detach(o)),a--;else{let re=t.create(o,e[o]);t.attach(o,re),o++,a++}}for(;o<=l;)QS(t,r,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),f=l.next();for(;!f.done&&o<=a;){let m=t.at(o),y=f.value,I=Qy(o,m,o,y,n);if(I!==0)I<0&&t.updateValue(o,y),o++,f=l.next();else{r??=new pg,i??=YS(t,o,a,n);let E=n(o,y);if(j0(t,r,o,E))t.updateValue(o,y),o++,a++,f=l.next();else if(!i.has(E))t.attach(o,t.create(o,y)),o++,a++,f=l.next();else{let M=n(o,m);r.set(M,t.detach(o)),a--}}}for(;!f.done;)QS(t,r,n,t.length,f.value),f=l.next()}for(;o<=a;)t.destroy(t.detach(a--));r?.forEach(l=>{t.destroy(l)})}function j0(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function QS(t,e,n,r,i){if(j0(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function YS(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var pg=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function jr(t,e){vi("NgControlFlow");let n=Le(),r=uc(),i=n[r]!==ro?n[r]:-1,o=i!==-1?gg(n,Et+i):void 0,a=0;if(gi(n,r,t)){let c=Me(null);try{if(o!==void 0&&Vw(o,a),t!==-1){let l=Et+t,f=gg(n,l),m=q0(n[he],l),y=md(f,m.tView.ssrId),I=Md(n,m,e,{dehydratedView:y});xd(f,I,a,rc(m,y))}}finally{Me(c)}}else if(o!==void 0){let c=_x(o,a);c!==void 0&&(c[Wt]=e)}}var $0=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ln}};function ba(t,e){return e}var z0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function $r(t,e,n,r,i,o,a,c,l,f,m,y,I){vi("NgControlFlow");let E=Le(),M=Xt(),F=l!==void 0,V=Le(),G=c?a.bind(V[tr][Wt]):a,re=new z0(F,G);V[Et+t]=re,L0(E,M,t+1,e,n,r,i,nc(M.consts,o)),F&&L0(E,M,t+2,l,f,m,y,nc(M.consts,I))}var H0=class extends U0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-ln}at(e){return this.getLView(e)[Wt].$implicit}attach(e,n){let r=n[Or];this.needsIndexUpdate||=e!==this.length,xd(this.lContainer,n,e,rc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Z3(this.lContainer,e)}create(e,n){let r=md(this.lContainer,this.templateTNode.tView.ssrId),i=Md(this.hostLView,this.templateTNode,new $0(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Og(e[he],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Wt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Wt].$index=e}getLView(e){return Q3(this.lContainer,e)}};function zr(t){let e=Me(null),n=ya();try{let r=Le(),i=r[he],o=r[n],a=n+1,c=gg(r,a);if(o.liveCollection===void 0){let f=q0(i,a);o.liveCollection=new H0(c,r,f)}else o.liveCollection.reset();let l=o.liveCollection;if(K3(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let f=uc(),m=l.length===0;if(gi(r,f,m)){let y=n+2,I=gg(r,y);if(m){let E=q0(i,y),M=md(I,E.tView.ssrId),F=Md(r,E,void 0,{dehydratedView:M});xd(I,F,0,rc(E,M))}else Vw(I,0)}}}finally{Me(e)}}function gg(t,e){return t[e]}function Z3(t,e){return fd(t,e)}function Q3(t,e){return _x(t,e)}function q0(t,e){return Ed(t,e)}function j(t,e,n,r){let i=Le(),o=Xt(),a=Et+t,c=i[lt],l=o.firstCreatePass?Dx(a,o,i,e,ox,BA(),n,r):o.data[a],f=jx(o,i,l,c,e,t);i[a]=f;let m=nw(l);return Td(l,!0),JM(c,f,l),!fc(l)&&lw()&&Lw(o,i,f,l),(k4()===0||m)&&Dd(f,i),L4(),m&&(Mw(o,i,l),$M(o,l,i)),r!==null&&rx(i,l),j}function z(){let t=Vn();jA()?$4():(t=t.parent,Td(t,!1));let e=t;V4(e)&&U4(),F4();let n=Xt();return n.firstCreatePass&&Sx(n,e),e.classesWithoutHost!=null&&X4(e)&&KS(n,e,Le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&e2(e)&&KS(n,e,Le(),e.stylesWithoutHost,!1),z}function rt(t,e,n,r){return j(t,e,n,r),z(),rt}var jx=(t,e,n,r,i,o)=>(is(!0),Tw(r,i,ZA()));function Y3(t,e,n,r,i,o){let a=e[Or],c=!a||bd()||fc(n)||Ad(a,o);if(is(c),c)return Tw(r,i,ZA());let l=Fg(a,t,e,n);return UM(a,o)&&xg(a,o,l.nextSibling),a&&(_M(n)||vM(l))&&_a(n)&&(B4(n),YM(l)),l}function J3(){jx=Y3}var X3=(t,e,n,r)=>(is(!0),ZM(e[lt],""));function e$(t,e,n,r){let i,o=e[Or],a=!o||bd()||Ad(o,r)||fc(n);if(is(a),a)return ZM(e[lt],"");let c=Fg(o,t,e,n),l=bB(o,r);return xg(o,r,c),i=Vg(l,c),i}function t$(){X3=e$}function wi(){return Le()}var ia=void 0;function n$(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var r$=["en",[["a","p"],["AM","PM"],ia],[["AM","PM"],ia,ia],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ia,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ia,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ia,"{1} 'at' {0}",ia],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",n$],Yy={};function _r(t){let e=i$(t),n=JS(e);if(n)return n;let r=e.split("-")[0];if(n=JS(r),n)return n;if(r==="en")return r$;throw new J(701,!1)}function JS(t){return t in Yy||(Yy[t]=es.ng&&es.ng.common&&es.ng.common.locales&&es.ng.common.locales[t]),Yy[t]}var At=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(At||{});function i$(t){return t.toLowerCase().replace(/_/g,"-")}var mg="en-US";var o$=mg;function s$(t){typeof t=="string"&&(o$=t.toLowerCase().replace(/_/g,"-"))}function XS(t,e,n){return function r(i){if(i===Function)return n;let o=_a(t)?hi(t.index,e):e;Lg(o,5);let a=e[Wt],c=eA(e,a,n,i),l=r.__ngNextListenerFn__;for(;l;)c=eA(e,a,l,i)&&c,l=l.__ngNextListenerFn__;return c}}function eA(t,e,n,r){let i=Me(null);try{return Xe(6,e,n),n(r)!==!1}catch(o){return a$(t,o),!1}finally{Xe(7,e,n),Me(i)}}function a$(t,e){let n=t[li],r=n?n.get(fi,null):null;r&&r.handleError(e)}function tA(t,e,n,r,i,o){let a=e[n],c=e[he],f=c.data[n].outputs[r],m=a[f],y=c.firstCreatePass?ow(c):null,I=iw(e),E=m.subscribe(o),M=I.length;I.push(o,E),y&&y.push(i,t.index,M,-(M+1))}var Gw=new Map;function u$(t,e){Gw.set(t,e)}function c$(t){Gw.delete(t)}function ze(t,e,n,r){let i=Le(),o=Xt(),a=Vn();return $x(o,i,i[lt],a,t,e,r),ze}function l$(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let c=e[Qp],l=i[o+2];return c.length>l?c[l]:null}typeof a=="string"&&(o+=2)}return null}function $x(t,e,n,r,i,o,a){let c=nw(r),f=t.firstCreatePass?ow(t):null,m=iw(e),y=!0;if(r.type&3||a){let I=Fr(r,e),E=a?a(I):I,M=m.length,F=a?G=>a(kr(G[r.index])):r.index,V=null;if(!a&&c&&(V=l$(t,e,i,r.index)),V!==null){let G=V.__ngLastListenerFn__||V;G.__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,y=!1}else{o=XS(r,e,o);let G=e[li].get(Zi);Gw.get(G)?.(E,i,o);let X=n.listen(E,i,o);m.push(o,X),f&&f.push(i,F,M,M+1)}}else o=XS(r,e,o);if(y){let I=r.outputs?.[i],E=r.hostDirectiveOutputs?.[i];if(E&&E.length)for(let M=0;M<E.length;M+=2){let F=E[M],V=E[M+1];tA(r,e,F,V,i,o)}if(I&&I.length)for(let M of I)tA(r,e,M,i,i,o)}}function Mt(t=1){return Q4(t)}function Kw(t,e,n,r,i){let o=Le(),a=Ux(o,e,n,r);if(a!==ro){let c=Xt(),l=Tg();xw(c,l,o,t,a,o[lt],i,!1)}return Kw}function gc(t,e,n){Hj(t,e,n)}function Ta(t){let e=Le(),n=Xt(),r=zA();aw(r+1);let i=$w(n,r);if(t.dirty&&x4(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=Gj(e,r);t.reset(o,b2),t.notifyOnChanges()}return!0}return!1}function Ca(){return $j(Le(),zA())}function d$(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Q(t,e=""){let n=Le(),r=Xt(),i=t+Et,o=r.firstCreatePass?Uw(r,i,1,e,null):r.data[i],a=zx(r,n,o,e,t);n[i]=a,lw()&&Lw(r,n,a,o),Td(o,!1)}var zx=(t,e,n,r,i)=>(is(!0),KM(e[lt],r));function h$(t,e,n,r,i){let o=e[Or],a=!o||bd()||fc(n)||Ad(o,i);return is(a),a?KM(e[lt],r):Fg(o,t,e,n)}function f$(){zx=h$}function en(t){return so("",t,""),en}function so(t,e,n){let r=Le(),i=Ux(r,t,e,n);return i!==ro&&p$(r,ya(),i),so}function p$(t,e,n){let r=OA(e,t);ZB(t[lt],r,n)}function Bn(t,e,n){mM(e)&&(e=e());let r=Le(),i=uc();if(gi(r,i,e)){let o=Xt(),a=Tg();xw(o,a,r,t,e,r[lt],n,!1)}return Bn}function ir(t,e){let n=mM(t);return n&&t.set(e),n}function Un(t,e){let n=Le(),r=Xt(),i=Vn();return $x(r,n,n[lt],i,t,e),Un}function g$(t,e,n){let r=Xt();if(r.firstCreatePass){let i=di(t);W0(n,r.data,r.blueprint,i,!0),W0(e,r.data,r.blueprint,i,!1)}}function W0(t,e,n,r,i){if(t=Dn(t),Array.isArray(t))for(let o=0;o<t.length;o++)W0(t[o],e,n,r,i);else{let o=Xt(),a=Le(),c=Vn(),l=ec(t)?t:Dn(t.provide),f=CA(t),m=c.providerIndexes&1048575,y=c.directiveStart,I=c.providerIndexes>>20;if(ec(t)||!t.multi){let E=new fa(f,i,ae),M=Xy(l,e,i?m:m+I,y);M===-1?(d0(ng(c,a),o,l),Jy(o,t,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(E),a.push(E)):(n[M]=E,a[M]=E)}else{let E=Xy(l,e,m+I,y),M=Xy(l,e,m,m+I),F=E>=0&&n[E],V=M>=0&&n[M];if(i&&!V||!i&&!F){d0(ng(c,a),o,l);let G=v$(i?_$:m$,n.length,i,r,f);!i&&V&&(n[M].providerFactory=G),Jy(o,t,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(G),a.push(G)}else{let G=Hx(n[i?M:E],f,!i&&r);Jy(o,t,E>-1?E:M,G)}!i&&r&&V&&n[M].componentProviders++}}}function Jy(t,e,n,r){let i=ec(e),o=v4(e);if(i||o){let l=(o?Dn(e.useClass):e).prototype.ngOnDestroy;if(l){let f=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let m=f.indexOf(n);m===-1?f.push(n,[r,l]):f[m+1].push(r,l)}else f.push(n,l)}}}function Hx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Xy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function m$(t,e,n,r,i){return G0(this.multi,[])}function _$(t,e,n,r,i){let o=this.multi,a;if(this.providerFactory){let c=this.providerFactory.componentProviders,l=hd(r,r[he],this.providerFactory.index,i);a=l.slice(0,c),G0(o,a);for(let f=c;f<l.length;f++)a.push(l[f])}else a=[],G0(o,a);return a}function G0(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function v$(t,e,n,r,i){let o=new fa(t,n,ae);return o.multi=[],o.index=e,o.componentProviders=0,Hx(o,i,r&&!n),o}function Da(t,e=[]){return n=>{n.providersResolver=(r,i)=>g$(r,i?i(t):t,e)}}function Zw(t,e,n,r){return Wx(Le(),sw(),t,e,n,r)}function qx(t,e){let n=t[e];return n===ro?void 0:n}function Wx(t,e,n,r,i,o){let a=e+n;return gi(t,a,i)?kx(t,a+1,o?r.call(o,i):r(i)):qx(t,a+1)}function y$(t,e,n,r,i,o,a){let c=e+n;return s3(t,c,i,o)?kx(t,c+2,a?r.call(a,i,o):r(i,o)):qx(t,c+2)}function jg(t,e){let n=Xt(),r,i=t+Et;n.firstCreatePass?(r=w$(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=aa(r.type,!0)),a,c=On(ae);try{let l=tg(!1),f=o();return tg(l),d$(n,Le(),i,f),f}finally{On(c)}}function w$(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Gx(t,e,n){let r=t+Et,i=Le(),o=kA(i,r);return Zx(i,r)?Wx(i,sw(),e,o.transform,n,o):o.transform(n)}function Kx(t,e,n,r){let i=t+Et,o=Le(),a=kA(o,i);return Zx(o,i)?y$(o,sw(),e,a.transform,n,r,a):a.transform(n,r)}function Zx(t,e){return t[he].data[e].pure}var ma=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Qx=new ma("19.2.11"),K0=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Yx=(()=>{class t{compileModuleSync(n){return new k0(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=wA(n),o=WM(i.declarations).reduce((a,c)=>{let l=ca(c);return l&&a.push(new _d(l)),a},[]);return new K0(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var E$=(()=>{class t{zone=$(Ye);changeDetectionScheduler=$(pa);applicationRef=$(Ln);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),I$=new Y("",{factory:()=>!1});function Jx({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ye(Ae(K({},eP()),{scheduleInRootZone:n})),[{provide:Ye,useFactory:t},{provide:ns,multi:!0,useFactory:()=>{let r=$(E$,{optional:!0});return()=>r.initialize()}},{provide:ns,multi:!0,useFactory:()=>{let r=$(b$);return()=>{r.initialize()}}},e===!0?{provide:dM,useValue:!0}:[],{provide:hM,useValue:n??lM}]}function Xx(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Jx({ngZoneFactory:()=>{let i=eP(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&vi("NgZone_CoalesceEvent"),new Ye(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Fn([{provide:I$,useValue:!0},{provide:Cg,useValue:!1},r])}function eP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var b$=(()=>{class t{subscription=new Tt;initialized=!1;zone=$(Ye);pendingTasks=$(_i);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ye.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ye.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var T$=(()=>{class t{appRef=$(Ln);taskService=$(_i);ngZone=$(Ye);zonelessEnabled=$(Cg);tracing=$(hc,{optional:!0});disableScheduling=$(dM,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Tt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ig):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(hM,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof m0||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?IS:fM;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ig+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,IS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function C$(){return typeof $localize<"u"&&$localize.locale||mg}var $g=new Y("",{providedIn:"root",factory:()=>$($g,Se.Optional|Se.SkipSelf)||C$()});var Z0=new Y(""),D$=new Y("");function id(t){return!t.moduleRef}function S$(t){let e=id(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ye);return n.run(()=>{id(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(fi,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),id(t)){let o=()=>e.destroy(),a=t.platformInjector.get(Z0);a.add(o),e.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(Z0);a.add(o),t.moduleRef.onDestroy(()=>{$p(t.allPlatformModules,t.moduleRef),i.unsubscribe(),a.delete(o)})}return M$(r,n,()=>{let o=e.get(Bx);return o.runInitializers(),o.donePromise.then(()=>{let a=e.get($g,mg);if(s$(a||mg),!e.get(D$,!0))return id(t)?e.get(Ln):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(id(t)){let l=e.get(Ln);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return A$(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function A$(t,e){let n=t.injector.get(Ln);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new J(-403,!1);e.push(t)}function M$(t,e,n){try{let r=n();return as(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var zp=null;function x$(t=[],e){return kt.create({name:e,providers:[{provide:wg,useValue:"platform"},{provide:Z0,useValue:new Set([()=>zp=null])},...t]})}function P$(t=[]){if(zp)return zp;let e=x$(t);return zp=e,v3(),R$(e),e}function R$(t){let e=t.get(gw,null);dn(t,()=>{e?.forEach(n=>n())})}function Qw(){return!1}var Sa=(()=>{class t{static __NG_ELEMENT_ID__=N$}return t})();function N$(t){return O$(Vn(),Le(),(t&16)===16)}function O$(t,e,n){if(_a(t)&&!n){let r=hi(t.index,e);return new pd(r,r)}else if(t.type&175){let r=e[tr];return new pd(r,e)}return null}function tP(t){Xe(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=P$(r),o=[Jx({}),{provide:pa,useExisting:T$},...n||[]],a=new hg({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return S$({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Xe(9)}}var Lp=new WeakSet,nA="",Hp=[];function rA(t){return t.get(PM,q2)}function nP(){let t=[{provide:PM,useFactory:()=>{let e=!0;{let n=$(Zi);e=!!window._ejsas?.[n]}return e&&vi("NgEventReplay"),e}}];return t.push({provide:ns,useValue:()=>{let e=$(Ln),{injector:n}=e;if(!Lp.has(e)){let r=$(SS);if(rA(n)){let i=n.get(Zi);u$(i,(o,a,c)=>{o.nodeType===Node.ELEMENT_NODE&&(cB(o,a,c),lB(o,r))})}}},multi:!0},{provide:Ia,useFactory:()=>{let e=$(Ln),{injector:n}=e;return()=>{!rA(n)||Lp.has(e)||(Lp.add(e),e.onDestroy(()=>{Lp.delete(e);{let r=n.get(Zi);Oy(r),c$(r)}}),e.whenStable().then(()=>{if(e.destroyed)return;let r=n.get(hB);k$(r,n);let i=n.get(SS);i.get(nA)?.forEach(dB),i.delete(nA);let o=r.instance;IB(n)?e.onDestroy(()=>o.cleanUp()):o.cleanUp()}))}},multi:!0}),t}var k$=(t,e)=>{let n=e.get(Zi),r=window._ejsas[n],i=t.instance=new oS(new xp(r.c));for(let c of r.et)i.addEvent(c);for(let c of r.etc)i.addEvent(c);let o=sS(n);i.replayEarlyEventInfos(o),Oy(n);let a=new Pp(c=>{L$(e,c,c.currentTarget)});iS(i,a)};function L$(t,e,n){let r=(n&&n.getAttribute(Mg))??"";/d\d+/.test(r)?F$(r,t,e,n):e.eventPhase===Ny.REPLAY&&LM(e,n)}function F$(t,e,n,r){Hp.push({event:n,currentTarget:r}),C3(e,t,V$)}function V$(t){let e=[...Hp],n=new Set(t);Hp=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(Mg);n.has(o)?LM(r,i):Hp.push({event:r,currentTarget:i})}}var iA=!1;function B$(){iA||(iA=!0,vB(),J3(),f$(),t$(),c3(),Fj(),lj(),iU())}function U$(t){return t.whenStable()}function rP(){let t=[{provide:Np,useFactory:()=>{let e=!0;return e=!!$(dc,{optional:!0})?.get(FM,null),e&&vi("NgHydration"),e}},{provide:ns,useValue:()=>{rj(!1),$(Np)&&(DB(Dg()),B$())},multi:!0}];return t.push({provide:xM,useFactory:()=>$(Np)},{provide:Ia,useFactory:()=>{if($(Np)){let e=$(Ln);return()=>{U$(e).then(()=>{e.destroyed||Ex(e)})}}return()=>{}},multi:!0}),Fn(t)}function Aa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function vr(t){return iy(t)}function Ma(t,e){return ey(t,e?.equal)}var oA=class{[fr];constructor(e){this[fr]=e}destroy(){this[fr].destroy()}};var tn=new Y("");var sP=null;function yr(){return sP}function Yw(t){sP??=t}var Nd=class{},Jw=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>$(aP),providedIn:"platform"})}return t})();var aP=(()=>{class t extends Jw{_location;_history;_doc=$(tn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yr().getBaseHref(this._doc)}onPopState(n){let r=yr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=yr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function uP(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function iP(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function us(t){return t&&t[0]!=="?"?`?${t}`:t}var mc=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>$(lP),providedIn:"root"})}return t})(),cP=new Y(""),lP=(()=>{class t extends mc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$(tn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return uP(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+us(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+us(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+us(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ue(Jw),ue(cP,8))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_c=(()=>{class t{_subject=new Qe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=z$(iP(oP(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+us(r))}normalize(n){return t.stripTrailingSlash($$(this._basePath,oP(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+us(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+us(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=us;static joinWithSlash=uP;static stripTrailingSlash=iP;static \u0275fac=function(r){return new(r||t)(ue(mc))};static \u0275prov=oe({token:t,factory:()=>j$(),providedIn:"root"})}return t})();function j$(){return new _c(ue(mc))}function $$(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function oP(t){return t.replace(/\/index.html$/,"")}function z$(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var mn=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(mn||{}),it=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(it||{}),jn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(jn||{}),uo={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function hP(t){return _r(t)[At.LocaleId]}function fP(t,e,n){let r=_r(t),i=[r[At.DayPeriodsFormat],r[At.DayPeriodsStandalone]],o=wr(i,e);return wr(o,n)}function pP(t,e,n){let r=_r(t),i=[r[At.DaysFormat],r[At.DaysStandalone]],o=wr(i,e);return wr(o,n)}function gP(t,e,n){let r=_r(t),i=[r[At.MonthsFormat],r[At.MonthsStandalone]],o=wr(i,e);return wr(o,n)}function mP(t,e){let r=_r(t)[At.Eras];return wr(r,e)}function Od(t,e){let n=_r(t);return wr(n[At.DateFormat],e)}function kd(t,e){let n=_r(t);return wr(n[At.TimeFormat],e)}function Ld(t,e){let r=_r(t)[At.DateTimeFormat];return wr(r,e)}function Fd(t,e){let n=_r(t),r=n[At.NumberSymbols][e];if(typeof r>"u"){if(e===uo.CurrencyDecimal)return n[At.NumberSymbols][uo.Decimal];if(e===uo.CurrencyGroup)return n[At.NumberSymbols][uo.Group]}return r}function _P(t){if(!t[At.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[At.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vP(t){let e=_r(t);return _P(e),(e[At.ExtraData][2]||[]).map(r=>typeof r=="string"?Xw(r):[Xw(r[0]),Xw(r[1])])}function yP(t,e,n){let r=_r(t);_P(r);let i=[r[At.ExtraData][0],r[At.ExtraData][1]],o=wr(i,e)||[];return wr(o,n)||[]}function wr(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Xw(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var H$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,zg={},q$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function wP(t,e,n,r){let i=ez(t);e=ao(n,e)||e;let a=[],c;for(;e;)if(c=q$.exec(e),c){a=a.concat(c.slice(1));let m=a.pop();if(!m)break;e=m}else{a.push(e);break}let l=i.getTimezoneOffset();r&&(l=IP(r,l),i=X$(i,r));let f="";return a.forEach(m=>{let y=Y$(m);f+=y?y(i,n,l):m==="''"?"'":m.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function Kg(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function ao(t,e){let n=hP(t);if(zg[n]??={},zg[n][e])return zg[n][e];let r="";switch(e){case"shortDate":r=Od(t,jn.Short);break;case"mediumDate":r=Od(t,jn.Medium);break;case"longDate":r=Od(t,jn.Long);break;case"fullDate":r=Od(t,jn.Full);break;case"shortTime":r=kd(t,jn.Short);break;case"mediumTime":r=kd(t,jn.Medium);break;case"longTime":r=kd(t,jn.Long);break;case"fullTime":r=kd(t,jn.Full);break;case"short":let i=ao(t,"shortTime"),o=ao(t,"shortDate");r=Hg(Ld(t,jn.Short),[i,o]);break;case"medium":let a=ao(t,"mediumTime"),c=ao(t,"mediumDate");r=Hg(Ld(t,jn.Medium),[a,c]);break;case"long":let l=ao(t,"longTime"),f=ao(t,"longDate");r=Hg(Ld(t,jn.Long),[l,f]);break;case"full":let m=ao(t,"fullTime"),y=ao(t,"fullDate");r=Hg(Ld(t,jn.Full),[m,y]);break}return r&&(zg[n][e]=r),r}function Hg(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Hr(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let a=String(t);for(;a.length<e;)a="0"+a;return r&&(a=a.slice(a.length-e)),o+a}function W$(t,e){return Hr(t,3).substring(0,e)}function Ft(t,e,n=0,r=!1,i=!1){return function(o,a){let c=G$(t,o);if((n>0||c>-n)&&(c+=n),t===3)c===0&&n===-12&&(c=12);else if(t===6)return W$(c,e);let l=Fd(a,uo.MinusSign);return Hr(c,e,l,r,i)}}function G$(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function dt(t,e,n=mn.Format,r=!1){return function(i,o){return K$(i,o,t,e,n,r)}}function K$(t,e,n,r,i,o){switch(n){case 2:return gP(e,i,r)[t.getMonth()];case 1:return pP(e,i,r)[t.getDay()];case 0:let a=t.getHours(),c=t.getMinutes();if(o){let f=vP(e),m=yP(e,i,r),y=f.findIndex(I=>{if(Array.isArray(I)){let[E,M]=I,F=a>=E.hours&&c>=E.minutes,V=a<M.hours||a===M.hours&&c<M.minutes;if(E.hours<M.hours){if(F&&V)return!0}else if(F||V)return!0}else if(I.hours===a&&I.minutes===c)return!0;return!1});if(y!==-1)return m[y]}return fP(e,i,r)[a<12?0:1];case 3:return mP(e,r)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function qg(t){return function(e,n,r){let i=-1*r,o=Fd(n,uo.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Hr(a,2,o)+Hr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Hr(a,1,o);case 2:return"GMT"+(i>=0?"+":"")+Hr(a,2,o)+":"+Hr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Hr(a,2,o)+":"+Hr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var Z$=0,Gg=4;function Q$(t){let e=Kg(t,Z$,1).getDay();return Kg(t,0,1+(e<=Gg?Gg:Gg+7)-e)}function EP(t){let e=t.getDay(),n=e===0?-3:Gg-e;return Kg(t.getFullYear(),t.getMonth(),t.getDate()+n)}function eE(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{let o=EP(n),a=Q$(o.getFullYear()),c=o.getTime()-a.getTime();i=1+Math.round(c/6048e5)}return Hr(i,t,Fd(r,uo.MinusSign))}}function Wg(t,e=!1){return function(n,r){let o=EP(n).getFullYear();return Hr(o,t,Fd(r,uo.MinusSign),e)}}var tE={};function Y$(t){if(tE[t])return tE[t];let e;switch(t){case"G":case"GG":case"GGG":e=dt(3,it.Abbreviated);break;case"GGGG":e=dt(3,it.Wide);break;case"GGGGG":e=dt(3,it.Narrow);break;case"y":e=Ft(0,1,0,!1,!0);break;case"yy":e=Ft(0,2,0,!0,!0);break;case"yyy":e=Ft(0,3,0,!1,!0);break;case"yyyy":e=Ft(0,4,0,!1,!0);break;case"Y":e=Wg(1);break;case"YY":e=Wg(2,!0);break;case"YYY":e=Wg(3);break;case"YYYY":e=Wg(4);break;case"M":case"L":e=Ft(1,1,1);break;case"MM":case"LL":e=Ft(1,2,1);break;case"MMM":e=dt(2,it.Abbreviated);break;case"MMMM":e=dt(2,it.Wide);break;case"MMMMM":e=dt(2,it.Narrow);break;case"LLL":e=dt(2,it.Abbreviated,mn.Standalone);break;case"LLLL":e=dt(2,it.Wide,mn.Standalone);break;case"LLLLL":e=dt(2,it.Narrow,mn.Standalone);break;case"w":e=eE(1);break;case"ww":e=eE(2);break;case"W":e=eE(1,!0);break;case"d":e=Ft(2,1);break;case"dd":e=Ft(2,2);break;case"c":case"cc":e=Ft(7,1);break;case"ccc":e=dt(1,it.Abbreviated,mn.Standalone);break;case"cccc":e=dt(1,it.Wide,mn.Standalone);break;case"ccccc":e=dt(1,it.Narrow,mn.Standalone);break;case"cccccc":e=dt(1,it.Short,mn.Standalone);break;case"E":case"EE":case"EEE":e=dt(1,it.Abbreviated);break;case"EEEE":e=dt(1,it.Wide);break;case"EEEEE":e=dt(1,it.Narrow);break;case"EEEEEE":e=dt(1,it.Short);break;case"a":case"aa":case"aaa":e=dt(0,it.Abbreviated);break;case"aaaa":e=dt(0,it.Wide);break;case"aaaaa":e=dt(0,it.Narrow);break;case"b":case"bb":case"bbb":e=dt(0,it.Abbreviated,mn.Standalone,!0);break;case"bbbb":e=dt(0,it.Wide,mn.Standalone,!0);break;case"bbbbb":e=dt(0,it.Narrow,mn.Standalone,!0);break;case"B":case"BB":case"BBB":e=dt(0,it.Abbreviated,mn.Format,!0);break;case"BBBB":e=dt(0,it.Wide,mn.Format,!0);break;case"BBBBB":e=dt(0,it.Narrow,mn.Format,!0);break;case"h":e=Ft(3,1,-12);break;case"hh":e=Ft(3,2,-12);break;case"H":e=Ft(3,1);break;case"HH":e=Ft(3,2);break;case"m":e=Ft(4,1);break;case"mm":e=Ft(4,2);break;case"s":e=Ft(5,1);break;case"ss":e=Ft(5,2);break;case"S":e=Ft(6,1);break;case"SS":e=Ft(6,2);break;case"SSS":e=Ft(6,3);break;case"Z":case"ZZ":case"ZZZ":e=qg(0);break;case"ZZZZZ":e=qg(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=qg(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=qg(2);break;default:return null}return tE[t]=e,e}function IP(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function J$(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function X$(t,e,n){let i=t.getTimezoneOffset(),o=IP(e,i);return J$(t,-1*(o-i))}function ez(t){if(dP(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,a=1]=t.split("-").map(c=>+c);return Kg(i,o-1,a)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(H$))return tz(r)}let e=new Date(t);if(!dP(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function tz(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let a=Number(t[4]||0)-n,c=Number(t[5]||0)-r,l=Number(t[6]||0),f=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,a,c,l,f),e}function dP(t){return t instanceof Date&&!isNaN(t.valueOf())}function bP(t,e){return new J(2100,!1)}var nE=class{createSubscription(e,n){return vr(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){vr(()=>e.unsubscribe())}},rE=class{createSubscription(e,n){return e.then(r=>n?.(r),r=>{throw r}),{unsubscribe:()=>{n=null}}}dispose(e){e.unsubscribe()}},nz=new rE,rz=new nE,iE=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(as(n))return nz;if(Ww(n))return rz;throw bP(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(ae(Sa,16))};static \u0275pipe=Hw({name:"async",type:t,pure:!1})}return t})();var iz="mediumDate",TP=new Y(""),CP=new Y(""),oE=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??iz,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return wP(n,a,o||this.locale,c)}catch(a){throw bP(t,a.message)}}static \u0275fac=function(r){return new(r||t)(ae($g,16),ae(TP,24),ae(CP,24))};static \u0275pipe=Hw({name:"date",type:t,pure:!0})}return t})();var _n=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=io({type:t});static \u0275inj=no({})}return t})();function Vd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var sE="browser",DP="server";function Zg(t){return t===DP}var xa=class{};var Jg=new Y(""),dE=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new J(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ue(Jg),ue(Ye))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),Bd=class{_doc;constructor(e){this._doc=e}manager},Qg="ng-app-id";function SP(t){for(let e of t)e.remove()}function AP(t,e){let n=e.createElement("style");return n.textContent=t,n}function sz(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Qg}="${e}"],link[${Qg}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Qg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function cE(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var hE=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Zg(o),sz(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,AP);r?.forEach(i=>this.addUsage(i,this.external,cE))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(SP(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])SP(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,AP(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,cE(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Qg,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ue(tn),ue(Zi),ue(mw,8),ue(Ea))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),uE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},fE=/%COMP%/g;var xP="%COMP%",az=`_nghost-${xP}`,uz=`_ngcontent-${xP}`,cz=!0,lz=new Y("",{providedIn:"root",factory:()=>cz});function dz(t){return uz.replace(fE,t)}function hz(t){return az.replace(fE,t)}function PP(t,e){return e.map(n=>n.replace(fE,t))}var pE=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,a,c,l,f=null,m=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=f,this.tracingService=m,this.platformIsServer=Zg(c),this.defaultRenderer=new Ud(n,a,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===pi.ShadowDom&&(r=Ae(K({},r),{encapsulation:pi.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Yg?i.applyToHost(n):i instanceof jd&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,y=this.platformIsServer,I=this.tracingService;switch(r.encapsulation){case pi.Emulated:o=new Yg(l,f,r,this.appId,m,a,c,y,I);break;case pi.ShadowDom:return new lE(l,f,n,r,a,c,this.nonce,y,I);default:o=new jd(l,f,r,m,a,c,y,I);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ue(dE),ue(hE),ue(Zi),ue(lz),ue(tn),ue(Ea),ue(Ye),ue(mw),ue(hc,8))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),Ud=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(uE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(MP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(MP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new J(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=uE[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=uE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(eo.DashCase|eo.Important)?e.style.setProperty(n,r,i&eo.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&eo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=yr().getGlobalEventTarget(this.doc,e),!e))throw new J(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function MP(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var lE=class extends Ud{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,a,c,l,f){super(e,o,a,l,f),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=i.styles;m=PP(i.id,m);for(let I of m){let E=document.createElement("style");c&&E.setAttribute("nonce",c),E.textContent=I,this.shadowRoot.appendChild(E)}let y=i.getExternalStyles?.();if(y)for(let I of y){let E=cE(I,o);c&&E.setAttribute("nonce",c),this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},jd=class extends Ud{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,a,c,l,f){super(e,o,a,c,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let m=r.styles;this.styles=f?PP(f,m):m,this.styleUrls=r.getExternalStyles?.(f)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Yg=class extends jd{contentAttr;hostAttr;constructor(e,n,r,i,o,a,c,l,f){let m=i+"-"+r.id;super(e,n,r,o,a,c,l,f,m),this.contentAttr=dz(m),this.hostAttr=hz(m)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Xg=class t extends Nd{supportsDOMEvents=!0;static makeCurrent(){Yw(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=fz();return n==null?null:pz(n)}resetBaseElement(){$d=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Vd(document.cookie,e)}},$d=null;function fz(){return $d=$d||document.querySelector("base"),$d?$d.getAttribute("href"):null}function pz(t){return new URL(t,document.baseURI).pathname}var gz=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),NP=(()=>{class t extends Bd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ue(tn))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),RP=["alt","control","meta","shift"],mz={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_z={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},OP=(()=>{class t extends Bd{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let a=t.parseEventName(r),c=t.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yr().onAndCancel(n,a.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),RP.forEach(f=>{let m=r.indexOf(f);m>-1&&(r.splice(m,1),a+=f+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=a,l}static matchEventFullKeyCode(n,r){let i=mz[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),RP.forEach(a=>{if(a!==i){let c=_z[a];c(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ue(tn))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})();function gE(t,e){return tP(K({rootComponent:t},vz(e)))}function vz(t){return{appProviders:[...bz,...t?.providers??[]],platformProviders:Iz}}function yz(){Xg.makeCurrent()}function wz(){return new fi}function Ez(){return TM(document),document}var Iz=[{provide:Ea,useValue:sE},{provide:gw,useValue:yz,multi:!0},{provide:tn,useFactory:Ez}];var bz=[{provide:wg,useValue:"root"},{provide:fi,useFactory:wz},{provide:Jg,useClass:NP,multi:!0,deps:[tn]},{provide:Jg,useClass:OP,multi:!0,deps:[tn]},pE,hE,dE,{provide:ic,useExisting:pE},{provide:xa,useClass:gz},[]];var yc=class{},zd=class{},lo=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(c=>o.indexOf(c)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var tm=class{encodeKey(e){return kP(e)}encodeValue(e){return kP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Tz(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[a,c]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(a)||[];l.push(c),n.set(a,l)}),n}var Cz=/%(\d[a-f0-9])/gi,Dz={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kP(t){return encodeURIComponent(t).replace(Cz,(e,n)=>Dz[n]??e)}function em(t){return`${t}`}var co=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new tm,e.fromString){if(e.fromObject)throw new J(2805,!1);this.map=Tz(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(em):[em(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(em(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(em(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var nm=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Sz(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function LP(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function FP(t){return typeof Blob<"u"&&t instanceof Blob}function VP(t){return typeof FormData<"u"&&t instanceof FormData}function Az(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var BP="Content-Type",UP="Accept",jP="X-Request-URL",$P="text/plain",zP="application/json",Mz=`${zP}, ${$P}, */*`,vc=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(Sz(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new lo,this.context??=new nm,!this.params)this.params=new co,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),l=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||LP(this.body)||FP(this.body)||VP(this.body)||Az(this.body)?this.body:this.body instanceof co?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||VP(this.body)?null:FP(this.body)?this.body.type||null:LP(this.body)?null:typeof this.body=="string"?$P:this.body instanceof co?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?zP:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,f=e.headers||this.headers,m=e.params||this.params,y=e.context??this.context;return e.setHeaders!==void 0&&(f=Object.keys(e.setHeaders).reduce((I,E)=>I.set(E,e.setHeaders[E]),f)),e.setParams&&(m=Object.keys(e.setParams).reduce((I,E)=>I.set(E,e.setParams[E]),m)),new t(n,r,a,{params:m,headers:f,context:y,reportProgress:l,responseType:i,withCredentials:c,transferCache:o})}},Pa=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Pa||{}),wc=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new lo,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},rm=class t extends wc{constructor(e={}){super(e)}type=Pa.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ra=class t extends wc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Pa.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Hd=class extends wc{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},xz=200,Pz=204;function mE(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var om=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof vc)o=n;else{let l;i.headers instanceof lo?l=i.headers:l=new lo(i.headers);let f;i.params&&(i.params instanceof co?f=i.params:f=new co({fromObject:i.params})),o=new vc(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let a=ie(o).pipe(Yo(l=>this.handler.handle(l)));if(n instanceof vc||i.observe==="events")return a;let c=a.pipe(Cn(l=>l instanceof Ra));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(me(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new J(2806,!1);return l.body}));case"blob":return c.pipe(me(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new J(2807,!1);return l.body}));case"text":return c.pipe(me(l=>{if(l.body!==null&&typeof l.body!="string")throw new J(2808,!1);return l.body}));case"json":default:return c.pipe(me(l=>l.body))}case"response":return c;default:throw new J(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new co().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,mE(i,r))}post(n,r,i={}){return this.request("POST",n,mE(i,r))}put(n,r,i={}){return this.request("PUT",n,mE(i,r))}static \u0275fac=function(r){return new(r||t)(ue(yc))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})();var Rz=new Y("");function Nz(t,e){return e(t)}function Oz(t,e,n){return(r,i)=>dn(n,()=>e(r,o=>t(o,i)))}var HP=new Y(""),vE=new Y(""),qP=new Y("",{providedIn:"root",factory:()=>!0});var im=(()=>{class t extends yc{backend;injector;chain=null;pendingTasks=$(_i);contributeToStability=$(qP);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(HP),...this.injector.get(vE,[])]));this.chain=r.reduceRight((i,o)=>Oz(i,o,this.injector),Nz)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(na(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(ue(zd),ue(Jt))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})();var kz=/^\)\]\}',?\n/,Lz=RegExp(`^${jP}:`,"m");function Fz(t){return"responseURL"in t&&t.responseURL?t.responseURL:Lz.test(t.getAllResponseHeaders())?t.getResponseHeader(jP):null}var _E=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new J(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?$e(r.\u0275loadImpl()):ie(null)).pipe(Ot(()=>new xe(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((F,V)=>a.setRequestHeader(F,V.join(","))),n.headers.has(UP)||a.setRequestHeader(UP,Mz),!n.headers.has(BP)){let F=n.detectContentTypeHeader();F!==null&&a.setRequestHeader(BP,F)}if(n.responseType){let F=n.responseType.toLowerCase();a.responseType=F!=="json"?F:"text"}let c=n.serializeBody(),l=null,f=()=>{if(l!==null)return l;let F=a.statusText||"OK",V=new lo(a.getAllResponseHeaders()),G=Fz(a)||n.url;return l=new rm({headers:V,status:a.status,statusText:F,url:G}),l},m=()=>{let{headers:F,status:V,statusText:G,url:re}=f(),X=null;V!==Pz&&(X=typeof a.response>"u"?a.responseText:a.response),V===0&&(V=X?xz:0);let ke=V>=200&&V<300;if(n.responseType==="json"&&typeof X=="string"){let Pt=X;X=X.replace(kz,"");try{X=X!==""?JSON.parse(X):null}catch(We){X=Pt,ke&&(ke=!1,X={error:We,text:X})}}ke?(o.next(new Ra({body:X,headers:F,status:V,statusText:G,url:re||void 0})),o.complete()):o.error(new Hd({error:X,headers:F,status:V,statusText:G,url:re||void 0}))},y=F=>{let{url:V}=f(),G=new Hd({error:F,status:a.status||0,statusText:a.statusText||"Unknown Error",url:V||void 0});o.error(G)},I=!1,E=F=>{I||(o.next(f()),I=!0);let V={type:Pa.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(V.total=F.total),n.responseType==="text"&&a.responseText&&(V.partialText=a.responseText),o.next(V)},M=F=>{let V={type:Pa.UploadProgress,loaded:F.loaded};F.lengthComputable&&(V.total=F.total),o.next(V)};return a.addEventListener("load",m),a.addEventListener("error",y),a.addEventListener("timeout",y),a.addEventListener("abort",y),n.reportProgress&&(a.addEventListener("progress",E),c!==null&&a.upload&&a.upload.addEventListener("progress",M)),a.send(c),o.next({type:Pa.Sent}),()=>{a.removeEventListener("error",y),a.removeEventListener("abort",y),a.removeEventListener("load",m),a.removeEventListener("timeout",y),n.reportProgress&&(a.removeEventListener("progress",E),c!==null&&a.upload&&a.upload.removeEventListener("progress",M)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||t)(ue(xa))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),WP=new Y(""),Vz="XSRF-TOKEN",Bz=new Y("",{providedIn:"root",factory:()=>Vz}),Uz="X-XSRF-TOKEN",jz=new Y("",{providedIn:"root",factory:()=>Uz}),qd=class{},$z=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(ue(tn),ue(Bz))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})();function zz(t,e){let n=t.url.toLowerCase();if(!$(WP)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=$(qd).getToken(),i=$(jz);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function yE(...t){let e=[om,_E,im,{provide:yc,useExisting:im},{provide:zd,useFactory:()=>$(Rz,{optional:!0})??$(_E)},{provide:HP,useValue:zz,multi:!0},{provide:WP,useValue:!0},{provide:qd,useClass:$z}];for(let n of t)e.push(...n.\u0275providers);return Fn(e)}var Hz=new Y(""),qz="b",Wz="h",Gz="s",Kz="st",Zz="u",Qz="rt",wE=new Y(""),Yz=["GET","HEAD"];function Jz(t,e){let I=$(wE),{isCacheActive:n}=I,r=lD(I,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!Yz.includes(o)||!r.includeRequestsWithAuthHeaders&&Xz(t)||r.filter?.(t)===!1)return e(t);let a=$(dc);if($(Hz,{optional:!0}))throw new J(2803,!1);let l=t.url,f=eH(t,l),m=a.get(f,null),y=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(y=i.includeHeaders),m){let{[qz]:E,[Qz]:M,[Wz]:F,[Gz]:V,[Kz]:G,[Zz]:re}=m,X=E;switch(M){case"arraybuffer":X=new TextEncoder().encode(E).buffer;break;case"blob":X=new Blob([E]);break}let ke=new lo(F);return ie(new Ra({body:X,headers:ke,status:V,statusText:G,url:re}))}return e(t).pipe(ct(E=>{E instanceof Ra}))}function Xz(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function GP(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function eH(t,e){let{params:n,method:r,responseType:i}=t,o=GP(n),a=t.serializeBody();a instanceof URLSearchParams?a=GP(a):typeof a!="string"&&(a="");let c=[r,i,e,a,o].join("|"),l=tH(c);return l}function tH(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function KP(t){return[{provide:wE,useFactory:()=>(vi("NgHttpTransferCache"),K({isCacheActive:!0},t))},{provide:vE,useValue:Jz,multi:!0},{provide:Ia,multi:!0,useFactory:()=>{let e=$(Ln),n=$(wE);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var ZP=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ue(tn))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sm=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(sm||{});function rH(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function QP(){return rH(sm.EventReplay,nP())}function YP(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has(sm.HttpTransferCacheOptions);return Fn([[],rP(),n.has(sm.NoHttpTransferCache)||r?[]:KP({}),e])}var De="primary",oh=Symbol("RouteTitle"),CE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ka(t){return new CE(t)}function oR(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],c=t[o];if(a[0]===":")i[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function oH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ei(t[n],e[n]))return!1;return!0}function Ei(t,e){let n=t?DE(t):void 0,r=e?DE(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!sR(t[i],e[i]))return!1;return!0}function DE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function sR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function aR(t){return t.length>0?t[t.length-1]:null}function ds(t){return vy(t)?t:as(t)?$e(Promise.resolve(t)):ie(t)}var sH={exact:cR,subset:lR},uR={exact:aH,subset:uH,ignored:()=>!0};function JP(t,e,n){return sH[n.paths](t.root,e.root,n.matrixParams)&&uR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function aH(t,e){return Ei(t,e)}function cR(t,e,n){if(!Na(t.segments,e.segments)||!cm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!cR(t.children[r],e.children[r],n))return!1;return!0}function uH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>sR(t[n],e[n]))}function lR(t,e,n){return dR(t,e,e.segments,n)}function dR(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Na(i,n)||e.hasChildren()||!cm(i,n,r))}else if(t.segments.length===n.length){if(!Na(t.segments,n)||!cm(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!lR(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Na(t.segments,i)||!cm(t.segments,i,r)||!t.children[De]?!1:dR(t.children[De],e,o,r)}}function cm(t,e,n){return e.every((r,i)=>uR[n](t[i].parameters,r.parameters))}var bi=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Je([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ka(this.queryParams),this._queryParamMap}toString(){return dH.serialize(this)}},Je=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lm(this)}},cs=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ka(this.parameters),this._parameterMap}toString(){return fR(this)}};function cH(t,e){return Na(t,e)&&t.every((n,r)=>Ei(n.parameters,e[r].parameters))}function Na(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function lH(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===De&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==De&&(n=n.concat(e(i,r)))}),n}var sh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>new La,providedIn:"root"})}return t})(),La=class{parse(e){let n=new AE(e);return new bi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Wd(e.root,!0)}`,r=pH(e.queryParams),i=typeof e.fragment=="string"?`#${hH(e.fragment)}`:"";return`${n}${r}${i}`}},dH=new La;function lm(t){return t.segments.map(e=>fR(e)).join("/")}function Wd(t,e){if(!t.hasChildren())return lm(t);if(e){let n=t.children[De]?Wd(t.children[De],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==De&&r.push(`${i}:${Wd(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=lH(t,(r,i)=>i===De?[Wd(t.children[De],!1)]:[`${i}:${Wd(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[De]!=null?`${lm(t)}/${n[0]}`:`${lm(t)}/(${n.join("//")})`}}function hR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function am(t){return hR(t).replace(/%3B/gi,";")}function hH(t){return encodeURI(t)}function SE(t){return hR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dm(t){return decodeURIComponent(t)}function XP(t){return dm(t.replace(/\+/g,"%20"))}function fR(t){return`${SE(t.path)}${fH(t.parameters)}`}function fH(t){return Object.entries(t).map(([e,n])=>`;${SE(e)}=${SE(n)}`).join("")}function pH(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${am(n)}=${am(i)}`).join("&"):`${am(n)}=${am(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var gH=/^[^\/()?;#]+/;function EE(t){let e=t.match(gH);return e?e[0]:""}var mH=/^[^\/()?;=#]+/;function _H(t){let e=t.match(mH);return e?e[0]:""}var vH=/^[^=?&#]+/;function yH(t){let e=t.match(vH);return e?e[0]:""}var wH=/^[^&#]+/;function EH(t){let e=t.match(wH);return e?e[0]:""}var AE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[De]=new Je(e,n)),r}parseSegment(){let e=EE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(e),new cs(dm(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=_H(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=EE(this.remaining);i&&(r=i,this.capture(r))}e[dm(n)]=dm(r)}parseQueryParam(e){let n=yH(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=EH(this.remaining);a&&(r=a,this.capture(r))}let i=XP(n),o=XP(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=EE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new J(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=De);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[De]:new Je([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new J(4011,!1)}};function pR(t){return t.segments.length>0?new Je([],{[De]:t}):t}function gR(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=gR(i);if(r===De&&o.segments.length===0&&o.hasChildren())for(let[a,c]of Object.entries(o.children))e[a]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Je(t.segments,e);return IH(n)}function IH(t){if(t.numberOfChildren===1&&t.children[De]){let e=t.children[De];return new Je(t.segments.concat(e.segments),e.children)}return t}function ls(t){return t instanceof bi}function mR(t,e,n=null,r=null){let i=_R(t);return vR(i,e,n,r)}function _R(t){let e;function n(o){let a={};for(let l of o.children){let f=n(l);a[l.outlet]=f}let c=new Je(o.url,a);return o===t&&(e=c),c}let r=n(t.root),i=pR(r);return e??i}function vR(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return IE(i,i,i,n,r);let o=bH(e);if(o.toRoot())return IE(i,i,new Je([],{}),n,r);let a=TH(o,i,t),c=a.processChildren?Kd(a.segmentGroup,a.index,o.commands):wR(a.segmentGroup,a.index,o.commands);return IE(i,a.segmentGroup,c,n,r)}function fm(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Qd(t){return typeof t=="object"&&t!=null&&t.outlets}function IE(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,f])=>{o[l]=Array.isArray(f)?f.map(m=>`${m}`):`${f}`});let a;t===e?a=n:a=yR(t,e,n);let c=pR(gR(a));return new bi(c,o,i)}function yR(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=yR(o,e,n)}),new Je(t.segments,r)}var pm=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&fm(r[0]))throw new J(4003,!1);let i=r.find(Qd);if(i&&i!==aR(r))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new pm(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([l,f])=>{c[l]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new pm(n,e,r)}var bc=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function TH(t,e,n){if(t.isAbsolute)return new bc(e,!0,0);if(!n)return new bc(e,!1,NaN);if(n.parent===null)return new bc(n,!0,0);let r=fm(t.commands[0])?0:1,i=n.segments.length-1+r;return CH(n,i,t.numberOfDoubleDots)}function CH(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new J(4005,!1);i=r.segments.length}return new bc(r,!1,i-o)}function DH(t){return Qd(t[0])?t[0].outlets:{[De]:t}}function wR(t,e,n){if(t??=new Je([],{}),t.segments.length===0&&t.hasChildren())return Kd(t,e,n);let r=SH(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Je(t.segments.slice(0,r.pathIndex),{});return o.children[De]=new Je(t.segments.slice(r.pathIndex),t.children),Kd(o,0,i)}else return r.match&&i.length===0?new Je(t.segments,{}):r.match&&!t.hasChildren()?ME(t,e,n):r.match?Kd(t,0,i):ME(t,e,n)}function Kd(t,e,n){if(n.length===0)return new Je(t.segments,{});{let r=DH(n),i={};if(Object.keys(r).some(o=>o!==De)&&t.children[De]&&t.numberOfChildren===1&&t.children[De].segments.length===0){let o=Kd(t.children[De],e,n);return new Je(t.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=wR(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new Je(t.segments,i)}}function SH(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let a=t.segments[i],c=n[r];if(Qd(c))break;let l=`${c}`,f=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&f&&typeof f=="object"&&f.outlets===void 0){if(!tR(l,f,a))return o;r+=2}else{if(!tR(l,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ME(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Qd(o)){let l=AH(o.outlets);return new Je(r,l)}if(i===0&&fm(n[0])){let l=t.segments[e];r.push(new cs(l.path,eR(n[0]))),i++;continue}let a=Qd(o)?o.outlets[De]:`${o}`,c=i<n.length-1?n[i+1]:null;a&&c&&fm(c)?(r.push(new cs(a,eR(c))),i+=2):(r.push(new cs(a,{})),i++)}return new Je(r,{})}function AH(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ME(new Je([],{}),0,r))}),e}function eR(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function tR(t,e,n){return t==n.path&&Ei(e,n.parameters)}var hm="imperative",nn=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(nn||{}),sr=class{id;url;constructor(e,n){this.id=e,this.url=n}},Fa=class extends sr{type=nn.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ti=class extends sr{urlAfterRedirects;type=nn.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$n=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}($n||{}),Yd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Yd||{}),Ii=class extends sr{reason;code;type=nn.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ho=class extends sr{reason;code;type=nn.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Cc=class extends sr{error;target;type=nn.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Jd=class extends sr{urlAfterRedirects;state;type=nn.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gm=class extends sr{urlAfterRedirects;state;type=nn.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mm=class extends sr{urlAfterRedirects;state;shouldActivate;type=nn.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_m=class extends sr{urlAfterRedirects;state;type=nn.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vm=class extends sr{urlAfterRedirects;state;type=nn.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ym=class{route;type=nn.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wm=class{route;type=nn.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Em=class{snapshot;type=nn.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Im=class{snapshot;type=nn.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bm=class{snapshot;type=nn.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tm=class{snapshot;type=nn.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Xd=class{},Dc=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function MH(t,e){return t.providers&&!t._injector&&(t._injector=Pd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qr(t){return t.outlet||De}function xH(t,e){let n=t.filter(r=>qr(r)===e);return n.push(...t.filter(r=>qr(r)!==e)),n}function ah(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Cm=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ah(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Mc(this.rootInjector)}},Mc=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Cm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ue(Jt))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dm=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=xE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=xE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=PE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return PE(e,this._root).map(n=>n.value)}};function xE(t,e){if(t===e.value)return e;for(let n of e.children){let r=xE(t,n);if(r)return r}return null}function PE(t,e){if(t===e.value)return[e];for(let n of e.children){let r=PE(t,n);if(r.length)return r.unshift(e),r}return[]}var or=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ic(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var eh=class extends Dm{snapshot;constructor(e,n){super(e),this.snapshot=n,BE(this,e)}toString(){return this.snapshot.toString()}};function ER(t){let e=PH(t),n=new zt([new cs("",{})]),r=new zt({}),i=new zt({}),o=new zt({}),a=new zt(""),c=new fo(n,r,o,a,i,De,t,e.root);return c.snapshot=e.root,new eh(new or(c,[]),e)}function PH(t){let e={},n={},r={},i="",o=new Oa([],e,r,i,n,De,t,null,{});return new th("",new or(o,[]))}var fo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,a,c,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(me(f=>f[oh]))??ie(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(me(e=>ka(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(me(e=>ka(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:K(K({},e.params),t.params),data:K(K({},e.data),t.data),resolve:K(K(K(K({},t.data),e.data),i?.data),t._resolvedData)}:r={params:K({},t.params),data:K({},t.data),resolve:K(K({},t.data),t._resolvedData??{})},i&&bR(i)&&(r.resolve[oh]=i.title),r}var Oa=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[oh]}constructor(e,n,r,i,o,a,c,l,f){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=c,this.routeConfig=l,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ka(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ka(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},th=class extends Dm{url;constructor(e,n){super(n),this.url=e,BE(this,n)}toString(){return IR(this._root)}};function BE(t,e){e.value._routerState=t,e.children.forEach(n=>BE(t,n))}function IR(t){let e=t.children.length>0?` { ${t.children.map(IR).join(", ")} } `:"";return`${t.value}${e}`}function bE(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ei(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ei(e.params,n.params)||t.paramsSubject.next(n.params),oH(e.url,n.url)||t.urlSubject.next(n.url),Ei(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function RE(t,e){let n=Ei(t.params,e.params)&&cH(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||RE(t.parent,e.parent))}function bR(t){return typeof t.title=="string"||t.title===null}var TR=new Y(""),uh=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=De;activateEvents=new wt;deactivateEvents=new wt;attachEvents=new wt;detachEvents=new wt;routerOutletData=gM(void 0);parentContexts=$(Mc);location=$(pc);changeDetector=$(Sa);inputBinder=$(Pm,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=n;let i=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new NE(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Lt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[rs]})}return t})(),NE=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===fo?this.route:e===Mc?this.childContexts:e===TR?this.outletData:this.parent.get(e,n)}},Pm=new Y("");var UE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ct({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&rt(0,"router-outlet")},dependencies:[uh],encapsulation:2})}return t})();function jE(t){let e=t.children&&t.children.map(jE),n=e?Ae(K({},t),{children:e}):K({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==De&&(n.component=UE),n}function RH(t,e,n){let r=nh(t,e._root,n?n._root:void 0);return new eh(r,e)}function nh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=NH(t,e,n);return new or(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(c=>nh(t,c)),a}}let r=OH(e.value),i=e.children.map(o=>nh(t,o));return new or(r,i)}}function NH(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return nh(t,r,i);return nh(t,r)})}function OH(t){return new fo(new zt(t.url),new zt(t.params),new zt(t.queryParams),new zt(t.fragment),new zt(t.data),t.outlet,t.component,t)}var Sc=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},CR="ngNavigationCancelingError";function Am(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ls(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DR(!1,$n.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function DR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[CR]=!0,n.cancellationCode=e,n}function kH(t){return SR(t)&&ls(t.url)}function SR(t){return!!t&&t[CR]}var LH=(t,e,n,r)=>me(i=>(new OE(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),OE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),bE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ic(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ic(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ic(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ic(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Tm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Im(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(bE(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),bE(c.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},Mm=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Tc=class{component;route;constructor(e,n){this.component=e,this.route=n}};function FH(t,e,n){let r=t._root,i=e?e._root:null;return Gd(r,i,n,[r.value])}function VH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xc(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!lA(t)?t:e.get(t):r}function Gd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ic(e);return t.children.forEach(a=>{BH(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,c])=>Zd(c,n.getContext(a),i)),i}function BH(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=UH(a,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Mm(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Gd(t,e,c?c.children:null,r,i):Gd(t,e,n,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Tc(c.outlet.component,a))}else a&&Zd(e,c,i),i.canActivateChecks.push(new Mm(r)),o.component?Gd(t,null,c?c.children:null,r,i):Gd(t,null,n,r,i);return i}function UH(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Na(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Na(t.url,e.url)||!Ei(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!RE(t,e)||!Ei(t.queryParams,e.queryParams);case"paramsChange":default:return!RE(t,e)}}function Zd(t,e,n){let r=Ic(t),i=t.value;Object.entries(r).forEach(([o,a])=>{i.component?e?Zd(a,e.children.getContext(o),n):Zd(a,null,n):Zd(a,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Tc(e.outlet.component,i)):n.canDeactivateChecks.push(new Tc(null,i)):n.canDeactivateChecks.push(new Tc(null,i))}function ch(t){return typeof t=="function"}function jH(t){return typeof t=="boolean"}function $H(t){return t&&ch(t.canLoad)}function zH(t){return t&&ch(t.canActivate)}function HH(t){return t&&ch(t.canActivateChild)}function qH(t){return t&&ch(t.canDeactivate)}function WH(t){return t&&ch(t.canMatch)}function AR(t){return t instanceof Mr||t?.name==="EmptyError"}var um=Symbol("INITIAL_VALUE");function Ac(){return Ot(t=>Tp(t.map(e=>e.pipe(xr(1),Ty(um)))).pipe(me(e=>{for(let n of e)if(n!==!0){if(n===um)return um;if(n===!1||GH(n))return n}return!0}),Cn(e=>e!==um),xr(1)))}function GH(t){return ls(t)||t instanceof Sc}function KH(t,e){return Ht(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?ie(Ae(K({},n),{guardsResult:!0})):ZH(a,r,i,t).pipe(Ht(c=>c&&jH(c)?QH(r,o,t,e):ie(c)),me(c=>Ae(K({},n),{guardsResult:c})))})}function ZH(t,e,n,r){return $e(t).pipe(Ht(i=>t5(i.component,i.route,n,e,r)),Ki(i=>i!==!0,!0))}function QH(t,e,n,r){return $e(e).pipe(Yo(i=>zu(JH(i.route.parent,r),YH(i.route,r),e5(t,i.path,n),XH(t,i.route,n))),Ki(i=>i!==!0,!0))}function YH(t,e){return t!==null&&e&&e(new bm(t)),ie(!0)}function JH(t,e){return t!==null&&e&&e(new Em(t)),ie(!0)}function XH(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ie(!0);let i=r.map(o=>Cp(()=>{let a=ah(e)??n,c=xc(o,a),l=zH(c)?c.canActivate(e,t):dn(a,()=>c(e,t));return ds(l).pipe(Ki())}));return ie(i).pipe(Ac())}function e5(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>VH(a)).filter(a=>a!==null).map(a=>Cp(()=>{let c=a.guards.map(l=>{let f=ah(a.node)??n,m=xc(l,f),y=HH(m)?m.canActivateChild(r,t):dn(f,()=>m(r,t));return ds(y).pipe(Ki())});return ie(c).pipe(Ac())}));return ie(o).pipe(Ac())}function t5(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ie(!0);let a=o.map(c=>{let l=ah(e)??i,f=xc(c,l),m=qH(f)?f.canDeactivate(t,e,n,r):dn(l,()=>f(t,e,n,r));return ds(m).pipe(Ki())});return ie(a).pipe(Ac())}function n5(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ie(!0);let o=i.map(a=>{let c=xc(a,t),l=$H(c)?c.canLoad(e,n):dn(t,()=>c(e,n));return ds(l)});return ie(o).pipe(Ac(),MR(r))}function MR(t){return dy(ct(e=>{if(typeof e!="boolean")throw Am(t,e)}),me(e=>e===!0))}function r5(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ie(!0);let o=i.map(a=>{let c=xc(a,t),l=WH(c)?c.canMatch(e,n):dn(t,()=>c(e,n));return ds(l)});return ie(o).pipe(Ac(),MR(r))}var rh=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ih=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ec(t){return $u(new rh(t))}function i5(t){return $u(new J(4e3,!1))}function o5(t){return $u(DR(!1,$n.GuardRejected))}var kE=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ie(r);if(i.numberOfChildren>1||!i.children[De])return i5(`${e.redirectTo}`);i=i.children[De]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:l,fragment:f,routeConfig:m,url:y,outlet:I,params:E,data:M,title:F}=i,V=dn(o,()=>c({params:E,data:M,queryParams:l,fragment:f,routeConfig:m,url:y,outlet:I,title:F}));if(V instanceof bi)throw new ih(V);n=V}let a=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ih(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new bi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),a={};return Object.entries(n.children).forEach(([c,l])=>{a[c]=this.createSegmentGroup(e,l,r,i)}),new Je(o,a)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new J(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},LE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function s5(t,e,n,r,i){let o=xR(t,e,n);return o.matched?(r=MH(e,r),r5(r,e,n,i).pipe(me(a=>a===!0?o:K({},LE)))):ie(o)}function xR(t,e,n){if(e.path==="**")return a5(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?K({},LE):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||oR)(n,t,e);if(!i)return K({},LE);let o={};Object.entries(i.posParams??{}).forEach(([c,l])=>{o[c]=l.path});let a=i.consumed.length>0?K(K({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function a5(t){return{matched:!0,parameters:t.length>0?aR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function nR(t,e,n,r){return n.length>0&&l5(t,n,r)?{segmentGroup:new Je(e,c5(r,new Je(n,t.children))),slicedSegments:[]}:n.length===0&&d5(t,n,r)?{segmentGroup:new Je(t.segments,u5(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Je(t.segments,t.children),slicedSegments:n}}function u5(t,e,n,r){let i={};for(let o of n)if(Rm(t,e,o)&&!r[qr(o)]){let a=new Je([],{});i[qr(o)]=a}return K(K({},r),i)}function c5(t,e){let n={};n[De]=e;for(let r of t)if(r.path===""&&qr(r)!==De){let i=new Je([],{});n[qr(r)]=i}return n}function l5(t,e,n){return n.some(r=>Rm(t,e,r)&&qr(r)!==De)}function d5(t,e,n){return n.some(r=>Rm(t,e,r))}function Rm(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function h5(t,e,n){return e.length===0&&!t.children[n]}var FE=class{};function f5(t,e,n,r,i,o,a="emptyOnly"){return new VE(t,e,n,r,i,a,o).recognize()}var p5=31,VE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,a,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new kE(this.urlSerializer,this.urlTree)}noMatchError(e){return new J(4002,`'${e.segmentGroup}'`)}recognize(){let e=nR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(me(({children:n,rootSnapshot:r})=>{let i=new or(r,n),o=new th("",i),a=mR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(e){let n=new Oa([],Object.freeze({}),Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),De,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,De,n).pipe(me(r=>({children:r,rootSnapshot:n})),Nt(r=>{if(r instanceof ih)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rh?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(me(a=>a instanceof or?[a]:[]))}processChildren(e,n,r,i){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return $e(o).pipe(Yo(a=>{let c=r.children[a],l=xH(n,a);return this.processSegmentGroup(e,l,c,a,i)}),Ey((a,c)=>(a.push(...c),a)),Jo(null),wy(),Ht(a=>{if(a===null)return Ec(r);let c=PR(a);return g5(c),ie(c)}))}processSegment(e,n,r,i,o,a,c){return $e(n).pipe(Yo(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,a,c).pipe(Nt(f=>{if(f instanceof rh)return ie(null);throw f}))),Ki(l=>!!l),Nt(l=>{if(AR(l))return h5(r,i,o)?ie(new FE):Ec(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,a,c,l){return qr(r)!==a&&(a===De||!Rm(i,o,r))?Ec(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,a,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,a,l):Ec(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,a,c){let{matched:l,parameters:f,consumedSegments:m,positionalParamSegments:y,remainingSegments:I}=xR(n,i,o);if(!l)return Ec(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>p5&&(this.allowRedirects=!1));let E=new Oa(o,f,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,rR(i),qr(i),i.component??i._loadedComponent??null,i,iR(i)),M=Sm(E,c,this.paramsInheritanceStrategy);E.params=Object.freeze(M.params),E.data=Object.freeze(M.data);let F=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,y,E,e);return this.applyRedirects.lineralizeSegments(i,F).pipe(Ht(V=>this.processSegment(e,r,n,V.concat(I),a,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,a){let c=s5(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Ot(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ot(({routes:f})=>{let m=r._loadedInjector??e,{parameters:y,consumedSegments:I,remainingSegments:E}=l,M=new Oa(I,y,Object.freeze(K({},this.urlTree.queryParams)),this.urlTree.fragment,rR(r),qr(r),r.component??r._loadedComponent??null,r,iR(r)),F=Sm(M,a,this.paramsInheritanceStrategy);M.params=Object.freeze(F.params),M.data=Object.freeze(F.data);let{segmentGroup:V,slicedSegments:G}=nR(n,I,E,f);if(G.length===0&&V.hasChildren())return this.processChildren(m,f,V,M).pipe(me(X=>new or(M,X)));if(f.length===0&&G.length===0)return ie(new or(M,[]));let re=qr(r)===o;return this.processSegment(m,f,V,G,re?De:o,!0,M).pipe(me(X=>new or(M,X instanceof or?[X]:[])))}))):Ec(n)))}getChildConfig(e,n,r){return n.children?ie({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ie({routes:n._loadedRoutes,injector:n._loadedInjector}):n5(e,n,r,this.urlSerializer).pipe(Ht(i=>i?this.configLoader.loadChildren(e,n).pipe(ct(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):o5(n))):ie({routes:[],injector:e})}};function g5(t){t.sort((e,n)=>e.value.outlet===De?-1:n.value.outlet===De?1:e.value.outlet.localeCompare(n.value.outlet))}function m5(t){let e=t.value.routeConfig;return e&&e.path===""}function PR(t){let e=[],n=new Set;for(let r of t){if(!m5(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=PR(r.children);e.push(new or(r.value,i))}return e.filter(r=>!n.has(r))}function rR(t){return t.data||{}}function iR(t){return t.resolve||{}}function _5(t,e,n,r,i,o){return Ht(a=>f5(t,e,n,r,a.extractedUrl,i,o).pipe(me(({state:c,tree:l})=>Ae(K({},a),{targetSnapshot:c,urlAfterRedirects:l}))))}function v5(t,e){return Ht(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ie(n);let o=new Set(i.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let f of RR(l))a.add(f);let c=0;return $e(a).pipe(Yo(l=>o.has(l)?y5(l,r,t,e):(l.data=Sm(l,l.parent,t).resolve,ie(void 0))),ct(()=>c++),Hu(1),Ht(l=>c===a.size?ie(n):Pn))})}function RR(t){let e=t.children.map(n=>RR(n)).flat();return[t,...e]}function y5(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!bR(i)&&(o[oh]=i.title),w5(o,t,e,r).pipe(me(a=>(t._resolvedData=a,t.data=Sm(t,t.parent,n).resolve,null)))}function w5(t,e,n,r){let i=DE(t);if(i.length===0)return ie({});let o={};return $e(i).pipe(Ht(a=>E5(t[a],e,n,r).pipe(Ki(),ct(c=>{if(c instanceof Sc)throw Am(new La,c);o[a]=c}))),Hu(1),me(()=>o),Nt(a=>AR(a)?Pn:$u(a)))}function E5(t,e,n,r){let i=ah(e)??r,o=xc(t,i),a=o.resolve?o.resolve(e,n):dn(i,()=>o(e,n));return ds(a)}function TE(t){return Ot(e=>{let n=t(e);return n?$e(n).pipe(me(()=>e)):ie(e)})}var $E=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===De);return r}getResolvedTitleForRoute(n){return n.data[oh]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>$(NR),providedIn:"root"})}return t})(),NR=(()=>{class t extends $E{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ue(ZP))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lh=new Y("",{providedIn:"root",factory:()=>({})}),dh=new Y(""),OR=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=$(Yx);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ie(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ds(n.loadComponent()).pipe(me(LR),ct(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),na(()=>{this.componentLoaders.delete(n)})),i=new Vu(r,()=>new Qe).pipe(Fu());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=kR(r,this.compiler,n,this.onLoadEndListener).pipe(na(()=>{this.childrenLoaders.delete(r)})),a=new Vu(o,()=>new Qe).pipe(Fu());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kR(t,e,n,r){return ds(t.loadChildren()).pipe(me(LR),Ht(i=>i instanceof zw||Array.isArray(i)?ie(i):$e(e.compileModuleAsync(i))),me(i=>{r&&r(t);let o,a,c=!1;return Array.isArray(i)?(a=i,c=!0):(o=i.create(n).injector,a=o.get(dh,[],{optional:!0,self:!0}).flat()),{routes:a.map(jE),injector:o}}))}function I5(t){return t&&typeof t=="object"&&"default"in t}function LR(t){return I5(t)?t.default:t}var Nm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>$(b5),providedIn:"root"})}return t})(),b5=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),FR=new Y("");var VR=new Y(""),BR=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Qe;transitionAbortSubject=new Qe;configLoader=$(OR);environmentInjector=$(Jt);destroyRef=$(cc);urlSerializer=$(sh);rootContexts=$(Mc);location=$(_c);inputBindingEnabled=$(Pm,{optional:!0})!==null;titleStrategy=$($E);options=$(lh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=$(Nm);createViewTransition=$(FR,{optional:!0});navigationErrorHandler=$(VR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ie(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ym(i)),r=i=>this.events.next(new wm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Ae(K({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new zt(null),this.transitions.pipe(Cn(r=>r!==null),Ot(r=>{let i=!1,o=!1;return ie(r).pipe(Ot(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",$n.SupersededByNewNavigation),Pn;this.currentTransition=r,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Ae(K({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&l!=="reload"){let f="";return this.events.next(new ho(a.id,this.urlSerializer.serialize(a.rawUrl),f,Yd.IgnoredSameUrlNavigation)),a.resolve(!1),Pn}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return ie(a).pipe(Ot(f=>(this.events.next(new Fa(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?Pn:Promise.resolve(f))),_5(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ct(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Ae(K({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new Jd(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:f,extractedUrl:m,source:y,restoredState:I,extras:E}=a,M=new Fa(f,this.urlSerializer.serialize(m),y,I);this.events.next(M);let F=ER(this.rootComponentType).snapshot;return this.currentTransition=r=Ae(K({},a),{targetSnapshot:F,urlAfterRedirects:m,extras:Ae(K({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ie(r)}else{let f="";return this.events.next(new ho(a.id,this.urlSerializer.serialize(a.extractedUrl),f,Yd.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Pn}}),ct(a=>{let c=new gm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),me(a=>(this.currentTransition=r=Ae(K({},a),{guards:FH(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r)),KH(this.environmentInjector,a=>this.events.next(a)),ct(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Am(this.urlSerializer,a.guardsResult);let c=new mm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(c)}),Cn(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",$n.GuardRejected),!1)),TE(a=>{if(a.guards.canActivateChecks.length!==0)return ie(a).pipe(ct(c=>{let l=new _m(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Ot(c=>{let l=!1;return ie(c).pipe(v5(this.paramsInheritanceStrategy,this.environmentInjector),ct({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",$n.NoDataFromResolver)}}))}),ct(c=>{let l=new vm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),TE(a=>{let c=l=>{let f=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(l.routeConfig).pipe(ct(m=>{l.component=m}),me(()=>{})));for(let m of l.children)f.push(...c(m));return f};return Tp(c(a.targetSnapshot.root)).pipe(Jo(null),xr(1))}),TE(()=>this.afterPreactivation()),Ot(()=>{let{currentSnapshot:a,targetSnapshot:c}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return l?$e(l).pipe(me(()=>r)):ie(r)}),me(a=>{let c=RH(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=r=Ae(K({},a),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),ct(()=>{this.events.next(new Xd)}),LH(this.rootContexts,n.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),xr(1),ct({next:a=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ti(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),Nn(this.transitionAbortSubject.pipe(ct(a=>{throw a}))),na(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",$n.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nt(a=>{if(this.destroyed)return r.resolve(!1),Pn;if(o=!0,SR(a))this.events.next(new Ii(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),kH(a)?this.events.next(new Dc(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Cc(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=dn(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(l instanceof Sc){let{message:f,cancellationCode:m}=Am(this.urlSerializer,l);this.events.next(new Ii(r.id,this.urlSerializer.serialize(r.extractedUrl),f,m)),this.events.next(new Dc(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(c),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Pn}))}))}cancelNavigationTransition(n,r,i){let o=new Ii(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function T5(t){return t!==hm}var UR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>$(C5),providedIn:"root"})}return t})(),xm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},C5=(()=>{class t extends xm{static \u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})();static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jR=(()=>{class t{urlSerializer=$(sh);options=$(lh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=$(_c);urlHandlingStrategy=$(Nm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new bi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,a=i??o;return a instanceof bi?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=ER(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>$(D5),providedIn:"root"})}return t})(),D5=(()=>{class t extends jR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Fa?this.updateStateMemento():n instanceof ho?this.commitTransition(r):n instanceof Jd?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Xd?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ii&&(n.code===$n.GuardRejected||n.code===$n.NoDataFromResolver)?this.restoreHistory(r):n instanceof Cc?this.restoreHistory(r,!0):n instanceof Ti&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(n)||o){let c=this.browserPageId,l=K(K({},a),this.generateNgRouterState(i,c));this.location.replaceState(n,"",l)}else{let c=K(K({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})();static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zE(t,e){t.events.pipe(Cn(n=>n instanceof Ti||n instanceof Ii||n instanceof Cc||n instanceof ho),me(n=>n instanceof Ti||n instanceof ho?0:(n instanceof Ii?n.code===$n.Redirect||n.code===$n.SupersededByNewNavigation:!1)?2:1),Cn(n=>n!==2),xr(1)).subscribe(()=>{e()})}var S5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},A5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=$(qw);stateManager=$(jR);options=$(lh,{optional:!0})||{};pendingTasks=$(_i);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=$(BR);urlSerializer=$(sh);location=$(_c);urlHandlingStrategy=$(Nm);_events=new Qe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=$(UR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=$(dh,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!$(Pm,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Tt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Ii&&r.code!==$n.Redirect&&r.code!==$n.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ti)this.navigated=!0;else if(r instanceof Dc){let a=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=K({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||T5(i.source)},a);this.scheduleNavigation(c,hm,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}x5(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),hm,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let l=K({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(jE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,f=l?this.currentUrlTree.fragment:a,m=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":m=K(K({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let y;try{let I=i?i.snapshot:this.routerState.snapshot.root;y=_R(I)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),y=this.currentUrlTree.root}return vR(y,n,m,f??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ls(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,hm,null,r)}navigate(n,r={skipLocationChange:!1}){return M5(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=K({},S5):r===!1?i=K({},A5):i=r,ls(n))return JP(this.currentUrlTree,n,i);let o=this.parseUrl(n);return JP(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,f;a?(c=a.resolve,l=a.reject,f=a.promise):f=new Promise((y,I)=>{c=y,l=I});let m=this.pendingTasks.add();return zE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function M5(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new J(4008,!1)}function x5(t){return!(t instanceof Xd)&&!(t instanceof Dc)}var Om=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Qe;constructor(n,r,i,o,a,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.locationStrategy=c;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(f=>{f instanceof Ti&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ls(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:HM(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ls(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(ae(Sn),ae(fo),hw("tabindex"),ae(ss),ae(mr),ae(mc))};static \u0275dir=Lt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ze("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Rd("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Aa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Aa],replaceUrl:[2,"replaceUrl","replaceUrl",Aa],routerLink:"routerLink"},features:[rs]})}return t})();var R5=new Y("");function HE(t,...e){return Fn([{provide:dh,multi:!0,useValue:t},[],{provide:fo,useFactory:N5,deps:[Sn]},{provide:Ia,multi:!0,useFactory:O5},e.map(n=>n.\u0275providers)])}function N5(t){return t.routerState.root}function O5(){let t=$(kt);return e=>{let n=t.get(Ln);if(e!==n.components[0])return;let r=t.get(Sn),i=t.get(k5);t.get(L5)===1&&r.initialNavigation(),t.get(F5,null,Se.Optional)?.setUpPreloading(),t.get(R5,null,Se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var k5=new Y("",{factory:()=>new Qe}),L5=new Y("",{providedIn:"root",factory:()=>1});var F5=new Y("");function V5(t,e){if(t&1){let n=wi();j(0,"div",7)(1,"strong"),Q(2),z(),j(3,"p",19),Q(4),z(),j(5,"button",20),ze("click",function(){let i=Vr(n).$index,o=Mt();return Br(o.scroll(i))}),rt(6,"img",21),z()()}if(t&2){let n=e.$implicit;ce(2),en(n.title),ce(2),en(n.description)}}function B5(t,e){if(t&1&&(j(0,"div",17)(1,"div",22)(2,"h3",23),Q(3),z(),j(4,"p",24),Q(5),z()(),j(6,"div",25),rt(7,"video",26),z(),rt(8,"div",27),z()),t&2){let n=e.$implicit,r=e.$index;Kw("id","advantage-",r,""),ce(),oo("site-info__content--right",r%2!==0),ce(2),en(n.title),ce(2),en(n.description),ce(),oo("site-info__video--left",r%2!==0)}}function U5(t,e){if(t&1&&(j(0,"div",18)(1,"div",22)(2,"h3",23),Q(3),z(),j(4,"p",24),Q(5),z()(),j(6,"div",25),rt(7,"video",26),z(),rt(8,"div",27),z()),t&2){let n=e.$implicit,r=e.$index;ce(),oo("site-info__content--right",r%2!==0),ce(2),en(n.title),ce(2),en(n.description),ce(),oo("site-info__video--left",r%2!==0)}}var km=class t{advantages=[{title:"\u0423\u0434\u043E\u0431\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432",description:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0447\u0430\u043B\u044C\u043D\u0443\u044E \u0438 \u043A\u043E\u043D\u0435\u0447\u043D\u0443\u044E \u0442\u043E\u0447\u043A\u0438 \u0438 \u0441\u043F\u043E\u0441\u043E\u0431 \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u0436\u0435\u043D\u0438\u044F. \u0412\u0441\u0451. \u041C\u044B \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0438\u043C \u0432\u0430\u043C \u043D\u0430\u0438\u0431\u043E\u043B\u0435\u0435 \u043E\u043F\u0442\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u043C\u0430\u0440\u0448\u0440\u0443\u0442"},{title:"\u0418\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u0430\u044F \u043A\u0430\u0440\u0442\u0430",description:"\u0418\u0441\u0441\u043B\u0435\u0434\u0443\u0439\u0442\u0435 \u043C\u0438\u0440 \u0441 \u043F\u043E\u043C\u043E\u0449\u044C\u044E \u043D\u0430\u0448\u0435\u0439 \u0438\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0439 \u043A\u0430\u0440\u0442\u044B, \u043F\u043E\u0437\u0432\u043E\u043B\u044F\u044E\u0449\u0435\u0439 \u043E\u0442\u043C\u0435\u0447\u0430\u0442\u044C \u043B\u044E\u0431\u044B\u0435 \u0438\u043D\u0442\u0435\u0440\u0435\u0441\u043D\u044B\u0435 \u043C\u0435\u0441\u0442\u0430 \u0438 \u0434\u0435\u043B\u0430\u0442\u044C \u0443\u043D\u0438\u043A\u0430\u043B\u044C\u043D\u044B\u0435 \u0437\u0430\u043C\u0435\u0442\u043A\u0438."},{title:"\u0421\u043E\u043E\u0431\u0449\u0435\u0441\u0442\u0432\u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439",description:"\u0414\u0435\u043B\u0438\u0442\u0435\u0441\u044C \u0441\u0432\u043E\u0438\u043C\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430\u043C\u0438 \u0441 \u0434\u0440\u0443\u0433\u0438\u043C\u0438 \u043B\u044E\u0434\u044C\u043C\u0438, \u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0439\u0442\u0435 \u043E\u0442\u0437\u044B\u0432\u044B \u0438 \u043F\u043E\u043B\u0443\u0447\u0430\u0439\u0442\u0435 \u0441\u043E\u0432\u0435\u0442\u044B."},{title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u043F\u043E\u0435\u0437\u0434\u043E\u043A",description:"\u041E\u0442\u0441\u043B\u0435\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u0432\u043E\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B, \u043F\u0440\u043E\u0439\u0434\u0435\u043D\u043D\u043E\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435 \u0438 \u043C\u043D\u043E\u0433\u043E\u0435 \u0434\u0440\u0443\u0433\u043E\u0435 \u0441 \u043D\u0430\u0448\u0438\u043C \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435\u043C."}];features=[{title:"\u041F\u0440\u043E\u0444\u0438\u043B\u044C",description:`
        \u0412\u0430\u0448 \u043B\u0438\u0447\u043D\u044B\u0439 \u043A\u0430\u0431\u0438\u043D\u0435\u0442, \u0433\u0434\u0435 \u0445\u0440\u0430\u043D\u044F\u0442\u0441\u044F \u0432\u0441\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B, \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0438 \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435. 
        \u0417\u0434\u0435\u0441\u044C \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044F \u043F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u0430\u044F \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430: \u043E\u0431\u0449\u0435\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043F\u043E\u0441\u0442\u0440\u043E\u0435\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432, 
        \u0441\u0443\u043C\u043C\u0430\u0440\u043D\u043E\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435 (\u0432 \u043A\u043C/\u043C\u0438\u043B\u044F\u0445), \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438 \u0438 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0438\u0442\u0430\u0435\u043C\u044B\u0435 \u0432\u0438\u0434\u044B \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430. 
        \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043B\u0438\u0447\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0438 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F.
      `},{title:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",description:`
        \u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u0440\u0430\u0437\u0434\u0435\u043B \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u0441 \u0431\u044B\u0441\u0442\u0440\u044B\u043C \u0434\u043E\u0441\u0442\u0443\u043F\u043E\u043C \u043A\u043E \u0432\u0441\u0435\u043C \u0444\u0443\u043D\u043A\u0446\u0438\u044F\u043C. 
        \u0417\u0434\u0435\u0441\u044C \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u044E\u0442\u0441\u044F \u0432\u0430\u0448\u0438 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B, \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u043C\u0435\u0441\u0442\u0430 \u0438 \u0440\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u0438 
        \u043F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u0432 \u0432\u0430\u0448\u0435\u043C \u0440\u0435\u0433\u0438\u043E\u043D\u0435. \u0423\u0434\u043E\u0431\u043D\u0430\u044F \u043D\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044F \u043F\u043E\u0437\u0432\u043E\u043B\u044F\u0435\u0442 \u0431\u044B\u0441\u0442\u0440\u043E 
        \u043F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u043D\u0443\u0436\u043D\u043E\u043C\u0443 \u0440\u0430\u0437\u0434\u0435\u043B\u0443.
      `},{title:"\u0421\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442",description:`
        \u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442 \u0434\u043B\u044F \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u043F\u043E\u0435\u0437\u0434\u043E\u043A. \u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043D\u0430\u0447\u0430\u043B\u044C\u043D\u0443\u044E \u0438 \u043A\u043E\u043D\u0435\u0447\u043D\u0443\u044E \u0442\u043E\u0447\u043A\u0438 
        \u043D\u0430 \u043A\u0430\u0440\u0442\u0435 \u0438\u043B\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441\u0430, \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043F\u043E\u0441\u043E\u0431 \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u0436\u0435\u043D\u0438\u044F (\u043F\u0435\u0448\u043A\u043E\u043C, \u043D\u0430 \u0432\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434\u0435, 
        \u043D\u0430 \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435 \u0438\u043B\u0438 \u043E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u043C \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0435) - \u0441\u0438\u0441\u0442\u0435\u043C\u0430 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0438\u0442 2-3 \u043E\u043F\u0442\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0445 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u0430 
        \u0441 \u0440\u0430\u0441\u0447\u0435\u0442\u043E\u043C \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u044F \u0438 \u043E\u0440\u0438\u0435\u043D\u0442\u0438\u0440\u043E\u0432\u043E\u0447\u043D\u043E\u0433\u043E \u0432\u0440\u0435\u043C\u0435\u043D\u0438 \u0432 \u043F\u0443\u0442\u0438.
      `},{title:"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432",description:`
        \u041F\u043E\u043B\u043D\u044B\u0439 \u0430\u0440\u0445\u0438\u0432 \u0432\u0441\u0435\u0445 \u0432\u0430\u0448\u0438\u0445 \u043F\u043E\u0435\u0437\u0434\u043E\u043A \u0441 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044C\u044E \u0441\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u043A\u0438 \u043F\u043E \u0434\u0430\u0442\u0435, \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u044E 
        \u0438\u043B\u0438 \u0432\u0438\u0434\u0443 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430. \u0414\u043B\u044F \u043A\u0430\u0436\u0434\u043E\u0433\u043E \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u044F\u044E\u0442\u0441\u044F \u043E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B: 
        \u043F\u0440\u043E\u0439\u0434\u0435\u043D\u043D\u043E\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435, \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438, \u0441\u0440\u0435\u0434\u043D\u044F\u044F \u0441\u043A\u043E\u0440\u043E\u0441\u0442\u044C. \u0423\u0434\u043E\u0431\u043D\u043E \u0434\u043B\u044F \u0430\u043D\u0430\u043B\u0438\u0437\u0430 
        \u0432\u0430\u0448\u0435\u0439 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0441\u0442\u0438.
      `},{title:"\u0418\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435",description:`
        \u0425\u0440\u0430\u043D\u0438\u043B\u0438\u0449\u0435 \u0434\u043B\u044F \u0447\u0430\u0441\u0442\u043E \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u043C\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u0438 \u0432\u0430\u0436\u043D\u044B\u0445 \u043C\u0435\u0441\u0442. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0441\u043E\u0437\u0434\u0430\u0432\u0430\u0442\u044C 
        \u0442\u0435\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0435 \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438 (\u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, "\u0420\u0430\u0431\u043E\u0447\u0438\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B", "\u041F\u0440\u043E\u0433\u0443\u043B\u043A\u0438 \u043D\u0430 \u0432\u044B\u0445\u043E\u0434\u043D\u044B\u0435") 
        \u0438 \u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F \u0438\u043C\u0438 \u0441 \u0434\u0440\u0443\u0433\u0438\u043C\u0438 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C\u0438. \u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E \u0441 \u043B\u044E\u0431\u043E\u0433\u043E \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430.
      `},{title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",description:`
        \u041F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u043F\u043E\u0434 \u0432\u0430\u0448\u0438 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0442\u0435\u043D\u0438\u044F: \u0432\u044B\u0431\u043E\u0440 \u0446\u0432\u0435\u0442\u043E\u0432\u043E\u0439 \u0442\u0435\u043C\u044B, \u0435\u0434\u0438\u043D\u0438\u0446 \u0438\u0437\u043C\u0435\u0440\u0435\u043D\u0438\u044F 
        (\u043A\u043C/\u043C\u0438\u043B\u0438), \u044F\u0437\u044B\u043A\u0430 \u0438\u043D\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430. \u0417\u0434\u0435\u0441\u044C \u0436\u0435 \u043C\u043E\u0436\u043D\u043E \u0443\u043F\u0440\u0430\u0432\u043B\u044F\u0442\u044C \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F\u043C\u0438 \u0438 \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u043D\u044B\u043C\u0438 
        \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043C\u0438.
      `}];siteInfoBlocks=[{title:"\u0423\u0434\u043E\u0431\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432",description:`
        \u041D\u0430\u0448 \u0430\u043B\u0433\u043E\u0440\u0438\u0442\u043C \u043F\u043E\u0438\u0441\u043A\u0430 \u043F\u043E\u043C\u043E\u0433\u0430\u0435\u0442 \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u044C \u043E\u043F\u0442\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0435 \u043F\u0443\u0442\u0438 \u0441 \u0443\u0447\u0435\u0442\u043E\u043C \u0432\u0430\u0448\u0438\u0445 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0442\u0435\u043D\u0438\u0439. 
        \u041F\u043E\u0441\u043B\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0438\u044F \u0442\u043E\u0447\u0435\u043A \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0438 \u043D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F \u0432\u044B \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u0435 2-3 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 
        \u0441 \u0434\u0435\u0442\u0430\u043B\u044C\u043D\u043E\u0439 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0435\u0439: \u043E\u0431\u0449\u0435\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435, \u043E\u0440\u0438\u0435\u043D\u0442\u0438\u0440\u043E\u0432\u043E\u0447\u043D\u043E\u0435 \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438, \u043E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 
        \u043E\u0440\u0438\u0435\u043D\u0442\u0438\u0440\u044B. \u0414\u043B\u044F \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u043C\u043E\u0436\u043D\u043E \u0438\u0441\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043F\u043B\u0430\u0442\u043D\u044B\u0435 \u0434\u043E\u0440\u043E\u0433\u0438, \u0430 \u0434\u043B\u044F \u043F\u0435\u0448\u0438\u0445 - 
        \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u043D\u0430\u0438\u0431\u043E\u043B\u0435\u0435 \u0436\u0438\u0432\u043E\u043F\u0438\u0441\u043D\u044B\u0435 \u043F\u0443\u0442\u0438.
      `},{title:"\u0418\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u0430\u044F \u043A\u0430\u0440\u0442\u0430",description:`
        \u0423\u0434\u043E\u0431\u043D\u044B\u0439 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442 \u0434\u043B\u044F \u0432\u0438\u0437\u0443\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u043F\u043E\u0435\u0437\u0434\u043E\u043A. \u041A\u0430\u0440\u0442\u0430 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 
        \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0440\u0435\u0436\u0438\u043C\u043E\u0432 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F (\u0441\u0445\u0435\u043C\u0430, \u0441\u043F\u0443\u0442\u043D\u0438\u043A) \u0438 \u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0435\u0442 \u043F\u043E\u043B\u0435\u0437\u043D\u044B\u0435 \u043E\u0431\u044A\u0435\u043A\u0442\u044B 
        \u0432\u0434\u043E\u043B\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430: \u043A\u0430\u0444\u0435, \u0410\u0417\u0421, \u0434\u043E\u0441\u0442\u043E\u043F\u0440\u0438\u043C\u0435\u0447\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u0438. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0434\u043E\u0431\u0430\u0432\u043B\u044F\u0442\u044C \u0441\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0435 
        \u043C\u0435\u0442\u043A\u0438 \u0438 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438 \u043A \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430\u043C, \u0430 \u0437\u0430\u0442\u0435\u043C \u0441\u043E\u0445\u0440\u0430\u043D\u044F\u0442\u044C \u0438\u0445 \u0432 \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435.
      `},{title:"\u0421\u043E\u043E\u0431\u0449\u0435\u0441\u0442\u0432\u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439",description:`
        \u041F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0430 \u0434\u043B\u044F \u043E\u0431\u043C\u0435\u043D\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430\u043C\u0438 \u0438 \u043E\u043F\u044B\u0442\u043E\u043C. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u0443\u0431\u043B\u0438\u043A\u043E\u0432\u0430\u0442\u044C \u0441\u0432\u043E\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B, 
        \u043E\u0446\u0435\u043D\u0438\u0432\u0430\u0442\u044C \u0447\u0443\u0436\u0438\u0435 \u0438 \u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0442\u044C \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438. \u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u043E\u0432 \u0432\u044B\u0434\u0435\u043B\u044F\u0435\u0442 \u043D\u0430\u0438\u0431\u043E\u043B\u0435\u0435 
        \u043F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u044B\u0435 \u0438 \u043F\u0440\u043E\u0432\u0435\u0440\u0435\u043D\u043D\u044B\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B \u0432 \u0432\u0430\u0448\u0435\u043C \u0433\u043E\u0440\u043E\u0434\u0435. \u041E\u0441\u043E\u0431\u0435\u043D\u043D\u043E \u043F\u043E\u043B\u0435\u0437\u043D\u043E \u0434\u043B\u044F \u043F\u043E\u0438\u0441\u043A\u0430 
        \u043D\u0435\u043E\u0447\u0435\u0432\u0438\u0434\u043D\u044B\u0445 \u0438 \u0438\u043D\u0442\u0435\u0440\u0435\u0441\u043D\u044B\u0445 \u043F\u0443\u0442\u0435\u0439.
      `},{title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u043F\u043E\u0435\u0437\u0434\u043E\u043A",description:`
        \u0414\u0435\u0442\u0430\u043B\u044C\u043D\u0430\u044F \u0430\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0430 \u0432\u0430\u0448\u0438\u0445 \u043F\u0435\u0440\u0435\u043C\u0435\u0449\u0435\u043D\u0438\u0439. \u0412 \u043F\u0440\u043E\u0444\u0438\u043B\u0435 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044F \u043E\u0431\u0449\u0435\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E 
        \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432, \u0441\u0443\u043C\u043C\u0430\u0440\u043D\u043E\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435, \u0441\u0440\u0435\u0434\u043D\u0435\u0435 \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438. \u0414\u043B\u044F \u0432\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434\u043D\u044B\u0445 \u0438 \u043F\u0435\u0448\u0438\u0445 
        \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u044B\u0432\u0430\u0435\u0442\u0441\u044F \u043F\u0440\u0438\u043C\u0435\u0440\u043D\u044B\u0439 \u0440\u0430\u0441\u0445\u043E\u0434 \u043A\u0430\u043B\u043E\u0440\u0438\u0439. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u0440\u043E\u0441\u043C\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044C 
        \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0443 \u0437\u0430 \u0440\u0430\u0437\u043D\u044B\u0435 \u043F\u0435\u0440\u0438\u043E\u0434\u044B \u0438 \u0441\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u0442\u044C \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C.
      `}];scroll(e){let n=document.getElementById(`advantage-${e}`);n&&n.scrollIntoView({behavior:"smooth"})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ct({type:t,selectors:[["app-start-page"]],decls:31,vars:0,consts:[[1,"main"],[1,"text-content"],[1,"text-content__top"],[1,"text-content__title"],[1,"text-content__body"],[1,"text-content__subtitle"],[1,"advantages"],[1,"advantages__item"],[1,"gallery"],["src","\u0421\u043D\u0438\u043C\u043E\u043A \u044D\u043A\u0440\u0430\u043D\u0430 2025-04-28 143604.jpg","alt","\u041A\u0430\u0440\u0442\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430",1,"gallery__main-image"],[1,"gallery__thumbnails"],["src","image 4.jpg","alt","\u041F\u0440\u0438\u043C\u0435\u0440 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 1",1,"gallery__thumbnail"],["src","image 5.jpg","alt","\u041F\u0440\u0438\u043C\u0435\u0440 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 2",1,"gallery__thumbnail"],[1,"site-info"],[1,"site-info__container"],[1,"site-info__title"],[1,"site-info__intro"],[1,"site-info__block",3,"id"],[1,"site-info__block"],[1,"advantages__text"],[1,"advantages__button",3,"click"],["src","arrow-down.svg","alt","\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u043F\u043E\u0434\u0440\u043E\u0431\u043D\u043E\u0441\u0442\u044F\u043C"],[1,"site-info__content"],[1,"site-info__subtitle"],[1,"site-info__text"],[1,"site-info__video"],["src","RouteGuide \u2014 \u042F\u043D\u0434\u0435\u043A\u0441\xA0\u0411\u0440\u0430\u0443\u0437\u0435\u0440 2025-04-29 01-02-50.mp4","controls",""],[1,"site-info__clearfix"]],template:function(n,r){n&1&&(j(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),Q(4,"\u041A\u0430\u0436\u0434\u044B\u0439 \u043C\u0430\u0440\u0448\u0440\u0443\u0442 \u2014 \u044D\u0442\u043E \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u043F\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435"),z()(),j(5,"div",4)(6,"h2",5),Q(7,"\u041D\u0430\u0448\u0438 \u043F\u0440\u0435\u0438\u043C\u0443\u0449\u0435\u0441\u0442\u0432\u0430"),z(),j(8,"div",6),$r(9,V5,7,2,"div",7,ba),z()()(),j(11,"section",8),rt(12,"img",9),j(13,"div",10),rt(14,"img",11)(15,"img",12),z()()(),j(16,"section",13)(17,"div",14)(18,"h2",15),Q(19,"\u041E \u0441\u0430\u0439\u0442\u0435 \u0438 \u043A\u0430\u043A \u0438\u043C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),z(),j(20,"p",16),Q(21," \u0414\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C \u043D\u0430 "),j(22,"strong"),Q(23,"Route Guide"),z(),Q(24,"! \u042D\u0442\u043E\u0442 \u0441\u0430\u0439\u0442 \u0441\u043E\u0437\u0434\u0430\u043D, \u0447\u0442\u043E\u0431\u044B \u0441\u0434\u0435\u043B\u0430\u0442\u044C \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u043F\u0440\u043E\u0441\u0442\u044B\u043C, \u0443\u0434\u043E\u0431\u043D\u044B\u043C \u0438 \u0443\u0432\u043B\u0435\u043A\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u043C. \u0417\u0434\u0435\u0441\u044C \u0432\u044B \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u0431\u044B\u0441\u0442\u0440\u043E \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u044C \u043B\u0443\u0447\u0448\u0438\u0435 \u043F\u0443\u0442\u0438 \u0434\u043B\u044F \u043F\u0440\u043E\u0433\u0443\u043B\u043E\u043A, \u043F\u043E\u0435\u0437\u0434\u043E\u043A \u043D\u0430 \u0432\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434\u0435, \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435 \u0438 \u043D\u0435 \u0442\u043E\u043B\u044C\u043A\u043E. \u041C\u044B \u043F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u0438\u043B\u0438 \u0434\u043B\u044F \u0432\u0430\u0441 \u043A\u043E\u0440\u043E\u0442\u043A\u0438\u0435 \u0432\u0438\u0434\u0435\u043E-\u0438\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u0438 \u043A \u043A\u0430\u0436\u0434\u043E\u043C\u0443 \u0440\u0430\u0437\u0434\u0435\u043B\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u043D\u0430\u043A\u043E\u043C\u0441\u0442\u0432\u043E \u0441 \u0444\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B\u043E\u043C \u043F\u0440\u043E\u0448\u043B\u043E \u043B\u0435\u0433\u043A\u043E! "),z(),$r(25,B5,9,8,"div",17,ba),j(27,"h2",15),Q(28,"\u041E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438"),z(),$r(29,U5,9,6,"div",18,ba),z()()),n&2&&(ce(9),zr(r.advantages),ce(16),zr(r.siteInfoBlocks),ce(4),zr(r.features))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}.main[_ngcontent-%COMP%]{display:flex;gap:50px;align-items:center;justify-content:center;padding:20px;max-width:1920px;margin:0 auto}.text-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:50px;max-width:calc(100vw - 970px)}.text-content__top[_ngcontent-%COMP%]{background-color:#e6d70ae6;padding:25px;box-shadow:5px 5px 10px #00000080;text-align:center;height:75px;display:flex;align-items:center;justify-content:center;border-radius:10px}.text-content__title[_ngcontent-%COMP%]{font-family:Playfair Display SC,serif;font-size:32px;margin:0}.text-content__body[_ngcontent-%COMP%]{background-color:#e6d70ae6;box-shadow:5px 5px 10px #00000080;padding-top:25px;overflow-y:auto;border-radius:10px}.text-content__subtitle[_ngcontent-%COMP%]{margin:0;font-family:Playfair Display SC,serif;font-size:26px;text-align:center}.advantages[_ngcontent-%COMP%]{margin-top:0}.advantages__item[_ngcontent-%COMP%]{border-top:10px solid transparent;border-left:10px solid rgba(0,0,0,.25);border-bottom:10px solid rgba(0,0,0,.5);border-right:10px solid transparent;box-shadow:5px 5px 5px #00000040;padding:10px;width:calc(100% - 40px);font-family:Playfair Display,serif;font-size:18px}.advantages__title[_ngcontent-%COMP%]{display:block;margin-bottom:8px}.advantages__text[_ngcontent-%COMP%]{margin:0;line-height:1.5}.advantages__button[_ngcontent-%COMP%]{margin-top:5px;height:25px;width:100%;border:none;background-color:#ffffffbf;cursor:pointer}.advantages__button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;width:100px}.advantages__button[_ngcontent-%COMP%]:hover{background-color:#00000080}.advantages__button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{filter:invert(1)}.gallery[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:25px}.gallery__main-image[_ngcontent-%COMP%]{width:100%;max-width:770px;height:500px;object-fit:cover;box-shadow:5px 5px 10px #00000080;border-radius:10px}.gallery__thumbnails[_ngcontent-%COMP%]{display:flex;gap:50px;max-width:820px}.gallery__thumbnail[_ngcontent-%COMP%]{height:250px;object-fit:cover;box-shadow:5px 5px 10px #00000080;border-radius:10px}.gallery__thumbnail[_ngcontent-%COMP%]:first-child{width:350px}.gallery__thumbnail[_ngcontent-%COMP%]:last-child{width:370px}.site-info[_ngcontent-%COMP%]{background-color:#000000bf;padding:50px 20px;margin-top:30px;box-sizing:border-box;box-shadow:5px 5px 5px #00000080;border-radius:10px;color:#fff;width:max-content;max-width:calc(100vw - 150px);display:flex;justify-content:center}.site-info__container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.site-info__title[_ngcontent-%COMP%], .site-info__subtitle[_ngcontent-%COMP%], .site-info__feature-title[_ngcontent-%COMP%]{font-family:Playfair Display SC,serif;margin:0 0 20px;text-align:center}.site-info__title[_ngcontent-%COMP%]{font-size:32px}.site-info__subtitle[_ngcontent-%COMP%]{font-size:20px}.site-info__intro[_ngcontent-%COMP%], .site-info__text[_ngcontent-%COMP%], .site-info__final[_ngcontent-%COMP%]{font-family:Playfair Display,serif;font-size:18px;line-height:1.6;margin:0 0 20px;text-align:justify;text-justify:inter-word;hyphens:auto}.site-info__block[_ngcontent-%COMP%]{display:flex;gap:50px;margin-bottom:40px;align-items:flex-start}.site-info__block[_ngcontent-%COMP%]:nth-child(2n){flex-direction:row-reverse}.site-info__content[_ngcontent-%COMP%]{flex:1;min-width:0}.site-info__video[_ngcontent-%COMP%]{width:350px;height:225px;flex-shrink:0}.site-info__video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:cover;box-shadow:5px 5px 5px #00000080;border:5px solid rgb(255,255,255)}@media (max-width: 1400px){.main[_ngcontent-%COMP%]{flex-direction:column;gap:30px}.text-content[_ngcontent-%COMP%]{max-width:calc(100vw - 100px);transform:scale(.75);transform-origin:top center}.gallery[_ngcontent-%COMP%]{margin-top:-175px;width:100%;align-items:center}.gallery__main-image[_ngcontent-%COMP%]{width:400px;height:250px}.gallery__thumbnails[_ngcontent-%COMP%]{flex-direction:column;gap:25px}.gallery__thumbnail[_ngcontent-%COMP%]{width:400px!important;height:250px}.site-info[_ngcontent-%COMP%]{width:100%;padding:30px 15px;box-sizing:border-box}.site-info__container[_ngcontent-%COMP%]{width:100%}.site-info__block[_ngcontent-%COMP%]{flex-direction:column!important;gap:20px}.site-info__video[_ngcontent-%COMP%]{width:100%;height:auto;aspect-ratio:16/9}.site-info__content[_ngcontent-%COMP%]{width:100%}}"]})};function fh(t){if(t==null||isNaN(t)||t<=0)return"0 sec";let e=Math.floor(t/86400),n=Math.floor(t%86400/3600),r=Math.floor(t%3600/60),i=Math.floor(t%60),o=[];return e>0&&o.push(`${e} \u0434`),n>0&&o.push(`${n} \u0447`),r>0&&o.push(`${r} \u043C\u0438\u043D`),i>0&&o.length<2&&o.push(`${i} \u0441\u0435\u043A`),o.length>0?o.join(" "):"0 \u0441\u0435\u043A"}var $R=()=>{};var qR=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},j5=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],a=t[n++],c=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Lm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],a=i+1<t.length,c=a?t[i+1]:0,l=i+2<t.length,f=l?t[i+2]:0,m=o>>2,y=(o&3)<<4|c>>4,I=(c&15)<<2|f>>6,E=f&63;l||(E=64,a||(I=64)),r.push(n[m],n[y],n[I],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):j5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let f=i<t.length?n[t.charAt(i)]:64;++i;let y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||f==null||y==null)throw new WE;let I=o<<2|c>>4;if(r.push(I),f!==64){let E=c<<4&240|f>>2;if(r.push(E),y!==64){let M=f<<6&192|y;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},WE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$5=function(t){let e=qR(t);return Lm.encodeByteArray(e,!0)},gh=function(t){return $5(t).replace(/\./g,"")},Fm=function(t){try{return Lm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function KE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var z5=()=>KE().__FIREBASE_DEFAULTS__,H5=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Fm(t[1]);return e&&JSON.parse(e)},Vm=()=>{try{return $R()||z5()||H5()||q5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZE=t=>{var e,n;return(n=(e=Vm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},WR=t=>{let e=ZE(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QE=()=>{var t;return(t=Vm())===null||t===void 0?void 0:t.config},YE=t=>{var e;return(e=Vm())===null||e===void 0?void 0:e[`_${t}`]};var Va=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ba(t){return t.endsWith(".cloudworkstations.dev")}function Bm(t){return T(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function GR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gh(JSON.stringify(n)),gh(JSON.stringify(a)),""].join(".")}var ph={};function W5(){let t={prod:[],emulator:[]};for(let e of Object.keys(ph))ph[e]?t.emulator.push(e):t.prod.push(e);return t}function G5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var zR=!1;function Pc(t,e){if(typeof window>"u"||typeof document>"u"||!Ba(window.location.host)||ph[t]===e||ph[t]||zR)return;ph[t]=e;function n(I){return`__firebase__banner__${I}`}let r="__firebase__banner",o=W5().prod.length>0;function a(){let I=document.getElementById(r);I&&I.remove()}function c(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function l(I,E){I.setAttribute("width","24"),I.setAttribute("id",E),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function f(){let I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{zR=!0,a()},I}function m(I,E){I.setAttribute("id",E),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function y(){let I=G5(r),E=n("text"),M=document.getElementById(E)||document.createElement("span"),F=n("learnmore"),V=document.getElementById(F)||document.createElement("a"),G=n("preprendIcon"),re=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){let X=I.element;c(X),m(V,F);let ke=f();l(re,G),X.append(re,M,V,ke),document.body.appendChild(X)}o?(M.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function K5(){var t;let e=(t=Vm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JR(){let t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XR(){return!K5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mh(){try{return typeof indexedDB=="object"}catch{return!1}}function eN(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var Z5="FirebaseError",ar=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Z5,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wr.prototype.create)}},Wr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?Q5(o,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new ar(i,c,r)}};function Q5(t,e){return t.replace(Y5,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Y5=/\{\$([^}]+)}/g;function tN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ci(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],a=e[i];if(HR(o)&&HR(a)){if(!Ci(o,a))return!1}else if(o!==a)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function HR(t){return t!==null&&typeof t=="object"}function _h(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Nc(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nN(t,e){let n=new GE(t,e);return n.subscribe.bind(n)}var GE=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");J5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qE),i.error===void 0&&(i.error=qE),i.complete===void 0&&(i.complete=qE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function J5(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qE(){}var Voe=4*60*60*1e3;function hn(t){return t&&t._delegate?t._delegate:t}var An=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ua="[DEFAULT]";var JE=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Va;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eq(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&a.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function X5(t){return t===Ua?void 0:t}function eq(t){return t.instantiationMode==="EAGER"}var Um=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new JE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var tq=[],Fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Fe||{}),nq={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},rq=Fe.INFO,iq={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},oq=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=iq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Di=class{constructor(e){this.name=e,this._logLevel=rq,this._logHandler=oq,this._userLogHandler=null,tq.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}};var sq=(t,e)=>e.some(n=>t instanceof n),rN,iN;function aq(){return rN||(rN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uq(){return iN||(iN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var oN=new WeakMap,eI=new WeakMap,sN=new WeakMap,XE=new WeakMap,nI=new WeakMap;function cq(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Si(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&oN.set(n,t)}).catch(()=>{}),nI.set(e,t),e}function lq(t){if(eI.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});eI.set(t,e)}var tI={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aN(t){tI=t(tI)}function dq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(jm(this),e,...n);return sN.set(r,e.sort?e.sort():[e]),Si(r)}:uq().includes(t)?function(...e){return t.apply(jm(this),e),Si(oN.get(this))}:function(...e){return Si(t.apply(jm(this),e))}}function hq(t){return typeof t=="function"?dq(t):(t instanceof IDBTransaction&&lq(t),sq(t,aq())?new Proxy(t,tI):t)}function Si(t){if(t instanceof IDBRequest)return cq(t);if(XE.has(t))return XE.get(t);let e=hq(t);return e!==t&&(XE.set(t,e),nI.set(e,t)),e}var jm=t=>nI.get(t);function cN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(t,e),c=Si(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Si(a.result),l.oldVersion,l.newVersion,Si(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}var fq=["get","getKey","getAll","getAllKeys","count"],pq=["put","add","delete","clear"],rI=new Map;function uN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rI.get(e))return rI.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=pq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fq.includes(n)))return;let o=function(a,...c){return T(this,null,function*(){let l=this.transaction(a,i?"readwrite":"readonly"),f=l.store;return r&&(f=f.index(c.shift())),(yield Promise.all([f[n](...c),i&&l.done]))[0]})};return rI.set(e,o),o}aN(t=>Ae(K({},t),{get:(e,n,r)=>uN(e,n)||t.get(e,n,r),has:(e,n)=>!!uN(e,n)||t.has(e,n)}));var oI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gq(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function gq(t){let e=t.getComponent();return e?.type==="VERSION"}var sI="@firebase/app",lN="0.12.3";var go=new Di("@firebase/app"),mq="@firebase/app-compat",_q="@firebase/analytics-compat",vq="@firebase/analytics",yq="@firebase/app-check-compat",wq="@firebase/app-check",Eq="@firebase/auth",Iq="@firebase/auth-compat",bq="@firebase/database",Tq="@firebase/data-connect",Cq="@firebase/database-compat",Dq="@firebase/functions",Sq="@firebase/functions-compat",Aq="@firebase/installations",Mq="@firebase/installations-compat",xq="@firebase/messaging",Pq="@firebase/messaging-compat",Rq="@firebase/performance",Nq="@firebase/performance-compat",Oq="@firebase/remote-config",kq="@firebase/remote-config-compat",Lq="@firebase/storage",Fq="@firebase/storage-compat",Vq="@firebase/firestore",Bq="@firebase/vertexai",Uq="@firebase/firestore-compat",jq="firebase",$q="11.7.3";var aI="[DEFAULT]",zq={[sI]:"fire-core",[mq]:"fire-core-compat",[vq]:"fire-analytics",[_q]:"fire-analytics-compat",[wq]:"fire-app-check",[yq]:"fire-app-check-compat",[Eq]:"fire-auth",[Iq]:"fire-auth-compat",[bq]:"fire-rtdb",[Tq]:"fire-data-connect",[Cq]:"fire-rtdb-compat",[Dq]:"fire-fn",[Sq]:"fire-fn-compat",[Aq]:"fire-iid",[Mq]:"fire-iid-compat",[xq]:"fire-fcm",[Pq]:"fire-fcm-compat",[Rq]:"fire-perf",[Nq]:"fire-perf-compat",[Oq]:"fire-rc",[kq]:"fire-rc-compat",[Lq]:"fire-gcs",[Fq]:"fire-gcs-compat",[Vq]:"fire-fst",[Uq]:"fire-fst-compat",[Bq]:"fire-vertex","fire-js":"fire-js",[jq]:"fire-js-all"};var vh=new Map,Hq=new Map,uI=new Map;function dN(t,e){try{t.container.addComponent(e)}catch(n){go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gr(t){let e=t.name;if(uI.has(e))return go.debug(`There were multiple attempts to register component ${e}.`),!1;uI.set(e,t);for(let n of vh.values())dN(n,t);for(let n of Hq.values())dN(n,t);return!0}function Oc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zn(t){return t==null?!1:t.settings!==void 0}var qq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new Wr("app","Firebase",qq);var cI=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new An("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}};var fs=$q;function hI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:aI,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw hs.create("bad-app-name",{appName:String(i)});if(n||(n=QE()),!n)throw hs.create("no-options");let o=vh.get(i);if(o){if(Ci(n,o.options)&&Ci(r,o.config))return o;throw hs.create("duplicate-app",{appName:i})}let a=new Um(i);for(let l of uI.values())a.addComponent(l);let c=new cI(n,r,a);return vh.set(i,c),c}function ja(t=aI){let e=vh.get(t);if(!e&&t===aI&&QE())return hI();if(!e)throw hs.create("no-app",{appName:t});return e}function $m(){return Array.from(vh.values())}function Dt(t,e,n){var r;let i=(r=zq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),go.warn(c.join(" "));return}Gr(new An(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Wq="firebase-heartbeat-database",Gq=1,yh="firebase-heartbeat-store",iI=null;function gN(){return iI||(iI=cN(Wq,Gq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yh)}catch(n){console.warn(n)}}}}).catch(t=>{throw hs.create("idb-open",{originalErrorMessage:t.message})})),iI}function Kq(t){return T(this,null,function*(){try{let n=(yield gN()).transaction(yh),r=yield n.objectStore(yh).get(mN(t));return yield n.done,r}catch(e){if(e instanceof ar)go.warn(e.message);else{let n=hs.create("idb-get",{originalErrorMessage:e?.message});go.warn(n.message)}}})}function hN(t,e){return T(this,null,function*(){try{let r=(yield gN()).transaction(yh,"readwrite");yield r.objectStore(yh).put(e,mN(t)),yield r.done}catch(n){if(n instanceof ar)go.warn(n.message);else{let r=hs.create("idb-set",{originalErrorMessage:n?.message});go.warn(r.message)}}})}function mN(t){return`${t.name}!${t.options.appId}`}var Zq=1024,Qq=30,lI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new dI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Qq){let a=Jq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){go.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=fN(),{heartbeatsToSend:r,unsentEntries:i}=Yq(this._heartbeatsCache.heartbeats),o=gh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return go.warn(n),""}})}};function fN(){return new Date().toISOString().substring(0,10)}function Yq(t,e=Zq){let n=[],r=t.slice();for(let i of t){let o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),pN(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var dI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return mh()?eN().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Kq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return hN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return hN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function pN(t){return gh(JSON.stringify({version:2,heartbeats:t})).length}function Jq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Xq(t){Gr(new An("platform-logger",e=>new oI(e),"PRIVATE")),Gr(new An("heartbeat",e=>new lI(e),"PRIVATE")),Dt(sI,lN,t),Dt(sI,lN,"esm2017"),Dt("fire-js","")}Xq("");var e6="firebase",t6="11.7.3";Dt(e6,t6,"app");function fI(t){t===void 0&&(Eg(fI),t=$(kt));let e=t.get(Cd);return n=>new xe(r=>{let i=e.add(),o=!1;function a(){o||(i(),o=!0)}let c=n.subscribe({next:l=>{r.next(l),a()},complete:()=>{r.complete(),a()},error:l=>{r.error(l),a()}});return c.add(()=>{r.unsubscribe(),a()}),c})}var ps=new ma("ANGULARFIRE2_VERSION");function wh(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Lc=(t,e)=>{let n=e?[e]:$m(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},kc=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(kc||{}),_N=Qw()&&typeof Zone<"u"?kc.WARN:kc.SILENT;var zm=class{zone;delegate;constructor(e,n=my){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(a){i?i.runGuarded(()=>{e.apply(this,[a])}):e.apply(this,[a])};return this.delegate.schedule(o,n,r)}},gs=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=$(Ye);this.outsideAngular=n.runOutsideAngular(()=>new zm(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new zm(typeof Zone>"u"?void 0:Zone.current,gy))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vN=!1;function n6(t,e){!vN&&(_N>kc.SILENT||Qw())&&(vN=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),_N>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function r6(t){let e=$(Ye,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function $a(t){let e=$(Ye,{optional:!0});return e?e.run(()=>t()):t()}var i6=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),dn(n,()=>$a(()=>t.apply(void 0,r)))),xt=(t,e,n)=>(n||=e?kc.WARN:kc.VERBOSE,function(){let r,i=arguments,o,a,c;try{o=$(gs),a=$(Cd),c=$(Jt)}catch{return n6(t,n),t.apply(this,i)}for(let f=0;f<arguments.length;f++)typeof i[f]=="function"&&(e&&(r||=$a(()=>a.add())),i[f]=i6(i[f],r,c));let l=r6(()=>t.apply(this,i));return e?l instanceof xe?l.pipe(Qo(o.outsideAngular),Zo(o.insideAngular),fI(c)):l instanceof Promise?$a(()=>new Promise((f,m)=>{a.run(()=>l).then(y=>dn(c,()=>$a(()=>f(y))),y=>dn(c,()=>$a(()=>m(y))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:$a(()=>l):l instanceof xe?l.pipe(Qo(o.outsideAngular),Zo(o.insideAngular)):$a(()=>l)});var mo=class{constructor(e){return e}},za=class{constructor(){return $m()}};function o6(t){return t&&t.length===1?t[0]:new mo(ja())}var pI=new Y("angularfire2._apps"),s6={provide:mo,useFactory:o6,deps:[[new nr,pI]]},a6={provide:za,deps:[[new nr,pI]]};function u6(t){return(e,n)=>{let r=n.get(Ea);Dt("angularfire",ps.full,"core"),Dt("angularfire",ps.full,"app"),Dt("angular",Qx.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new mo(i)}}function yN(t,...e){return Fn([s6,a6,{provide:pI,useFactory:u6(t),multi:!0,deps:[Ye,kt,gs,...e]}])}var wN=xt(hI,!0);var c6=new Map,l6={activated:!1,tokenObservers:[]},d6={initialized:!1,enabled:!1};function Kr(t){return c6.get(t)||Object.assign({},l6)}function TN(){return d6}var h6="https://content-firebaseappcheck.googleapis.com/v1";var f6="exchangeDebugToken",EN={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},zse=24*60*60*1e3;var _I=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return T(this,null,function*(){this.stop();try{this.pending=new Va,this.pending.promise.catch(n=>{}),yield p6(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Va,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function p6(t){return new Promise(e=>{setTimeout(e,t)})}var g6={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ms=new Wr("appCheck","AppCheck",g6);function CN(t){if(!Kr(t).activated)throw ms.create("use-before-activation",{appName:t.name})}function DN(r,i){return T(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},a=n.getImmediate({optional:!0});if(a){let E=yield a.getHeartbeatsHeader();E&&(o["X-Firebase-Client"]=E)}let c={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,c)}catch(E){throw ms.create("fetch-network-error",{originalErrorMessage:E?.message})}if(l.status!==200)throw ms.create("fetch-status-error",{httpStatus:l.status});let f;try{f=yield l.json()}catch(E){throw ms.create("fetch-parse-error",{originalErrorMessage:E?.message})}let m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw ms.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});let y=Number(m[1])*1e3,I=Date.now();return{token:f.token,expireTimeMillis:I+y,issuedAtTimeMillis:I}})}function SN(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${h6}/projects/${n}/apps/${r}:${f6}?key=${i}`,body:{debug_token:e}}}var m6="firebase-app-check-database",_6=1,vI="firebase-app-check-store";var Hm=null;function v6(){return Hm||(Hm=new Promise((t,e)=>{try{let n=indexedDB.open(m6,_6);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ms.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(vI,{keyPath:"compositeKey"})}}}catch(n){e(ms.create("storage-open",{originalErrorMessage:n?.message}))}}),Hm)}function y6(t,e){return w6(E6(t),e)}function w6(t,e){return T(this,null,function*(){let r=(yield v6()).transaction(vI,"readwrite"),o=r.objectStore(vI).put({compositeKey:t,value:e});return new Promise((a,c)=>{o.onsuccess=l=>{a()},r.onerror=l=>{var f;c(ms.create("storage-set",{originalErrorMessage:(f=l.target.error)===null||f===void 0?void 0:f.message}))}})})}function E6(t){return`${t.options.appId}-${t.name}`}var Eh=new Di("@firebase/app-check");function gI(t,e){return mh()?y6(t,e).catch(n=>{Eh.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function AN(){return TN().enabled}function MN(){return T(this,null,function*(){let t=TN();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var I6={error:"UNKNOWN_ERROR"};function b6(t){return Lm.encodeString(JSON.stringify(t),!1)}function yI(t,e=!1,n=!1){return T(this,null,function*(){let r=t.app;CN(r);let i=Kr(r),o=i.token,a;if(o&&!Ih(o)&&(i.token=void 0,o=void 0),!o){let f=yield i.cachedTokenPromise;f&&(Ih(f)?o=f:yield gI(r,void 0))}if(!e&&o&&Ih(o))return{token:o.token};let c=!1;if(AN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=DN(SN(r,yield MN()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let f=yield i.exchangeTokenPromise;return yield gI(r,f),i.token=f,{token:f.token}}catch(f){return f.code==="appCheck/throttled"||f.code==="appCheck/initial-throttle"?Eh.warn(f.message):n&&Eh.error(f),mI(f)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield Kr(r).exchangeTokenPromise}catch(f){f.code==="appCheck/throttled"||f.code==="appCheck/initial-throttle"?Eh.warn(f.message):n&&Eh.error(f),a=f}let l;return o?a?Ih(o)?l={token:o.token,internalError:a}:l=mI(a):(l={token:o.token},i.token=o,yield gI(r,o)):l=mI(a),c&&S6(r,l),l})}function T6(t){return T(this,null,function*(){let e=t.app;CN(e);let{provider:n}=Kr(e);if(AN()){let r=yield MN(),{token:i}=yield DN(SN(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function C6(t,e,n,r){let{app:i}=t,o=Kr(i),a={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,a],o.token&&Ih(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),IN(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>IN(t))}function xN(t,e){let n=Kr(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function IN(t){let{app:e}=t,n=Kr(e),r=n.tokenRefresher;r||(r=D6(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function D6(t){let{app:e}=t;return new _I(()=>T(null,null,function*(){let n=Kr(e),r;if(n.token?r=yield yI(t,!0):r=yield yI(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Kr(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},EN.RETRIAL_MIN_WAIT,EN.RETRIAL_MAX_WAIT)}function S6(t,e){let n=Kr(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ih(t){return t.expireTimeMillis-Date.now()>0}function mI(t){return{token:b6(I6),error:t}}var wI=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Kr(this.app);for(let n of e)xN(this.app,n.next);return Promise.resolve()}};function A6(t,e){return new wI(t,e)}function M6(t){return{getToken:e=>yI(t,e),getLimitedUseToken:()=>T6(t),addTokenListener:e=>C6(t,"INTERNAL",e),removeTokenListener:e=>xN(t.app,e)}}var x6="@firebase/app-check",P6="0.9.3";var R6="app-check",bN="app-check-internal";function N6(){Gr(new An(R6,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return A6(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(bN).initialize()})),Gr(new An(bN,t=>{let e=t.getProvider("app-check").getImmediate();return M6(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Dt(x6,P6)}N6();var O6="app-check";var Fc=class{constructor(){return Lc(O6)}};var k6=["localhost","0.0.0.0","127.0.0.1"],nae=typeof window<"u"&&k6.includes(window.location.hostname);function WN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var GN=WN,KN=new Wr("auth","Firebase",WN());var Qm=new Di("@firebase/auth");function L6(t,...e){Qm.logLevel<=Fe.WARN&&Qm.warn(`Auth (${fs}): ${t}`,...e)}function Wm(t,...e){Qm.logLevel<=Fe.ERROR&&Qm.error(`Auth (${fs}): ${t}`,...e)}function Mi(t,...e){throw qI(t,...e)}function Ha(t,...e){return qI(t,...e)}function ZN(t,e,n){let r=Object.assign(Object.assign({},GN()),{[e]:n});return new Wr("auth","Firebase",r).create(e,{appName:t.name})}function yo(t){return ZN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KN.create(t,...e)}function _e(t,e,...n){if(!t)throw qI(e,...n)}function _o(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Wm(e),new Error(e)}function ys(t,e){t||_o(e)}function TI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function F6(){return PN()==="http:"||PN()==="https:"}function PN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function V6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F6()||QR()||"connection"in navigator)?navigator.onLine:!0}function B6(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var qa=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ys(n>e,"Short delay should be less than long delay!"),this.isMobile=KR()||YR()}get(){return V6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function WI(t,e){ys(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ym=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_o("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_o("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_o("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var U6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var j6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$6=new qa(3e4,6e4);function ws(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Es(o,a,c,l){return T(this,arguments,function*(t,e,n,r,i={}){return QN(t,i,()=>T(null,null,function*(){let f={},m={};r&&(e==="GET"?m=r:f={body:JSON.stringify(r)});let y=_h(Object.assign({key:t.config.apiKey},m)).slice(1),I=yield t._getAdditionalHeaders();I["Content-Type"]="application/json",t.languageCode&&(I["X-Firebase-Locale"]=t.languageCode);let E=Object.assign({method:e,headers:I},f);return ZR()||(E.referrerPolicy="no-referrer"),t.emulatorConfig&&Ba(t.emulatorConfig.host)&&(E.credentials="include"),Ym.fetch()(yield YN(t,t.config.apiHost,n,y),E)}))})}function QN(t,e,n){return T(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},U6),e);try{let i=new CI(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw qm(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let c=o.ok?a.errorMessage:a.error.message,[l,f]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qm(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw qm(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw qm(t,"user-disabled",a);let m=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw ZN(t,m,f);Mi(t,m)}}catch(i){if(i instanceof ar)throw i;Mi(t,"network-request-failed",{message:String(i)})}})}function Ph(o,a,c,l){return T(this,arguments,function*(t,e,n,r,i={}){let f=yield Es(t,e,n,r,i);return"mfaPendingCredential"in f&&Mi(t,"multi-factor-auth-required",{_serverResponse:f}),f})}function YN(t,e,n,r){return T(this,null,function*(){let i=`${e}${n}?${r}`,o=t,a=o.config.emulator?WI(t.config,i):`${t.config.apiScheme}://${i}`;return j6.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a})}function z6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var CI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ha(this.auth,"network-request-failed")),$6.get())})}};function qm(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ha(t,e,r);return i.customData._tokenResponse=n,i}function RN(t){return t!==void 0&&t.enterprise!==void 0}var DI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return z6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function H6(t,e){return T(this,null,function*(){return Es(t,"GET","/v2/recaptchaConfig",ws(t,e))})}function q6(t,e){return T(this,null,function*(){return Es(t,"POST","/v1/accounts:delete",e)})}function Jm(t,e){return T(this,null,function*(){return Es(t,"POST","/v1/accounts:lookup",e)})}function Th(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function GI(t,e=!1){return T(this,null,function*(){let n=hn(t),r=yield n.getIdToken(e),i=KI(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:Th(EI(i.auth_time)),issuedAtTime:Th(EI(i.iat)),expirationTime:Th(EI(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function EI(t){return Number(t)*1e3}function KI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wm("JWT malformed, contained fewer than 3 sections"),null;try{let i=Fm(n);return i?JSON.parse(i):(Wm("Failed to decode base64 JWT payload"),null)}catch(i){return Wm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function NN(t){let e=KI(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Dh(t,e,n=!1){return T(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ar&&W6(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function W6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var SI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),n)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Sh=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Th(this.lastLoginAt),this.creationTime=Th(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xm(t){return T(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Dh(t,Jm(n,{idToken:r}));_e(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JN(o.providerUserInfo):[],c=G6(t.providerData,a),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!c?.length,m=l?f:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Sh(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(t,y)})}function ZI(t){return T(this,null,function*(){let e=hn(t);yield Xm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function G6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JN(t){return t.map(e=>{var{providerId:n}=e,r=_y(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function K6(t,e){return T(this,null,function*(){let n=yield QN(t,{},()=>T(null,null,function*(){let r=_h({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=yield YN(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ym.fetch()(a,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Z6(t,e){return T(this,null,function*(){return Es(t,"POST","/v2/accounts:revokeToken",ws(t,e))})}var Ch=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");let n=NN(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return T(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield K6(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new t;return r&&(_e(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return _o("not implemented")}};function _s(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var vs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=_y(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sh(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let n=yield Dh(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return GI(this,e)}reload(){return ZI(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Xm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(zn(this.auth.app))return Promise.reject(yo(this.auth));let e=yield this.getIdToken();return yield Dh(this,q6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,c,l,f,m;let y=(r=n.displayName)!==null&&r!==void 0?r:void 0,I=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,M=(a=n.photoURL)!==null&&a!==void 0?a:void 0,F=(c=n.tenantId)!==null&&c!==void 0?c:void 0,V=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,G=(f=n.createdAt)!==null&&f!==void 0?f:void 0,re=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:X,emailVerified:ke,isAnonymous:Pt,providerData:We,stsTokenManager:P}=n;_e(X&&P,e,"internal-error");let C=Ch.fromJSON(this.name,P);_e(typeof X=="string",e,"internal-error"),_s(y,e.name),_s(I,e.name),_e(typeof ke=="boolean",e,"internal-error"),_e(typeof Pt=="boolean",e,"internal-error"),_s(E,e.name),_s(M,e.name),_s(F,e.name),_s(V,e.name),_s(G,e.name),_s(re,e.name);let D=new t({uid:X,auth:e,email:I,emailVerified:ke,displayName:y,isAnonymous:Pt,photoURL:M,phoneNumber:E,tenantId:F,stsTokenManager:C,createdAt:G,lastLoginAt:re});return We&&Array.isArray(We)&&(D.providerData=We.map(x=>Object.assign({},x))),V&&(D._redirectEventId=V),D}static _fromIdTokenResponse(e,n,r=!1){return T(this,null,function*(){let i=new Ch;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xm(o),o})}static _fromGetAccountInfoResponse(e,n,r){return T(this,null,function*(){let i=n.users[0];_e(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?JN(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,c=new Ch;c.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Sh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,f),l})}};var ON=new Map;function vo(t){ys(t instanceof Function,"Expected a class definition");let e=ON.get(t);return e?(ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ON.set(t,e),e)}var Q6=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(n,r){return T(this,null,function*(){this.storage[n]=r})}_get(n){return T(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return T(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),AI=Q6;function Gm(t,e,n){return`firebase:${t}:${e}:${n}`}var e_=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Gm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Jm(this.auth,{idToken:e}).catch(()=>{});return n?vs._fromGetAccountInfoResponse(this.auth,n,e):null}return vs._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return T(this,null,function*(){if(!n.length)return new t(vo(AI),e,r);let i=(yield Promise.all(n.map(f=>T(null,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),o=i[0]||vo(AI),a=Gm(r,e.config.apiKey,e.name),c=null;for(let f of n)try{let m=yield f._get(a);if(m){let y;if(typeof m=="string"){let I=yield Jm(e,{idToken:m}).catch(()=>{});if(!I)break;y=yield vs._fromGetAccountInfoResponse(e,I,m)}else y=vs._fromJSON(e,m);f!==o&&(c=y),o=f;break}}catch{}let l=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,e,r):(o=l[0],c&&(yield o._set(a,c.toJSON())),yield Promise.all(n.map(f=>T(null,null,function*(){if(f!==o)try{yield f._remove(a)}catch{}}))),new t(o,e,r))})}};function kN(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iO(e))return"Blackberry";if(oO(e))return"Webos";if(eO(e))return"Safari";if((e.includes("chrome/")||tO(e))&&!e.includes("edge/"))return"Chrome";if(rO(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function XN(t=rn()){return/firefox\//i.test(t)}function eO(t=rn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tO(t=rn()){return/crios\//i.test(t)}function nO(t=rn()){return/iemobile/i.test(t)}function rO(t=rn()){return/android/i.test(t)}function iO(t=rn()){return/blackberry/i.test(t)}function oO(t=rn()){return/webos/i.test(t)}function QI(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y6(t=rn()){var e;return QI(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function J6(){return JR()&&document.documentMode===10}function sO(t=rn()){return QI(t)||rO(t)||oO(t)||iO(t)||/windows phone/i.test(t)||nO(t)}function aO(t,e=[]){let n;switch(t){case"Browser":n=kN(rn());break;case"Worker":n=`${kN(rn())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${r}`}var MI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((a,c)=>{try{let l=e(o);a(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function X6(n){return T(this,arguments,function*(t,e={}){return Es(t,"GET","/v2/passwordPolicy",ws(t,e))})}var e8=6,xI=class{constructor(e){var n,r,i,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:e8,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var PI=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new t_(this),this.idTokenSubscription=new t_(this),this.beforeStateQueue=new MI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vo(n)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield e_.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let n=yield Jm(this,{idToken:e}),r=yield vs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var n;if(zn(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield Xm(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=B6()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(zn(this.app))return Promise.reject(yo(this));let n=e?hn(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return T(this,null,function*(){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return zn(this.app)?Promise.reject(yo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return zn(this.app)?Promise.reject(yo(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(vo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield X6(this),n=new xI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Z6(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&vo(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=yield e_.create(this,[vo(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{let l=e.addObserver(n);return()=>{a=!0,l()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return T(this,null,function*(){var e;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&L6(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ga(t){return hn(t)}var t_=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=nN(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var u_={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t8(t){u_=t}function uO(t){return u_.loadJS(t)}function n8(){return u_.recaptchaEnterpriseScript}function r8(){return u_.gapiScript}function cO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var RI=class{constructor(){this.enterprise=new NI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},NI=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var i8="recaptcha-enterprise",lO="NO_RECAPTCHA",OI=class{constructor(e){this.type=i8,this.auth=Ga(e)}verify(e="verify",n=!1){return T(this,null,function*(){function r(o){return T(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((a,c)=>T(null,null,function*(){H6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let f=new DI(l);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(l=>{c(l)})}))})}function i(o,a,c){let l=window.grecaptcha;RN(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(lO)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new RI().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(c=>{if(!n&&RN(window.grecaptcha))i(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=n8();l.length!==0&&(l+=c),uO(l).then(()=>{i(c,o,a)}).catch(f=>{a(f)})}}).catch(c=>{a(c)})})})}};function bh(t,e,n,r=!1,i=!1){return T(this,null,function*(){let o=new OI(t),a;if(i)a=lO;else try{a=yield o.verify(n)}catch{a=yield o.verify(n,!0)}let c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let l=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let l=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function kI(t,e,n,r,i){return T(this,null,function*(){var o,a;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield bh(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(c=>T(null,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield bh(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(c)}));else if(i==="PHONE_PROVIDER")if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){let c=yield bh(t,e,n);return r(t,c).catch(l=>T(null,null,function*(){var f;if(((f=t._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let m=yield bh(t,e,n,!1,!0);return r(t,m)}return Promise.reject(l)}))}else{let c=yield bh(t,e,n,!1,!0);return r(t,c)}else return Promise.reject(i+" provider is not supported.")})}function YI(t,e){let n=Oc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Ci(o,e??{}))return i;Mi(i,"already-initialized")}return n.initialize({options:e})}function o8(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function JI(t,e,n){let r=Ga(t);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=dO(e),{host:a,port:c}=s8(e),l=c===null?"":`:${c}`,f={url:`${o}//${a}${l}/`},m=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(Ci(f,r.config.emulator)&&Ci(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Ba(a)?(Pc("Auth",!0),Bm(`${o}//${a}${l}`)):i||a8()}function dO(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function s8(t){let e=dO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:LN(r.substr(o.length+1))}}else{let[o,a]=r.split(":");return{host:o,port:LN(a)}}}function LN(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function a8(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ah=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _o("not implemented")}_getIdTokenResponse(e){return _o("not implemented")}_linkToIdToken(e,n){return _o("not implemented")}_getReauthenticationResolver(e){return _o("not implemented")}};function u8(t,e){return T(this,null,function*(){return Es(t,"POST","/v1/accounts:signUp",e)})}function c8(t,e){return T(this,null,function*(){return Ph(t,"POST","/v1/accounts:signInWithPassword",ws(t,e))})}function l8(t,e){return T(this,null,function*(){return Ph(t,"POST","/v1/accounts:signInWithEmailLink",ws(t,e))})}function d8(t,e){return T(this,null,function*(){return Ph(t,"POST","/v1/accounts:signInWithEmailLink",ws(t,e))})}var Mh=class t extends Ah{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return T(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kI(e,n,"signInWithPassword",c8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return l8(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}})}_linkToIdToken(e,n){return T(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kI(e,r,"signUpPassword",u8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return d8(e,{idToken:n,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function II(t,e){return T(this,null,function*(){return Ph(t,"POST","/v1/accounts:signInWithIdp",ws(t,e))})}function h8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function f8(t){let e=Rc(Nc(t)).link,n=e?Rc(Nc(e)).deep_link_id:null,r=Rc(Nc(t)).deep_link_id;return(r?Rc(Nc(r)).link:null)||r||n||e||t}var n_=class t{constructor(e){var n,r,i,o,a,c;let l=Rc(Nc(e)),f=(n=l.apiKey)!==null&&n!==void 0?n:null,m=(r=l.oobCode)!==null&&r!==void 0?r:null,y=h8((i=l.mode)!==null&&i!==void 0?i:null);_e(f&&m&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=m,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=f8(e);try{return new t(n)}catch{return null}}};var hO=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Mh._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=n_.parseLink(r);return _e(i,"argument-error"),Mh._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),r_=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var LI=class extends r_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function p8(t,e){return T(this,null,function*(){return Ph(t,"POST","/v1/accounts:signUp",ws(t,e))})}var Vc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return T(this,null,function*(){let o=yield vs._fromIdTokenResponse(e,r,i),a=FN(r);return new t({user:o,providerId:a,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return T(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=FN(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function FN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var FI=class t extends ar{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function fO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?FI._fromErrorAndOperation(t,o,e,r):o})}function g8(t,e,n=!1){return T(this,null,function*(){let r=yield Dh(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Vc._forOperation(t,"link",r)})}function m8(t,e,n=!1){return T(this,null,function*(){let{auth:r}=t;if(zn(r.app))return Promise.reject(yo(r));let i="reauthenticate";try{let o=yield Dh(t,fO(r,i,e,t),n);_e(o.idToken,r,"internal-error");let a=KI(o.idToken);_e(a,r,"internal-error");let{sub:c}=a;return _e(t.uid===c,r,"user-mismatch"),Vc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Mi(r,"user-mismatch"),o}})}function pO(t,e,n=!1){return T(this,null,function*(){if(zn(t.app))return Promise.reject(yo(t));let r="signIn",i=yield fO(t,r,e),o=yield Vc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function XI(t,e){return T(this,null,function*(){return pO(Ga(t),e)})}function gO(t){return T(this,null,function*(){let e=Ga(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function eb(t,e,n){return T(this,null,function*(){if(zn(t.app))return Promise.reject(yo(t));let r=Ga(t),a=yield kI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",p8,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gO(t),l}),c=yield Vc._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(c.user),c})}function tb(t,e,n){return zn(t.app)?Promise.reject(yo(t)):XI(hn(t),hO.credential(e,n)).catch(r=>T(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&gO(t),r}))}function Rh(t,e,n,r){return hn(t).onIdTokenChanged(e,n,r)}function nb(t,e,n){return hn(t).beforeAuthStateChanged(e,n)}function rb(t){return hn(t).signOut()}var i_="__sak";var o_=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(i_,"1"),this.storage.removeItem(i_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var _8=1e3,v8=10,y8=(()=>{class t extends o_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sO(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,l,f)=>{this.notifyListeners(c,f)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);J6()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,v8):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},_8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return T(this,null,function*(){yield Go(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return T(this,null,function*(){let r=yield Go(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return T(this,null,function*(){yield Go(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),mO=y8;var w8=(()=>{class t extends o_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),ib=w8;function E8(t){return Promise.all(t.map(e=>T(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var I8=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return T(this,null,function*(){let r=n,{eventId:i,eventType:o,data:a}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(c).map(m=>T(this,null,function*(){return m(r.origin,a)})),f=yield E8(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function _O(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var VI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return T(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{let f=_O("",20);i.port1.start();let m=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(y){let I=y;if(I.data.eventId===f)switch(I.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(I.data.response);break;default:clearTimeout(m),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function Ai(){return window}function b8(t){Ai().location.href=t}function vO(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}function T8(){return T(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function C8(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D8(){return vO()?self:null}var yO="firebaseLocalStorageDb",S8=1,s_="firebaseLocalStorage",wO="fbase_key",Wa=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function c_(t,e){return t.transaction([s_],e?"readwrite":"readonly").objectStore(s_)}function A8(){let t=indexedDB.deleteDatabase(yO);return new Wa(t).toPromise()}function BI(){let t=indexedDB.open(yO,S8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(s_,{keyPath:wO})}catch(i){n(i)}}),t.addEventListener("success",()=>T(null,null,function*(){let r=t.result;r.objectStoreNames.contains(s_)?e(r):(r.close(),yield A8(),e(yield BI()))}))})}function VN(t,e,n){return T(this,null,function*(){let r=c_(t,!0).put({[wO]:e,value:n});return new Wa(r).toPromise()})}function M8(t,e){return T(this,null,function*(){let n=c_(t,!1).get(e),r=yield new Wa(n).toPromise();return r===void 0?null:r.value})}function BN(t,e){let n=c_(t,!0).delete(e);return new Wa(n).toPromise()}var x8=800,P8=3,R8=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return T(this,null,function*(){return this.db?this.db:(this.db=yield BI(),this.db)})}_withRetries(n){return T(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>P8)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return T(this,null,function*(){return vO()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return T(this,null,function*(){this.receiver=I8._getInstance(D8()),this.receiver._subscribe("keyChanged",(n,r)=>T(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>T(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return T(this,null,function*(){var n,r;if(this.activeServiceWorker=yield T8(),!this.activeServiceWorker)return;this.sender=new VI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return T(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||C8()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return T(this,null,function*(){try{if(!indexedDB)return!1;let n=yield BI();return yield VN(n,i_,"1"),yield BN(n,i_),!0}catch{}return!1})}_withPendingWrite(n){return T(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(i=>VN(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return T(this,null,function*(){let r=yield this._withRetries(i=>M8(i,n));return this.localCache[n]=r,r})}_remove(n){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(r=>BN(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return T(this,null,function*(){let n=yield this._withRetries(o=>{let a=c_(o,!1).getAll();return new Wa(a).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:a}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>T(this,null,function*(){return this._poll()}),x8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),EO=R8;var lae=cO("rcb"),dae=new qa(3e4,6e4);function N8(t,e){return e?vo(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var xh=class extends Ah{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return II(e,this._buildIdpRequest())}_linkToIdToken(e,n){return II(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return II(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function O8(t){return pO(t.auth,new xh(t),t.bypassAuthState)}function k8(t){let{auth:e,user:n}=t;return _e(n,e,"internal-error"),m8(n,new xh(t),t.bypassAuthState)}function L8(t){return T(this,null,function*(){let{auth:e,user:n}=t;return _e(n,e,"internal-error"),g8(n,new xh(t),t.bypassAuthState)})}var UI=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>T(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return T(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O8;case"linkViaPopup":case"linkViaRedirect":return L8;case"reauthViaPopup":case"reauthViaRedirect":return k8;default:Mi(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var hae=new qa(2e3,1e4);var F8="pendingRedirect",Km=new Map,jI=class t extends UI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return T(this,null,function*(){let e=Km.get(this.auth._key());if(!e){try{let r=(yield V8(this.resolver,this.auth))?yield Go(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Km.set(this.auth._key(),e)}return this.bypassAuthState||Km.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return T(this,null,function*(){if(e.type==="signInViaRedirect")return Go(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Go(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return T(this,null,function*(){})}cleanUp(){}};function V8(t,e){return T(this,null,function*(){let n=j8(e),r=U8(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function B8(t,e){Km.set(t._key(),e)}function U8(t){return vo(t._redirectPersistence)}function j8(t){return Gm(F8,t.config.apiKey,t.name)}function $8(t,e,n=!1){return T(this,null,function*(){if(zn(t.app))return Promise.reject(yo(t));let r=Ga(t),i=N8(r,e),a=yield new jI(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})}var z8=10*60*1e3,$I=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IO(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ha(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z8&&this.cachedEventUids.clear(),this.cachedEventUids.has(UN(e))}saveEventToCache(e){this.cachedEventUids.add(UN(e)),this.lastProcessedEventTime=Date.now()}};function UN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IO({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function H8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IO(t);default:return!1}}function q8(n){return T(this,arguments,function*(t,e={}){return Es(t,"GET","/v1/projects",e)})}var W8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G8=/^https?/;function K8(t){return T(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield q8(t);for(let n of e)try{if(Z8(n))return}catch{}Mi(t,"unauthorized-domain")})}function Z8(t){let e=TI(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!G8.test(n))return!1;if(W8.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Q8=new qa(3e4,6e4);function jN(){let t=Ai().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Y8(t){return new Promise((e,n)=>{var r,i,o;function a(){jN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jN(),n(Ha(t,"network-request-failed"))},timeout:Q8.get()})}if(!((i=(r=Ai().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ai().gapi)===null||o===void 0)&&o.load)a();else{let c=cO("iframefcb");return Ai()[c]=()=>{gapi.load?a():n(Ha(t,"network-request-failed"))},uO(`${r8()}?onload=${c}`).catch(l=>n(l))}}).catch(e=>{throw Zm=null,e})}var Zm=null;function J8(t){return Zm=Zm||Y8(t),Zm}var X8=new qa(5e3,15e3),eW="__/auth/iframe",tW="emulator/auth/iframe",nW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iW(t){let e=t.config;_e(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?WI(e,tW):`https://${t.config.authDomain}/${eW}`,r={apiKey:e.apiKey,appName:t.name,v:fs},i=rW.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${_h(r).slice(1)}`}function oW(t){return T(this,null,function*(){let e=yield J8(t),n=Ai().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:iW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nW,dontclear:!0},r=>new Promise((i,o)=>T(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let a=Ha(t,"network-request-failed"),c=Ai().setTimeout(()=>{o(a)},X8.get());function l(){Ai().clearTimeout(c),i(r)}r.ping(l).then(l,()=>{o(a)})})))})}var sW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aW=500,uW=600,cW="_blank",lW="http://localhost",a_=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function dW(t,e,n,r=aW,i=uW){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",l=Object.assign(Object.assign({},sW),{width:r.toString(),height:i.toString(),top:o,left:a}),f=rn().toLowerCase();n&&(c=tO(f)?cW:n),XN(f)&&(e=e||lW,l.scrollbars="yes");let m=Object.entries(l).reduce((I,[E,M])=>`${I}${E}=${M},`,"");if(Y6(f)&&c!=="_self")return hW(e||"",c),new a_(null);let y=window.open(e||"",c,m);_e(y,t,"popup-blocked");try{y.focus()}catch{}return new a_(y)}function hW(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var fW="__/auth/handler",pW="emulator/auth/handler",gW=encodeURIComponent("fac");function $N(t,e,n,r,i,o){return T(this,null,function*(){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fs,eventId:i};if(e instanceof r_){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",tN(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[m,y]of Object.entries(o||{}))a[m]=y}if(e instanceof LI){let m=e.getScopes().filter(y=>y!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);let c=a;for(let m of Object.keys(c))c[m]===void 0&&delete c[m];let l=yield t._getAppCheckToken(),f=l?`#${gW}=${encodeURIComponent(l)}`:"";return`${mW(t)}?${_h(c).slice(1)}${f}`})}function mW({config:t}){return t.emulator?WI(t,pW):`https://${t.authDomain}/${fW}`}var bI="webStorageSupport",zI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ib,this._completeRedirectFn=$8,this._overrideRedirectResult=B8}_openPopup(e,n,r,i){return T(this,null,function*(){var o;ys((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=yield $N(e,n,r,TI(),i);return dW(e,a,_O())})}_openRedirect(e,n,r,i){return T(this,null,function*(){yield this._originValidation(e);let o=yield $N(e,n,r,TI(),i);return b8(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ys(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return T(this,null,function*(){let n=yield oW(e),r=new $I(e);return n.register("authEvent",i=>(_e(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bI,{type:bI},i=>{var o;let a=(o=i?.[0])===null||o===void 0?void 0:o[bI];a!==void 0&&n(!!a),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=K8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sO()||eO()||QI()}},bO=zI;var zN="@firebase/auth",HN="1.10.4";var HI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function _W(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vW(t){Gr(new An("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aO(t)},f=new PI(r,i,o,l);return o8(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gr(new An("auth-internal",e=>{let n=Ga(e.getProvider("auth").getImmediate());return(r=>new HI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dt(zN,HN,_W(t)),Dt(zN,HN,"esm2017")}var yW=5*60,wW=YE("authIdTokenMaxAge")||yW,qN=null,EW=t=>e=>T(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wW)return;let i=n?.token;qN!==i&&(qN=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ob(t=ja()){let e=Oc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=YI(t,{popupRedirectResolver:bO,persistence:[EO,mO,ib]}),r=YE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let a=EW(o.toString());nb(n,a,()=>a(n.currentUser)),Rh(n,c=>a(c))}}let i=ZE("auth");return i?JI(n,`http://${i}`):Pc("Auth",!1),n}function IW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t8({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ha("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",IW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vW("Browser");function DO(t){return new xe(function(e){var n=Rh(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var SO="auth",Ka=class{constructor(e){return e}},Nh=class{constructor(){return Lc(SO)}};var sb=new Y("angularfire2.auth-instances");function cG(t,e){let n=wh(SO,t,e);return n&&new Ka(n)}function lG(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ka(r)}}var dG={provide:Nh,deps:[[new nr,sb]]},hG={provide:Ka,useFactory:cG,deps:[[new nr,sb],mo]};function AO(t,...e){return Dt("angularfire",ps.full,"auth"),Fn([hG,dG,{provide:sb,useFactory:lG(t),multi:!0,deps:[Ye,kt,gs,za,[new nr,Fc],...e]}])}var MO=xt(DO,!0);var xO=xt(eb,!0,2);var PO=xt(ob,!0);var RO=xt(tb,!0,2);var NO=xt(rb,!0,2);var OO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kO={};var wo,ab;(function(){var t;function e(P,C){function D(){}D.prototype=C.prototype,P.D=C.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(x,R,O){for(var A=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)A[mt-2]=arguments[mt];return C.prototype[R].apply(x,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,C,D){D||(D=0);var x=Array(16);if(typeof C=="string")for(var R=0;16>R;++R)x[R]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(R=0;16>R;++R)x[R]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=P.g[0],D=P.g[1],R=P.g[2];var O=P.g[3],A=C+(O^D&(R^O))+x[0]+3614090360&4294967295;C=D+(A<<7&4294967295|A>>>25),A=O+(R^C&(D^R))+x[1]+3905402710&4294967295,O=C+(A<<12&4294967295|A>>>20),A=R+(D^O&(C^D))+x[2]+606105819&4294967295,R=O+(A<<17&4294967295|A>>>15),A=D+(C^R&(O^C))+x[3]+3250441966&4294967295,D=R+(A<<22&4294967295|A>>>10),A=C+(O^D&(R^O))+x[4]+4118548399&4294967295,C=D+(A<<7&4294967295|A>>>25),A=O+(R^C&(D^R))+x[5]+1200080426&4294967295,O=C+(A<<12&4294967295|A>>>20),A=R+(D^O&(C^D))+x[6]+2821735955&4294967295,R=O+(A<<17&4294967295|A>>>15),A=D+(C^R&(O^C))+x[7]+4249261313&4294967295,D=R+(A<<22&4294967295|A>>>10),A=C+(O^D&(R^O))+x[8]+1770035416&4294967295,C=D+(A<<7&4294967295|A>>>25),A=O+(R^C&(D^R))+x[9]+2336552879&4294967295,O=C+(A<<12&4294967295|A>>>20),A=R+(D^O&(C^D))+x[10]+4294925233&4294967295,R=O+(A<<17&4294967295|A>>>15),A=D+(C^R&(O^C))+x[11]+2304563134&4294967295,D=R+(A<<22&4294967295|A>>>10),A=C+(O^D&(R^O))+x[12]+1804603682&4294967295,C=D+(A<<7&4294967295|A>>>25),A=O+(R^C&(D^R))+x[13]+4254626195&4294967295,O=C+(A<<12&4294967295|A>>>20),A=R+(D^O&(C^D))+x[14]+2792965006&4294967295,R=O+(A<<17&4294967295|A>>>15),A=D+(C^R&(O^C))+x[15]+1236535329&4294967295,D=R+(A<<22&4294967295|A>>>10),A=C+(R^O&(D^R))+x[1]+4129170786&4294967295,C=D+(A<<5&4294967295|A>>>27),A=O+(D^R&(C^D))+x[6]+3225465664&4294967295,O=C+(A<<9&4294967295|A>>>23),A=R+(C^D&(O^C))+x[11]+643717713&4294967295,R=O+(A<<14&4294967295|A>>>18),A=D+(O^C&(R^O))+x[0]+3921069994&4294967295,D=R+(A<<20&4294967295|A>>>12),A=C+(R^O&(D^R))+x[5]+3593408605&4294967295,C=D+(A<<5&4294967295|A>>>27),A=O+(D^R&(C^D))+x[10]+38016083&4294967295,O=C+(A<<9&4294967295|A>>>23),A=R+(C^D&(O^C))+x[15]+3634488961&4294967295,R=O+(A<<14&4294967295|A>>>18),A=D+(O^C&(R^O))+x[4]+3889429448&4294967295,D=R+(A<<20&4294967295|A>>>12),A=C+(R^O&(D^R))+x[9]+568446438&4294967295,C=D+(A<<5&4294967295|A>>>27),A=O+(D^R&(C^D))+x[14]+3275163606&4294967295,O=C+(A<<9&4294967295|A>>>23),A=R+(C^D&(O^C))+x[3]+4107603335&4294967295,R=O+(A<<14&4294967295|A>>>18),A=D+(O^C&(R^O))+x[8]+1163531501&4294967295,D=R+(A<<20&4294967295|A>>>12),A=C+(R^O&(D^R))+x[13]+2850285829&4294967295,C=D+(A<<5&4294967295|A>>>27),A=O+(D^R&(C^D))+x[2]+4243563512&4294967295,O=C+(A<<9&4294967295|A>>>23),A=R+(C^D&(O^C))+x[7]+1735328473&4294967295,R=O+(A<<14&4294967295|A>>>18),A=D+(O^C&(R^O))+x[12]+2368359562&4294967295,D=R+(A<<20&4294967295|A>>>12),A=C+(D^R^O)+x[5]+4294588738&4294967295,C=D+(A<<4&4294967295|A>>>28),A=O+(C^D^R)+x[8]+2272392833&4294967295,O=C+(A<<11&4294967295|A>>>21),A=R+(O^C^D)+x[11]+1839030562&4294967295,R=O+(A<<16&4294967295|A>>>16),A=D+(R^O^C)+x[14]+4259657740&4294967295,D=R+(A<<23&4294967295|A>>>9),A=C+(D^R^O)+x[1]+2763975236&4294967295,C=D+(A<<4&4294967295|A>>>28),A=O+(C^D^R)+x[4]+1272893353&4294967295,O=C+(A<<11&4294967295|A>>>21),A=R+(O^C^D)+x[7]+4139469664&4294967295,R=O+(A<<16&4294967295|A>>>16),A=D+(R^O^C)+x[10]+3200236656&4294967295,D=R+(A<<23&4294967295|A>>>9),A=C+(D^R^O)+x[13]+681279174&4294967295,C=D+(A<<4&4294967295|A>>>28),A=O+(C^D^R)+x[0]+3936430074&4294967295,O=C+(A<<11&4294967295|A>>>21),A=R+(O^C^D)+x[3]+3572445317&4294967295,R=O+(A<<16&4294967295|A>>>16),A=D+(R^O^C)+x[6]+76029189&4294967295,D=R+(A<<23&4294967295|A>>>9),A=C+(D^R^O)+x[9]+3654602809&4294967295,C=D+(A<<4&4294967295|A>>>28),A=O+(C^D^R)+x[12]+3873151461&4294967295,O=C+(A<<11&4294967295|A>>>21),A=R+(O^C^D)+x[15]+530742520&4294967295,R=O+(A<<16&4294967295|A>>>16),A=D+(R^O^C)+x[2]+3299628645&4294967295,D=R+(A<<23&4294967295|A>>>9),A=C+(R^(D|~O))+x[0]+4096336452&4294967295,C=D+(A<<6&4294967295|A>>>26),A=O+(D^(C|~R))+x[7]+1126891415&4294967295,O=C+(A<<10&4294967295|A>>>22),A=R+(C^(O|~D))+x[14]+2878612391&4294967295,R=O+(A<<15&4294967295|A>>>17),A=D+(O^(R|~C))+x[5]+4237533241&4294967295,D=R+(A<<21&4294967295|A>>>11),A=C+(R^(D|~O))+x[12]+1700485571&4294967295,C=D+(A<<6&4294967295|A>>>26),A=O+(D^(C|~R))+x[3]+2399980690&4294967295,O=C+(A<<10&4294967295|A>>>22),A=R+(C^(O|~D))+x[10]+4293915773&4294967295,R=O+(A<<15&4294967295|A>>>17),A=D+(O^(R|~C))+x[1]+2240044497&4294967295,D=R+(A<<21&4294967295|A>>>11),A=C+(R^(D|~O))+x[8]+1873313359&4294967295,C=D+(A<<6&4294967295|A>>>26),A=O+(D^(C|~R))+x[15]+4264355552&4294967295,O=C+(A<<10&4294967295|A>>>22),A=R+(C^(O|~D))+x[6]+2734768916&4294967295,R=O+(A<<15&4294967295|A>>>17),A=D+(O^(R|~C))+x[13]+1309151649&4294967295,D=R+(A<<21&4294967295|A>>>11),A=C+(R^(D|~O))+x[4]+4149444226&4294967295,C=D+(A<<6&4294967295|A>>>26),A=O+(D^(C|~R))+x[11]+3174756917&4294967295,O=C+(A<<10&4294967295|A>>>22),A=R+(C^(O|~D))+x[2]+718787259&4294967295,R=O+(A<<15&4294967295|A>>>17),A=D+(O^(R|~C))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+R&4294967295,P.g[3]=P.g[3]+O&4294967295}r.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var D=C-this.blockSize,x=this.B,R=this.h,O=0;O<C;){if(R==0)for(;O<=D;)i(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<C;)if(x[R++]=P.charCodeAt(O++),R==this.blockSize){i(this,x),R=0;break}}else for(;O<C;)if(x[R++]=P[O++],R==this.blockSize){i(this,x),R=0;break}}this.h=R,this.o+=C},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var D=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=D&255,D/=256;for(this.u(P),P=Array(16),C=D=0;4>C;++C)for(var x=0;32>x;x+=8)P[D++]=this.g[C]>>>x&255;return P};function o(P,C){var D=c;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=C(P)}function a(P,C){this.h=C;for(var D=[],x=!0,R=P.length-1;0<=R;R--){var O=P[R]|0;x&&O==C||(D[R]=O,x=!1)}this.g=D}var c={};function l(P){return-128<=P&&128>P?o(P,function(C){return new a([C|0],0>C?-1:0)}):new a([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return y;if(0>P)return V(f(-P));for(var C=[],D=1,x=0;P>=D;x++)C[x]=P/D|0,D*=4294967296;return new a(C,0)}function m(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return V(m(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=f(Math.pow(C,8)),x=y,R=0;R<P.length;R+=8){var O=Math.min(8,P.length-R),A=parseInt(P.substring(R,R+O),C);8>O?(O=f(Math.pow(C,O)),x=x.j(O).add(f(A))):(x=x.j(D),x=x.add(f(A)))}return x}var y=l(0),I=l(1),E=l(16777216);t=a.prototype,t.m=function(){if(F(this))return-V(this).m();for(var P=0,C=1,D=0;D<this.g.length;D++){var x=this.i(D);P+=(0<=x?x:4294967296+x)*C,C*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(M(this))return"0";if(F(this))return"-"+V(this).toString(P);for(var C=f(Math.pow(P,6)),D=this,x="";;){var R=ke(D,C).g;D=G(D,R.j(C));var O=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=R,M(D))return O+x;for(;6>O.length;)O="0"+O;x=O+x}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function M(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function F(P){return P.h==-1}t.l=function(P){return P=G(this,P),F(P)?-1:M(P)?0:1};function V(P){for(var C=P.g.length,D=[],x=0;x<C;x++)D[x]=~P.g[x];return new a(D,~P.h).add(I)}t.abs=function(){return F(this)?V(this):this},t.add=function(P){for(var C=Math.max(this.g.length,P.g.length),D=[],x=0,R=0;R<=C;R++){var O=x+(this.i(R)&65535)+(P.i(R)&65535),A=(O>>>16)+(this.i(R)>>>16)+(P.i(R)>>>16);x=A>>>16,O&=65535,A&=65535,D[R]=A<<16|O}return new a(D,D[D.length-1]&-2147483648?-1:0)};function G(P,C){return P.add(V(C))}t.j=function(P){if(M(this)||M(P))return y;if(F(this))return F(P)?V(this).j(V(P)):V(V(this).j(P));if(F(P))return V(this.j(V(P)));if(0>this.l(E)&&0>P.l(E))return f(this.m()*P.m());for(var C=this.g.length+P.g.length,D=[],x=0;x<2*C;x++)D[x]=0;for(x=0;x<this.g.length;x++)for(var R=0;R<P.g.length;R++){var O=this.i(x)>>>16,A=this.i(x)&65535,mt=P.i(R)>>>16,Ir=P.i(R)&65535;D[2*x+2*R]+=A*Ir,re(D,2*x+2*R),D[2*x+2*R+1]+=O*Ir,re(D,2*x+2*R+1),D[2*x+2*R+1]+=A*mt,re(D,2*x+2*R+1),D[2*x+2*R+2]+=O*mt,re(D,2*x+2*R+2)}for(x=0;x<C;x++)D[x]=D[2*x+1]<<16|D[2*x];for(x=C;x<2*C;x++)D[x]=0;return new a(D,0)};function re(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function X(P,C){this.g=P,this.h=C}function ke(P,C){if(M(C))throw Error("division by zero");if(M(P))return new X(y,y);if(F(P))return C=ke(V(P),C),new X(V(C.g),V(C.h));if(F(C))return C=ke(P,V(C)),new X(V(C.g),C.h);if(30<P.g.length){if(F(P)||F(C))throw Error("slowDivide_ only works with positive integers.");for(var D=I,x=C;0>=x.l(P);)D=Pt(D),x=Pt(x);var R=We(D,1),O=We(x,1);for(x=We(x,2),D=We(D,2);!M(x);){var A=O.add(x);0>=A.l(P)&&(R=R.add(D),O=A),x=We(x,1),D=We(D,1)}return C=G(P,R.j(C)),new X(R,C)}for(R=y;0<=P.l(C);){for(D=Math.max(1,Math.floor(P.m()/C.m())),x=Math.ceil(Math.log(D)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),O=f(D),A=O.j(C);F(A)||0<A.l(P);)D-=x,O=f(D),A=O.j(C);M(O)&&(O=I),R=R.add(O),P=G(P,A)}return new X(R,P)}t.A=function(P){return ke(this,P).h},t.and=function(P){for(var C=Math.max(this.g.length,P.g.length),D=[],x=0;x<C;x++)D[x]=this.i(x)&P.i(x);return new a(D,this.h&P.h)},t.or=function(P){for(var C=Math.max(this.g.length,P.g.length),D=[],x=0;x<C;x++)D[x]=this.i(x)|P.i(x);return new a(D,this.h|P.h)},t.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),D=[],x=0;x<C;x++)D[x]=this.i(x)^P.i(x);return new a(D,this.h^P.h)};function Pt(P){for(var C=P.g.length+1,D=[],x=0;x<C;x++)D[x]=P.i(x)<<1|P.i(x-1)>>>31;return new a(D,P.h)}function We(P,C){var D=C>>5;C%=32;for(var x=P.g.length-D,R=[],O=0;O<x;O++)R[O]=0<C?P.i(O+D)>>>C|P.i(O+D+1)<<32-C:P.i(O+D);return new a(R,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ab=kO.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=m,wo=kO.Integer=a}).apply(typeof OO<"u"?OO:typeof self<"u"?self:typeof window<"u"?window:{});var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Eo={};var ub,pG,Bc,cb,Oh,d_,lb,db,hb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,v){return d==Array.prototype||d==Object.prototype||(d[g]=v.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof l_=="object"&&l_];for(var g=0;g<d.length;++g){var v=d[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(d,g){if(g)e:{var v=r;d=d.split(".");for(var b=0;b<d.length-1;b++){var N=d[b];if(!(N in v))break e;v=v[N]}d=d[d.length-1],b=v[d],g=g(b),g!=b&&g!=null&&e(v,d,{configurable:!0,writable:!0,value:g})}}function o(d,g){d instanceof String&&(d+="");var v=0,b=!1,N={next:function(){if(!b&&v<d.length){var U=v++;return{value:g(U,d[U]),done:!1}}return b=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(d){return d||function(){return o(this,function(g,v){return v})}});var a=a||{},c=this||self;function l(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function f(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function m(d,g,v){return d.call.apply(d.bind,arguments)}function y(d,g,v){if(!d)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,b),d.apply(g,N)}}return function(){return d.apply(g,arguments)}}function I(d,g,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,I.apply(null,arguments)}function E(d,g){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),d.apply(this,b)}}function M(d,g){function v(){}v.prototype=g.prototype,d.aa=g.prototype,d.prototype=new v,d.prototype.constructor=d,d.Qb=function(b,N,U){for(var Z=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)Z[Pe-2]=arguments[Pe];return g.prototype[N].apply(b,Z)}}function F(d){let g=d.length;if(0<g){let v=Array(g);for(let b=0;b<g;b++)v[b]=d[b];return v}return[]}function V(d,g){for(let v=1;v<arguments.length;v++){let b=arguments[v];if(l(b)){let N=d.length||0,U=b.length||0;d.length=N+U;for(let Z=0;Z<U;Z++)d[N+Z]=b[Z]}else d.push(b)}}class G{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function re(d){return/^[\s\xa0]*$/.test(d)}function X(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function ke(d){return ke[" "](d),d}ke[" "]=function(){};var Pt=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function We(d,g,v){for(let b in d)g.call(v,d[b],b,d)}function P(d,g){for(let v in d)g.call(void 0,d[v],v,d)}function C(d){let g={};for(let v in d)g[v]=d[v];return g}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(d,g){let v,b;for(let N=1;N<arguments.length;N++){b=arguments[N];for(v in b)d[v]=b[v];for(let U=0;U<D.length;U++)v=D[U],Object.prototype.hasOwnProperty.call(b,v)&&(d[v]=b[v])}}function R(d){var g=1;d=d.split(":");let v=[];for(;0<g&&d.length;)v.push(d.shift()),g--;return d.length&&v.push(d.join(":")),v}function O(d){c.setTimeout(()=>{throw d},0)}function A(){var d=ot;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class mt{constructor(){this.h=this.g=null}add(g,v){let b=Ir.get();b.set(g,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Ir=new G(()=>new we,d=>d.reset());class we{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let No,fe=!1,ot=new mt,an=()=>{let d=c.Promise.resolve(void 0);No=()=>{d.then(pn)}};var pn=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(v){O(v)}var g=Ir;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}fe=!1};function tt(){this.s=this.s,this.C=this.C}tt.prototype.s=!1,tt.prototype.ma=function(){this.s||(this.s=!0,this.N())},tt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let v=()=>{};c.addEventListener("test",v,g),c.removeEventListener("test",v,g)}catch{}return d}();function En(d,g){if(ve.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var v=this.type=d.type,b=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(Pt){e:{try{ke(g.nodeName);var N=!0;break e}catch{}N=!1}N||(g=null)}}else v=="mouseover"?g=d.fromElement:v=="mouseout"&&(g=d.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Xr[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&En.aa.h.call(this)}}M(En,ve);var Xr={2:"touch",3:"pen",4:"mouse"};En.prototype.h=function(){En.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Oo="closure_listenable_"+(1e6*Math.random()|0),gl=0;function ml(d,g,v,b,N){this.listener=d,this.proxy=null,this.src=g,this.type=v,this.capture=!!b,this.ha=N,this.key=++gl,this.da=this.fa=!1}function ei(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ko(d){this.src=d,this.g={},this.h=0}ko.prototype.add=function(d,g,v,b,N){var U=d.toString();d=this.g[U],d||(d=this.g[U]=[],this.h++);var Z=cu(d,g,b,N);return-1<Z?(g=d[Z],v||(g.fa=!1)):(g=new ml(g,this.src,U,!!b,N),g.fa=v,d.push(g)),g};function _l(d,g){var v=g.type;if(v in d.g){var b=d.g[v],N=Array.prototype.indexOf.call(b,g,void 0),U;(U=0<=N)&&Array.prototype.splice.call(b,N,1),U&&(ei(g),d.g[v].length==0&&(delete d.g[v],d.h--))}}function cu(d,g,v,b){for(var N=0;N<d.length;++N){var U=d[N];if(!U.da&&U.listener==g&&U.capture==!!v&&U.ha==b)return N}return-1}var lu="closure_lm_"+(1e6*Math.random()|0),Os={};function ks(d,g,v,b,N){if(b&&b.once)return du(d,g,v,b,N);if(Array.isArray(g)){for(var U=0;U<g.length;U++)ks(d,g[U],v,b,N);return null}return v=pu(v),d&&d[Oo]?d.K(g,v,f(b)?!!b.capture:!!b,N):lf(d,g,v,!1,b,N)}function lf(d,g,v,b,N,U){if(!g)throw Error("Invalid event type");var Z=f(N)?!!N.capture:!!N,Pe=Ls(d);if(Pe||(d[lu]=Pe=new ko(d)),v=Pe.add(g,v,b,Z,U),v.proxy)return v;if(b=df(),v.proxy=b,b.src=d,b.listener=v,d.addEventListener)Ve||(N=Z),N===void 0&&(N=!1),d.addEventListener(g.toString(),b,N);else if(d.attachEvent)d.attachEvent(hf(g.toString()),b);else if(d.addListener&&d.removeListener)d.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function df(){function d(v){return g.call(d.src,d.listener,v)}let g=Pv;return d}function du(d,g,v,b,N){if(Array.isArray(g)){for(var U=0;U<g.length;U++)du(d,g[U],v,b,N);return null}return v=pu(v),d&&d[Oo]?d.L(g,v,f(b)?!!b.capture:!!b,N):lf(d,g,v,!0,b,N)}function vl(d,g,v,b,N){if(Array.isArray(g))for(var U=0;U<g.length;U++)vl(d,g[U],v,b,N);else b=f(b)?!!b.capture:!!b,v=pu(v),d&&d[Oo]?(d=d.i,g=String(g).toString(),g in d.g&&(U=d.g[g],v=cu(U,v,b,N),-1<v&&(ei(U[v]),Array.prototype.splice.call(U,v,1),U.length==0&&(delete d.g[g],d.h--)))):d&&(d=Ls(d))&&(g=d.g[g.toString()],d=-1,g&&(d=cu(g,v,b,N)),(v=-1<d?g[d]:null)&&hu(v))}function hu(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[Oo])_l(g.i,d);else{var v=d.type,b=d.proxy;g.removeEventListener?g.removeEventListener(v,b,d.capture):g.detachEvent?g.detachEvent(hf(v),b):g.addListener&&g.removeListener&&g.removeListener(b),(v=Ls(g))?(_l(v,d),v.h==0&&(v.src=null,g[lu]=null)):ei(d)}}}function hf(d){return d in Os?Os[d]:Os[d]="on"+d}function Pv(d,g){if(d.da)d=!0;else{g=new En(g,this);var v=d.listener,b=d.ha||d.src;d.fa&&hu(d),d=v.call(b,g)}return d}function Ls(d){return d=d[lu],d instanceof ko?d:null}var fu="__closure_events_fn_"+(1e9*Math.random()>>>0);function pu(d){return typeof d=="function"?d:(d[fu]||(d[fu]=function(g){return d.handleEvent(g)}),d[fu])}function Kt(){tt.call(this),this.i=new ko(this),this.M=this,this.F=null}M(Kt,tt),Kt.prototype[Oo]=!0,Kt.prototype.removeEventListener=function(d,g,v,b){vl(this,d,g,v,b)};function Zt(d,g){var v,b=d.F;if(b)for(v=[];b;b=b.F)v.push(b);if(d=d.M,b=g.type||g,typeof g=="string")g=new ve(g,d);else if(g instanceof ve)g.target=g.target||d;else{var N=g;g=new ve(b,d),x(g,N)}if(N=!0,v)for(var U=v.length-1;0<=U;U--){var Z=g.g=v[U];N=Fs(Z,b,!0,g)&&N}if(Z=g.g=d,N=Fs(Z,b,!0,g)&&N,N=Fs(Z,b,!1,g)&&N,v)for(U=0;U<v.length;U++)Z=g.g=v[U],N=Fs(Z,b,!1,g)&&N}Kt.prototype.N=function(){if(Kt.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var v=d.g[g],b=0;b<v.length;b++)ei(v[b]);delete d.g[g],d.h--}}this.F=null},Kt.prototype.K=function(d,g,v,b){return this.i.add(String(d),g,!1,v,b)},Kt.prototype.L=function(d,g,v,b){return this.i.add(String(d),g,!0,v,b)};function Fs(d,g,v,b){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var N=!0,U=0;U<g.length;++U){var Z=g[U];if(Z&&!Z.da&&Z.capture==v){var Pe=Z.listener,pt=Z.ha||Z.src;Z.fa&&_l(d.i,Z),N=Pe.call(pt,b)!==!1&&N}}return N&&!b.defaultPrevented}function ff(d,g,v){if(typeof d=="function")v&&(d=I(d,v));else if(d&&typeof d.handleEvent=="function")d=I(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:c.setTimeout(d,g||0)}function yl(d){d.g=ff(()=>{d.g=null,d.i&&(d.i=!1,yl(d))},d.l);let g=d.h;d.h=null,d.m.apply(null,g)}class wl extends tt{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:yl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lo(d){tt.call(this),this.h=d,this.g={}}M(Lo,tt);var pf=[];function Fo(d){We(d.g,function(g,v){this.g.hasOwnProperty(v)&&hu(g)},d),d.g={}}Lo.prototype.N=function(){Lo.aa.N.call(this),Fo(this)},Lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var El=c.JSON.stringify,Rv=c.JSON.parse,gf=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function gu(){}gu.prototype.h=null;function Il(d){return d.h||(d.h=d.i())}function mf(){}var Vs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bl(){ve.call(this,"d")}M(bl,ve);function Tl(){ve.call(this,"c")}M(Tl,ve);var Fi={},_f=null;function Vo(){return _f=_f||new Kt}Fi.La="serverreachability";function vf(d){ve.call(this,Fi.La,d)}M(vf,ve);function Bs(d){let g=Vo();Zt(g,new vf(g))}Fi.STAT_EVENT="statevent";function yf(d,g){ve.call(this,Fi.STAT_EVENT,d),this.stat=g}M(yf,ve);function un(d){let g=Vo();Zt(g,new yf(g,d))}Fi.Ma="timingevent";function Wn(d,g){ve.call(this,Fi.Ma,d),this.size=g}M(Wn,ve);function se(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},g)}function Bo(){this.g=!0}Bo.prototype.xa=function(){this.g=!1};function wf(d,g,v,b,N,U){d.info(function(){if(d.g)if(U)for(var Z="",Pe=U.split("&"),pt=0;pt<Pe.length;pt++){var Ge=Pe[pt].split("=");if(1<Ge.length){var ut=Ge[0];Ge=Ge[1];var Qt=ut.split("_");Z=2<=Qt.length&&Qt[1]=="type"?Z+(ut+"="+Ge+"&"):Z+(ut+"=redacted&")}}else Z=null;else Z=U;return"XMLHTTP REQ ("+b+") [attempt "+N+"]: "+g+`
`+v+`
`+Z})}function Ef(d,g,v,b,N,U,Z){d.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+N+"]: "+g+`
`+v+`
`+U+" "+Z})}function Vi(d,g,v,b){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+If(d,v)+(b?" "+b:"")})}function Cl(d,g){d.info(function(){return"TIMEOUT: "+g})}Bo.prototype.info=function(){};function If(d,g){if(!d.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(d=0;d<v.length;d++)if(Array.isArray(v[d])){var b=v[d];if(!(2>b.length)){var N=b[1];if(Array.isArray(N)&&!(1>N.length)){var U=N[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Z=1;Z<N.length;Z++)N[Z]=""}}}}return El(v)}catch{return g}}var br={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sl;function mu(){}M(mu,gu),mu.prototype.g=function(){return new XMLHttpRequest},mu.prototype.i=function(){return{}},Sl=new mu;function ti(d,g,v,b){this.j=d,this.i=g,this.l=v,this.R=b||1,this.U=new Lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bf}function bf(){this.i=null,this.g="",this.h=!1}var Al={},Ml={};function Uo(d,g,v){d.L=1,d.v=$o(cn(g)),d.m=v,d.P=!0,Tf(d,null)}function Tf(d,g){d.F=Date.now(),_u(d),d.A=cn(d.v);var v=d.A,b=d.R;Array.isArray(b)||(b=[String(b)]),nt(v.i,"t",b),d.C=0,v=d.j.J,d.h=new bf,d.g=Ys(d.j,v?g:null,!d.m),0<d.O&&(d.M=new wl(I(d.Y,d,d.g),d.O)),g=d.U,v=d.g,b=d.ca;var N="readystatechange";Array.isArray(N)||(N&&(pf[0]=N.toString()),N=pf);for(var U=0;U<N.length;U++){var Z=ks(v,N[U],b||g.handleEvent,!1,g.h||g);if(!Z)break;g.g[Z.key]=Z}g=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),Bs(),wf(d.i,d.u,d.A,d.l,d.R,d.m)}ti.prototype.ca=function(d){d=d.target;let g=this.M;g&&Kn(d)==3?g.j():this.Y(d)},ti.prototype.Y=function(d){try{if(d==this.g)e:{let Qt=Kn(this.g);var g=this.g.Ba();let Qn=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||Pf(this.g)))){this.J||Qt!=4||g==7||(g==8||0>=Qn?Bs(3):Bs(2)),Us(this);var v=this.g.Z();this.X=v;t:if(Cf(this)){var b=Pf(this.g);d="";var N=b.length,U=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ni(this),Tr(this);var Z="";break t}this.h.i=new c.TextDecoder}for(g=0;g<N;g++)this.h.h=!0,d+=this.h.i.decode(b[g],{stream:!(U&&g==N-1)});b.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=v==200,Ef(this.i,this.u,this.A,this.l,this.R,Qt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,pt=this.g;if((Pe=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Pe)){var Ge=Pe;break t}}Ge=null}if(v=Ge)Vi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vu(this,v);else{this.o=!1,this.s=3,un(12),ni(this),Tr(this);break e}}if(this.P){v=!0;let Yn;for(;!this.J&&this.C<Z.length;)if(Yn=Nv(this,Z),Yn==Ml){Qt==4&&(this.s=4,un(14),v=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==Al){this.s=4,un(15),Vi(this.i,this.l,Z,"[Invalid Chunk]"),v=!1;break}else Vi(this.i,this.l,Yn,null),vu(this,Yn);if(Cf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||Z.length!=0||this.h.h||(this.s=1,un(16),v=!1),this.o=this.o&&v,!v)Vi(this.i,this.l,Z,"[Invalid Chunked Response]"),ni(this),Tr(this);else if(0<Z.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Tu(ut),ut.M=!0,un(11))}}else Vi(this.i,this.l,Z,null),vu(this,Z);Qt==4&&ni(this),this.o&&!this.J&&(Qt==4?kf(this.j,this):(this.o=!1,_u(this)))}else Rf(this.g),v==400&&0<Z.indexOf("Unknown SID")?(this.s=3,un(12)):(this.s=0,un(13)),ni(this),Tr(this)}}}catch{}finally{}};function Cf(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Nv(d,g){var v=d.C,b=g.indexOf(`
`,v);return b==-1?Ml:(v=Number(g.substring(v,b)),isNaN(v)?Al:(b+=1,b+v>g.length?Ml:(g=g.slice(b,b+v),d.C=b+v,g)))}ti.prototype.cancel=function(){this.J=!0,ni(this)};function _u(d){d.S=Date.now()+d.I,Df(d,d.I)}function Df(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=se(I(d.ba,d),g)}function Us(d){d.B&&(c.clearTimeout(d.B),d.B=null)}ti.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(Cl(this.i,this.A),this.L!=2&&(Bs(),un(17)),ni(this),this.s=2,Tr(this)):Df(this,this.S-d)};function Tr(d){d.j.G==0||d.J||kf(d.j,d)}function ni(d){Us(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,Fo(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function vu(d,g){try{var v=d.j;if(v.G!=0&&(v.g==d||ri(v.h,d))){if(!d.K&&ri(v.h,d)&&v.G==3){try{var b=v.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var N=b;if(N[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<d.F)Cu(v),Eu(v);else break e;jl(v),un(18)}}else v.za=N[1],0<v.za-v.T&&37500>N[2]&&v.F&&v.v==0&&!v.C&&(v.C=se(I(v.Za,v),6e3));if(1>=$s(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else $i(v,11)}else if((d.K||v.g==d)&&Cu(v),!re(g))for(N=v.Da.g.parse(g),g=0;g<N.length;g++){let Ge=N[g];if(v.T=Ge[0],Ge=Ge[1],v.G==2)if(Ge[0]=="c"){v.K=Ge[1],v.ia=Ge[2];let ut=Ge[3];ut!=null&&(v.la=ut,v.j.info("VER="+v.la));let Qt=Ge[4];Qt!=null&&(v.Aa=Qt,v.j.info("SVER="+v.Aa));let Qn=Ge[5];Qn!=null&&typeof Qn=="number"&&0<Qn&&(b=1.5*Qn,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;let Yn=d.g;if(Yn){let ai=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var U=b.h;U.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ii(U,U.h),U.h=null))}if(b.D){let Au=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Au&&(b.ya=Au,Ze(b.I,b.D,Au))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-d.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var Z=d;if(b.qa=Hl(b,b.J?b.ia:null,b.W),Z.K){yu(b.h,Z);var Pe=Z,pt=b.L;pt&&(Pe.I=pt),Pe.B&&(Us(Pe),_u(Pe)),b.g=Z}else bu(b);0<v.i.length&&Iu(v)}else Ge[0]!="stop"&&Ge[0]!="close"||$i(v,7);else v.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?$i(v,7):Qs(v):Ge[0]!="noop"&&v.l&&v.l.ta(Ge),v.v=0)}}Bs(4)}catch{}}var js=class{constructor(d,g){this.g=d,this.map=g}};function qe(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function at(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function $s(d){return d.h?1:d.g?d.g.size:0}function ri(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function ii(d,g){d.g?d.g.add(g):d.h=g}function yu(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}qe.prototype.cancel=function(){if(this.i=be(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function be(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(let v of d.g.values())g=g.concat(v.D);return g}return F(d.i)}function _t(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var g=[],v=d.length,b=0;b<v;b++)g.push(d[b]);return g}g=[],v=0;for(b in d)g[v++]=d[b];return g}function xl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var g=[];d=d.length;for(var v=0;v<d;v++)g.push(v);return g}g=[],v=0;for(let b in d)g[v++]=b;return g}}}function zs(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var v=xl(d),b=_t(d),N=b.length,U=0;U<N;U++)g.call(void 0,b[U],v&&v[U],d)}var In=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ov(d,g){if(d){d=d.split("&");for(var v=0;v<d.length;v++){var b=d[v].indexOf("="),N=null;if(0<=b){var U=d[v].substring(0,b);N=d[v].substring(b+1)}else U=d[v];g(U,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function cr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof cr){this.h=d.h,ht(this,d.j),this.o=d.o,this.g=d.g,lr(this,d.s),this.l=d.l;var g=d.i,v=new Ui;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),jo(this,v),this.m=d.m}else d&&(g=String(d).match(In))?(this.h=!1,ht(this,g[1]||"",!0),this.o=Cr(g[2]||""),this.g=Cr(g[3]||"",!0),lr(this,g[4]),this.l=Cr(g[5]||"",!0),jo(this,g[6]||"",!0),this.m=Cr(g[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}cr.prototype.toString=function(){var d=[],g=this.j;g&&d.push(Bi(g,Hs,!0),":");var v=this.g;return(v||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Bi(g,Hs,!0),"@"),d.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&d.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push(Bi(v,v.charAt(0)=="/"?Nl:Rl,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",Bi(v,Sf)),d.join("")};function cn(d){return new cr(d)}function ht(d,g,v){d.j=v?Cr(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function lr(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function jo(d,g,v){g instanceof Ui?(d.i=g,Ol(d.i,d.h)):(v||(g=Bi(g,wu)),d.i=new Ui(g,d.h))}function Ze(d,g,v){d.i.set(g,v)}function $o(d){return Ze(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Cr(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Bi(d,g,v){return typeof d=="string"?(d=encodeURI(d).replace(g,Pl),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Pl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Hs=/[#\/\?@]/g,Rl=/[#\?:]/g,Nl=/[#\?]/g,wu=/[#\?@]/g,Sf=/#/g;function Ui(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function oi(d){d.g||(d.g=new Map,d.h=0,d.i&&Ov(d.i,function(g,v){d.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}t=Ui.prototype,t.add=function(d,g){oi(this),this.i=null,d=ji(this,d);var v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(g),this.h+=1,this};function ye(d,g){oi(d),g=ji(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function Gn(d,g){return oi(d),g=ji(d,g),d.g.has(g)}t.forEach=function(d,g){oi(this),this.g.forEach(function(v,b){v.forEach(function(N){d.call(g,N,b,this)},this)},this)},t.na=function(){oi(this);let d=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let b=0;b<g.length;b++){let N=d[b];for(let U=0;U<N.length;U++)v.push(g[b])}return v},t.V=function(d){oi(this);let g=[];if(typeof d=="string")Gn(this,d)&&(g=g.concat(this.g.get(ji(this,d))));else{d=Array.from(this.g.values());for(let v=0;v<d.length;v++)g=g.concat(d[v])}return g},t.set=function(d,g){return oi(this),this.i=null,d=ji(this,d),Gn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function nt(d,g,v){ye(d,g),0<v.length&&(d.i=null,d.g.set(ji(d,g),F(v)),d.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var b=g[v];let U=encodeURIComponent(String(b)),Z=this.V(b);for(b=0;b<Z.length;b++){var N=U;Z[b]!==""&&(N+="="+encodeURIComponent(String(Z[b]))),d.push(N)}}return this.i=d.join("&")};function ji(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function Ol(d,g){g&&!d.j&&(oi(d),d.i=null,d.g.forEach(function(v,b){var N=b.toLowerCase();b!=N&&(ye(this,b),nt(this,N,v))},d)),d.j=g}function kl(d,g){let v=new Bo;if(c.Image){let b=new Image;b.onload=E(gn,v,"TestLoadImage: loaded",!0,g,b),b.onerror=E(gn,v,"TestLoadImage: error",!1,g,b),b.onabort=E(gn,v,"TestLoadImage: abort",!1,g,b),b.ontimeout=E(gn,v,"TestLoadImage: timeout",!1,g,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=d}else g(!1)}function Ll(d,g){let v=new Bo,b=new AbortController,N=setTimeout(()=>{b.abort(),gn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:b.signal}).then(U=>{clearTimeout(N),U.ok?gn(v,"TestPingServer: ok",!0,g):gn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(N),gn(v,"TestPingServer: error",!1,g)})}function gn(d,g,v,b,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),b(v)}catch{}}function Fl(){this.g=new gf}function qs(d,g,v){let b=v||"";try{zs(d,function(N,U){let Z=N;f(N)&&(Z=El(N)),g.push(b+U+"="+encodeURIComponent(Z))})}catch(N){throw g.push(b+"type="+encodeURIComponent("_badmap")),N}}function vt(d){this.l=d.Ub||null,this.j=d.eb||!1}M(vt,gu),vt.prototype.g=function(){return new dr(this.l,this.j)},vt.prototype.i=function(d){return function(){return d}}({});function dr(d,g){Kt.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(dr,Kt),t=dr.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,Ws(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||c).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zo(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?zo(this):Ws(this),this.readyState==3&&Vl(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,zo(this))},t.Qa=function(d){this.g&&(this.response=d,zo(this))},t.ga=function(){this.g&&zo(this)};function zo(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ws(d)}t.setRequestHeader=function(d,g){this.u.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=g.next();return d.join(`\r
`)};function Ws(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Bl(d){let g="";return We(d,function(v,b){g+=b,g+=":",g+=v,g+=`\r
`}),g}function Gs(d,g,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Bl(v),typeof d=="string"?v!=null&&encodeURIComponent(String(v)):Ze(d,g,v))}function ft(d){Kt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(ft,Kt);var Af=/^https?$/i,Be=["POST","PUT"];t=ft.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,g,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sl.g(),this.v=this.o?Il(this.o):Il(Sl),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(U){Mf(this,U);return}if(d=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var N in b)v.set(N,b[N]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let U of b.keys())v.set(U,b.get(U));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(U=>U.toLowerCase()=="content-type"),N=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Be,g,void 0))||b||N||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[U,Z]of v)this.g.setRequestHeader(U,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xf(this),this.u=!0,this.g.send(d),this.u=!1}catch(U){Mf(this,U)}};function Mf(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,Mn(d),Ks(d)}function Mn(d){d.A||(d.A=!0,Zt(d,"complete"),Zt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Zt(this,"complete"),Zt(this,"abort"),Ks(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ks(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ho(this):this.bb())},t.bb=function(){Ho(this)};function Ho(d){if(d.h&&typeof a<"u"&&(!d.v[1]||Kn(d)!=4||d.Z()!=2)){if(d.u&&Kn(d)==4)ff(d.Ea,0,d);else if(Zt(d,"readystatechange"),Kn(d)==4){d.h=!1;try{let Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var b;if(b=Z===0){var N=String(d.D).match(In)[1]||null;!N&&c.self&&c.self.location&&(N=c.self.location.protocol.slice(0,-1)),b=!Af.test(N?N.toLowerCase():"")}v=b}if(v)Zt(d,"complete"),Zt(d,"success");else{d.m=6;try{var U=2<Kn(d)?d.g.statusText:""}catch{U=""}d.l=U+" ["+d.Z()+"]",Mn(d)}}finally{Ks(d)}}}}function Ks(d,g){if(d.g){xf(d);let v=d.g,b=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||Zt(d,"ready");try{v.onreadystatechange=b}catch{}}}function xf(d){d.I&&(c.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Kn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),Rv(g)}};function Pf(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Rf(d){let g={};d=(d.g&&2<=Kn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<d.length;b++){if(re(d[b]))continue;var v=R(d[b]);let N=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();let U=g[N]||[];g[N]=U,U.push(v)}P(g,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(d,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||g}function Nf(d){this.Aa=0,this.i=[],this.j=new Bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zs("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zs("baseRetryDelayMs",5e3,d),this.cb=Zs("retryDelaySeedMs",1e4,d),this.Wa=Zs("forwardChannelMaxRetries",2,d),this.wa=Zs("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new qe(d&&d.concurrentRequestLimit),this.Da=new Fl,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Nf.prototype,t.la=8,t.G=1,t.connect=function(d,g,v,b){un(0),this.W=d,this.H=g||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=Hl(this,null,this.W),Iu(this)};function Qs(d){if(Zn(d),d.G==3){var g=d.U++,v=cn(d.I);if(Ze(v,"SID",d.K),Ze(v,"RID",g),Ze(v,"TYPE","terminate"),qo(d,v),g=new ti(d,d.j,g),g.L=2,g.v=$o(cn(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&c.Image&&(new Image().src=g.v,v=!0),v||(g.g=Ys(g.j,null),g.g.ea(g.v)),g.F=Date.now(),_u(g)}zl(d)}function Eu(d){d.g&&(Tu(d),d.g.cancel(),d.g=null)}function Zn(d){Eu(d),d.u&&(c.clearTimeout(d.u),d.u=null),Cu(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Iu(d){if(!at(d.h)&&!d.s){d.s=!0;var g=d.Ga;No||an(),fe||(No(),fe=!0),ot.add(g,d),d.B=0}}function Of(d,g){return $s(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=se(I(d.Ga,d,g),Du(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let N=new ti(this,this.j,d),U=this.o;if(this.S&&(U?(U=C(U),x(U,this.S)):U=this.S),this.m!==null||this.O||(N.H=U,U=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Ul(this,N,g),v=cn(this.I),Ze(v,"RID",d),Ze(v,"CVER",22),this.D&&Ze(v,"X-HTTP-Session-Id",this.D),qo(this,v),U&&(this.O?g="headers="+encodeURIComponent(String(Bl(U)))+"&"+g:this.m&&Gs(v,this.m,U)),ii(this.h,N),this.Ua&&Ze(v,"TYPE","init"),this.P?(Ze(v,"$req",g),Ze(v,"SID","null"),N.T=!0,Uo(N,v,null)):Uo(N,v,g),this.G=2}}else this.G==3&&(d?Dr(this,d):this.i.length==0||at(this.h)||Dr(this))};function Dr(d,g){var v;g?v=g.l:v=d.U++;let b=cn(d.I);Ze(b,"SID",d.K),Ze(b,"RID",v),Ze(b,"AID",d.T),qo(d,b),d.m&&d.o&&Gs(b,d.m,d.o),v=new ti(d,d.j,v,d.B+1),d.m===null&&(v.H=d.o),g&&(d.i=g.D.concat(d.i)),g=Ul(d,v,1e3),v.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ii(d.h,v),Uo(v,b,g)}function qo(d,g){d.H&&We(d.H,function(v,b){Ze(g,b,v)}),d.l&&zs({},function(v,b){Ze(g,b,v)})}function Ul(d,g,v){v=Math.min(d.i.length,v);var b=d.l?I(d.l.Na,d.l,d):null;e:{var N=d.i;let U=-1;for(;;){let Z=["count="+v];U==-1?0<v?(U=N[0].g,Z.push("ofs="+U)):U=0:Z.push("ofs="+U);let Pe=!0;for(let pt=0;pt<v;pt++){let Ge=N[pt].g,ut=N[pt].map;if(Ge-=U,0>Ge)U=Math.max(0,N[pt].g-100),Pe=!1;else try{qs(ut,Z,"req"+Ge+"_")}catch{b&&b(ut)}}if(Pe){b=Z.join("&");break e}}}return d=d.i.splice(0,v),g.D=d,b}function bu(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;No||an(),fe||(No(),fe=!0),ot.add(g,d),d.v=0}}function jl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=se(I(d.Fa,d),Du(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,$l(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=se(I(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,un(10),Eu(this),$l(this))};function Tu(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function $l(d){d.g=new ti(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=cn(d.qa);Ze(g,"RID","rpc"),Ze(g,"SID",d.K),Ze(g,"AID",d.T),Ze(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ze(g,"TO",d.ja),Ze(g,"TYPE","xmlhttp"),qo(d,g),d.m&&d.o&&Gs(g,d.m,d.o),d.L&&(d.g.I=d.L);var v=d.g;d=d.ia,v.L=1,v.v=$o(cn(g)),v.m=null,v.P=!0,Tf(v,d)}t.Za=function(){this.C!=null&&(this.C=null,Eu(this),jl(this),un(19))};function Cu(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function kf(d,g){var v=null;if(d.g==g){Cu(d),Tu(d),d.g=null;var b=2}else if(ri(d.h,g))v=g.D,yu(d.h,g),b=1;else return;if(d.G!=0){if(g.o)if(b==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var N=d.B;b=Vo(),Zt(b,new Wn(b,v)),Iu(d)}else bu(d);else if(N=g.s,N==3||N==0&&0<g.X||!(b==1&&Of(d,g)||b==2&&jl(d)))switch(v&&0<v.length&&(g=d.h,g.i=g.i.concat(v)),N){case 1:$i(d,5);break;case 4:$i(d,10);break;case 3:$i(d,6);break;default:$i(d,2)}}}function Du(d,g){let v=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(v*=2),v*g}function $i(d,g){if(d.j.info("Error code "+g),g==2){var v=I(d.fb,d),b=d.Xa;let N=!b;b=new cr(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ht(b,"https"),$o(b),N?kl(b.toString(),v):Ll(b.toString(),v)}else un(2);d.G=0,d.l&&d.l.sa(g),zl(d),Zn(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function zl(d){if(d.G=0,d.ka=[],d.l){let g=be(d.h);(g.length!=0||d.i.length!=0)&&(V(d.ka,g),V(d.ka,d.i),d.h.i.length=0,F(d.i),d.i.length=0),d.l.ra()}}function Hl(d,g,v){var b=v instanceof cr?cn(v):new cr(v);if(b.g!="")g&&(b.g=g+"."+b.g),lr(b,b.s);else{var N=c.location;b=N.protocol,g=g?g+"."+N.hostname:N.hostname,N=+N.port;var U=new cr(null);b&&ht(U,b),g&&(U.g=g),N&&lr(U,N),v&&(U.l=v),b=U}return v=d.D,g=d.ya,v&&g&&Ze(b,v,g),Ze(b,"VER",d.la),qo(d,b),b}function Ys(d,g,v){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new ft(new vt({eb:v})):new ft(d.pa),g.Ha(d.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function si(){}t=si.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Su(){}Su.prototype.g=function(d,g){return new jt(d,g)};function jt(d,g){Kt.call(this),this.g=new Nf(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!re(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!re(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new zi(this)}M(jt,Kt),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){Qs(this.g)},jt.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.u&&(v={},v.__data__=El(d),d=v);g.i.push(new js(g.Ya++,d)),g.G==3&&Iu(g)},jt.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,jt.aa.N.call(this)};function bn(d){bl.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(let v in g){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}M(bn,bl);function ql(){Tl.call(this),this.status=1}M(ql,Tl);function zi(d){this.g=d}M(zi,si),zi.prototype.ua=function(){Zt(this.g,"a")},zi.prototype.ta=function(d){Zt(this.g,new bn(d))},zi.prototype.sa=function(d){Zt(this.g,new ql)},zi.prototype.ra=function(){Zt(this.g,"b")},Su.prototype.createWebChannel=Su.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,hb=Eo.createWebChannelTransport=function(){return new Su},db=Eo.getStatEventTarget=function(){return Vo()},lb=Eo.Event=Fi,d_=Eo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,Oh=Eo.ErrorCode=br,Dl.COMPLETE="complete",cb=Eo.EventType=Dl,mf.EventType=Vs,Vs.OPEN="a",Vs.CLOSE="b",Vs.ERROR="c",Vs.MESSAGE="d",Kt.prototype.listen=Kt.prototype.K,Bc=Eo.WebChannel=mf,pG=Eo.FetchXmlHttpFactory=vt,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,ub=Eo.XhrIo=ft}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var LO="@firebase/firestore",FO="4.7.14";var on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");var ol="11.7.3";var Ja=new Di("@firebase/firestore");function Uc(){return Ja.logLevel}function ne(t,...e){if(Ja.logLevel<=Fe.DEBUG){let n=e.map(eC);Ja.debug(`Firestore (${ol}): ${t}`,...n)}}function bo(t,...e){if(Ja.logLevel<=Fe.ERROR){let n=e.map(eC);Ja.error(`Firestore (${ol}): ${t}`,...n)}}function Gc(t,...e){if(Ja.logLevel<=Fe.WARN){let n=e.map(eC);Ja.warn(`Firestore (${ol}): ${t}`,...n)}}function eC(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,A1(t,r,n)}function A1(t,e,n){let r=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bo(r),new Error(r)}function et(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||A1(e,i,r)}function Ie(t,e){return t}var H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},te=class extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Qr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var v_=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},_b=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}},vb=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},yb=class{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),o=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Qr,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let l=o;e.enqueueRetryable(()=>T(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Qr)}},0),a()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new v_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new on(e)}},wb=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Eb=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wb(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}},y_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ib=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);let r=o=>{o.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.m;return this.m=o.token,ne("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new y_(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new y_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function gG(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function M1(){return new TextEncoder}var w_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=gG(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function Ne(t,e){return t<e?-1:t>e?1:0}function bb(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ne(r,i);{let o=M1(),a=mG(o.encode(VO(t,n)),o.encode(VO(e,n)));return a!==0?a:Ne(r,i)}}n+=r>65535?2:1}return Ne(t.length,e.length)}function VO(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function mG(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ne(t[n],e[n]);return Ne(t.length,e.length)}function Kc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var BO=-62135596800,UO=1e6,fn=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*UO);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<BO)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UO}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-BO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ce=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new fn(0,0))}static max(){return new t(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var jO="__name__",E_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ne(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):bb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wo.fromString(e.substring(4,e.length-2))}},bt=class t extends E_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new te(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},_G=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ur=class t extends E_{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return _G.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jO}static keyField(){return new t([jO])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new te(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},a=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new te(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(o(),i++)}if(o(),a)throw new te(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var de=class t{constructor(e){this.path=e}static fromPath(e){return new t(bt.fromString(e))}static fromName(e){return new t(bt.fromString(e).popFirst(5))}static empty(){return new t(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new bt(e.slice()))}};var Uh=-1,Tb=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Tb.UNKNOWN_ID=-1;function vG(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new Xa(i,de.empty(),e)}function yG(t){return new Xa(t.readTime,t.key,Uh)}var Xa=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ce.min(),de.empty(),Uh)}static max(){return new t(Ce.max(),de.empty(),Uh)}};function wG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}var EG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cb=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function sl(t){return T(this,null,function*(){if(t.code!==H.FAILED_PRECONDITION||t.message!==EG)throw t;ne("LocalStore","Unexpectedly lost primary lease")})}var W=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,a=new Array(o),c=0;for(let l=0;l<o;l++){let f=l;n(e[f]).next(m=>{a[f]=m,++c,c===o&&r(a)},m=>i(m))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function IG(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(t){return t.name==="IndexedDbTransactionError"}var tC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),nC=-1;function tv(t){return t==null}function jh(t){return t===0&&1/t==-1/0}function bG(t){return typeof t=="number"&&Number.isInteger(t)&&!jh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var x1="";function TG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$O(e)),e=CG(t.get(n),e);return $O(e)}function CG(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case x1:n+="";break;default:n+=o}}return n}function $O(t){return t+x1+""}var DG="remoteDocuments",P1="owner";var R1="mutationQueues";var N1="mutations";var O1="documentMutations",SG="remoteDocumentsV14";var k1="remoteDocumentGlobal";var L1="targets";var F1="targetDocuments";var V1="targetGlobal",B1="collectionParents";var U1="clientMetadata";var j1="bundles";var $1="namedQueries";var AG="indexConfiguration";var MG="indexState";var xG="indexEntries";var z1="documentOverlays";var PG="globals";var RG=[R1,N1,O1,DG,L1,P1,V1,F1,U1,k1,B1,j1,$1],mue=[...RG,z1],NG=[R1,N1,O1,SG,L1,P1,V1,F1,U1,k1,B1,j1,$1,z1],OG=NG,kG=[...OG,AG,MG,xG];var _ue=[...kG,PG];function zO(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function su(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var St=class t{constructor(e,n){this.comparator=e,this.root=n||Pi.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pi.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}},Hc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pi=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}};Pi.EMPTY=null,Pi.RED=!0,Pi.BLACK=!1;Pi.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Pi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var sn=class t{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new I_(this.data.getIterator())}getIteratorFrom(e){return new I_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},I_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var xi=class t{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new t([])}unionWith(e){let n=new sn(ur.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kc(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var b_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new b_("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yn.EMPTY_BYTE_STRING=new yn("");var LG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(t){if(et(!!t,39018),typeof t=="string"){let e=0,n=LG.exec(t);if(et(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?yn.fromBase64String(t):yn.fromUint8Array(t)}var q1="server_timestamp",W1="__type__",G1="__previous_value__",K1="__local_write_time__";function rC(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[W1])===null||n===void 0?void 0:n.stringValue)===q1}function nv(t){let e=t.mapValue.fields[G1];return rC(e)?nv(e):e}function $h(t){let e=To(t.mapValue.fields[K1].timestampValue);return new fn(e.seconds,e.nanos)}var Db=class{constructor(e,n,r,i,o,a,c,l,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=f,this.isUsingEmulator=m}},T_="(default)",C_=class t{constructor(e,n){this.projectId=e,this.database=n||T_}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===T_}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var iC="__type__",Z1="__max__",h_={mapValue:{fields:{__type__:{stringValue:Z1}}}},oC="__vector__",Zc="value";function bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rC(t)?4:Y1(t)?9007199254740991:Q1(t)?10:11:pe(28295,{value:t})}function Oi(t,e){if(t===e)return!0;let n=bs(t);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $h(t).isEqual($h(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let a=To(i.timestampValue),c=To(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Co(i.bytesValue).isEqual(Co(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return gt(i.geoPointValue.latitude)===gt(o.geoPointValue.latitude)&&gt(i.geoPointValue.longitude)===gt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return gt(i.integerValue)===gt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let a=gt(i.doubleValue),c=gt(o.doubleValue);return a===c?jh(a)===jh(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return Kc(t.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return function(i,o){let a=i.mapValue.fields||{},c=o.mapValue.fields||{};if(zO(a)!==zO(c))return!1;for(let l in a)if(a.hasOwnProperty(l)&&(c[l]===void 0||!Oi(a[l],c[l])))return!1;return!0}(t,e);default:return pe(52216,{left:t})}}function zh(t,e){return(t.values||[]).find(n=>Oi(n,e))!==void 0}function Qc(t,e){if(t===e)return 0;let n=bs(t),r=bs(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(o,a){let c=gt(o.integerValue||o.doubleValue),l=gt(a.integerValue||a.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return HO(t.timestampValue,e.timestampValue);case 4:return HO($h(t),$h(e));case 5:return bb(t.stringValue,e.stringValue);case 6:return function(o,a){let c=Co(o),l=Co(a);return c.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){let c=o.split("/"),l=a.split("/");for(let f=0;f<c.length&&f<l.length;f++){let m=Ne(c[f],l[f]);if(m!==0)return m}return Ne(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){let c=Ne(gt(o.latitude),gt(a.latitude));return c!==0?c:Ne(gt(o.longitude),gt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qO(t.arrayValue,e.arrayValue);case 10:return function(o,a){var c,l,f,m;let y=o.fields||{},I=a.fields||{},E=(c=y[Zc])===null||c===void 0?void 0:c.arrayValue,M=(l=I[Zc])===null||l===void 0?void 0:l.arrayValue,F=Ne(((f=E?.values)===null||f===void 0?void 0:f.length)||0,((m=M?.values)===null||m===void 0?void 0:m.length)||0);return F!==0?F:qO(E,M)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===h_.mapValue&&a===h_.mapValue)return 0;if(o===h_.mapValue)return 1;if(a===h_.mapValue)return-1;let c=o.fields||{},l=Object.keys(c),f=a.fields||{},m=Object.keys(f);l.sort(),m.sort();for(let y=0;y<l.length&&y<m.length;++y){let I=bb(l[y],m[y]);if(I!==0)return I;let E=Qc(c[l[y]],f[m[y]]);if(E!==0)return E}return Ne(l.length,m.length)}(t.mapValue,e.mapValue);default:throw pe(23264,{Pe:n})}}function HO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);let n=To(t),r=To(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function qO(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Qc(n[i],r[i]);if(o)return o}return Ne(n.length,r.length)}function Yc(t){return Sb(t)}function Sb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=To(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Sb(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let a of r)o?o=!1:i+=",",i+=`${a}:${Sb(n.fields[a])}`;return i+"}"}(t.mapValue):pe(61005,{value:t})}function g_(t){switch(bs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=nv(t);return e?16+g_(e):16;case 5:return 2*t.stringValue.length;case 6:return Co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+g_(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return su(r.fields,(o,a)=>{i+=o.length+g_(a)}),i}(t.mapValue);default:throw pe(13486,{value:t})}}function WO(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ab(t){return!!t&&"integerValue"in t}function sC(t){return!!t&&"arrayValue"in t}function GO(t){return!!t&&"nullValue"in t}function KO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function m_(t){return!!t&&"mapValue"in t}function Q1(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[iC])===null||n===void 0?void 0:n.stringValue)===oC}function Lh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return su(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lh(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Y1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Z1}var yue={mapValue:{fields:{[iC]:{stringValue:oC},[Zc]:{arrayValue:{}}}}};var Zr=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!m_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lh(n)}setAll(e){let n=ur.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){let l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=Lh(a):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());m_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];m_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){su(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Lh(this.value))}};function J1(t){let e=[];return su(t.fields,(n,r)=>{let i=new ur([n]);if(m_(r)){let o=J1(r.mapValue).fields;if(o.length===0)e.push(i);else for(let a of o)e.push(i.child(a))}else e.push(i)}),new xi(e)}var Yr=class t{constructor(e,n,r,i,o,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Ce.min(),Ce.min(),Ce.min(),Zr.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Ce.min(),Ce.min(),Zr.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ce.min(),Ce.min(),Zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Jc=class{constructor(e,n){this.position=e,this.inclusive=n}};function ZO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],a=t.position[i];if(o.field.isKeyField()?r=de.comparator(de.fromName(a.referenceValue),n.key):r=Qc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Oi(t.position[n],e.position[n]))return!1;return!0}var eu=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function FG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var D_=class{},Ut=class t extends D_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xb(e,n,r):n==="array-contains"?new Nb(e,r):n==="in"?new Ob(e,r):n==="not-in"?new kb(e,r):n==="array-contains-any"?new Lb(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Pb(e,r):new Rb(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qc(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(Qc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Jr=class t extends D_{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return X1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function X1(t){return t.op==="and"}function ek(t){return VG(t)&&X1(t)}function VG(t){for(let e of t.filters)if(e instanceof Jr)return!1;return!0}function Mb(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+Yc(t.value);if(ek(t))return t.filters.map(e=>Mb(e)).join(",");{let e=t.filters.map(n=>Mb(n)).join(",");return`${t.op}(${e})`}}function tk(t,e){return t instanceof Ut?function(r,i){return i instanceof Ut&&r.op===i.op&&r.field.isEqual(i.field)&&Oi(r.value,i.value)}(t,e):t instanceof Jr?function(r,i){return i instanceof Jr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,c)=>o&&tk(a,i.filters[c]),!0):!1}(t,e):void pe(19439)}function nk(t){return t instanceof Ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Yc(n.value)}`}(t):t instanceof Jr?function(n){return n.op.toString()+" {"+n.getFilters().map(nk).join(" ,")+"}"}(t):"Filter"}var xb=class extends Ut{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){let n=de.comparator(e.key,this.key);return this.matchesComparison(n)}},Pb=class extends Ut{constructor(e,n){super(e,"in",n),this.keys=rk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Rb=class extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=rk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function rk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}var Nb=class extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return sC(n)&&zh(n.arrayValue,this.value)}},Ob=class extends Ut{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&zh(this.value.arrayValue,n)}},kb=class extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zh(this.value.arrayValue,n)}},Lb=class extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!sC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zh(this.value.arrayValue,r))}};var Fb=class{constructor(e,n=null,r=[],i=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=c,this.Ie=null}};function YO(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Fb(t,e,n,r,i,o,a)}function aC(t){let e=Ie(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),tv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yc(r)).join(",")),e.Ie=n}return e.Ie}function uC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QO(t.startAt,e.startAt)&&QO(t.endAt,e.endAt)}function Vb(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ts=class{constructor(e,n=null,r=[],i=[],o=null,a="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function BG(t,e,n,r,i,o,a,c){return new Ts(t,e,n,r,i,o,a,c)}function cC(t){return new Ts(t)}function JO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ik(t){return t.collectionGroup!==null}function Fh(t){let e=Ie(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new sn(ur.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new eu(o,r))}),n.has(ur.keyField().canonicalString())||e.Ee.push(new eu(ur.keyField(),r))}return e.Ee}function Ri(t){let e=Ie(t);return e.de||(e.de=UG(e,Fh(t))),e.de}function UG(t,e){if(t.limitType==="F")return YO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new eu(i.field,o)});let n=t.endAt?new Jc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jc(t.startAt.position,t.startAt.inclusive):null;return YO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bb(t,e){let n=t.filters.concat([e]);return new Ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ub(t,e,n){return new Ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rv(t,e){return uC(Ri(t),Ri(e))&&t.limitType===e.limitType}function ok(t){return`${aC(Ri(t))}|lt:${t.limitType}`}function jc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nk(i)).join(", ")}]`),tv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Yc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Yc(i)).join(",")),`Target(${r})`}(Ri(t))}; limitType=${t.limitType})`}function iv(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):de.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Fh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,c,l){let f=ZO(a,c,l);return a.inclusive?f<=0:f<0}(r.startAt,Fh(r),i)||r.endAt&&!function(a,c,l){let f=ZO(a,c,l);return a.inclusive?f>=0:f>0}(r.endAt,Fh(r),i))}(t,e)}function jG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sk(t){return(e,n)=>{let r=!1;for(let i of Fh(t)){let o=$G(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $G(t,e,n){let r=t.field.isKeyField()?de.comparator(e.key,n.key):function(o,a,c){let l=a.data.field(o),f=c.data.field(o);return l!==null&&f!==null?Qc(l,f):pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe(19790,{direction:t.dir})}}var Do=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){su(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return H1(this.inner)}size(){return this.innerSize}};var zG=new St(de.comparator);function So(){return zG}var ak=new St(de.comparator);function kh(...t){let e=ak;for(let n of t)e=e.insert(n.key,n);return e}function uk(t){let e=ak;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Za(){return Vh()}function ck(){return Vh()}function Vh(){return new Do(t=>t.toString(),(t,e)=>t.isEqual(e))}var HG=new St(de.comparator),qG=new sn(de.comparator);function He(...t){let e=qG;for(let n of t)e=e.add(n);return e}var WG=new sn(Ne);function GG(){return WG}function lC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function lk(t){return{integerValue:""+t}}function KG(t,e){return bG(e)?lk(e):lC(t,e)}var Xc=class{constructor(){this._=void 0}};function ZG(t,e,n){return t instanceof el?function(i,o){let a={fields:{[W1]:{stringValue:q1},[K1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&rC(o)&&(o=nv(o)),o&&(a.fields[G1]=o),{mapValue:a}}(n,e):t instanceof tu?hk(t,e):t instanceof nu?fk(t,e):function(i,o){let a=dk(i,o),c=XO(a)+XO(i.Re);return Ab(a)&&Ab(i.Re)?lk(c):lC(i.serializer,c)}(t,e)}function QG(t,e,n){return t instanceof tu?hk(t,e):t instanceof nu?fk(t,e):n}function dk(t,e){return t instanceof tl?function(r){return Ab(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var el=class extends Xc{},tu=class extends Xc{constructor(e){super(),this.elements=e}};function hk(t,e){let n=pk(e);for(let r of t.elements)n.some(i=>Oi(i,r))||n.push(r);return{arrayValue:{values:n}}}var nu=class extends Xc{constructor(e){super(),this.elements=e}};function fk(t,e){let n=pk(e);for(let r of t.elements)n=n.filter(i=>!Oi(i,r));return{arrayValue:{values:n}}}var tl=class extends Xc{constructor(e,n){super(),this.serializer=e,this.Re=n}};function XO(t){return gt(t.integerValue||t.doubleValue)}function pk(t){return sC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function YG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tu&&i instanceof tu||r instanceof nu&&i instanceof nu?Kc(r.elements,i.elements,Oi):r instanceof tl&&i instanceof tl?Oi(r.Re,i.Re):r instanceof el&&i instanceof el}(t.transform,e.transform)}var jb=class{constructor(e,n){this.version=e,this.transformResults=n}},Io=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function __(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var nl=class{};function gk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hh(t.key,Io.none()):new ru(t.key,t.data,Io.none());{let n=t.data,r=Zr.empty(),i=new sn(ur.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Ao(t.key,r,new xi(i.toArray()),Io.none())}}function JG(t,e,n){t instanceof ru?function(i,o,a){let c=i.value.clone(),l=t1(i.fieldTransforms,o,a.transformResults);c.setAll(l),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Ao?function(i,o,a){if(!__(i.precondition,o))return void o.convertToUnknownDocument(a.version);let c=t1(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(mk(i)),l.setAll(c),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Bh(t,e,n,r){return t instanceof ru?function(o,a,c,l){if(!__(o.precondition,a))return c;let f=o.value.clone(),m=n1(o.fieldTransforms,l,a);return f.setAll(m),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ao?function(o,a,c,l){if(!__(o.precondition,a))return c;let f=n1(o.fieldTransforms,l,a),m=a.data;return m.setAll(mk(o)),m.setAll(f),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,a,c){return __(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function XG(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=dk(r.transform,i||null);o!=null&&(n===null&&(n=Zr.empty()),n.set(r.field,o))}return n||null}function e1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Kc(r,i,(o,a)=>YG(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ru=class extends nl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ao=class extends nl{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function mk(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function t1(t,e,n){let r=new Map;et(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],a=o.transform,c=e.data.field(o.field);r.set(o.field,QG(a,c,n[i]))}return r}function n1(t,e,n){let r=new Map;for(let i of t){let o=i.transform,a=n.data.field(i.field);r.set(i.field,ZG(o,a,e))}return r}var Hh=class extends nl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},$b=class extends nl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var zb=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&JG(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bh(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Bh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=ck();return this.mutations.forEach(i=>{let o=e.get(i.key),a=o.overlayedDocument,c=this.applyToLocalView(a,o.mutatedFields);c=n.has(i.key)?null:c;let l=gk(a,c);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&Kc(this.mutations,e.mutations,(n,r)=>e1(n,r))&&Kc(this.baseMutations,e.baseMutations,(n,r)=>e1(n,r))}},Hb=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){et(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return HG}(),o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)}};var qb=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Wb=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Vt,Ke;function e9(t){switch(t){case H.OK:return pe(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return pe(15467,{code:t})}}function _k(t){if(t===void 0)return bo("GRPC error has no .code"),H.UNKNOWN;switch(t){case Vt.OK:return H.OK;case Vt.CANCELLED:return H.CANCELLED;case Vt.UNKNOWN:return H.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return H.INTERNAL;case Vt.UNAVAILABLE:return H.UNAVAILABLE;case Vt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Vt.NOT_FOUND:return H.NOT_FOUND;case Vt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Vt.ABORTED:return H.ABORTED;case Vt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Vt.DATA_LOSS:return H.DATA_LOSS;default:return pe(39323,{code:t})}}(Ke=Vt||(Vt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";var r1=null;var t9=new wo([4294967295,4294967295],0);function i1(t){let e=M1().encode(t),n=new ab;return n.update(e),new Uint8Array(n.digest())}function o1(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wo([n,r],0),new wo([i,o],0)]}var Gb=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qa(`Invalid padding: ${n}`);if(r<0)throw new Qa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qa(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=wo.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(wo.fromNumber(r)));return i.compare(t9)===1&&(i=new wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=i1(e),[r,i]=o1(n);for(let o=0;o<this.hashCount;o++){let a=this.we(r,i,o);if(!this.be(a))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new t(o,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.pe===0)return;let n=i1(e),[r,i]=o1(n);for(let o=0;o<this.hashCount;o++){let a=this.we(r,i,o);this.Se(a)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Qa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var S_=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,qh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Ce.min(),i,new St(Ne),So(),He())}},qh=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,He(),He(),He())}};var qc=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},A_=class{constructor(e,n){this.targetId=e,this.Ce=n}},M_=class{constructor(e,n,r=yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},x_=class{constructor(){this.Fe=0,this.Me=s1(),this.xe=yn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=He(),n=He(),r=He();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe(38017,{changeType:o})}}),new qh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=s1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,et(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},Kb=class{constructor(e){this.ze=e,this.je=new Map,this.He=So(),this.Je=f_(),this.Ye=f_(),this.Ze=new St(Ne)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(Vb(o))if(r===0){let a=new de(o.path);this.tt(n,a,Yr.newNoDocument(a,Ce.min()))}else et(r===1,20013,{expectedCount:r});else{let a=this.ut(n);if(a!==r){let c=this.ct(e),l=c?this.lt(c,e,a):1;if(l!==0){this.st(n);let f=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}r1?.ht(function(m,y,I,E,M){var F,V,G,re,X,ke;let Pt={localCacheCount:m,existenceFilterCount:y.count,databaseId:I.database,projectId:I.projectId},We=y.unchangedNames;return We&&(Pt.bloomFilter={applied:M===0,hashCount:(F=We?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(re=(G=(V=We?.bits)===null||V===void 0?void 0:V.bitmap)===null||G===void 0?void 0:G.length)!==null&&re!==void 0?re:0,padding:(ke=(X=We?.bits)===null||X===void 0?void 0:X.padding)!==null&&ke!==void 0?ke:0,mightContain:P=>{var C;return(C=E?.mightContain(P))!==null&&C!==void 0&&C}}),Pt}(a,e.Ce,this.ze.Pt(),c,l))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,a,c;try{a=Co(r).toUint8Array()}catch(l){if(l instanceof b_)return Gc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Gb(a,i,o)}catch(l){return Gc(l instanceof Qa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let a=this.ze.Pt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,a)=>{let c=this._t(a);if(c){if(o.current&&Vb(c.target)){let l=new de(c.target.path);this.Et(l).has(a)||this.dt(a,l)||this.tt(a,l,Yr.newNoDocument(l,e))}o.Le&&(n.set(a,o.qe()),o.Qe())}});let r=He();this.Ye.forEach((o,a)=>{let c=!0;a.forEachWhile(l=>{let f=this._t(l);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,a)=>a.setReadTime(e));let i=new S_(e,n,this.Ze,this.He,r);return this.He=So(),this.Je=f_(),this.Ye=f_(),this.Ze=new St(Ne),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new x_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new sn(Ne),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new sn(Ne),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new x_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function f_(){return new St(de.comparator)}function s1(){return new St(de.comparator)}var n9={asc:"ASCENDING",desc:"DESCENDING"},r9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i9={and:"AND",or:"OR"},Zb=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Qb(t,e){return t.useProto3Json||tv(e)?e:{value:e}}function P_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o9(t,e){return P_(t,e.toTimestamp())}function Ni(t){return et(!!t,49232),Ce.fromTimestamp(function(n){let r=To(n);return new fn(r.seconds,r.nanos)}(t))}function dC(t,e){return Yb(t,e).canonicalString()}function Yb(t,e){let n=function(i){return new bt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yk(t){let e=bt.fromString(t);return et(Tk(e),10190,{key:e.toString()}),e}function Jb(t,e){return dC(t.databaseId,e.path)}function fb(t,e){let n=yk(e);if(n.get(1)!==t.databaseId.projectId)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(Ek(n))}function wk(t,e){return dC(t.databaseId,e)}function s9(t){let e=yk(t);return e.length===4?bt.emptyPath():Ek(e)}function Xb(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ek(t){return et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function a1(t,e,n){return{name:Jb(t,e),fields:n.value.mapValue.fields}}function a9(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:pe(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(et(m===void 0||typeof m=="string",58123),yn.fromBase64String(m||"")):(et(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),yn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(f){let m=f.code===void 0?H.UNKNOWN:_k(f.code);return new te(m,f.message||"")}(a);n=new M_(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=fb(t,r.document.name),o=Ni(r.document.updateTime),a=r.document.createTime?Ni(r.document.createTime):Ce.min(),c=new Zr({mapValue:{fields:r.document.fields}}),l=Yr.newFoundDocument(i,o,a,c),f=r.targetIds||[],m=r.removedTargetIds||[];n=new qc(f,m,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=fb(t,r.document),o=r.readTime?Ni(r.readTime):Ce.min(),a=Yr.newNoDocument(i,o),c=r.removedTargetIds||[];n=new qc([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=fb(t,r.document),o=r.removedTargetIds||[];n=new qc([],o,i,null)}else{if(!("filter"in e))return pe(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,a=new Wb(i,o),c=r.targetId;n=new A_(c,a)}}return n}function u9(t,e){let n;if(e instanceof ru)n={update:a1(t,e.key,e.value)};else if(e instanceof Hh)n={delete:Jb(t,e.key)};else if(e instanceof Ao)n={update:a1(t,e.key,e.data),updateMask:_9(e.fieldMask)};else{if(!(e instanceof $b))return pe(16599,{ft:e.type});n={verify:Jb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){let c=a.transform;if(c instanceof el)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof tu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof nu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof tl)return{fieldPath:a.field.canonicalString(),increment:c.Re};throw pe(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:o9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:pe(27497)}(t,e.precondition)),n}function c9(t,e){return t&&t.length>0?(et(e!==void 0,14353),t.map(n=>function(i,o){let a=i.updateTime?Ni(i.updateTime):Ni(o);return a.isEqual(Ce.min())&&(a=Ni(o)),new jb(a,i.transformResults||[])}(n,e))):[]}function l9(t,e){return{documents:[wk(t,e.path)]}}function d9(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wk(t,i);let o=function(f){if(f.length!==0)return bk(Jr.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let a=function(f){if(f.length!==0)return f.map(m=>function(I){return{field:$c(I.field),direction:p9(I.dir)}}(m))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);let c=Qb(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:n,parent:i}}function h9(t){let e=s9(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){et(r===1,65062);let m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(y){let I=Ik(y);return I instanceof Jr&&ek(I)?I.getFilters():[I]}(n.where));let a=[];n.orderBy&&(a=function(y){return y.map(I=>function(M){return new eu(zc(M.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(I))}(n.orderBy));let c=null;n.limit&&(c=function(y){let I;return I=typeof y=="object"?y.value:y,tv(I)?null:I}(n.limit));let l=null;n.startAt&&(l=function(y){let I=!!y.before,E=y.values||[];return new Jc(E,I)}(n.startAt));let f=null;return n.endAt&&(f=function(y){let I=!y.before,E=y.values||[];return new Jc(E,I)}(n.endAt)),BG(e,i,a,o,c,"F",l,f)}function f9(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ik(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=zc(n.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=zc(n.unaryFilter.field);return Ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=zc(n.unaryFilter.field);return Ut.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=zc(n.unaryFilter.field);return Ut.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ut.create(zc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jr.create(n.compositeFilter.filters.map(r=>Ik(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe(1026)}}(n.compositeFilter.op))}(t):pe(30097,{filter:t})}function p9(t){return n9[t]}function g9(t){return r9[t]}function m9(t){return i9[t]}function $c(t){return{fieldPath:t.canonicalString()}}function zc(t){return ur.fromServerFormat(t.fieldPath)}function bk(t){return t instanceof Ut?function(n){if(n.op==="=="){if(KO(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NAN"}};if(GO(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KO(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NOT_NAN"}};if(GO(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$c(n.field),op:g9(n.op),value:n.value}}}(t):t instanceof Jr?function(n){let r=n.getFilters().map(i=>bk(i));return r.length===1?r[0]:{compositeFilter:{op:m9(n.op),filters:r}}}(t):pe(54877,{filter:t})}function _9(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Tk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Wh=class t{constructor(e,n,r,i,o=Ce.min(),a=Ce.min(),c=yn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var eT=class{constructor(e){this.wt=e}};function v9(t){let e=h9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ub(e,e.limit,"L"):e}var R_=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(gt(e.integerValue));else if("doubleValue"in e){let r=gt(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),jh(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=To(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(Co(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?Y1(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):Q1(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):pe(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let a=Zc,c=((i=(r=o[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(gt(c)),this.Nt(a,n),this.Ct(o[a],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),de.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};R_.Wt=new R_;var tT=class{constructor(){this.yn=new nT}addToCollectionParentIndex(e,n){return this.yn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Xa.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Xa.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}},nT=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sn(bt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sn(bt.comparator)).toArray()}};var wue=new Uint8Array(0);var u1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ck=41943040,Er=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Er.DEFAULT_COLLECTION_PERCENTILE=10,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Er.DEFAULT=new Er(Ck,Er.DEFAULT_COLLECTION_PERCENTILE,Er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Er.DISABLED=new Er(-1,0,0);var Gh=class t{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new t(0)}static ir(){return new t(-1)}};var c1="LruGarbageCollector",y9=1048576;function l1([t,e],[n,r]){let i=Ne(t,n);return i===0?Ne(e,r):i}var rT=class{constructor(e){this.cr=e,this.buffer=new sn(l1),this.lr=0}hr(){return++this.lr}Pr(e){let n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();l1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},iT=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ne(c1,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>T(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?ne(c1,"Ignoring IndexedDB error during garbage collection: ",n):yield sl(n)}yield this.Ir(3e5)}))}},oT=class{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(tC.le);let r=new rT(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(u1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),u1):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,a,c,l,f,m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,a=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),Uc()<=Fe.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${i} in `+(c-a)+`ms
	Removed ${o} targets in `+(l-c)+`ms
	Removed ${y} documents in `+(f-l)+`ms
Total Duration: ${f-m}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}};function w9(t,e){return new oT(t,e)}var sT=class{constructor(){this.changes=new Do(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var aT=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var uT=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bh(r.mutation,i,xi.empty(),fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,He()).next(()=>r))}getLocalViewOfDocuments(e,n,r=He()){let i=Za();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=kh();return o.forEach((c,l)=>{a=a.insert(c,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){let r=Za();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,He()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let o=So(),a=Vh(),c=function(){return Vh()}();return n.forEach((l,f)=>{let m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof Ao)?o=o.insert(f.key,f):m!==void 0?(a.set(f.key,m.mutation.getFieldMask()),Bh(m.mutation,f,m.mutation.getFieldMask(),fn.now())):a.set(f.key,xi.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((f,m)=>a.set(f,m)),n.forEach((f,m)=>{var y;return c.set(f,new aT(m,(y=a.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Vh(),i=new St((a,c)=>a-c),o=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(let c of a)c.keys().forEach(l=>{let f=n.get(l);if(f===null)return;let m=r.get(l)||xi.empty();m=c.applyToLocalView(f,m),r.set(l,m);let y=(i.get(c.batchId)||He()).add(l);i=i.insert(c.batchId,y)})}).next(()=>{let a=[],c=i.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),f=l.key,m=l.value,y=ck();m.forEach(I=>{if(!o.has(I)){let E=gk(n.get(I),r.get(I));E!==null&&y.set(I,E),o=o.add(I)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,y))}return W.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return de.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ik(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):W.resolve(Za()),c=Uh,l=o;return a.next(f=>W.forEach(f,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(m)?W.resolve():this.remoteDocumentCache.getEntry(e,m).next(I=>{l=l.insert(m,I)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,l,f,He())).next(m=>({batchId:c,changes:uk(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=kh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,a=kh();return this.indexManager.getCollectionParents(e,o).next(c=>W.forEach(c,l=>{let f=function(y,I){return new Ts(I,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((y,I)=>{a=a.insert(y,I)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,f)=>{let m=f.getKey();a.get(m)===null&&(a=a.insert(m,Yr.newInvalidDocument(m)))});let c=kh();return a.forEach((l,f)=>{let m=o.get(l);m!==void 0&&Bh(m.mutation,f,xi.empty(),fn.now()),iv(n,f)&&(c=c.insert(l,f))}),c})}};var cT=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return W.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ni(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:v9(i.bundledQuery),readTime:Ni(i.readTime)}}(n)),W.resolve()}};var lT=class{constructor(){this.overlays=new St(de.comparator),this.Or=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Za();return W.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),W.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){let i=Za(),o=n.length+1,a=new de(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){let l=c.getNext().value,f=l.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new St((f,m)=>f-m),a=this.overlays.getIterator();for(;a.hasNext();){let f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=Za(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}let c=Za(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((f,m)=>c.set(f,m)),!(c.size()>=i)););return W.resolve(c)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let a=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new qb(n,r));let o=this.Or.get(n);o===void 0&&(o=He(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}};var dT=class{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}};var Kh=class{constructor(){this.Nr=new sn(Bt.Br),this.Lr=new sn(Bt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){let r=new Bt(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Bt(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){let n=new de(new bt([])),r=new Bt(n,e),i=new Bt(n,e+1),o=[];return this.Lr.forEachInRange([r,i],a=>{this.Qr(a),o.push(a.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let n=new de(new bt([])),r=new Bt(n,e),i=new Bt(n,e+1),o=He();return this.Lr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){let n=new Bt(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Bt=class{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return de.comparator(e.key,n.key)||Ne(e.Gr,n.Gr)}static kr(e,n){return Ne(e.Gr,n.Gr)||de.comparator(e.key,n.key)}};var hT=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new sn(Bt.Br)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new zb(o,n,r,i);this.mutationQueue.push(a);for(let c of i)this.zr=this.zr.add(new Bt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return W.resolve(a)}lookupMutationBatch(e,n){return W.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Hr(r),o=i<0?0:i;return W.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?nC:this.Jn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Bt(n,0),i=new Bt(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],a=>{let c=this.jr(a.Gr);o.push(c)}),W.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(Ne);return n.forEach(i=>{let o=new Bt(i,0),a=new Bt(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,a],c=>{r=r.add(c.Gr)})}),W.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;de.isDocumentKey(o)||(o=o.child(""));let a=new Bt(new de(o),0),c=new sn(Ne);return this.zr.forEachWhile(l=>{let f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(l.Gr)),!0)},a),W.resolve(this.Jr(c))}Jr(e){let n=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){et(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return W.forEach(n.mutations,i=>{let o=new Bt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){let r=new Bt(n,0),i=this.zr.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var fT=class{constructor(e){this.Zr=e,this.docs=function(){return new St(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Yr.newInvalidDocument(n))}getEntries(e,n){let r=So();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yr.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=So(),a=n.path,c=new de(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:f,value:{document:m}}=l.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||wG(yG(m),r)<=0||(i.has(m.key)||iv(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return W.resolve(o)}getAllFromCollectionGroup(e,n,r,i){pe(9500)}Xr(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pT(this)}getSize(e){return W.resolve(this.size)}},pT=class extends sT{constructor(e){super(),this.vr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}};var gT=class{constructor(e){this.persistence=e,this.ei=new Do(n=>aC(n),uC),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ti=0,this.ni=new Kh,this.targetCount=0,this.ri=Gh.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),W.resolve()}ar(e){this.ei.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ri=new Gh(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.ar(n),W.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ei.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ei.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),W.waitFor(o).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){let r=this.ei.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),W.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),W.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ni.Wr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.ni.containsKey(n))}};var N_=class{constructor(e,n){this.ii={},this.overlays={},this.si=new tC(0),this.oi=!1,this.oi=!0,this._i=new dT,this.referenceDelegate=e(this),this.ai=new gT(this),this.indexManager=new tT,this.remoteDocumentCache=function(i){return new fT(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new eT(n),this.ci=new cT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new hT(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);let i=new mT(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return W.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}},mT=class extends Cb{constructor(e){super(),this.currentSequenceNumber=e}},_T=class t{constructor(e){this.persistence=e,this.Ti=new Kh,this.Ii=null}static Ei(e){return new t(e)}get di(){if(this.Ii)return this.Ii;throw pe(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,r=>{let i=de.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,Ce.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return W.or([()=>W.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}},O_=class t{constructor(e,n){this.persistence=e,this.Ri=new Do(r=>TG(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=w9(this,n)}static Ei(e,n){return new t(e,n)}li(){}hi(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){let n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return W.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?W.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,a=>this.gr(e,a,n).next(c=>{c||(r++,o.removeEntry(a,Ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),W.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=g_(e.data.value)),n}gr(e,n,r){return W.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.Ri.get(n);return W.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var vT=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=He(),i=He();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var yT=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var wT=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return XR()?8:IG(rn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Rs(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new yT;return this.fs(e,n,a).next(c=>{if(o.result=c,this.Is)return this.gs(e,n,a,c.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(Uc()<=Fe.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",jc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),W.resolve()):(Uc()<=Fe.DEBUG&&ne("QueryEngine","Query:",jc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Uc()<=Fe.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",jc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(n))):W.resolve())}Rs(e,n){if(JO(n))return W.resolve(null);let r=Ri(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ub(n,null,"F"),r=Ri(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let a=He(...o);return this.As.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{let f=this.ps(n,c);return this.ys(n,f,a,l.readTime)?this.Rs(e,Ub(n,null,"F")):this.ws(e,f,n,l)}))})))}Vs(e,n,r,i){return JO(n)||i.isEqual(Ce.min())?W.resolve(null):this.As.getDocuments(e,r).next(o=>{let a=this.ps(n,o);return this.ys(n,a,r,i)?W.resolve(null):(Uc()<=Fe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jc(n)),this.ws(e,a,n,vG(i,Uh)).next(c=>c))})}ps(e,n){let r=new sn(sk(e));return n.forEach((i,o)=>{iv(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return Uc()<=Fe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",jc(n)),this.As.getDocumentsMatchingQuery(e,n,Xa.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}};var hC="LocalStore",E9=3e8,ET=class{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new St(Ne),this.Ds=new Do(o=>aC(o),uC),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uT(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}};function I9(t,e,n,r){return new ET(t,e,n,r)}function Dk(t,e){return T(this,null,function*(){let n=Ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let a=[],c=[],l=He();for(let f of i){a.push(f.batchId);for(let m of f.mutations)l=l.add(m.key)}for(let f of o){c.push(f.batchId);for(let m of f.mutations)l=l.add(m.key)}return n.localDocuments.getDocuments(r,l).next(f=>({Ms:f,removedBatchIds:a,addedBatchIds:c}))})})})}function b9(t,e){let n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(c,l,f,m){let y=f.batch,I=y.keys(),E=W.resolve();return I.forEach(M=>{E=E.next(()=>m.getEntry(l,M)).next(F=>{let V=f.docVersions.get(M);et(V!==null,48541),F.version.compareTo(V)<0&&(y.applyToRemoteDocument(F,f),F.isValidDocument()&&(F.setReadTime(f.commitVersion),m.addEntry(F)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(l,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=He();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(l=l.add(c.batch.mutations[f].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Sk(t){let e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function T9(t,e){let n=Ie(t),r=e.snapshotVersion,i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let a=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;let c=[];e.targetChanges.forEach((m,y)=>{let I=i.get(y);if(!I)return;c.push(n.ai.removeMatchingKeys(o,m.removedDocuments,y).next(()=>n.ai.addMatchingKeys(o,m.addedDocuments,y)));let E=I.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(yn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),i=i.insert(y,E),function(F,V,G){return F.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=E9?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(I,E,m)&&c.push(n.ai.updateTargetData(o,E))});let l=So(),f=He();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),c.push(C9(o,a,e.documentUpdates).next(m=>{l=m.xs,f=m.Os})),!r.isEqual(Ce.min())){let m=n.ai.getLastRemoteSnapshotVersion(o).next(y=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(m)}return W.waitFor(c).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,f)).next(()=>l)}).then(o=>(n.Ss=i,o))}function C9(t,e,n){let r=He(),i=He();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=So();return n.forEach((c,l)=>{let f=o.get(c);l.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(Ce.min())?(e.removeEntry(c,l.readTime),a=a.insert(c,l)):!f.isValidDocument()||l.version.compareTo(f.version)>0||l.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(l),a=a.insert(c,l)):ne(hC,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",l.version)}),{xs:a,Os:i}})}function D9(t,e){let n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=nC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function S9(t,e){let n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(o=>o?(i=o,W.resolve(i)):n.ai.allocateTargetId(r).next(a=>(i=new Wh(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}function IT(t,e,n){return T(this,null,function*(){let r=Ie(t),i=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!al(a))throw a;ne(hC,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function d1(t,e,n){let r=Ie(t),i=Ce.min(),o=He();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,f,m){let y=Ie(l),I=y.Ds.get(m);return I!==void 0?W.resolve(y.Ss.get(I)):y.ai.getTargetData(f,m)}(r,a,Ri(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(a,c.targetId).next(l=>{o=l})}).next(()=>r.bs.getDocumentsMatchingQuery(a,e,n?i:Ce.min(),n?o:He())).next(c=>(A9(r,jG(e),c),{documents:c,Ns:o})))}function A9(t,e,n){let r=t.vs.get(e)||Ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}var k_=class{constructor(){this.activeTargetIds=GG()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var bT=class{constructor(){this.So=new k_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new k_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var TT=class{vo(e){}shutdown(){}};var h1="ConnectivityMonitor",L_=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ne(h1,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){ne(h1,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var p_=null;function CT(){return p_===null?p_=function(){return 268435456+Math.round(2147483648*Math.random())}():p_++,"0x"+p_.toString(16)}var pb="RestConnection",M9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},DT=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===T_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){let a=CT(),c=this.$o(e,n.toUriEncodedString());ne(pb,`Sending RPC '${e}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,i,o);let{host:f}=new URL(c),m=Ba(f);return this.Ko(e,c,l,r,m).then(y=>(ne(pb,`Received RPC '${e}' ${a}: `,y),y),y=>{throw Gc(pb,`RPC '${e}' ${a} failed with error: `,y,"url: ",c,"request:",r),y})}Wo(e,n,r,i,o,a){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){let r=M9[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}};var ST=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var vn="WebChannelConnection",AT=class extends DT{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,o){let a=CT();return new Promise((c,l)=>{let f=new ub;f.setWithCredentials(!0),f.listenOnce(cb.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Oh.NO_ERROR:let y=f.getResponseJson();ne(vn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),c(y);break;case Oh.TIMEOUT:ne(vn,`RPC '${e}' ${a} timed out`),l(new te(H.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:let I=f.getStatus();if(ne(vn,`RPC '${e}' ${a} failed with status:`,I,"response text:",f.getResponseText()),I>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);let M=E?.error;if(M&&M.status&&M.message){let F=function(G){let re=G.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(re)>=0?re:H.UNKNOWN}(M.status);l(new te(F,M.message))}else l(new te(H.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new te(H.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{s_:e,streamId:a,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{ne(vn,`RPC '${e}' ${a} completed.`)}});let m=JSON.stringify(i);ne(vn,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",m,r,15)})}a_(e,n,r){let i=CT(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=hb(),c=db(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let m=o.join("");ne(vn,`Creating RPC '${e}' stream ${i}: ${m}`,l);let y=a.createWebChannel(m,l),I=!1,E=!1,M=new ST({Go:V=>{E?ne(vn,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(I||(ne(vn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),I=!0),ne(vn,`RPC '${e}' stream ${i} sending:`,V),y.send(V))},zo:()=>y.close()}),F=(V,G,re)=>{V.listen(G,X=>{try{re(X)}catch(ke){setTimeout(()=>{throw ke},0)}})};return F(y,Bc.EventType.OPEN,()=>{E||(ne(vn,`RPC '${e}' stream ${i} transport opened.`),M.t_())}),F(y,Bc.EventType.CLOSE,()=>{E||(E=!0,ne(vn,`RPC '${e}' stream ${i} transport closed`),M.r_())}),F(y,Bc.EventType.ERROR,V=>{E||(E=!0,Gc(vn,`RPC '${e}' stream ${i} transport errored. Name:`,V.name,"Message:",V.message),M.r_(new te(H.UNAVAILABLE,"The operation could not be completed")))}),F(y,Bc.EventType.MESSAGE,V=>{var G;if(!E){let re=V.data[0];et(!!re,16349);let X=re,ke=X?.error||((G=X[0])===null||G===void 0?void 0:G.error);if(ke){ne(vn,`RPC '${e}' stream ${i} received error:`,ke);let Pt=ke.status,We=function(D){let x=Vt[D];if(x!==void 0)return _k(x)}(Pt),P=ke.message;We===void 0&&(We=H.INTERNAL,P="Unknown error status: "+Pt+" with message "+ke.message),E=!0,M.r_(new te(We,P)),y.close()}else ne(vn,`RPC '${e}' stream ${i} received:`,re),M.i_(re)}}),F(c,lb.STAT_EVENT,V=>{V.stat===d_.PROXY?ne(vn,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===d_.NOPROXY&&ne(vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.n_()},0),M}};function gb(){return typeof document<"u"?document:null}function ov(t){return new Zb(t,!0)}var F_=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var f1="PersistentStream",V_=class{constructor(e,n,r,i,o,a,c,l){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new F_(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return T(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return T(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,n){return T(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(bo(n.toString()),bo("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(n)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{let i=new te(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){let r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>T(this,null,function*(){this.state=0,this.start()}))}L_(e){return ne(f1,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ne(f1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},MT=class extends V_{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let n=a9(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();let a=o.targetChange;return a.targetIds&&a.targetIds.length?Ce.min():a.readTime?Ni(a.readTime):Ce.min()}(e);return this.listener.Q_(n,r)}U_(e){let n={};n.database=Xb(this.serializer),n.addTarget=function(o,a){let c,l=a.target;if(c=Vb(l)?{documents:l9(o,l)}:{query:d9(o,l).gt},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=vk(o,a.resumeToken);let f=Qb(o,a.expectedCount);f!==null&&(c.expectedCount=f)}else if(a.snapshotVersion.compareTo(Ce.min())>0){c.readTime=P_(o,a.snapshotVersion.toTimestamp());let f=Qb(o,a.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);let r=f9(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){let n={};n.database=Xb(this.serializer),n.removeTarget=e,this.F_(n)}},xT=class extends V_{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let n=c9(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.j_(r,n)}H_(){let e={};e.database=Xb(this.serializer),this.F_(e)}G_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>u9(this.serializer,r))};this.F_(n)}};var PT=class{},RT=class extends PT{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Qo(e,Yb(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(H.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Wo(e,Yb(n,r),i,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(H.UNKNOWN,a.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},NT=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(bo(n),this.ea=!1):ne("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var iu="RemoteStore",OT=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(a=>{r.enqueueAndForget(()=>T(this,null,function*(){au(this)&&(ne(iu,"Restarting streams for network reachability change."),yield function(l){return T(this,null,function*(){let f=Ie(l);f.aa.add(4),yield ef(f),f.la.set("Unknown"),f.aa.delete(4),yield sv(f)})}(this))}))}),this.la=new NT(r,i)}};function sv(t){return T(this,null,function*(){if(au(t))for(let e of t.ua)yield e(!0)})}function ef(t){return T(this,null,function*(){for(let e of t.ua)yield e(!1)})}function Ak(t,e){let n=Ie(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),mC(n)?gC(n):ul(n).b_()&&pC(n,e))}function fC(t,e){let n=Ie(t),r=ul(n);n._a.delete(e),r.b_()&&Mk(n,e),n._a.size===0&&(r.b_()?r.v_():au(n)&&n.la.set("Unknown"))}function pC(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(t).U_(e)}function Mk(t,e){t.ha.Ke(e),ul(t).K_(e)}function gC(t){t.ha=new Kb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ul(t).start(),t.la.ta()}function mC(t){return au(t)&&!ul(t).w_()&&t._a.size>0}function au(t){return Ie(t).aa.size===0}function xk(t){t.ha=void 0}function x9(t){return T(this,null,function*(){t.la.set("Online")})}function P9(t){return T(this,null,function*(){t._a.forEach((e,n)=>{pC(t,e)})})}function R9(t,e){return T(this,null,function*(){xk(t),mC(t)?(t.la.ia(e),gC(t)):t.la.set("Unknown")})}function N9(t,e,n){return T(this,null,function*(){if(t.la.set("Online"),e instanceof M_&&e.state===2&&e.cause)try{yield function(i,o){return T(this,null,function*(){let a=o.cause;for(let c of o.targetIds)i._a.has(c)&&(yield i.remoteSyncer.rejectListen(c,a),i._a.delete(c),i.ha.removeTarget(c))})}(t,e)}catch(r){ne(iu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield B_(t,r)}else if(e instanceof qc?t.ha.Xe(e):e instanceof A_?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Ce.min()))try{let r=yield Sk(t.localStore);n.compareTo(r)>=0&&(yield function(o,a){let c=o.ha.It(a);return c.targetChanges.forEach((l,f)=>{if(l.resumeToken.approximateByteSize()>0){let m=o._a.get(f);m&&o._a.set(f,m.withResumeToken(l.resumeToken,a))}}),c.targetMismatches.forEach((l,f)=>{let m=o._a.get(l);if(!m)return;o._a.set(l,m.withResumeToken(yn.EMPTY_BYTE_STRING,m.snapshotVersion)),Mk(o,l);let y=new Wh(m.target,l,f,m.sequenceNumber);pC(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){ne(iu,"Failed to raise snapshot:",r),yield B_(t,r)}})}function B_(t,e,n){return T(this,null,function*(){if(!al(e))throw e;t.aa.add(1),yield ef(t),t.la.set("Offline"),n||(n=()=>Sk(t.localStore)),t.asyncQueue.enqueueRetryable(()=>T(null,null,function*(){ne(iu,"Retrying IndexedDB access"),yield n(),t.aa.delete(1),yield sv(t)}))})}function Pk(t,e){return e().catch(n=>B_(t,n,e))}function av(t){return T(this,null,function*(){let e=Ie(t),n=Cs(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:nC;for(;O9(e);)try{let i=yield D9(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,k9(e,i)}catch(i){yield B_(e,i)}Rk(e)&&Nk(e)})}function O9(t){return au(t)&&t.oa.length<10}function k9(t,e){t.oa.push(e);let n=Cs(t);n.b_()&&n.W_&&n.G_(e.mutations)}function Rk(t){return au(t)&&!Cs(t).w_()&&t.oa.length>0}function Nk(t){Cs(t).start()}function L9(t){return T(this,null,function*(){Cs(t).H_()})}function F9(t){return T(this,null,function*(){let e=Cs(t);for(let n of t.oa)e.G_(n.mutations)})}function V9(t,e,n){return T(this,null,function*(){let r=t.oa.shift(),i=Hb.from(r,e,n);yield Pk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield av(t)})}function B9(t,e){return T(this,null,function*(){e&&Cs(t).W_&&(yield function(r,i){return T(this,null,function*(){if(function(a){return e9(a)&&a!==H.ABORTED}(i.code)){let o=r.oa.shift();Cs(r).D_(),yield Pk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield av(r)}})}(t,e)),Rk(t)&&Nk(t)})}function p1(t,e){return T(this,null,function*(){let n=Ie(t);n.asyncQueue.verifyOperationInProgress(),ne(iu,"RemoteStore received new credentials");let r=au(n);n.aa.add(3),yield ef(n),r&&n.la.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),yield sv(n)})}function U9(t,e){return T(this,null,function*(){let n=Ie(t);e?(n.aa.delete(2),yield sv(n)):e||(n.aa.add(2),yield ef(n),n.la.set("Unknown"))})}function ul(t){return t.Pa||(t.Pa=function(n,r,i){let o=Ie(n);return o.Y_(),new MT(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:x9.bind(null,t),Jo:P9.bind(null,t),Zo:R9.bind(null,t),Q_:N9.bind(null,t)}),t.ua.push(e=>T(null,null,function*(){e?(t.Pa.D_(),mC(t)?gC(t):t.la.set("Unknown")):(yield t.Pa.stop(),xk(t))}))),t.Pa}function Cs(t){return t.Ta||(t.Ta=function(n,r,i){let o=Ie(n);return o.Y_(),new xT(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:L9.bind(null,t),Zo:B9.bind(null,t),z_:F9.bind(null,t),j_:V9.bind(null,t)}),t.ua.push(e=>T(null,null,function*(){e?(t.Ta.D_(),yield av(t)):(yield t.Ta.stop(),t.oa.length>0&&(ne(iu,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))}))),t.Ta}var kT=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let a=Date.now()+r,c=new t(e,n,a,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function _C(t,e){if(bo("AsyncQueue",`${e}: ${t}`),al(t))return new te(H.UNAVAILABLE,`${e}: ${t}`);throw t}var U_=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=kh(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var j_=class{constructor(){this.Ia=new St(de.comparator)}track(e){let n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):pe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){let e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}},rl=class t{constructor(e,n,r,i,o,a,c,l,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){let a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new t(e,n,U_.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var LT=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},FT=class{constructor(){this.queries=g1(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){let i=Ie(n),o=i.queries;i.queries=g1(),o.forEach((a,c)=>{for(let l of c.Ra)l.onError(r)})})(this,new te(H.ABORTED,"Firestore shutting down"))}};function g1(){return new Do(t=>ok(t),rv)}function Ok(t,e){return T(this,null,function*(){let n=Ie(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new LT,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield n.onListen(i,!0);break;case 1:o.Aa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(a){let c=_C(a,`Initialization of query '${jc(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&vC(n)})}function kk(t,e){return T(this,null,function*(){let n=Ie(t),r=e.query,i=3,o=n.queries.get(r);if(o){let a=o.Ra.indexOf(e);a>=0&&(o.Ra.splice(a,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function j9(t,e){let n=Ie(t),r=!1;for(let i of e){let o=i.query,a=n.queries.get(o);if(a){for(let c of a.Ra)c.pa(i)&&(r=!0);a.Aa=i}}r&&vC(n)}function $9(t,e,n){let r=Ie(t),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(n);r.queries.delete(e)}function vC(t){t.fa.forEach(e=>{e.next()})}var VT,m1;(m1=VT||(VT={})).ya="default",m1.Cache="cache";var $_=class{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;let r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==VT.Cache}};var z_=class{constructor(e){this.key=e}},H_=class{constructor(e){this.key=e}},BT=class{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=He(),this.mutatedKeys=He(),this.Ua=sk(e),this.Ka=new U_(this.Ua)}get Wa(){return this.qa}Ga(e,n){let r=n?n.za:new j_,i=n?n.Ka:this.Ka,o=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{let I=i.get(m),E=iv(this.query,y)?y:null,M=!!I&&this.mutatedKeys.has(I.key),F=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),V=!1;I&&E?I.data.isEqual(E.data)?M!==F&&(r.track({type:3,doc:E}),V=!0):this.ja(I,E)||(r.track({type:2,doc:E}),V=!0,(l&&this.Ua(E,l)>0||f&&this.Ua(E,f)<0)&&(c=!0)):!I&&E?(r.track({type:0,doc:E}),V=!0):I&&!E&&(r.track({type:1,doc:I}),V=!0,(l||f)&&(c=!0)),V&&(E?(a=a.add(E),o=F?o.add(m):o.delete(m)):(a=a.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Ka:a,za:r,ys:c,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let a=e.za.da();a.sort((m,y)=>function(E,M){let F=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Vt:V})}};return F(E)-F(M)}(m.type,y.type)||this.Ua(m.doc,y.doc)),this.Ha(r),i=i!=null&&i;let c=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,f=l!==this.Qa;return this.Qa=l,a.length!==0||f?{snapshot:new rl(this.query,e.Ka,o,a,e.mutatedKeys,l===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new j_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=He(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new H_(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new z_(r))}),n}Xa(e){this.qa=e.Ns,this.$a=He();let n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return rl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},yC="SyncEngine",UT=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},jT=class{constructor(e){this.key=e,this.tu=!1}},$T=class{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.nu={},this.ru=new Do(c=>ok(c),rv),this.iu=new Map,this.su=new Set,this.ou=new St(de.comparator),this._u=new Map,this.au=new Kh,this.uu={},this.cu=new Map,this.lu=Gh.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function z9(t,e,n=!0){return T(this,null,function*(){let r=jk(t),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield Lk(r,e,n,!0),i})}function H9(t,e){return T(this,null,function*(){let n=jk(t);yield Lk(n,e,!0,!1)})}function Lk(t,e,n,r){return T(this,null,function*(){let i=yield S9(t.localStore,Ri(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield q9(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Ak(t.remoteStore,i),c})}function q9(t,e,n,r,i){return T(this,null,function*(){t.Pu=(y,I,E)=>function(F,V,G,re){return T(this,null,function*(){let X=V.view.Ga(G);X.ys&&(X=yield d1(F.localStore,V.query,!1).then(({documents:P})=>V.view.Ga(P,X)));let ke=re&&re.targetChanges.get(V.targetId),Pt=re&&re.targetMismatches.get(V.targetId)!=null,We=V.view.applyChanges(X,F.isPrimaryClient,ke,Pt);return v1(F,V.targetId,We.Ya),We.snapshot})}(t,y,I,E);let o=yield d1(t.localStore,e,!0),a=new BT(e,o.Ns),c=a.Ga(o.documents),l=qh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(c,t.isPrimaryClient,l);v1(t,n,f.Ya);let m=new UT(e,n,a);return t.ru.set(e,m),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),f.snapshot})}function W9(t,e,n){return T(this,null,function*(){let r=Ie(t),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(a=>!rv(a,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield IT(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fC(r.remoteStore,i.targetId),zT(r,i.targetId)}).catch(sl))):(zT(r,i.targetId),yield IT(r.localStore,i.targetId,!0))})}function G9(t,e){return T(this,null,function*(){let n=Ie(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fC(n.remoteStore,r.targetId))})}function K9(t,e,n){return T(this,null,function*(){let r=t7(t);try{let i=yield function(a,c){let l=Ie(a),f=fn.now(),m=c.reduce((E,M)=>E.add(M.key),He()),y,I;return l.persistence.runTransaction("Locally write mutations","readwrite",E=>{let M=So(),F=He();return l.Cs.getEntries(E,m).next(V=>{M=V,M.forEach((G,re)=>{re.isValidDocument()||(F=F.add(G))})}).next(()=>l.localDocuments.getOverlayedDocuments(E,M)).next(V=>{y=V;let G=[];for(let re of c){let X=XG(re,y.get(re.key).overlayedDocument);X!=null&&G.push(new Ao(re.key,X,J1(X.value.mapValue),Io.exists(!0)))}return l.mutationQueue.addMutationBatch(E,f,G,c)}).next(V=>{I=V;let G=V.applyToLocalDocumentSet(y,F);return l.documentOverlayCache.saveOverlays(E,V.batchId,G)})}).then(()=>({batchId:I.batchId,changes:uk(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,l){let f=a.uu[a.currentUser.toKey()];f||(f=new St(Ne)),f=f.insert(c,l),a.uu[a.currentUser.toKey()]=f}(r,i.batchId,n),yield tf(r,i.changes),yield av(r.remoteStore)}catch(i){let o=_C(i,"Failed to persist write");n.reject(o)}})}function Fk(t,e){return T(this,null,function*(){let n=Ie(t);try{let r=yield T9(n.localStore,e);e.targetChanges.forEach((i,o)=>{let a=n._u.get(o);a&&(et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.tu=!0:i.modifiedDocuments.size>0?et(a.tu,14607):i.removedDocuments.size>0&&(et(a.tu,42227),a.tu=!1))}),yield tf(n,r,e)}catch(r){yield sl(r)}})}function _1(t,e,n){let r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ru.forEach((o,a)=>{let c=a.view.ga(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){let l=Ie(a);l.onlineState=c;let f=!1;l.queries.forEach((m,y)=>{for(let I of y.Ra)I.ga(c)&&(f=!0)}),f&&vC(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Z9(t,e,n){return T(this,null,function*(){let r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r._u.get(e),o=i&&i.key;if(o){let a=new St(de.comparator);a=a.insert(o,Yr.newNoDocument(o,Ce.min()));let c=He().add(o),l=new S_(Ce.min(),new Map,new St(Ne),a,c);yield Fk(r,l),r.ou=r.ou.remove(o),r._u.delete(e),wC(r)}else yield IT(r.localStore,e,!1).then(()=>zT(r,e,n)).catch(sl)})}function Q9(t,e){return T(this,null,function*(){let n=Ie(t),r=e.batch.batchId;try{let i=yield b9(n.localStore,e);Bk(n,r,null),Vk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield tf(n,i)}catch(i){yield sl(i)}})}function Y9(t,e,n){return T(this,null,function*(){let r=Ie(t);try{let i=yield function(a,c){let l=Ie(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return l.mutationQueue.lookupMutationBatch(f,c).next(y=>(et(y!==null,37113),m=y.keys(),l.mutationQueue.removeMutationBatch(f,y))).next(()=>l.mutationQueue.performConsistencyCheck(f)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>l.localDocuments.getDocuments(f,m))})}(r.localStore,e);Bk(r,e,n),Vk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield tf(r,i)}catch(i){yield sl(i)}})}function Vk(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function Bk(t,e,n){let r=Ie(t),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function zT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||Uk(t,r)})}function Uk(t,e){t.su.delete(e.path.canonicalString());let n=t.ou.get(e);n!==null&&(fC(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),wC(t))}function v1(t,e,n){for(let r of n)r instanceof z_?(t.au.addReference(r.key,e),J9(t,r)):r instanceof H_?(ne(yC,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||Uk(t,r.key)):pe(19791,{Iu:r})}function J9(t,e){let n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(ne(yC,"New document in limbo: "+n),t.su.add(r),wC(t))}function wC(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){let e=t.su.values().next().value;t.su.delete(e);let n=new de(bt.fromString(e)),r=t.lu.next();t._u.set(r,new jT(n)),t.ou=t.ou.insert(n,r),Ak(t.remoteStore,new Wh(Ri(cC(n.path)),r,"TargetPurposeLimboResolution",tC.le))}}function tf(t,e,n){return T(this,null,function*(){let r=Ie(t),i=[],o=[],a=[];r.ru.isEmpty()||(r.ru.forEach((c,l)=>{a.push(r.Pu(l,e,n).then(f=>{var m;if((f||n)&&r.isPrimaryClient){let y=f?!f.fromCache:(m=n?.targetChanges.get(l.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(l.targetId,y?"current":"not-current")}if(f){i.push(f);let y=vT.Ps(l.targetId,f);o.push(y)}}))}),yield Promise.all(a),r.nu.Q_(i),yield function(l,f){return T(this,null,function*(){let m=Ie(l);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>W.forEach(f,I=>W.forEach(I.ls,E=>m.persistence.referenceDelegate.addReference(y,I.targetId,E)).next(()=>W.forEach(I.hs,E=>m.persistence.referenceDelegate.removeReference(y,I.targetId,E)))))}catch(y){if(!al(y))throw y;ne(hC,"Failed to update sequence numbers: "+y)}for(let y of f){let I=y.targetId;if(!y.fromCache){let E=m.Ss.get(I),M=E.snapshotVersion,F=E.withLastLimboFreeSnapshotVersion(M);m.Ss=m.Ss.insert(I,F)}}})}(r.localStore,o))})}function X9(t,e){return T(this,null,function*(){let n=Ie(t);if(!n.currentUser.isEqual(e)){ne(yC,"User change. New user:",e.toKey());let r=yield Dk(n.localStore,e);n.currentUser=e,function(o,a){o.cu.forEach(c=>{c.forEach(l=>{l.reject(new te(H.CANCELLED,a))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield tf(n,r.Ms)}})}function e7(t,e){let n=Ie(t),r=n._u.get(e);if(r&&r.tu)return He().add(r.key);{let i=He(),o=n.iu.get(e);if(!o)return i;for(let a of o){let c=n.ru.get(a);i=i.unionWith(c.view.Wa)}return i}}function jk(t){let e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z9.bind(null,e),e.nu.Q_=j9.bind(null,e.eventManager),e.nu.Tu=$9.bind(null,e.eventManager),e}function t7(t){let e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y9.bind(null,e),e}var $k=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return T(this,null,function*(){this.serializer=ov(n.databaseInfo.databaseId),this.sharedClientState=this.Au(n),this.persistence=this.Ru(n),yield this.persistence.start(),this.localStore=this.Vu(n),this.gcScheduler=this.mu(n,this.localStore),this.indexBackfillerScheduler=this.fu(n,this.localStore)})}mu(n,r){return null}fu(n,r){return null}Vu(n){return I9(this.persistence,new wT,n.initialUser,this.serializer)}Ru(n){return new N_(_T.Ei,this.serializer)}Au(n){return new bT}terminate(){return T(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),HT=class extends $k{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){et(this.persistence.referenceDelegate instanceof O_,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new iT(r,e.asyncQueue,n)}Ru(e){let n=this.cacheSizeBytes!==void 0?Er.withCacheSize(this.cacheSizeBytes):Er.DEFAULT;return new N_(r=>O_.Ei(r,n),this.serializer)}};var n7=(()=>{class t{initialize(n,r){return T(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=X9.bind(null,this.syncEngine),yield U9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new FT}()}createDatastore(n){let r=ov(n.databaseInfo.databaseId),i=function(a){return new AT(a)}(n.databaseInfo);return function(a,c,l,f){return new RT(a,c,l,f)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,a,c,l){return new OT(i,o,a,c,l)}(this.localStore,this.datastore,n.asyncQueue,r=>_1(this.syncEngine,r,0),function(){return L_.C()?new L_:new TT}())}createSyncEngine(n,r){return function(o,a,c,l,f,m,y){let I=new $T(o,a,c,l,f,m);return y&&(I.hu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return T(this,null,function*(){var n,r;yield function(o){return T(this,null,function*(){let a=Ie(o);ne(iu,"RemoteStore shutting down."),a.aa.add(5),yield ef(a),a.ca.shutdown(),a.la.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var q_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):bo("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Ds="FirestoreClient",qT=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=on.UNAUTHENTICATED,this.clientId=w_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,a=>T(this,null,function*(){ne(Ds,"Received user=",a.uid),yield this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,a=>(ne(Ds,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=_C(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function mb(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),ne(Ds,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>T(null,null,function*(){r.isEqual(i)||(yield Dk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function y1(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield r7(t);ne(Ds,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>p1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>p1(e.remoteStore,i)),t._onlineComponents=e})}function r7(t){return T(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(Ds,"Using user provided OfflineComponentProvider");try{yield mb(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Gc("Error using user provided cache. Falling back to memory cache: "+n),yield mb(t,new $k)}}else ne(Ds,"Using default OfflineComponentProvider"),yield mb(t,new HT(void 0));return t._offlineComponents})}function zk(t){return T(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(Ds,"Using user provided OnlineComponentProvider"),yield y1(t,t._uninitializedComponentsProvider._online)):(ne(Ds,"Using default OnlineComponentProvider"),yield y1(t,new n7))),t._onlineComponents})}function i7(t){return zk(t).then(e=>e.syncEngine)}function Hk(t){return T(this,null,function*(){let e=yield zk(t),n=e.eventManager;return n.onListen=z9.bind(null,e.syncEngine),n.onUnlisten=W9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=H9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=G9.bind(null,e.syncEngine),n})}function o7(t,e,n={}){let r=new Qr;return t.asyncQueue.enqueueAndForget(()=>T(null,null,function*(){return function(o,a,c,l,f){let m=new q_({next:I=>{m.yu(),a.enqueueAndForget(()=>kk(o,y));let E=I.docs.has(c);!E&&I.fromCache?f.reject(new te(H.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&I.fromCache&&l&&l.source==="server"?f.reject(new te(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(I)},error:I=>f.reject(I)}),y=new $_(cC(c.path),m,{includeMetadataChanges:!0,Fa:!0});return Ok(o,y)}(yield Hk(t),t.asyncQueue,e,n,r)})),r.promise}function s7(t,e,n={}){let r=new Qr;return t.asyncQueue.enqueueAndForget(()=>T(null,null,function*(){return function(o,a,c,l,f){let m=new q_({next:I=>{m.yu(),a.enqueueAndForget(()=>kk(o,y)),I.fromCache&&l.source==="server"?f.reject(new te(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(I)},error:I=>f.reject(I)}),y=new $_(c,m,{includeMetadataChanges:!0,Fa:!0});return Ok(o,y)}(yield Hk(t),t.asyncQueue,e,n,r)})),r.promise}function qk(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var w1=new Map;function Wk(t,e,n){if(!n)throw new te(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function a7(t,e,n,r){if(e===!0&&r===!0)throw new te(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function E1(t){if(!de.isDocumentKey(t))throw new te(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function I1(t){if(de.isDocumentKey(t))throw new te(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe(12329,{type:typeof t})}function Mo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=uv(t);throw new te(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Gk="firestore.googleapis.com",b1=!0,W_=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new te(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Gk,this.ssl=b1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:b1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ck;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<y9)throw new te(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new te(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},il=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _b;switch(r.type){case"firstParty":return new Eb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Pc("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=w1.get(n);r&&(ne("ComponentProvider","Removing Datastore"),w1.delete(n),r.terminate())}(this),Promise.resolve()}};function Kk(t,e,n,r={}){var i;t=Mo(t,il);let o=Ba(e),a=t._getSettings(),c=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;a.host!==Gk&&a.host!==l&&Gc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let f=Object.assign(Object.assign({},a),{host:l,ssl:o,emulatorOptions:r});if(!Ci(f,c)&&(t._setSettings(f),o&&(Bm(`https://${l}`),Pc("Firestore",!0)),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=on.MOCK_USER;else{m=GR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new te(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(I)}t._authCredentials=new vb(new v_(m,y))}}var ou=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Hn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Is=class t extends ou{constructor(e,n,r){super(e,n,cC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new de(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Zk(t,e,...n){if(t=hn(t),Wk("collection","path",e),t instanceof il){let r=bt.fromString(e,...n);return I1(r),new Is(t,null,r)}{if(!(t instanceof Hn||t instanceof Is))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(bt.fromString(e,...n));return I1(r),new Is(t.firestore,null,r)}}function EC(t,e,...n){if(t=hn(t),arguments.length===1&&(e=w_.newId()),Wk("doc","path",e),t instanceof il){let r=bt.fromString(e,...n);return E1(r),new Hn(t,null,new de(r))}{if(!(t instanceof Hn||t instanceof Is))throw new te(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(bt.fromString(e,...n));return E1(r),new Hn(t.firestore,t instanceof Is?t.converter:null,new de(r))}}var T1="AsyncQueue",G_=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new F_(this,"async_queue_retry"),this.ju=()=>{let r=gb();r&&ne(T1,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let n=gb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let n=gb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let n=new Qr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return T(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!al(e))throw e;ne(T1,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,bo("INTERNAL UNHANDLED ERROR: ",C1(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);let i=kT.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&pe(47125,{ec:C1(this.Ku)})}verifyOperationInProgress(){}tc(){return T(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let n=this.Uu.indexOf(e);this.Uu.splice(n,1)}};function C1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Ss=class extends il{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new G_,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new G_(e),this._firestoreClient=void 0,yield e}})}};function Qk(t,e){let n=typeof t=="object"?t:ja(),r=typeof t=="string"?t:e||T_,i=Oc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=WR("firestore");o&&Kk(i,...o)}return i}function IC(t){if(t._terminated)throw new te(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||u7(t),t._firestoreClient}function u7(t){var e,n,r;let i=t._freezeSettings(),o=function(c,l,f,m){return new Db(c,l,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,qk(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new qT(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(t._componentsProvider))}var Zh=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(yn.fromBase64String(e))}catch(n){throw new te(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Qh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var K_=class{constructor(e){this._methodName=e}};var Yh=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}};var Jh=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var c7=/^__.*__$/,WT=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}};function Yk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{oc:t})}}var GT=class t{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Z_(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Yk(this.oc)&&c7.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},KT=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ov(e)}dc(e,n,r,i=!1){return new GT({oc:e,methodName:n,Ec:r,path:ur.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function bC(t){let e=t._freezeSettings(),n=ov(t._databaseId);return new KT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Jk(t,e,n,r,i,o={}){let a=t.dc(o.merge||o.mergeFields?2:0,e,n,i);tL("Data must be an object, but it was:",a,r);let c=Xk(r,a),l,f;if(o.merge)l=new xi(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){let m=[];for(let y of o.mergeFields){let I=d7(e,y,n);if(!a.contains(I))throw new te(H.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);f7(m,I)||m.push(I)}l=new xi(m),f=a.fieldTransforms.filter(y=>l.covers(y.field))}else l=null,f=a.fieldTransforms;return new WT(new Zr(c),l,f)}function l7(t,e,n,r=!1){return TC(n,t.dc(r?4:3,e))}function TC(t,e){if(eL(t=hn(t)))return tL("Unsupported field value:",e,t),Xk(t,e);if(t instanceof K_)return function(r,i){if(!Yk(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],a=0;for(let c of r){let l=TC(c,i.Pc(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=fn.fromDate(r);return{timestampValue:P_(i.serializer,o)}}if(r instanceof fn){let o=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:P_(i.serializer,o)}}if(r instanceof Yh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zh)return{bytesValue:vk(i.serializer,r._byteString)};if(r instanceof Hn){let o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Tc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jh)return function(a,c){return{mapValue:{fields:{[iC]:{stringValue:oC},[Zc]:{arrayValue:{values:a.toArray().map(f=>{if(typeof f!="number")throw c.Tc("VectorValues must only contain numeric values.");return lC(c.serializer,f)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${uv(r)}`)}(t,e)}function Xk(t,e){let n={};return H1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):su(t,(r,i)=>{let o=TC(i,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function eL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof Yh||t instanceof Zh||t instanceof Hn||t instanceof K_||t instanceof Jh)}function tL(t,e,n){if(!eL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=uv(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function d7(t,e,n){if((e=hn(e))instanceof Qh)return e._internalPath;if(typeof e=="string")return nL(t,e);throw Z_("Field path arguments must be of type string or ",t,!1,void 0,n)}var h7=new RegExp("[~\\*/\\[\\]]");function nL(t,e,n){if(e.search(h7)>=0)throw Z_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qh(...e.split("."))._internalPath}catch{throw Z_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Z_(t,e,n,r,i){let o=r&&!r.isEmpty(),a=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new te(H.INVALID_ARGUMENT,c+t+l)}function f7(t,e){return t.some(n=>n.isEqual(e))}var Q_=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ZT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(cv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},ZT=class extends Q_{data(){return super.data()}};function cv(t,e){return typeof e=="string"?nL(t,e):e instanceof Qh?e._internalPath:e._delegate._internalPath}function p7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xh=class{},Y_=class extends Xh{};function rL(t,e,...n){let r=[];e instanceof Xh&&r.push(e),r=r.concat(n),function(o){let a=o.filter(l=>l instanceof QT).length,c=o.filter(l=>l instanceof J_).length;if(a>1||a>0&&c>0)throw new te(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var J_=class t extends Y_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return sL(e._query,n),new ou(e.firestore,e.converter,Bb(e._query,n))}_parse(e){let n=bC(e.firestore);return function(o,a,c,l,f,m,y){let I;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new te(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){S1(y,m);let M=[];for(let F of y)M.push(D1(l,o,F));I={arrayValue:{values:M}}}else I=D1(l,o,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||S1(y,m),I=l7(c,a,y,m==="in"||m==="not-in");return Ut.create(f,m,I)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function iL(t,e,n){let r=e,i=cv("where",t);return J_._create(i,r,n)}var QT=class t extends Xh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jr.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i,c=o.getFlattenedFilters();for(let l of c)sL(a,l),a=Bb(a,l)}(e._query,n),new ou(e.firestore,e.converter,Bb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var YT=class t extends Y_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,a){if(i.startAt!==null)throw new te(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new te(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(o,a)}(e._query,this._field,this._direction);return new ou(e.firestore,e.converter,function(i,o){let a=i.explicitOrderBy.concat([o]);return new Ts(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function oL(t,e="asc"){let n=e,r=cv("orderBy",t);return YT._create(r,n)}function D1(t,e,n){if(typeof(n=hn(n))=="string"){if(n==="")throw new te(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ik(e)&&n.indexOf("/")!==-1)throw new te(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(bt.fromString(n));if(!de.isDocumentKey(r))throw new te(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return WO(t,new de(r))}if(n instanceof Hn)return WO(t,n._key);throw new te(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uv(n)}.`)}function S1(t,e){if(!Array.isArray(t)||t.length===0)throw new te(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sL(t,e){let n=function(i,o){for(let a of i)for(let c of a.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var JT=class{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return su(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Zc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>gt(a.doubleValue));return new Jh(o)}convertGeoPoint(e){return new Yh(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=nv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($h(e));default:return null}}convertTimestamp(e){let n=To(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=bt.fromString(e);et(Tk(r),9688,{name:e});let i=new C_(r.get(1),r.get(3)),o=new de(r.popFirst(5));return i.isEqual(n)||bo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function aL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ya=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},X_=class extends Q_{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(cv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Wc=class extends X_{data(e={}){return super.data(e)}},XT=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ya(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wc(this._firestore,this._userDataWriter,r.key,r,new Ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{let l=new Wc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ya(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let l=new Wc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ya(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),f=-1,m=-1;return c.type!==0&&(f=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),m=a.indexOf(c.doc.key)),{type:g7(c.type),doc:l,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function g7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:t})}}function uL(t){t=Mo(t,Hn);let e=Mo(t.firestore,Ss);return o7(IC(e),t._key).then(n=>m7(e,t,n))}var ev=class extends JT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zh(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}};function cL(t){t=Mo(t,ou);let e=Mo(t.firestore,Ss),n=IC(e),r=new ev(e);return p7(t._query),s7(n,t._query).then(i=>new XT(e,r,t,i))}function lL(t,e,n){t=Mo(t,Hn);let r=Mo(t.firestore,Ss),i=aL(t.converter,e,n);return CC(r,[Jk(bC(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Io.none())])}function dL(t){return CC(Mo(t.firestore,Ss),[new Hh(t._key,Io.none())])}function hL(t,e){let n=Mo(t.firestore,Ss),r=EC(t),i=aL(t.converter,e);return CC(n,[Jk(bC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Io.exists(!1))]).then(()=>r)}function CC(t,e){return function(r,i){let o=new Qr;return r.asyncQueue.enqueueAndForget(()=>T(null,null,function*(){return K9(yield i7(r),i,o)})),o.promise}(IC(t),e)}function m7(t,e,n){let r=n.docs.get(e._key),i=new ev(t);return new X_(t,i,e._key,r,new Ya(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ol=i})(fs),Gr(new An("firestore",(r,{instanceIdentifier:i,options:o})=>{let a=r.getProvider("app").getImmediate(),c=new Ss(new yb(r.getProvider("auth-internal")),new Ib(a,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new te(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new C_(f.options.projectId,m)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Dt(LO,FO,e),Dt(LO,FO,"esm2017")})();var xo=class{constructor(e){return e}},fL="firestore",DC=class{constructor(){return Lc(fL)}};var SC=new Y("angularfire2.firestore-instances");function _7(t,e){let n=wh(fL,t,e);return n&&new xo(n)}function v7(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new xo(r)}}var y7={provide:DC,deps:[[new nr,SC]]},w7={provide:xo,useFactory:_7,deps:[[new nr,SC],mo]};function pL(t,...e){return Dt("angularfire",ps.full,"fst"),Fn([w7,y7,{provide:SC,useFactory:v7(t),multi:!0,deps:[Ye,kt,gs,za,[new nr,Nh],[new nr,Fc],...e]}])}var gL=xt(hL,!0,2);var AC=xt(Zk,!0,2);var mL=xt(dL,!0,2);var cl=xt(EC,!0,2);var MC=xt(uL,!0);var _L=xt(cL,!0);var vL=xt(Qk,!0);var yL=xt(oL,!0,2),wL=xt(rL,!0,2);var EL=xt(lL,!0,2);var IL=xt(iL,!0,2);var wn=class t{constructor(e,n){this.auth=e;this.firestore=n;this.currentUser=MO(this.auth).pipe(Ot(r=>r?$e(this.getUserProfileFromFirestore(r.uid)).pipe(Nt(i=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u043E\u0444\u0438\u043B\u044F \u0438\u0437 Firestore:",i),ie(null)))):ie(null)),Nt(r=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0432 AuthService:",r),ie(null))),by(1),ct(r=>{this._currentUserSubject.next(r),r?localStorage.setItem("currentUserId",r.id):localStorage.removeItem("currentUserId")})),this.currentUser.subscribe()}_currentUserSubject=new zt(null);currentUser;login(e,n){return $e(RO(this.auth,e,n)).pipe(Ot(r=>r&&r.user?$e(this.getUserProfileFromFirestore(r.user.uid)):ie(null)),Nt(r=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0445\u043E\u0434\u0430:",r.message),ie(null))))}register(e,n,r){return $e(xO(this.auth,e,n)).pipe(Ot(i=>T(this,null,function*(){let a=i.user.uid,c=cl(this.firestore,`users/${a}`),l={username:r,description:"",avatarUrl:""};return yield EL(c,l),K({id:a},l)})),Nt(i=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438:",i.message),ie(null))))}logout(){return $e(NO(this.auth)).pipe(Nt(e=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u044B\u0445\u043E\u0434\u0430:",e.message),ie(void 0))))}isLoggedIn(){return this.currentUser.pipe(me(e=>!!e))}getCurrentUserId(){return this._currentUserSubject.value?.id||null}getUserById(e){let n=cl(this.firestore,`users/${e}`);return $e(MC(n)).pipe(me(r=>{if(r.exists()){let i=r.data();return K({id:r.id},i)}else return console.warn("\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D \u0434\u043B\u044F ID:",e),null}),Nt(r=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F:",r),ie(null))))}getUserProfileFromFirestore(e){return T(this,null,function*(){let n=cl(this.firestore,`users/${e}`),r=yield MC(n);if(r.exists()){let i=r.data();return K({id:r.id},i)}else return console.warn("\u041F\u0440\u043E\u0444\u0438\u043B\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D \u0434\u043B\u044F UID:",e),null})}static \u0275fac=function(n){return new(n||t)(ue(Ka),ue(xo))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})};var As=class t{constructor(e,n){this.http=e;this.firestore=n}nom_url="https://nominatim.openstreetmap.org/search";osrm_template_url="https://routing.openstreetmap.de/routed-";geocode(e){return T(this,null,function*(){let n=`${this.nom_url}?format=json&q=${encodeURIComponent(e)}`;try{let r=yield wp(this.http.get(n));if(r&&r.length>0)return[parseFloat(r[0].lat),parseFloat(r[0].lon)];throw new Error("\u0410\u0434\u0440\u0435\u0441 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D")}catch(r){throw console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0433\u0435\u043E\u043A\u043E\u0434\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F:",r),r}})}getRoute(e,n,r){return T(this,null,function*(){let i=this.getMode(r),o=`${e[1]},${e[0]};${n[1]},${n[0]}`,a=`${this.osrm_template_url}${i}/route/v1/${i}/${o}?overview=full&geometries=geojson&steps=true`;try{return yield wp(this.http.get(a))}catch(c){throw console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",c),c}})}saveRoute(e,n){if(!n)return alert("\u041E\u0448\u0438\u0431\u043A\u0430: \u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F."),ie(null);let r=AC(this.firestore,"routes"),i=null,o=null;try{e.routes&&(i=JSON.stringify(e.routes)),e.waypoints&&(o=JSON.stringify(e.waypoints))}catch(c){return console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",c),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),ie(null)}let a={userId:n,createdAt:new Date,startAddress:e.startAddress,endAddress:e.endAddress,mode:e.mode,routesJson:i,waypointsJson:o,duration:e.routes?.[0]?.duration,distance:e.routes?.[0]?.distance};return $e(gL(r,a)).pipe(ct(()=>alert("\u041C\u0430\u0440\u0448\u0440\u0443\u0442 \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D")),Nt(c=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",c),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),ie(null))))}loadRoutes(e){if(!e)return ie([]);let n=AC(this.firestore,"routes"),r=wL(n,IL("userId","==",e),yL("createdAt","desc"));return $e(_L(r)).pipe(me(i=>{let o=[];return i.forEach(a=>{let c=a.data(),l=null,f=null;try{c.routesJson&&typeof c.routesJson=="string"&&(l=JSON.parse(c.routesJson)),c.waypointsJson&&typeof c.waypointsJson=="string"&&(f=JSON.parse(c.waypointsJson))}catch(y){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0430\u0440\u0441\u0438\u043D\u0433\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",a.id,y);return}let m={id:a.id,userId:c.userId,createdAt:c.createdAt,startAddress:c.startAddress,endAddress:c.endAddress,mode:c.mode,routes:l,waypoints:f,duration:c.duration,distance:c.distance};o.push(m)}),o}),Nt(i=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432:",i),ie([]))))}deleteRoute(e){if(!e)return ie(void 0);let n=cl(this.firestore,`routes/${e}`);return $e(mL(n)).pipe(Nt(r=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",r),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),ie(void 0))))}getMode(e){switch(e){case"foot":return"foot";case"bike":return"bike";default:return"car"}}static \u0275fac=function(n){return new(n||t)(ue(om),ue(xo))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})};var E7=(t,e)=>e.label;function I7(t,e){if(t&1&&(j(0,"h2"),Q(1),z(),j(2,"p"),Q(3),z()),t&2){let n=Mt();ce(),so("\u041F\u0440\u0438\u0432\u0435\u0442, ",n.currentUser.username,"!"),ce(2),en(n.currentUser.description||"\u0414\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043F\u0440\u043E\u0444\u0438\u043B\u044F.")}}function b7(t,e){t&1&&(j(0,"p"),Q(1,"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 \u043F\u0440\u043E\u0444\u0438\u043B\u044F..."),z())}function T7(t,e){t&1&&(j(0,"tr")(1,"td"),Q(2,"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0438..."),z()())}function C7(t,e){if(t&1&&(j(0,"tr")(1,"th",5),Q(2),z(),j(3,"td"),Q(4),z(),j(5,"td"),Q(6),z()()),t&2){let n=e.$implicit;ce(2),en(n.label),ce(2),en(n.lastMonth),ce(2),en(n.allTime)}}function D7(t,e){if(t&1&&$r(0,C7,7,3,"tr",null,E7),t&2){let n=Mt();zr(n.stats)}}function S7(t,e){t&1&&(j(0,"tr")(1,"td"),Q(2,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"),z()())}var lv=class t{constructor(e,n){this.authService=e;this.routeService=n}settings=null;currentUser=null;stats=[];isLoadingStats=!0;destroy$=new Qe;ngOnInit(){this.authService.currentUser.pipe(Nn(this.destroy$),ct(e=>{this.currentUser=e}),Cn(e=>!!e)).pipe(Ot(e=>(this.isLoadingStats=!0,this.routeService.loadRoutes(e.id).pipe(Nn(this.destroy$))))).subscribe({next:e=>{this.calculateAndDisplayStats(e||[]),this.isLoadingStats=!1},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0438:",e),this.isLoadingStats=!1,this.stats=[]}})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calculateAndDisplayStats(e){let n=new Date,r=new Date(n.getFullYear(),n.getMonth(),1),i=new Date(n.getFullYear(),n.getMonth()-1,1),o=e.filter(l=>{let f=l.createdAt instanceof Date?l.createdAt:l.createdAt.toDate();return f>=i&&f<r}),a=this.aggregateStats(e),c=this.aggregateStats(o);this.stats=[{label:"\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432",lastMonth:o.length,allTime:e.length},{label:"\u041E\u0431\u0449\u0430\u044F \u0434\u0438\u0441\u0442\u0430\u043D\u0446\u0438\u044F",lastMonth:this.formatDistance(c.totalDistanceKm),allTime:this.formatDistance(a.totalDistanceKm)},{label:"\u041E\u0431\u0449\u0435\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435 (\u043D\u0430 \u0430\u0432\u0442\u043E)",lastMonth:this.formatDistance(c.carDistanceKm),allTime:this.formatDistance(a.carDistanceKm)},{label:"\u041E\u0431\u0449\u0435\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435 (\u043F\u0435\u0448\u043A\u043E\u043C)",lastMonth:this.formatDistance(c.footDistanceKm),allTime:this.formatDistance(a.footDistanceKm)},{label:"\u041E\u0431\u0449\u0435\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435 (\u043D\u0430 \u0432\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434\u0435)",lastMonth:this.formatDistance(c.bikeDistanceKm),allTime:this.formatDistance(a.bikeDistanceKm)},{label:"\u0421\u0443\u043C\u043C\u0430\u0440\u043D\u043E\u0435 \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438",lastMonth:fh(c.totalDurationSeconds),allTime:fh(a.totalDurationSeconds)}]}aggregateStats(e){let n=0,r=0,i=0,o=0,a=0;return e.forEach(c=>{let l=typeof c.distance=="number"?c.distance:0,f=typeof c.duration=="number"?c.duration:0;switch(n+=l,a+=f,c.mode){case"car":r+=l;break;case"foot":i+=l;break;case"bike":o+=l;break;default:break}}),{totalDistanceKm:n/1e3,carDistanceKm:r/1e3,footDistanceKm:i/1e3,bikeDistanceKm:o/1e3,totalDurationSeconds:a}}formatDistance(e){return e<.01?"0 \u043A\u043C":`${e.toFixed(2)} \u043A\u043C`}static \u0275fac=function(n){return new(n||t)(ae(wn),ae(As))};static \u0275cmp=Ct({type:t,selectors:[["app-profile-page"]],decls:24,vars:2,consts:[[1,"profile-slidebar"],["src","Background-image.jpg","alt","Background image"],[1,"profile-stats"],[1,"profile-stats__stats-table"],["scope","col"],["scope","row"]],template:function(n,r){n&1&&(j(0,"main")(1,"section",0)(2,"h1"),Q(3,"\u041F\u0440\u043E\u0444\u0438\u043B\u044C"),z(),rt(4,"img",1),rr(5,I7,4,2)(6,b7,2,0,"p"),rt(7,"section"),z(),j(8,"section",2)(9,"h1"),Q(10,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430"),z(),j(11,"table",3)(12,"thead")(13,"tr"),rt(14,"th",4),j(15,"th",4),Q(16,"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0439 \u043C\u0435\u0441\u044F\u0446"),z(),j(17,"th",4),Q(18,"\u0412\u0441\u0451 \u0432\u0440\u0435\u043C\u044F"),z()()(),j(19,"tbody"),rr(20,T7,3,0,"tr")(21,D7,2,0)(22,S7,3,0,"tr"),z()(),rt(23,"section"),z()()),n&2&&(ce(5),jr(r.currentUser?5:6),ce(15),jr(r.isLoadingStats?20:r.stats.length>0?21:22))},dependencies:[_n],styles:["[_nghost-%COMP%]{width:100%}main[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:25px;gap:25px}h1[_ngcontent-%COMP%]{margin:0;font-size:32px}.profile-slidebar[_ngcontent-%COMP%]{padding:20px;background-color:#000000bf;border-radius:10px;color:#fff;width:300px;display:flex;flex-direction:column;align-items:center;gap:10px}.profile-slidebar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:auto}.profile-stats[_ngcontent-%COMP%]{padding:20px;width:750px;background-color:#000000bf;border-radius:10px;color:#fff;display:flex;flex-direction:column;align-items:start;gap:10px}.profile-stats__stats-table[_ngcontent-%COMP%]{width:100%}.profile-stats__stats-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .profile-stats__stats-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 25px;height:25px;background-color:#ffffff40;font-size:20px}.profile-stats[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.profile-stats[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:auto}@media (max-width: 1200px){.profile-stats__stats-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .profile-stats__stats-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 10px;font-size:16px}}@media (max-width: 992px){main[_ngcontent-%COMP%]{flex-direction:column}.profile-slidebar[_ngcontent-%COMP%]{padding:10px;width:auto}.profile-slidebar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}.profile-slidebar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px}.profile-stats[_ngcontent-%COMP%]{width:auto}}@media (max-width: 567px){.profile-stats__stats-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .profile-stats__stats-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px;font-size:14px}}"]})};var qn=RF(CL());var A7=["mapContainer"],Ms=class t{mapContainer;map=null;routeLayer;markers=[];mapIcon=qn.icon({iconUrl:"map-marker.svg",iconSize:[24,45],iconAnchor:[12,35]});constructor(){qn.Marker.prototype.options.icon=this.mapIcon}ngAfterViewInit(){this.initMap()}initMap(){try{if(!this.mapContainer||!this.mapContainer.nativeElement){console.error("\u041A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440 \u043A\u0430\u0440\u0442\u044B \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D.");return}let e=qn.map(this.mapContainer.nativeElement,{});if(this.map=e,!this.map){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u043A\u0430\u0440\u0442\u044B.");return}qn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(this.map),this.mapContainer.nativeElement.offsetWidth>0&&this.mapContainer.nativeElement.offsetHeight>0&&this.map.setView([55.160077,61.397225],10)}catch(e){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u043A\u0430\u0440\u0442\u044B:",e)}}drawRoute(e){this.clearRoute();try{this.map&&e?.routes?.[0]?.geometry&&(this.routeLayer=qn.geoJSON(e.routes[0].geometry,{style:{color:"rgb(23, 75, 45)",weight:5}}).addTo(this.map),this.map&&this.routeLayer&&this.routeLayer.getBounds().isValid()&&this.map.fitBounds(this.routeLayer.getBounds()))}catch(n){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",n)}}addMarkers(e,n){this.clearMarkers();try{if(this.map){let r=qn.marker(e).addTo(this.map).bindPopup("\u041D\u0430\u0447\u0430\u043B\u043E").openPopup();this.markers.push(r);let i=qn.marker(n).addTo(this.map).bindPopup("\u041A\u043E\u043D\u0435\u0446");this.markers.push(i)}}catch(r){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u043A\u0435\u0440\u043E\u0432:",r)}}addMark(e){this.clearMarkers();try{if(this.map){let n=qn.marker(e).addTo(this.map).bindPopup("\u042F").openPopup();this.markers.push(n)}}catch(n){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u043A\u0435\u0440\u0430:",n)}}clearRoute(){this.routeLayer&&(this.map&&this.map.hasLayer(this.routeLayer)&&this.map.removeLayer(this.routeLayer),this.routeLayer=void 0)}clearMarkers(){this.markers.length>0&&(this.map&&this.markers.forEach(e=>{this.map.hasLayer(e)&&this.map.removeLayer(e)}),this.markers=[])}recenterMap(e=[55.160077,61.397225],n=10){this.map&&this.map.setView(e,n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ct({type:t,selectors:[["app-map"]],viewQuery:function(n,r){if(n&1&&gc(A7,5),n&2){let i;Ta(i=Ca())&&(r.mapContainer=i.first)}},decls:2,vars:0,consts:[["mapContainer",""],[1,"map-container"]],template:function(n,r){n&1&&rt(0,"div",1,0)},styles:["[_nghost-%COMP%]{width:100%;height:100vh;max-height:1000px}.map-container[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;border:5px solid rgb(0,0,0)}"]})};var kL=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ae(ss),ae(mr))};static \u0275dir=Lt({type:t})}return t})(),OC=(()=>{class t extends kL{static \u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})();static \u0275dir=Lt({type:t,features:[Ur]})}return t})(),yv=new Y("");var M7={provide:yv,useExisting:to(()=>ki),multi:!0};function x7(){let t=yr()?yr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var P7=new Y(""),ki=(()=>{class t extends kL{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!x7())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ae(ss),ae(mr),ae(P7,8))};static \u0275dir=Lt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ze("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[Da([M7]),Ur]})}return t})();function R7(t){return t==null||N7(t)===0}function N7(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var kC=new Y(""),LL=new Y("");function O7(t){return R7(t.value)?{required:!0}:null}function DL(t){return null}function FL(t){return t!=null}function VL(t){return as(t)?$e(t):t}function BL(t){let e={};return t.forEach(n=>{e=n!=null?K(K({},e),n):e}),Object.keys(e).length===0?null:e}function UL(t,e){return e.map(n=>n(t))}function k7(t){return!t.validate}function jL(t){return t.map(e=>k7(e)?e:n=>e.validate(n))}function L7(t){if(!t)return null;let e=t.filter(FL);return e.length==0?null:function(n){return BL(UL(n,e))}}function LC(t){return t!=null?L7(jL(t)):null}function F7(t){if(!t)return null;let e=t.filter(FL);return e.length==0?null:function(n){let r=UL(n,e).map(VL);return yy(r).pipe(me(BL))}}function FC(t){return t!=null?F7(jL(t)):null}function SL(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function V7(t){return t._rawValidators}function B7(t){return t._rawAsyncValidators}function PC(t){return t?Array.isArray(t)?t:[t]:[]}function fv(t,e){return Array.isArray(t)?t.includes(e):t===e}function AL(t,e){let n=PC(e);return PC(t).forEach(i=>{fv(n,i)||n.push(i)}),n}function ML(t,e){return PC(e).filter(n=>!fv(t,n))}var pv=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=LC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=FC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},hl=class extends pv{name;get formDirective(){return null}get path(){return null}},uf=class extends pv{_parent=null;name=null;valueAccessor=null},gv=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},U7={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ale=Ae(K({},U7),{"[class.ng-submitted]":"isSubmitted"}),Ps=(()=>{class t extends gv{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ae(uf,2))};static \u0275dir=Lt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&oo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ur]})}return t})(),Rs=(()=>{class t extends gv{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ae(hl,10))};static \u0275dir=Lt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&oo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ur]})}return t})();var nf="VALID",hv="INVALID",ll="PENDING",rf="DISABLED",xs=class{},mv=class extends xs{value;source;constructor(e,n){super(),this.value=e,this.source=n}},sf=class extends xs{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},af=class extends xs{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},dl=class extends xs{status;source;constructor(e,n){super(),this.status=e,this.source=n}},RC=class extends xs{source;constructor(e){super(),this.source=e}},NC=class extends xs{source;constructor(e){super(),this.source=e}};function $L(t){return(wv(t)?t.validators:t)||null}function j7(t){return Array.isArray(t)?LC(t):t||null}function zL(t,e){return(wv(e)?e.asyncValidators:t)||null}function $7(t){return Array.isArray(t)?FC(t):t||null}function wv(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function z7(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new J(1e3,"");if(!r[n])throw new J(1001,"")}function H7(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new J(1002,"")})}var _v=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vr(this.statusReactive)}set status(e){vr(()=>this.statusReactive.set(e))}_status=Ma(()=>this.statusReactive());statusReactive=wa(void 0);get valid(){return this.status===nf}get invalid(){return this.status===hv}get pending(){return this.status==ll}get disabled(){return this.status===rf}get enabled(){return this.status!==rf}errors;get pristine(){return vr(this.pristineReactive)}set pristine(e){vr(()=>this.pristineReactive.set(e))}_pristine=Ma(()=>this.pristineReactive());pristineReactive=wa(!0);get dirty(){return!this.pristine}get touched(){return vr(this.touchedReactive)}set touched(e){vr(()=>this.touchedReactive.set(e))}_touched=Ma(()=>this.touchedReactive());touchedReactive=wa(!1);get untouched(){return!this.touched}_events=new Qe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ML(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ML(e,this._rawAsyncValidators))}hasValidator(e){return fv(this._rawValidators,e)}hasAsyncValidator(e){return fv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ae(K({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new af(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new af(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ae(K({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new sf(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new sf(!0,r))}markAsPending(e={}){this.status=ll;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dl(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ae(K({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=rf,this.errors=null,this._forEachChild(i=>{i.disable(Ae(K({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mv(this.value,r)),this._events.next(new dl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ae(K({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=nf,this._forEachChild(r=>{r.enable(Ae(K({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ae(K({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nf||this.status===ll)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mv(this.value,n)),this._events.next(new dl(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ae(K({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rf:nf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ll,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=VL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new dl(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new wt,this.statusChanges=new wt}_calculateStatus(){return this._allControlsDisabled()?rf:this.errors?hv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ll)?ll:this._anyControlsHaveStatus(hv)?hv:nf}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new sf(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new af(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=j7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=$7(this._rawAsyncValidators)}},vv=class extends _v{constructor(e,n,r){super($L(n),zL(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){H7(this,!0,e),Object.keys(e).forEach(r=>{z7(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var VC=new Y("",{providedIn:"root",factory:()=>BC}),BC="always";function q7(t,e){return[...e.path,t]}function HL(t,e,n=BC){qL(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),G7(t,e),Z7(t,e),K7(t,e),W7(t,e)}function xL(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function W7(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function qL(t,e){let n=V7(t);e.validator!==null?t.setValidators(SL(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=B7(t);e.asyncValidator!==null?t.setAsyncValidators(SL(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();xL(e._rawValidators,i),xL(e._rawAsyncValidators,i)}function G7(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&WL(t,e)})}function K7(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&WL(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function WL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Z7(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Q7(t,e){t==null,qL(t,e)}function Y7(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function J7(t){return Object.getPrototypeOf(t.constructor)===OC}function X7(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function eK(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===ki?n=o:J7(o)?r=o:i=o}),i||r||n||null}var tK={provide:hl,useExisting:to(()=>Po)},of=Promise.resolve(),Po=(()=>{class t extends hl{callSetDisabledState;get submitted(){return vr(this.submittedReactive)}_submitted=Ma(()=>this.submittedReactive());submittedReactive=wa(!1);_directives=new Set;form;ngSubmit=new wt;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new vv({},LC(n),FC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){of.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),HL(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){of.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){of.then(()=>{let r=this._findContainer(n.path),i=new vv({});Q7(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){of.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){of.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),X7(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new RC(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new NC(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(ae(kC,10),ae(LL,10),ae(VC,8))};static \u0275dir=Lt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ze("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Da([tK]),Ur]})}return t})();function PL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function RL(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var nK=class extends _v{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super($L(n),zL(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(RL(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){PL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){PL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var rK={provide:uf,useExisting:to(()=>Ro)},NL=Promise.resolve(),Ro=(()=>{class t extends uf{_changeDetectorRef;callSetDisabledState;control=new nK;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new wt;constructor(n,r,i,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=eK(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Y7(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){HL(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){NL.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Aa(r);NL.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?q7(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(ae(hl,9),ae(kC,10),ae(LL,10),ae(yv,10),ae(Sa,8),ae(VC,8))};static \u0275dir=Lt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Da([rK]),Ur,rs]})}return t})();var Ns=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Lt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var iK={provide:yv,useExisting:to(()=>fl),multi:!0};function GL(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function oK(t){return t.split(":")[0]}var fl=(()=>{class t extends OC{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=GL(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=oK(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})();static \u0275dir=Lt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ze("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Da([iK]),Ur]})}return t})(),Ev=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(GL(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(ae(mr),ae(ss),ae(fl,9))};static \u0275dir=Lt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),sK={provide:yv,useExisting:to(()=>KL),multi:!0};function OL(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function aK(t){return t.split(":")[0]}var KL=(()=>{class t extends OC{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(i.indexOf(a.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let l=a[c],f=this._getOptionValue(l.value);i.push(f)}}else{let a=r.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let f=this._getOptionValue(l.value);i.push(f)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=aK(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})();static \u0275dir=Lt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ze("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Da([sK]),Ur]})}return t})(),Iv=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(OL(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(OL(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(ae(mr),ae(ss),ae(KL,9))};static \u0275dir=Lt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var uK=(()=>{class t{_validator=DL;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):DL,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Lt({type:t,features:[rs]})}return t})();var cK={provide:kC,useExisting:to(()=>cf),multi:!0};var cf=(()=>{class t extends uK{required;inputName="required";normalizeInput=Aa;createValidator=n=>O7;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=os(t)))(i||t)}})();static \u0275dir=Lt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Rd("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Da([cK]),Ur]})}return t})();var lK=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=io({type:t});static \u0275inj=no({})}return t})();var Li=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:VC,useValue:n.callSetDisabledState??BC}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=io({type:t});static \u0275inj=no({imports:[lK]})}return t})();function dK(t,e){if(t&1&&(j(0,"div",9)(1,"div",10)(2,"label",11),Q(3,"\u0420\u0430\u0441\u0447\u0451\u0442\u043D\u043E\u0435 \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438"),z(),j(4,"p",12),Q(5),z()()()),t&2){let n=Mt();ce(5),en(n.routeData.time)}}var Tv=class t{routeData;startAddressChange=new wt;endAddressChange=new wt;modeChange=new wt;startAddress="";endAddress="";mode="car";constructor(){}onStartAddressChange(e){this.startAddressChange.emit(e),console.log("\u041D\u0430\u0447\u0430\u043B\u044C\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441 \u0438\u0437\u043C\u0435\u043D\u0435\u043D:",e)}onEndAddressChange(e){this.endAddressChange.emit(e),console.log("\u041A\u043E\u043D\u0435\u0447\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441 \u0438\u0437\u043C\u0435\u043D\u0435\u043D:",e)}onModeChange(e){this.modeChange.emit(e),console.log("\u0420\u0435\u0436\u0438\u043C \u0438\u0437\u043C\u0435\u043D\u0435\u043D:",e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ct({type:t,selectors:[["app-route-info"]],inputs:{routeData:"routeData"},outputs:{startAddressChange:"startAddressChange",endAddressChange:"endAddressChange",modeChange:"modeChange"},decls:17,vars:4,consts:[[1,"route-form"],[1,"route-form__title"],[1,"route-form__label"],["placeholder","\u041E\u0442\u043A\u0443\u0434\u0430","name","startAddress",1,"route-form__input",3,"ngModelChange","ngModel"],["placeholder","\u041A\u0443\u0434\u0430","name","endAddress",1,"route-form__input",3,"ngModelChange","ngModel"],["name","mode",1,"route-form__select",3,"ngModelChange","ngModel"],["value","foot"],["value","bike"],["value","car"],[1,"route-form__time-info"],[1,"route-form__time-item"],[1,"route-form__time-label"],[1,"route-form__time-value"]],template:function(n,r){n&1&&(j(0,"form",0)(1,"h1",1),Q(2,"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0435"),z(),j(3,"label",2),Q(4,"\u041C\u0435\u0441\u0442\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F"),z(),j(5,"input",3),ze("ngModelChange",function(o){return r.onStartAddressChange(o)}),z(),j(6,"label",2),Q(7,"\u041C\u0435\u0441\u0442\u043E \u043F\u0440\u0438\u0431\u044B\u0442\u0438\u044F"),z(),j(8,"input",4),ze("ngModelChange",function(o){return r.onEndAddressChange(o)}),z(),j(9,"select",5),ze("ngModelChange",function(o){return r.onModeChange(o)}),j(10,"option",6),Q(11,"\u041F\u0435\u0448\u043A\u043E\u043C"),z(),j(12,"option",7),Q(13,"\u0412\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434"),z(),j(14,"option",8),Q(15,"\u0410\u0432\u0442\u043E"),z()(),rr(16,dK,6,1,"div",9),z()),n&2&&(ce(5),yi("ngModel",r.startAddress),ce(3),yi("ngModel",r.endAddress),ce(),yi("ngModel",r.mode),ce(7),jr(r.routeData?16:-1))},dependencies:[_n,Li,Ns,Ev,Iv,ki,fl,Ps,Rs,Ro,Po],styles:[".route-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:max-content;background-color:#000000bf;border-radius:10px;padding:25px}.route-form__label[_ngcontent-%COMP%]{font-size:20px;margin-bottom:5px}.route-form__input[_ngcontent-%COMP%], .route-form__select[_ngcontent-%COMP%]{margin-bottom:25px;width:100%;height:35px;border-radius:10px;font-family:Playfair Display,serif;font-size:16px}.route-form__select[_ngcontent-%COMP%]{width:250px}.route-form__title[_ngcontent-%COMP%]{font-family:Playfair Display SC,serif;margin-top:0;font-size:32px;text-align:center}.route-form__time-info[_ngcontent-%COMP%]{display:flex;gap:25px}.route-form__time-info__time-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#ffffffbf;padding:10px;border-radius:10px;color:#000}.route-form__time-info__time-item__label[_ngcontent-%COMP%]{font-size:16px;margin-bottom:5px}.route-form__time-info__time-item__value[_ngcontent-%COMP%]{font-size:32px;margin:0}@media (max-width: 567px){.route-form[_ngcontent-%COMP%]{padding:15px}.route-form__label[_ngcontent-%COMP%]{font-size:16px}.route-form__input[_ngcontent-%COMP%], .route-form__select[_ngcontent-%COMP%]{margin-bottom:15px;font-size:14px}.route-form__title[_ngcontent-%COMP%]{font-size:26px}.route-form__time-info[_ngcontent-%COMP%]{gap:10px}.route-form__time-info__time-item__value[_ngcontent-%COMP%]{font-size:26px}}"]})};var Cv=class t{constructor(e,n,r){this.routeService=e;this.authService=n;this.router=r}mapComponent;startAddress="";endAddress="";mode="car";routeInfo;currentRoute;currentUser=null;destroy$=new Qe;ngOnInit(){this.authService.currentUser.pipe(Nn(this.destroy$)).subscribe(e=>{this.currentUser=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onStartAddressChange(e){this.startAddress=e}onEndAddressChange(e){this.endAddress=e}onModeChange(e){this.mode=e}calculateRoute(){return T(this,null,function*(){if(!this.startAddress||!this.endAddress){alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441\u0430.");return}try{let e=yield this.routeService.geocode(this.startAddress),n=yield this.routeService.geocode(this.endAddress);this.mapComponent.addMarkers(e,n);let r=yield this.routeService.getRoute(e,n,this.mode);this.processRouteData(r)}catch(e){alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u0441\u0442\u0440\u043E\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",e)}})}processRouteData(e){this.mapComponent.drawRoute(e),this.currentRoute=e,this.currentRoute.startAddress=this.startAddress,this.currentRoute.endAddress=this.endAddress,this.currentRoute.mode=this.mode,e?.routes?.[0]?.duration!==void 0&&e?.routes?.[0]?.distance!==void 0?this.routeInfo={from:this.startAddress,to:this.endAddress,time:fh(e.routes[0].duration),distance:`${(e.routes[0].distance/1e3).toFixed(2)} \u043A\u043C`}:this.routeInfo={from:this.startAddress,to:this.endAddress,time:"\u041D/\u0414",distance:"\u041D/\u0414"}}saveRoute(){if(!this.currentUser||!this.currentUser.id){alert("\u0412\u043E\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u0434\u043B\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),this.router.navigate(["/login"]);return}if(!this.currentRoute){alert("\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043F\u043E\u0441\u0442\u0440\u043E\u0439\u0442\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442.");return}this.routeService.saveRoute(this.currentRoute,this.currentUser.id).pipe(Nn(this.destroy$)).subscribe()}position(){alert("\u0424\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u0438\u044F \u043F\u043E\u0437\u0438\u0446\u0438\u0438 \u0435\u0449\u0435 \u043D\u0435 \u0440\u0435\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u043D.")}static \u0275fac=function(n){return new(n||t)(ae(As),ae(wn),ae(Sn))};static \u0275cmp=Ct({type:t,selectors:[["app-add-route-page"]],viewQuery:function(n,r){if(n&1&&gc(Ms,5),n&2){let i;Ta(i=Ca())&&(r.mapComponent=i.first)}},decls:10,vars:1,consts:[[1,"main-page"],[1,"main-page__text-box"],[3,"startAddressChange","endAddressChange","modeChange","routeData"],[1,"main-page__add-route-btn",3,"click"],[1,"main-page__map-box"],[3,"click"]],template:function(n,r){n&1&&(j(0,"main",0)(1,"section",1)(2,"app-route-info",2),ze("startAddressChange",function(o){return r.onStartAddressChange(o)})("endAddressChange",function(o){return r.onEndAddressChange(o)})("modeChange",function(o){return r.onModeChange(o)}),z(),j(3,"button",3),ze("click",function(){return r.calculateRoute()}),Q(4,"\u041F\u043E\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442"),z(),j(5,"button",3),ze("click",function(){return r.saveRoute()}),Q(6,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442"),z()(),j(7,"section",4),rt(8,"app-map"),z()(),j(9,"button",5),ze("click",function(){return r.position()}),z()),n&2&&(ce(2),yi("routeData",r.routeInfo))},dependencies:[Ms,_n,Li,Tv],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.main-page[_ngcontent-%COMP%]{display:flex;gap:50px;width:calc(100% - 40px);align-items:center;justify-content:center;padding:20px;max-width:1920px;margin:0 auto;font-family:Playfair Display,serif;color:#fff}.main-page__text-box[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:25px}.main-page__add-route-btn[_ngcontent-%COMP%]{width:max-content;height:max-content;padding:10px;background-color:#004b00e6;font-family:Playfair Display,serif;font-size:28px;color:#fff;border:5px solid rgb(255,255,255);border-radius:10px;box-shadow:0 0 10px #000000bf;cursor:pointer}.main-page__add-route-btn[_ngcontent-%COMP%]:hover{background-color:#afffafe6;color:#000;border:5px solid rgb(0,0,0)}.main-page__map-box[_ngcontent-%COMP%]{width:60%;height:500px}@media (max-width: 1400px){.main-page__text-box[_ngcontent-%COMP%], .main-page__map-box[_ngcontent-%COMP%]{width:50%}}@media (max-width: 1200px){.main-page[_ngcontent-%COMP%]{flex-direction:column}.main-page__text-box[_ngcontent-%COMP%], .main-page__map-box[_ngcontent-%COMP%]{width:100%}}"]})};var hK=(t,e)=>e.id;function fK(t,e){t&1&&(j(0,"div"),Q(1,"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u043E\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442, \u0447\u0442\u043E\u0431\u044B \u0443\u0432\u0438\u0434\u0435\u0442\u044C \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B."),z())}function pK(t,e){t&1&&(j(0,"div"),Q(1,"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432..."),z())}function gK(t,e){t&1&&(j(0,"div"),Q(1,"\u0423 \u0432\u0430\u0441 \u043F\u043E\u043A\u0430 \u043D\u0435\u0442 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432."),z())}function mK(t,e){if(t&1&&(j(0,"div"),Q(1),jg(2,"date"),z()),t&2){let n=Mt().$implicit;ce(),so(" \u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D: ",Kx(2,1,n.createdAt,"short")," ")}}function _K(t,e){if(t&1){let n=wi();j(0,"article",17),ze("click",function(){let i=Vr(n).$implicit,o=Mt(2);return Br(o.drawRoute(i))}),j(1,"div"),Q(2),z(),j(3,"div"),Q(4),z(),j(5,"div"),Q(6),z(),rr(7,mK,3,4,"div"),j(8,"button",18),ze("click",function(i){let o=Vr(n).$implicit,a=Mt(2);return Br(a.deleteRoute(i,o))}),Q(9,"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"),z()()}if(t&2){let n=e.$implicit;ce(2),so(" \u041E\u0442: ",n.startAddress," "),ce(2),so(" \u0414\u043E: ",n.endAddress," "),ce(2),so(" \u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442: ",n.mode," "),ce(),jr(n.createdAt?7:-1)}}function vK(t,e){if(t&1&&(j(0,"section",14),$r(1,_K,10,4,"article",16,hK),z()),t&2){let n=Mt();ce(),zr(n.routes)}}var Dv=class t{constructor(e,n){this.routeService=e;this.authService=n}mapComponent;routes=null;allUserRoutes=[];filterFrom="";filterTo="";filterTime="";filterMode="";currentUser=null;destroy$=new Qe;ngOnInit(){this.authService.currentUser.pipe(Nn(this.destroy$)).subscribe(e=>{this.currentUser=e,e&&e.id?this.loadRoutes(e.id):(this.routes=[],this.allUserRoutes=[])}),this.authService.currentUser.pipe(Nn(this.destroy$)).subscribe(e=>{this.currentUser=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadRoutes(e){this.routeService.loadRoutes(e).pipe(Nn(this.destroy$)).subscribe({next:n=>{console.log(n),this.allUserRoutes=(n||[]).map(r=>{let i;return r.createdAt&&typeof r.createdAt=="object"&&typeof r.createdAt.toDate=="function"?i=r.createdAt.toDate():(console.error('\u041E\u0448\u0438\u0431\u043A\u0430 \u0432 \u043F\u0440\u0435\u043E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\u0438\u0438 \u0442\u0438\u043F\u0430 "\u0414\u0430\u0442\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F":',r.createdAt),i=r.createdAt),Ae(K({},r),{createdAt:i})}),this.applyFilters()},error:n=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432:",n),this.allUserRoutes=[],this.routes=[],alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432.")}})}applyFilters(){if(!this.allUserRoutes){this.routes=[];return}this.routes=this.allUserRoutes.filter(e=>{if(this.filterFrom&&!e.startAddress.toLowerCase().includes(this.filterFrom.toLowerCase())||this.filterTo&&!e.endAddress.toLowerCase().includes(this.filterTo.toLowerCase())||this.filterMode&&e.mode!==this.filterMode)return!1;if(this.filterTime)try{let n=null;if(n=e.createdAt,n.toISOString().split("T")[0]!==this.filterTime)return!1}catch(n){return console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u0446\u0438\u0438 \u043F\u043E \u0434\u0430\u0442\u0435:",n),!1}return!0})}resetFilters(){this.filterFrom="",this.filterTo="",this.filterTime="",this.filterMode="",this.routes=this.allUserRoutes}drawRoute(e){if(e&&e.waypoints&&e.waypoints.length>=2&&e.waypoints[0].location&&e.waypoints[1].location){let n=e.waypoints[0].location.reverse(),r=e.waypoints[1].location.reverse();this.mapComponent.addMarkers(n,r),this.mapComponent.drawRoute(e)}else alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043E\u0442\u0440\u0438\u0441\u043E\u0432\u043A\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430.")}deleteRoute(e,n){e.stopPropagation(),this.routeService.deleteRoute(n.id).pipe(Nn(this.destroy$)).subscribe({next:()=>{this.allUserRoutes=this.allUserRoutes.filter(r=>r.id!==n.id),this.applyFilters(),alert("\u041C\u0430\u0440\u0448\u0440\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D.")},error:r=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",r),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430.")}})}static \u0275fac=function(n){return new(n||t)(ae(As),ae(wn))};static \u0275cmp=Ct({type:t,selectors:[["app-saved-page"]],viewQuery:function(n,r){if(n&1&&gc(Ms,5),n&2){let i;Ta(i=Ca())&&(r.mapComponent=i.first)}},decls:41,vars:5,consts:[[1,"search"],[1,"search__title"],[1,"search__filters"],[1,"search__filter"],[1,"search__filter-label"],["name","filterFrom",1,"search__filter-input",3,"ngModelChange","ngModel"],["name","filterTo",1,"search__filter-input",3,"ngModelChange","ngModel"],["type","date","name","filterTime",1,"search__filter-input",3,"ngModelChange","ngModel"],["name","filterMode",1,"search__filter-select",3,"ngModelChange","ngModel"],["value",""],["value","car"],["value","foot"],["value","bike"],[1,"search__button",3,"click"],[1,"routes"],[1,"map"],[1,"routes__items"],[1,"routes__items",3,"click"],[1,"routes__delete-button",3,"click"]],template:function(n,r){n&1&&(j(0,"main")(1,"h1"),Q(2,"\u0418\u0437\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B"),z(),j(3,"section",0)(4,"h2",1),Q(5,"\u041D\u0430\u0439\u0442\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442"),z(),j(6,"form",2)(7,"div",3)(8,"label",4),Q(9,"\u0410\u0434\u0440\u0435\u0441 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F"),z(),j(10,"input",5),Un("ngModelChange",function(o){return ir(r.filterFrom,o)||(r.filterFrom=o),o}),z()(),j(11,"div",3)(12,"label",4),Q(13,"\u0410\u0434\u0440\u0435\u0441 \u043F\u0440\u0438\u0431\u044B\u0442\u0438\u044F"),z(),j(14,"input",6),Un("ngModelChange",function(o){return ir(r.filterTo,o)||(r.filterTo=o),o}),z()(),j(15,"div",3)(16,"label",4),Q(17,"\u0412\u0440\u0435\u043C\u044F \u0441\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u0438\u044F"),z(),j(18,"input",7),Un("ngModelChange",function(o){return ir(r.filterTime,o)||(r.filterTime=o),o}),z()(),j(19,"div",3)(20,"label",4),Q(21,"\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u043E\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043E"),z(),j(22,"select",8),Un("ngModelChange",function(o){return ir(r.filterMode,o)||(r.filterMode=o),o}),j(23,"option",9),Q(24,"\u0412\u0441\u0435"),z(),j(25,"option",10),Q(26,"\u0410\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u044C"),z(),j(27,"option",11),Q(28,"\u041F\u0435\u0448\u043A\u043E\u043C"),z(),j(29,"option",12),Q(30,"\u0412\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434"),z()()()(),j(31,"button",13),ze("click",function(){return r.applyFilters()}),Q(32,"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B"),z(),j(33,"button",13),ze("click",function(){return r.resetFilters()}),Q(34,"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B"),z()(),rr(35,fK,2,0,"div")(36,pK,2,0,"div")(37,gK,2,0,"div")(38,vK,3,0,"section",14),j(39,"section",15),rt(40,"app-map"),z()()),n&2&&(ce(10),Bn("ngModel",r.filterFrom),ce(4),Bn("ngModel",r.filterTo),ce(4),Bn("ngModel",r.filterTime),ce(4),Bn("ngModel",r.filterMode),ce(13),jr(r.currentUser===null?35:r.routes===null?36:r.routes.length===0?37:38))},dependencies:[_n,oE,Ms,Li,Ns,Ev,Iv,ki,fl,Ps,Rs,Ro,Po],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-family:Playfair Display,serif;color:#fff;gap:50px;padding:25px;width:calc(100vw - 150px)}main[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Playfair Display SC,serif;font-size:36px;color:#000;margin:0}main[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#000000bf;border-radius:10px;padding:10px;gap:25px}main[_ngcontent-%COMP%]   .search__button[_ngcontent-%COMP%]{height:30px;width:200px;background-color:#004b00e6;border-radius:10px;border:2px solid rgb(255,255,255);font-family:Playfair Display SC,serif;font-size:14px;color:#fff;cursor:pointer}main[_ngcontent-%COMP%]   .search__button[_ngcontent-%COMP%]:hover{background-color:#afffafe6;border:2px solid rgb(0,0,0);color:#000}main[_ngcontent-%COMP%]   .search__title[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]   .search__filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}main[_ngcontent-%COMP%]   .search__filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:5px}main[_ngcontent-%COMP%]   .search__filter-label[_ngcontent-%COMP%]{font-size:14px}main[_ngcontent-%COMP%]   .search__filter-input[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .search__filter-select[_ngcontent-%COMP%]{font-size:14px;height:20px;width:150px;border-radius:10px;border:none;padding:5px}main[_ngcontent-%COMP%]   .search__filter-select[_ngcontent-%COMP%]{height:30px;width:160px}main[_ngcontent-%COMP%]   .routes[_ngcontent-%COMP%]{width:calc(100% - 50px);display:grid;grid-template-columns:repeat(auto-fit,minmax(275px,500px));justify-content:center;background-color:#000000bf;border-radius:10px;padding:25px;gap:25px}main[_ngcontent-%COMP%]   .routes__items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#fff;font-size:16px;color:#000;padding:10px;border-radius:10px;cursor:pointer}main[_ngcontent-%COMP%]   .routes__items[_ngcontent-%COMP%]:hover{transform:scale(1.05)}main[_ngcontent-%COMP%]   .routes__delete-button[_ngcontent-%COMP%]{margin-top:20px;width:100px;height:30px;background-color:#640404bf;border-radius:10px;font-family:Playfair Display SC,serif;font-size:14px;color:#fff;cursor:pointer}main[_ngcontent-%COMP%]   .routes__delete-button[_ngcontent-%COMP%]:hover{background-color:#ff0000bf}main[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{width:100%;max-width:1000px;height:500px;margin-left:-10px}@media (max-width: 1200px){main[_ngcontent-%COMP%]   .routes[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(225px,275px));gap:15px}main[_ngcontent-%COMP%]   .routes__items[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 768px){main[_ngcontent-%COMP%]{gap:25px;width:calc(100vw - 65px)}main[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;text-align:center}main[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:calc(100% - 50px)}main[_ngcontent-%COMP%]   .search__filters[_ngcontent-%COMP%]{flex-direction:column}main[_ngcontent-%COMP%]   .search__filter-label[_ngcontent-%COMP%]{font-size:12px}main[_ngcontent-%COMP%]   .search__filter-input[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .search__filter-select[_ngcontent-%COMP%]{font-size:12px;height:15px;width:100%;padding:5px}main[_ngcontent-%COMP%]   .search__filter-select[_ngcontent-%COMP%]{height:25px;width:calc(100% + 40px)}main[_ngcontent-%COMP%]   .routes[_ngcontent-%COMP%]{width:calc(100% - 50px);grid-template-columns:repeat(auto-fit,minmax(225px,500px));padding:10px}main[_ngcontent-%COMP%]   .routes__items[_ngcontent-%COMP%]{font-size:12px;padding:10px}main[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{width:calc(100% - 40px);max-width:1000px;height:300px}}"]})};var Sv=class t{constructor(e,n){this.authService=e;this.router=n}email="";password="";onSubmit(){if(!this.email||!this.password){alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email \u0438 \u043F\u0430\u0440\u043E\u043B\u044C.");return}this.authService.login(this.email,this.password).subscribe({next:e=>{e?setTimeout(()=>{this.router.navigate(["/saved"])},0):alert("\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 email \u0438\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C.")},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0445\u043E\u0434\u0430:",e),alert("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0432\u0445\u043E\u0434\u0435.")}})}register(){this.router.navigate(["/register"])}static \u0275fac=function(n){return new(n||t)(ae(wn),ae(Sn))};static \u0275cmp=Ct({type:t,selectors:[["login-page"]],decls:18,vars:2,consts:[[1,"login-page"],[1,"login-page__form",3,"ngSubmit"],[1,"login-page__form-group"],["for","email",1,"login-page__label"],["id","email","type","email","name","email","required","",1,"login-page__input",3,"ngModelChange","ngModel"],["for","password",1,"login-page__label"],["type","password","id","password","name","password","required","",1,"login-page__input",3,"ngModelChange","ngModel"],["type","submit",1,"login-page__submit-btn"],[1,"login-page__register-btn",3,"click"]],template:function(n,r){n&1&&(j(0,"main",0)(1,"h1"),Q(2,"\u0412\u0445\u043E\u0434"),z(),j(3,"form",1),ze("ngSubmit",function(){return r.onSubmit()}),j(4,"div",2)(5,"label",3),Q(6,"Email:"),z(),j(7,"input",4),Un("ngModelChange",function(o){return ir(r.email,o)||(r.email=o),o}),z()(),j(8,"div",2)(9,"label",5),Q(10,"\u041F\u0430\u0440\u043E\u043B\u044C:"),z(),j(11,"input",6),Un("ngModelChange",function(o){return ir(r.password,o)||(r.password=o),o}),z()(),j(12,"button",7),Q(13,"\u0412\u043E\u0439\u0442\u0438"),z()(),j(14,"p"),Q(15,"\u041D\u0435\u0442 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430?"),j(16,"button",8),ze("click",function(){return r.register()}),Q(17,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),z()()()),n&2&&(ce(7),Bn("ngModel",r.email),ce(4),Bn("ngModel",r.password))},dependencies:[Li,Ns,ki,Ps,Rs,cf,Ro,Po,_n],styles:["[_nghost-%COMP%]{padding:50px}.login-page[_ngcontent-%COMP%]{background-color:#000000bf;padding:25px;color:#fff;display:flex;flex-direction:column;align-items:center;gap:10px;font-family:Playfair Display,serif;border-radius:10px}.login-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.login-page__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.login-page__form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.login-page__label[_ngcontent-%COMP%]{margin-bottom:5px}.login-page__input[_ngcontent-%COMP%]{height:20px;width:240px;padding:5px;border-radius:10px}.login-page__submit-btn[_ngcontent-%COMP%]{background-color:#004b00e6;border-radius:10px;width:200px;height:30px;font-family:Playfair Display SC,serif;color:#fff;box-shadow:0 0 5px #fff;cursor:pointer}.login-page__submit-btn[_ngcontent-%COMP%]:hover{background-color:#afffafe6;color:#000}.login-page__answer-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.login-page__register-btn[_ngcontent-%COMP%]{border:none;background-color:transparent;font-family:Playfair Display,serif;font-size:16px;color:#afffafe6;cursor:pointer}@media (max-width: 576px){[_nghost-%COMP%]{padding:50px 0}}"]})};var Av=class t{constructor(e,n){this.authService=e;this.router=n}email="";password="";confirmPassword="";username="";onSubmit(){if(this.password!==this.confirmPassword){alert("\u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442.");return}if(!this.email||!this.password||!this.username){alert("\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0432\u0441\u0435 \u043F\u043E\u043B\u044F.");return}this.authService.register(this.email,this.password,this.username).subscribe({next:e=>{e?this.router.navigate(["/profile"]):alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438.")},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438:",e),alert("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438.")}})}login(){this.router.navigate(["/login"])}static \u0275fac=function(n){return new(n||t)(ae(wn),ae(Sn))};static \u0275cmp=Ct({type:t,selectors:[["app-register"]],decls:26,vars:4,consts:[[1,"register-page"],[1,"register-page__form",3,"ngSubmit"],[1,"register-page__form-group"],["for","email",1,"register-page__label"],["id","email","type","email","name","email","required","",1,"register-page__input",3,"ngModelChange","ngModel"],["for","username",1,"register-page__label"],["id","username","type","text","name","username","required","",1,"register-page__input",3,"ngModelChange","ngModel"],["for","password",1,"register-page__label"],["type","password","id","password","name","password","required","",1,"register-page__input",3,"ngModelChange","ngModel"],["for","confirmPassword",1,"register-page__label"],["type","password","id","confirmPassword","name","confirmPassword","required","",1,"register-page__input",3,"ngModelChange","ngModel"],["type","submit",1,"register-page__submit-btn"],[1,"register-page__login-btn",3,"click"]],template:function(n,r){n&1&&(j(0,"div",0)(1,"h1"),Q(2,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F"),z(),j(3,"form",1),ze("ngSubmit",function(){return r.onSubmit()}),j(4,"div",2)(5,"label",3),Q(6,"Email:"),z(),j(7,"input",4),Un("ngModelChange",function(o){return ir(r.email,o)||(r.email=o),o}),z()(),j(8,"div",2)(9,"label",5),Q(10,"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F:"),z(),j(11,"input",6),Un("ngModelChange",function(o){return ir(r.username,o)||(r.username=o),o}),z()(),j(12,"div",2)(13,"label",7),Q(14,"\u041F\u0430\u0440\u043E\u043B\u044C:"),z(),j(15,"input",8),Un("ngModelChange",function(o){return ir(r.password,o)||(r.password=o),o}),z()(),j(16,"div",2)(17,"label",9),Q(18,"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C:"),z(),j(19,"input",10),Un("ngModelChange",function(o){return ir(r.confirmPassword,o)||(r.confirmPassword=o),o}),z()(),j(20,"button",11),Q(21,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),z()(),j(22,"p"),Q(23,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u044B?"),j(24,"button",12),ze("click",function(){return r.login()}),Q(25,"\u0412\u043E\u0439\u0442\u0438"),z()()()),n&2&&(ce(7),Bn("ngModel",r.email),ce(4),Bn("ngModel",r.username),ce(4),Bn("ngModel",r.password),ce(4),Bn("ngModel",r.confirmPassword))},dependencies:[Li,Ns,ki,Ps,Rs,cf,Ro,Po,_n],styles:["[_nghost-%COMP%]{padding:50px}.register-page[_ngcontent-%COMP%]{background-color:#000000bf;padding:25px;color:#fff;display:flex;flex-direction:column;align-items:center;gap:10px;font-family:Playfair Display,serif;border-radius:10px}.register-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.register-page__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.register-page__form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.register-page__label[_ngcontent-%COMP%]{margin-bottom:5px}.register-page__input[_ngcontent-%COMP%]{height:20px;width:290px;padding:5px;border-radius:10px}.register-page__submit-btn[_ngcontent-%COMP%]{background-color:#004b00e6;border-radius:10px;width:250px;height:30px;font-family:Playfair Display SC,serif;color:#fff;box-shadow:0 0 5px #fff;cursor:pointer}.register-page__submit-btn[_ngcontent-%COMP%]:hover{background-color:#afffafe6;color:#000}.register-page__answer-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.register-page__login-btn[_ngcontent-%COMP%]{border:none;background-color:transparent;font-family:Playfair Display,serif;font-size:16px;color:#afffafe6;cursor:pointer}@media (max-width: 576px){[_nghost-%COMP%]{padding:50px 0}}"]})};var pl=class t{constructor(e,n){this.authService=e;this.router=n}canActivate(e,n){return this.authService.currentUser.pipe(xr(1),me(r=>r?!0:(console.log("\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0435 \u0432\u043E\u0448\u0435\u043B"),this.router.createUrlTree(["/login"]))))}static \u0275fac=function(n){return new(n||t)(ue(wn),ue(Sn))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})};var ZL=[{path:"",component:km},{path:"login",component:Sv},{path:"register",component:Av},{path:"profile",component:lv,canActivate:[pl]},{path:"add-route",component:Cv,canActivate:[pl]},{path:"saved",component:Dv,canActivate:[pl]},{path:"**",redirectTo:"",pathMatch:"full"}];var yK={apiKey:"AIzaSyD_Tln40K9dFiKJiH4nMWzbjr_AgZ9LsP4",authDomain:"routeguide-99882.firebaseapp.com",projectId:"routeguide-99882",storageBucket:"routeguide-99882.firebasestorage.app",messagingSenderId:"266514774821",appId:"1:266514774821:web:0b20be82a2e27e728438cc",measurementId:"G-K89G0Q59M4"},QL={providers:[Xx({eventCoalescing:!0}),HE(ZL),YP(QP()),yE(),yN(()=>wN(yK)),pL(()=>vL()),AO(()=>PO())]};var YL=t=>[t];function wK(t,e){if(t&1){let n=wi();j(0,"button",7),ze("click",function(){Vr(n);let i=Mt(3);return Br(i.t=!1)}),Q(1),z()}if(t&2){let n=e.$implicit;yi("routerLink",Zw(2,YL,n.path)),ce(),en(n.text)}}function EK(t,e){if(t&1){let n=wi();j(0,"button",5),ze("click",function(){Vr(n);let i=Mt(2);return Br(i.logout())}),Q(1,"\u0412\u044B\u0439\u0442\u0438"),z(),$r(2,wK,2,4,"button",6,ba)}if(t&2){let n=Mt(2);ce(2),zr(n.buttonsContentWithAuth)}}function IK(t,e){if(t&1){let n=wi();j(0,"button",7),ze("click",function(){Vr(n);let i=Mt(3);return Br(i.t=!1)}),Q(1),z()}if(t&2){let n=e.$implicit;yi("routerLink",Zw(2,YL,n.path)),ce(),en(n.text)}}function bK(t,e){if(t&1&&$r(0,IK,2,4,"button",6,ba),t&2){let n=Mt(2);zr(n.buttonsContentWithoutAuth)}}function TK(t,e){if(t&1){let n=wi();j(0,"div",2),rr(1,EK,4,0),jg(2,"async"),rr(3,bK,2,0),z(),j(4,"button",3),ze("click",function(){Vr(n);let i=Mt();return Br(i.t=!i.t)}),rt(5,"img",4),z()}if(t&2){let n=Mt();ce(),jr(Gx(2,1,n.isLoggedIn$)?1:3)}}function CK(t,e){if(t&1){let n=wi();j(0,"button",8),ze("click",function(){Vr(n);let i=Mt();return Br(i.t=!i.t)}),rt(1,"img",9),z()}}var Mv=class t{constructor(e,n){this.router=e;this.authService=n}t=!1;buttonsContentWithAuth=[{path:"",text:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F"},{path:"profile",text:"\u041F\u0440\u043E\u0444\u0438\u043B\u044C"},{path:"add-route",text:"\u0421\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442"},{path:"saved",text:"\u0418\u0437\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B"}];buttonsContentWithoutAuth=[{path:"login",text:"\u0412\u043E\u0439\u0442\u0438"},{path:"",text:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F"}];isLoggedIn$;ngOnInit(){this.isLoggedIn$=this.authService.isLoggedIn()}navigate(e){this.router.navigate([e]),this.t=!1}logout(){this.authService.logout(),this.router.navigate(["/login"]),this.t=!1}static \u0275fac=function(n){return new(n||t)(ae(Sn),ae(wn))};static \u0275cmp=Ct({type:t,selectors:[["menu"]],decls:3,vars:1,consts:[[1,"menu"],[1,"menu__close"],[1,"menu__content"],[1,"menu__open",3,"click"],["src","left-arrow.svg","alt","Open Menu"],[3,"click"],[3,"routerLink"],[3,"click","routerLink"],[1,"menu__close",3,"click"],["src","rigth-arrow.svg","alt","Close Menu"]],template:function(n,r){n&1&&(j(0,"div",0),rr(1,TK,6,3)(2,CK,2,0,"button",1),z()),n&2&&(ce(),jr(r.t?1:2))},dependencies:[_n,iE,Om],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;bottom:0;padding:0;margin:0;z-index:1000}.menu[_ngcontent-%COMP%]{height:100%;width:max-content;background-color:#000000e6;display:flex;justify-content:space-between}.menu__content[_ngcontent-%COMP%]{padding:200px 25px;display:flex;flex-direction:column;align-items:center;gap:10px}.menu__content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;width:300px;background-color:transparent;border:3px rgb(255,255,255) solid;border-right:none;border-left:none;color:#fff;font-family:Playfair Display SC,serif;font-size:20px;cursor:pointer}.menu__content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffffbf;color:#000}.menu__close[_ngcontent-%COMP%], .menu__open[_ngcontent-%COMP%]{height:100%!important;width:50px!important;background-color:transparent;border:3px rgb(255,255,255) solid;border-top:none;border-bottom:none;color:#fff;cursor:pointer}.menu__close[_ngcontent-%COMP%]:hover, .menu__open[_ngcontent-%COMP%]:hover{background-color:#ffffffbf;color:#000}.menu__close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .menu__open[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(1);width:100%}@media (max-width: 768px){[_nghost-%COMP%]{width:max-content}.menu[_ngcontent-%COMP%]{height:max-content;min-width:50px;flex-direction:column}.menu__content[_ngcontent-%COMP%]{padding:25px;width:calc(100vw - 50px)}.menu__close[_ngcontent-%COMP%], .menu__open[_ngcontent-%COMP%]{height:80px!important;border:3px rgb(255,255,255) solid;border-left:none;border-right:none}.menu__close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .menu__open[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.menu__open[_ngcontent-%COMP%]{height:50px!important;width:100%!important}}"]})};var xv=class t{title="RouteGuide";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ct({type:t,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"page"],[1,"site-title"],[1,"content"]],template:function(n,r){n&1&&(j(0,"div",0),rt(1,"menu"),j(2,"header")(3,"h1",1),Q(4," Route Guide "),z()(),j(5,"div",2),rt(6,"router-outlet"),z()())},dependencies:[uh,Mv],styles:["header[_ngcontent-%COMP%]{padding:10px 25px 10px 75px;width:calc(100% - 100px);height:80px;display:flex;justify-content:left;align-items:center;background:linear-gradient(90deg,rgba(0,0,0,.9),transparent)}header[_ngcontent-%COMP%]   .site-title[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:58px;color:#fff;margin:0}.page[_ngcontent-%COMP%]{position:relative}.content[_ngcontent-%COMP%]{margin:0 auto 0 50px;width:calc(100% - 50px);display:flex;flex-direction:column;align-items:center}@media (max-width: 768px){header[_ngcontent-%COMP%]{background:linear-gradient(#000,#00000040);height:60px;padding:10px 10px 10px 55px;width:calc(100% - 65px)}header[_ngcontent-%COMP%]   .site-title[_ngcontent-%COMP%]{font-size:42px}.content[_ngcontent-%COMP%]{margin:0 auto;width:100%}}"]})};gE(xv,QL).catch(t=>console.error(t));
