var yF=Object.create;var Bv=Object.defineProperty,wF=Object.defineProperties,EF=Object.getOwnPropertyDescriptor,IF=Object.getOwnPropertyDescriptors,bF=Object.getOwnPropertyNames,Hf=Object.getOwnPropertySymbols,iD=Object.getPrototypeOf,Uv=Object.prototype.hasOwnProperty,oD=Object.prototype.propertyIsEnumerable,TF=Reflect.get;var rD=(t,e,n)=>e in t?Bv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q=(t,e)=>{for(var n in e||={})Uv.call(e,n)&&rD(t,n,e[n]);if(Hf)for(var n of Hf(e))oD.call(e,n)&&rD(t,n,e[n]);return t},Oe=(t,e)=>wF(t,IF(e));var sD=(t,e)=>{var n={};for(var r in t)Uv.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Hf)for(var r of Hf(t))e.indexOf(r)<0&&oD.call(t,r)&&(n[r]=t[r]);return n};var CF=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var DF=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of bF(e))!Uv.call(t,i)&&i!==n&&Bv(t,i,{get:()=>e[i],enumerable:!(r=EF(e,i))||r.enumerable});return t};var SF=(t,e,n)=>(n=t!=null?yF(iD(t)):{},DF(e||!t||!t.__esModule?Bv(n,"default",{value:t,enumerable:!0}):n,t));var Go=(t,e,n)=>TF(iD(t),n,e);var T=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{c(n.next(l))}catch(f){i(f)}},a=l=>{try{c(n.throw(l))}catch(f){i(f)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,a);c((n=n.apply(t,e)).next())});var wL=CF((lv,yL)=>{"use strict";(function(t,e){typeof lv=="object"&&typeof yL<"u"?e(lv):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.leaflet={}))})(lv,function(t){"use strict";var e="1.9.4";function n(s){var u,h,p,_;for(h=1,p=arguments.length;h<p;h++){_=arguments[h];for(u in _)s[u]=_[u]}return s}var r=Object.create||function(){function s(){}return function(u){return s.prototype=u,new s}}();function i(s,u){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var p=h.call(arguments,2);return function(){return s.apply(u,p.length?p.concat(h.call(arguments)):arguments)}}var o=0;function a(s){return"_leaflet_id"in s||(s._leaflet_id=++o),s._leaflet_id}function c(s,u,h){var p,_,w,S;return S=function(){p=!1,_&&(w.apply(h,_),_=!1)},w=function(){p?_=arguments:(s.apply(h,arguments),setTimeout(S,u),p=!0)},w}function l(s,u,h){var p=u[1],_=u[0],w=p-_;return s===p&&h?s:((s-_)%w+w)%w+_}function f(){return!1}function g(s,u){if(u===!1)return s;var h=Math.pow(10,u===void 0?6:u);return Math.round(s*h)/h}function y(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function I(s){return y(s).split(/\s+/)}function E(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?r(s.options):{});for(var h in u)s.options[h]=u[h];return s.options}function M(s,u,h){var p=[];for(var _ in s)p.push(encodeURIComponent(h?_.toUpperCase():_)+"="+encodeURIComponent(s[_]));return(!u||u.indexOf("?")===-1?"?":"&")+p.join("&")}var F=/\{ *([\w_ -]+) *\}/g;function V(s,u){return s.replace(F,function(h,p){var _=u[p];if(_===void 0)throw new Error("No value provided for variable "+h);return typeof _=="function"&&(_=_(u)),_})}var K=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function oe(s,u){for(var h=0;h<s.length;h++)if(s[h]===u)return h;return-1}var X="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Le(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Rt=0;function He(s){var u=+new Date,h=Math.max(0,16-(u-Rt));return Rt=u+h,window.setTimeout(s,h)}var P=window.requestAnimationFrame||Le("RequestAnimationFrame")||He,C=window.cancelAnimationFrame||Le("CancelAnimationFrame")||Le("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function D(s,u,h){if(h&&P===He)s.call(u);else return P.call(window,i(s,u))}function R(s){s&&C.call(window,s)}var x={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:a,throttle:c,wrapNum:l,falseFn:f,formatNum:g,trim:y,splitWords:I,setOptions:E,getParamString:M,template:V,isArray:K,indexOf:oe,emptyImageUrl:X,requestFn:P,cancelFn:C,requestAnimFrame:D,cancelAnimFrame:R};function O(){}O.extend=function(s){var u=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=u.__super__=this.prototype,p=r(h);p.constructor=u,u.prototype=p;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(u[_]=this[_]);return s.statics&&n(u,s.statics),s.includes&&(A(s.includes),n.apply(null,[p].concat(s.includes))),n(p,s),delete p.statics,delete p.includes,p.options&&(p.options=h.options?r(h.options):{},n(p.options,s.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,S=p._initHooks.length;w<S;w++)p._initHooks[w].call(this)}},u},O.include=function(s){var u=this.prototype.options;return n(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},O.mergeOptions=function(s){return n(this.prototype.options,s),this},O.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function A(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=K(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var _t={on:function(s,u,h){if(typeof s=="object")for(var p in s)this._on(p,s[p],u);else{s=I(s);for(var _=0,w=s.length;_<w;_++)this._on(s[_],u,h)}return this},off:function(s,u,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var p in s)this._off(p,s[p],u);else{s=I(s);for(var _=arguments.length===1,w=0,S=s.length;w<S;w++)_?this._off(s[w]):this._off(s[w],u,h)}return this},_on:function(s,u,h,p){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,h)===!1){h===this&&(h=void 0);var _={fn:u,ctx:h};p&&(_.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(_)}},_off:function(s,u,h){var p,_,w;if(this._events&&(p=this._events[s],!!p)){if(arguments.length===1){if(this._firingCount)for(_=0,w=p.length;_<w;_++)p[_].fn=f;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var S=this._listens(s,u,h);if(S!==!1){var k=p[S];this._firingCount&&(k.fn=f,this._events[s]=p=p.slice()),p.splice(S,1)}}},fire:function(s,u,h){if(!this.listens(s,h))return this;var p=n({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var _=this._events[s];if(_){this._firingCount=this._firingCount+1||1;for(var w=0,S=_.length;w<S;w++){var k=_[w],B=k.fn;k.once&&this.off(s,B,k.ctx),B.call(k.ctx||this,p)}this._firingCount--}}return h&&this._propagateEvent(p),this},listens:function(s,u,h,p){typeof s!="string"&&console.warn('"string" type argument expected');var _=u;typeof u!="function"&&(p=!!u,_=void 0,h=void 0);var w=this._events&&this._events[s];if(w&&w.length&&this._listens(s,_,h)!==!1)return!0;if(p){for(var S in this._eventParents)if(this._eventParents[S].listens(s,u,h,p))return!0}return!1},_listens:function(s,u,h){if(!this._events)return!1;var p=this._events[s]||[];if(!u)return!!p.length;h===this&&(h=void 0);for(var _=0,w=p.length;_<w;_++)if(p[_].fn===u&&p[_].ctx===h)return _;return!1},once:function(s,u,h){if(typeof s=="object")for(var p in s)this._on(p,s[p],u,!0);else{s=I(s);for(var _=0,w=s.length;_<w;_++)this._on(s[_],u,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[a(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[a(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,n({layer:s.target,propagatedFrom:s.target},s),!0)}};_t.addEventListener=_t.on,_t.removeEventListener=_t.clearAllEventListeners=_t.off,_t.addOneTimeEventListener=_t.once,_t.fireEvent=_t.fire,_t.hasEventListeners=_t.listens;var Er=O.extend(_t);function we(s,u,h){this.x=h?Math.round(s):s,this.y=h?Math.round(u):u}var No=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};we.prototype={clone:function(){return new we(this.x,this.y)},add:function(s){return this.clone()._add(fe(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(fe(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new we(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new we(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=No(this.x),this.y=No(this.y),this},distanceTo:function(s){s=fe(s);var u=s.x-this.x,h=s.y-this.y;return Math.sqrt(u*u+h*h)},equals:function(s){return s=fe(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=fe(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function fe(s,u,h){return s instanceof we?s:K(s)?new we(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new we(s.x,s.y):new we(s,u,h)}function it(s,u){if(s)for(var h=u?[s,u]:s,p=0,_=h.length;p<_;p++)this.extend(h[p])}it.prototype={extend:function(s){var u,h;if(!s)return this;if(s instanceof we||typeof s[0]=="number"||"x"in s)u=h=fe(s);else if(s=on(s),u=s.min,h=s.max,!u||!h)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=h.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return fe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return fe(this.min.x,this.max.y)},getTopRight:function(){return fe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,h;return typeof s[0]=="number"||s instanceof we?s=fe(s):s=on(s),s instanceof it?(u=s.min,h=s.max):u=h=s,u.x>=this.min.x&&h.x<=this.max.x&&u.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=on(s);var u=this.min,h=this.max,p=s.min,_=s.max,w=_.x>=u.x&&p.x<=h.x,S=_.y>=u.y&&p.y<=h.y;return w&&S},overlaps:function(s){s=on(s);var u=this.min,h=this.max,p=s.min,_=s.max,w=_.x>u.x&&p.x<h.x,S=_.y>u.y&&p.y<h.y;return w&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,h=this.max,p=Math.abs(u.x-h.x)*s,_=Math.abs(u.y-h.y)*s;return on(fe(u.x-p,u.y-_),fe(h.x+p,h.y+_))},equals:function(s){return s?(s=on(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function on(s,u){return!s||s instanceof it?s:new it(s,u)}function mn(s,u){if(s)for(var h=u?[s,u]:s,p=0,_=h.length;p<_;p++)this.extend(h[p])}mn.prototype={extend:function(s){var u=this._southWest,h=this._northEast,p,_;if(s instanceof ve)p=s,_=s;else if(s instanceof mn){if(p=s._southWest,_=s._northEast,!p||!_)return this}else return s?this.extend(Be(s)||et(s)):this;return!u&&!h?(this._southWest=new ve(p.lat,p.lng),this._northEast=new ve(_.lat,_.lng)):(u.lat=Math.min(p.lat,u.lat),u.lng=Math.min(p.lng,u.lng),h.lat=Math.max(_.lat,h.lat),h.lng=Math.max(_.lng,h.lng)),this},pad:function(s){var u=this._southWest,h=this._northEast,p=Math.abs(u.lat-h.lat)*s,_=Math.abs(u.lng-h.lng)*s;return new mn(new ve(u.lat-p,u.lng-_),new ve(h.lat+p,h.lng+_))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ve||"lat"in s?s=Be(s):s=et(s);var u=this._southWest,h=this._northEast,p,_;return s instanceof mn?(p=s.getSouthWest(),_=s.getNorthEast()):p=_=s,p.lat>=u.lat&&_.lat<=h.lat&&p.lng>=u.lng&&_.lng<=h.lng},intersects:function(s){s=et(s);var u=this._southWest,h=this._northEast,p=s.getSouthWest(),_=s.getNorthEast(),w=_.lat>=u.lat&&p.lat<=h.lat,S=_.lng>=u.lng&&p.lng<=h.lng;return w&&S},overlaps:function(s){s=et(s);var u=this._southWest,h=this._northEast,p=s.getSouthWest(),_=s.getNorthEast(),w=_.lat>u.lat&&p.lat<h.lat,S=_.lng>u.lng&&p.lng<h.lng;return w&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=et(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function et(s,u){return s instanceof mn?s:new mn(s,u)}function ve(s,u,h){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,h!==void 0&&(this.alt=+h)}ve.prototype={equals:function(s,u){if(!s)return!1;s=Be(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+g(this.lat,s)+", "+g(this.lng,s)+")"},distanceTo:function(s){return Zr.distance(this,Be(s))},wrap:function(){return Zr.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,h=u/Math.cos(Math.PI/180*this.lat);return et([this.lat-u,this.lng-h],[this.lat+u,this.lng+h])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function Be(s,u,h){return s instanceof ve?s:K(s)&&typeof s[0]!="object"?s.length===3?new ve(s[0],s[1],s[2]):s.length===2?new ve(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ve(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new ve(s,u,h)}var In={latLngToPoint:function(s,u){var h=this.projection.project(s),p=this.scale(u);return this.transformation._transform(h,p)},pointToLatLng:function(s,u){var h=this.scale(u),p=this.transformation.untransform(s,h);return this.projection.unproject(p)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,h=this.scale(s),p=this.transformation.transform(u.min,h),_=this.transformation.transform(u.max,h);return new it(p,_)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?l(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?l(s.lat,this.wrapLat,!0):s.lat,p=s.alt;return new ve(h,u,p)},wrapLatLngBounds:function(s){var u=s.getCenter(),h=this.wrapLatLng(u),p=u.lat-h.lat,_=u.lng-h.lng;if(p===0&&_===0)return s;var w=s.getSouthWest(),S=s.getNorthEast(),k=new ve(w.lat-p,w.lng-_),B=new ve(S.lat-p,S.lng-_);return new mn(k,B)}},Zr=n({},In,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var h=Math.PI/180,p=s.lat*h,_=u.lat*h,w=Math.sin((u.lat-s.lat)*h/2),S=Math.sin((u.lng-s.lng)*h/2),k=w*w+Math.cos(p)*Math.cos(_)*S*S,B=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return this.R*B}}),Oo=6378137,ml={R:Oo,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,h=this.MAX_LATITUDE,p=Math.max(Math.min(h,s.lat),-h),_=Math.sin(p*u);return new we(this.R*s.lng*u,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(s){var u=180/Math.PI;return new ve((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:function(){var s=Oo*Math.PI;return new it([-s,-s],[s,s])}()};function gl(s,u,h,p){if(K(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=h,this._d=p}gl.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new we((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function Qr(s,u,h,p){return new gl(s,u,h,p)}var ko=n({},Zr,{code:"EPSG:3857",projection:ml,transformation:function(){var s=.5/(Math.PI*ml.R);return Qr(s,.5,-s,.5)}()}),_l=n({},ko,{code:"EPSG:900913"});function cu(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function lu(s,u){var h="",p,_,w,S,k,B;for(p=0,w=s.length;p<w;p++){for(k=s[p],_=0,S=k.length;_<S;_++)B=k[_],h+=(_?"L":"M")+B.x+" "+B.y;h+=u?se.svg?"z":"x":""}return h||"M0 0"}var ks=document.documentElement.style,Ls="ActiveXObject"in window,af=Ls&&!document.addEventListener,uf="msLaunchUri"in navigator&&!("documentMode"in document),du=Hn("webkit"),vl=Hn("android"),hu=Hn("android 2")||Hn("android 3"),cf=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Rv=vl&&Hn("Google")&&cf<537&&!("AudioNode"in window),Fs=!!window.opera,fu=!uf&&Hn("chrome"),pu=Hn("gecko")&&!du&&!Fs&&!Ls,Wt=!fu&&Hn("safari"),Gt=Hn("phantom"),Vs="OTransition"in ks,lf=navigator.platform.indexOf("Win")===0,yl=Ls&&"transition"in ks,wl="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!hu,Lo="MozPerspective"in ks,df=!window.L_DISABLE_3D&&(yl||wl||Lo)&&!Vs&&!Gt,Fo=typeof orientation<"u"||Hn("mobile"),El=Fo&&du,Pv=Fo&&wl,hf=!window.PointerEvent&&window.MSPointerEvent,mu=!!(window.PointerEvent||hf),Il="ontouchstart"in window||!!window.TouchEvent,ff=!window.L_NO_TOUCH&&(Il||mu),Bs=Fo&&Fs,bl=Fo&&pu,Tl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Oi=function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",f,u),window.removeEventListener("testPassiveEventSupport",f,u)}catch{}return s}(),pf=function(){return!!document.createElement("canvas").getContext}(),Vo=!!(document.createElementNS&&cu("svg").createSVGRect),mf=!!Vo&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Us=!Vo&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),gf=navigator.platform.indexOf("Mac")===0,sn=navigator.platform.indexOf("Linux")===0;function Hn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var se={ie:Ls,ielt9:af,edge:uf,webkit:du,android:vl,android23:hu,androidStock:Rv,opera:Fs,chrome:fu,gecko:pu,safari:Wt,phantom:Gt,opera12:Vs,win:lf,ie3d:yl,webkit3d:wl,gecko3d:Lo,any3d:df,mobile:Fo,mobileWebkit:El,mobileWebkit3d:Pv,msPointer:hf,pointer:mu,touch:ff,touchNative:Il,mobileOpera:Bs,mobileGecko:bl,retina:Tl,passiveEvents:Oi,canvas:pf,svg:Vo,vml:Us,inlineSvg:mf,mac:gf,linux:sn},Bo=se.msPointer?"MSPointerDown":"pointerdown",_f=se.msPointer?"MSPointerMove":"pointermove",vf=se.msPointer?"MSPointerUp":"pointerup",ki=se.msPointer?"MSPointerCancel":"pointercancel",Cl={touchstart:Bo,touchmove:_f,touchend:vf,touchcancel:ki},yf={touchstart:Ef,touchmove:Uo,touchend:Uo,touchcancel:Uo},Ir={},Dl=!1;function Sl(s,u,h){return u==="touchstart"&&Ml(),yf[u]?(h=yf[u].bind(this,h),s.addEventListener(Cl[u],h,!1),h):(console.warn("wrong event specified:",u),f)}function gu(s,u,h){if(!Cl[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(Cl[u],h,!1)}function Yr(s){Ir[s.pointerId]=s}function wf(s){Ir[s.pointerId]&&(Ir[s.pointerId]=s)}function Al(s){delete Ir[s.pointerId]}function Ml(){Dl||(document.addEventListener(Bo,Yr,!0),document.addEventListener(_f,wf,!0),document.addEventListener(vf,Al,!0),document.addEventListener(ki,Al,!0),Dl=!0)}function Uo(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var h in Ir)u.touches.push(Ir[h]);u.changedTouches=[u],s(u)}}function Ef(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&yt(u),Uo(s,u)}function If(s){var u={},h,p;for(p in s)h=s[p],u[p]=h&&h.bind?h.bind(s):h;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var xv=200;function _u(s,u){s.addEventListener("dblclick",u);var h=0,p;function _(w){if(w.detail!==1){p=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var S=Vl(w);if(!(S.some(function(B){return B instanceof HTMLLabelElement&&B.attributes.for})&&!S.some(function(B){return B instanceof HTMLInputElement||B instanceof HTMLSelectElement}))){var k=Date.now();k-h<=xv?(p++,p===2&&u(If(w))):p=1,h=k}}}return s.addEventListener("click",_),{dblclick:u,simDblclick:_}}function bf(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var js=ur(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),br=ur(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Jr=br==="webkitTransition"||br==="OTransition"?br+"End":"transitionend";function vu(s){return typeof s=="string"?document.getElementById(s):s}function $s(s,u){var h=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!h||h==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(s,null);h=p?p[u]:null}return h==="auto"?null:h}function ze(s,u,h){var p=document.createElement(s);return p.className=u||"",h&&h.appendChild(p),p}function at(s){var u=s.parentNode;u&&u.removeChild(s)}function zs(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Xr(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function ei(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function yu(s,u){if(s.classList!==void 0)return s.classList.contains(u);var h=Hs(s);return h.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(h)}function be(s,u){if(s.classList!==void 0)for(var h=I(u),p=0,_=h.length;p<_;p++)s.classList.add(h[p]);else if(!yu(s,u)){var w=Hs(s);Rl(s,(w?w+" ":"")+u)}}function vt(s,u){s.classList!==void 0?s.classList.remove(u):Rl(s,y((" "+Hs(s)+" ").replace(" "+u+" "," ")))}function Rl(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Hs(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function bn(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&Nv(s,u)}function Nv(s,u){var h=!1,p="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(p)}catch{if(u===1)return}u=Math.round(u*100),h?(h.Enabled=u!==100,h.Opacity=u):s.style.filter+=" progid:"+p+"(opacity="+u+")"}function ur(s){for(var u=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in u)return s[h];return!1}function an(s,u,h){var p=u||new we(0,0);s.style[js]=(se.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(h?" scale("+h+")":"")}function dt(s,u){s._leaflet_pos=u,se.any3d?an(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function cr(s){return s._leaflet_pos||new we(0,0)}var jo,Ze,$o;if("onselectstart"in document)jo=function(){ye(window,"selectstart",yt)},Ze=function(){tt(window,"selectstart",yt)};else{var Tr=ur(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);jo=function(){if(Tr){var s=document.documentElement.style;$o=s[Tr],s[Tr]="none"}},Ze=function(){Tr&&(document.documentElement.style[Tr]=$o,$o=void 0)}}function Li(){ye(window,"dragstart",yt)}function Pl(){tt(window,"dragstart",yt)}var qs,xl;function Nl(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(wu(),qs=s,xl=s.style.outlineStyle,s.style.outlineStyle="none",ye(window,"keydown",wu))}function wu(){qs&&(qs.style.outlineStyle=xl,qs=void 0,xl=void 0,tt(window,"keydown",wu))}function Tf(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Fi(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var ti={__proto__:null,TRANSFORM:js,TRANSITION:br,TRANSITION_END:Jr,get:vu,getStyle:$s,create:ze,remove:at,empty:zs,toFront:Xr,toBack:ei,hasClass:yu,addClass:be,removeClass:vt,setClass:Rl,getClass:Hs,setOpacity:bn,testProp:ur,setTransform:an,setPosition:dt,getPosition:cr,get disableTextSelection(){return jo},get enableTextSelection(){return Ze},disableImageDrag:Li,enableImageDrag:Pl,preventOutline:Nl,restoreOutline:wu,getSizedParentNode:Tf,getScale:Fi};function ye(s,u,h,p){if(u&&typeof u=="object")for(var _ in u)kl(s,_,u[_],h);else{u=I(u);for(var w=0,S=u.length;w<S;w++)kl(s,u[w],h,p)}return this}var qn="_leaflet_events";function tt(s,u,h,p){if(arguments.length===1)Vi(s),delete s[qn];else if(u&&typeof u=="object")for(var _ in u)Ll(s,_,u[_],h);else if(u=I(u),arguments.length===2)Vi(s,function(k){return oe(u,k)!==-1});else for(var w=0,S=u.length;w<S;w++)Ll(s,u[w],h,p);return this}function Vi(s,u){for(var h in s[qn]){var p=h.split(/\d/)[0];(!u||u(p))&&Ll(s,p,null,null,h)}}var Ol={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function kl(s,u,h,p){var _=u+a(h)+(p?"_"+a(p):"");if(s[qn]&&s[qn][_])return this;var w=function(k){return h.call(p||s,k||window.event)},S=w;!se.touchNative&&se.pointer&&u.indexOf("touch")===0?w=Sl(s,u,w):se.touch&&u==="dblclick"?w=_u(s,w):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Ol[u]||u,w,se.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(w=function(k){k=k||window.event,Ks(s,k)&&S(k)},s.addEventListener(Ol[u],w,!1)):s.addEventListener(u,S,!1):s.attachEvent("on"+u,w),s[qn]=s[qn]||{},s[qn][_]=w}function Ll(s,u,h,p,_){_=_||u+a(h)+(p?"_"+a(p):"");var w=s[qn]&&s[qn][_];if(!w)return this;!se.touchNative&&se.pointer&&u.indexOf("touch")===0?gu(s,u,w):se.touch&&u==="dblclick"?bf(s,w):"removeEventListener"in s?s.removeEventListener(Ol[u]||u,w,!1):s.detachEvent("on"+u,w),s[qn][_]=null}function gn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Fl(s){return kl(s,"wheel",gn),this}function Ws(s){return ye(s,"mousedown touchstart dblclick contextmenu",gn),s._leaflet_disable_click=!0,this}function yt(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function lr(s){return yt(s),gn(s),this}function Vl(s){if(s.composedPath)return s.composedPath();for(var u=[],h=s.target;h;)u.push(h),h=h.parentNode;return u}function zo(s,u){if(!u)return new we(s.clientX,s.clientY);var h=Fi(u),p=h.boundingClientRect;return new we((s.clientX-p.left)/h.x-u.clientLeft,(s.clientY-p.top)/h.y-u.clientTop)}var Gs=se.linux&&se.chrome?window.devicePixelRatio:se.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Bl(s){return se.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Gs:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ks(s,u){var h=u.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var ht={__proto__:null,on:ye,off:tt,stopPropagation:gn,disableScrollPropagation:Fl,disableClickPropagation:Ws,preventDefault:yt,stop:lr,getPropagationPath:Vl,getMousePosition:zo,getWheelDelta:Bl,isExternalTarget:Ks,addListener:ye,removeListener:tt},Cf=Er.extend({run:function(s,u,h,p){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=cr(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,h=this._duration*1e3;u<h?this._runFrame(this._easeOut(u/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var h=this._startPos.add(this._offset.multiplyBy(s));u&&h._round(),dt(this._el,h),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ue=Er.extend({options:{crs:ko,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=E(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Be(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=br&&se.any3d&&!se.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ye(this._proxy,Jr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,h){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(Be(s),u,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=n({animate:h.animate},h.zoom),h.pan=n({animate:h.animate,duration:h.duration},h.pan));var p=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,h.zoom):this._tryAnimatedPan(s,h.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(se.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,h){var p=this.getZoomScale(u),_=this.getSize().divideBy(2),w=s instanceof we?s:this.latLngToContainerPoint(s),S=w.subtract(_).multiplyBy(1-1/p),k=this.containerPointToLatLng(_.add(S));return this.setView(k,u,{zoom:h})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():et(s);var h=fe(u.paddingTopLeft||u.padding||[0,0]),p=fe(u.paddingBottomRight||u.padding||[0,0]),_=this.getBoundsZoom(s,!1,h.add(p));if(_=typeof u.maxZoom=="number"?Math.min(u.maxZoom,_):_,_===1/0)return{center:s.getCenter(),zoom:_};var w=p.subtract(h).divideBy(2),S=this.project(s.getSouthWest(),_),k=this.project(s.getNorthEast(),_),B=this.unproject(S.add(k).divideBy(2).add(w),_);return{center:B,zoom:_}},fitBounds:function(s,u){if(s=et(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,u);return this.setView(h.center,h.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=fe(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Cf,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){be(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,h){if(h=h||{},h.animate===!1||!se.any3d)return this.setView(s,u,h);this._stop();var p=this.project(this.getCenter()),_=this.project(s),w=this.getSize(),S=this._zoom;s=Be(s),u=u===void 0?S:u;var k=Math.max(w.x,w.y),B=k*this.getZoomScale(S,u),W=_.distanceTo(p)||1,ee=1.42,me=ee*ee;function Ne(Pt){var zf=Pt?-1:1,mF=Pt?B:k,gF=B*B-k*k+zf*me*me*W*W,_F=2*mF*me*W,Vv=gF/_F,nD=Math.sqrt(Vv*Vv+1)-Vv,vF=nD<1e-9?-18:Math.log(nD);return vF}function Cn(Pt){return(Math.exp(Pt)-Math.exp(-Pt))/2}function Zt(Pt){return(Math.exp(Pt)+Math.exp(-Pt))/2}function dr(Pt){return Cn(Pt)/Zt(Pt)}var Mn=Ne(0);function xu(Pt){return k*(Zt(Mn)/Zt(Mn+ee*Pt))}function dF(Pt){return k*(Zt(Mn)*dr(Mn+ee*Pt)-Cn(Mn))/me}function hF(Pt){return 1-Math.pow(1-Pt,1.5)}var fF=Date.now(),eD=(Ne(1)-Mn)/ee,pF=h.duration?1e3*h.duration:1e3*eD*.8;function tD(){var Pt=(Date.now()-fF)/pF,zf=hF(Pt)*eD;Pt<=1?(this._flyToFrame=D(tD,this),this._move(this.unproject(p.add(_.subtract(p).multiplyBy(dF(zf)/W)),S),this.getScaleZoom(k/xu(zf),S),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),tD.call(this),this},flyToBounds:function(s,u){var h=this._getBoundsCenterZoom(s,u);return this.flyTo(h.center,h.zoom,u)},setMaxBounds:function(s){return s=et(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var h=this.getCenter(),p=this._limitCenter(h,this._zoom,et(s));return h.equals(p)||this.panTo(p,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var h=fe(u.paddingTopLeft||u.padding||[0,0]),p=fe(u.paddingBottomRight||u.padding||[0,0]),_=this.project(this.getCenter()),w=this.project(s),S=this.getPixelBounds(),k=on([S.min.add(h),S.max.subtract(p)]),B=k.getSize();if(!k.contains(w)){this._enforcingBounds=!0;var W=w.subtract(k.getCenter()),ee=k.extend(w).getSize().subtract(B);_.x+=W.x<0?-ee.x:ee.x,_.y+=W.y<0?-ee.y:ee.y,this.panTo(this.unproject(_),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=n({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),p=u.divideBy(2).round(),_=h.divideBy(2).round(),w=p.subtract(_);return!w.x&&!w.y?this:(s.animate&&s.pan?this.panBy(w):(s.pan&&this._rawPanBy(w),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=n({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=i(this._handleGeolocationResponse,this),h=i(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,h,s):navigator.geolocation.getCurrentPosition(u,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,h=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,h=s.coords.longitude,p=new ve(u,h),_=p.toBounds(s.coords.accuracy*2),w=this._locateOptions;if(w.setView){var S=this.getBoundsZoom(_);this.setView(p,w.maxZoom?Math.min(S,w.maxZoom):S)}var k={latlng:p,bounds:_,timestamp:s.timestamp};for(var B in s.coords)typeof s.coords[B]=="number"&&(k[B]=s.coords[B]);this.fire("locationfound",k)}},addHandler:function(s,u){if(!u)return this;var h=this[s]=new u(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)at(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),p=ze("div",h,u||this._mapPane);return s&&(this._panes[s]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new mn(u,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,h){s=et(s),h=fe(h||[0,0]);var p=this.getZoom()||0,_=this.getMinZoom(),w=this.getMaxZoom(),S=s.getNorthWest(),k=s.getSouthEast(),B=this.getSize().subtract(h),W=on(this.project(k,p),this.project(S,p)).getSize(),ee=se.any3d?this.options.zoomSnap:1,me=B.x/W.x,Ne=B.y/W.y,Cn=u?Math.max(me,Ne):Math.min(me,Ne);return p=this.getScaleZoom(Cn,p),ee&&(p=Math.round(p/(ee/100))*(ee/100),p=u?Math.ceil(p/ee)*ee:Math.floor(p/ee)*ee),Math.max(_,Math.min(w,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new we(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var h=this._getTopLeftPoint(s,u);return new it(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var h=this.options.crs;return u=u===void 0?this._zoom:u,h.scale(s)/h.scale(u)},getScaleZoom:function(s,u){var h=this.options.crs;u=u===void 0?this._zoom:u;var p=h.zoom(s*h.scale(u));return isNaN(p)?1/0:p},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Be(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(fe(s),u)},layerPointToLatLng:function(s){var u=fe(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(Be(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Be(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(et(s))},distance:function(s,u){return this.options.crs.distance(Be(s),Be(u))},containerPointToLayerPoint:function(s){return fe(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return fe(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(fe(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Be(s)))},mouseEventToContainerPoint:function(s){return zo(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=vu(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ye(u,"scroll",this._onScroll,this),this._containerId=a(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&se.any3d,be(s,"leaflet-container"+(se.touch?" leaflet-touch":"")+(se.retina?" leaflet-retina":"")+(se.ielt9?" leaflet-oldie":"")+(se.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=$s(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),dt(this._mapPane,new we(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(be(s.markerPane,"leaflet-zoom-hide"),be(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,h){dt(this._mapPane,new we(0,0));var p=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var _=this._zoom!==u;this._moveStart(_,h)._move(s,u)._moveEnd(_),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,h,p){u===void 0&&(u=this._zoom);var _=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),p?h&&h.pinch&&this.fire("zoom",h):((_||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){dt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[a(this._container)]=this;var u=s?tt:ye;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),se.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var h=[],p,_=u==="mouseout"||u==="mouseover",w=s.target||s.srcElement,S=!1;w;){if(p=this._targets[a(w)],p&&(u==="click"||u==="preclick")&&this._draggableMoved(p)){S=!0;break}if(p&&p.listens(u,!0)&&(_&&!Ks(w,s)||(h.push(p),_))||w===this._container)break;w=w.parentNode}return!h.length&&!S&&!_&&this.listens(u,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var h=s.type;h==="mousedown"&&Nl(u),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,h){if(s.type==="click"){var p=n({},s);p.type="preclick",this._fireDOMEvent(p,p.type,h)}var _=this._findEventTargets(s,u);if(h){for(var w=[],S=0;S<h.length;S++)h[S].listens(u,!0)&&w.push(h[S]);_=w.concat(_)}if(_.length){u==="contextmenu"&&yt(s);var k=_[0],B={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var W=k.getLatLng&&(!k._radius||k._radius<=10);B.containerPoint=W?this.latLngToContainerPoint(k.getLatLng()):this.mouseEventToContainerPoint(s),B.layerPoint=this.containerPointToLayerPoint(B.containerPoint),B.latlng=W?k.getLatLng():this.layerPointToLatLng(B.layerPoint)}for(S=0;S<_.length;S++)if(_[S].fire(u,B,!0),B.originalEvent._stopped||_[S].options.bubblingMouseEvents===!1&&oe(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return cr(this._mapPane)||new we(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var h=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var h=this.getSize()._divideBy(2);return this.project(s,u)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,h){var p=this._getNewPixelOrigin(h,u);return this.project(s,u)._subtract(p)},_latLngBoundsToNewLayerBounds:function(s,u,h){var p=this._getNewPixelOrigin(h,u);return on([this.project(s.getSouthWest(),u)._subtract(p),this.project(s.getNorthWest(),u)._subtract(p),this.project(s.getSouthEast(),u)._subtract(p),this.project(s.getNorthEast(),u)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,h){if(!h)return s;var p=this.project(s,u),_=this.getSize().divideBy(2),w=new it(p.subtract(_),p.add(_)),S=this._getBoundsOffset(w,h,u);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?s:this.unproject(p.add(S),u)},_limitOffset:function(s,u){if(!u)return s;var h=this.getPixelBounds(),p=new it(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(p,u))},_getBoundsOffset:function(s,u,h){var p=on(this.project(u.getNorthEast(),h),this.project(u.getSouthWest(),h)),_=p.min.subtract(s.min),w=p.max.subtract(s.max),S=this._rebound(_.x,-w.x),k=this._rebound(_.y,-w.y);return new we(S,k)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),h=this.getMaxZoom(),p=se.any3d?this.options.zoomSnap:1;return p&&(s=Math.round(s/p)*p),Math.max(u,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var h=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,u),!0)},_createAnimProxy:function(){var s=this._proxy=ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var h=js,p=this._proxy.style[h];an(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),p===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();an(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(u),_=this._getCenterOffset(s)._divideBy(1-1/p);return h.animate!==!0&&!this.getSize().contains(_)?!1:(D(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,h,p){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Df(s,u){return new Ue(s,u)}var An=O.extend({options:{position:"topright"},initialize:function(s){E(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),h=this.getPosition(),p=s._controlCorners[h];return be(u,"leaflet-control"),h.indexOf("bottom")!==-1?p.insertBefore(u,p.firstChild):p.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ho=function(s){return new An(s)};Ue.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",h=this._controlContainer=ze("div",u+"control-container",this._container);function p(_,w){var S=u+_+" "+u+w;s[_+w]=ze("div",S,h)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)at(this._controlCorners[s]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zs=An.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,h,p){return h<p?-1:p<h?1:0}},initialize:function(s,u,h){E(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in s)this._addLayer(s[p],p);for(p in u)this._addLayer(u[p],p,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return An.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(a(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=ze("div",s),h=this.options.collapsed;u.setAttribute("aria-haspopup",!0),Ws(u),Fl(u);var p=this._section=ze("section",s+"-list");h&&(this._map.on("click",this.collapse,this),ye(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=ze("a",s+"-toggle",u);_.href="#",_.title="Layers",_.setAttribute("role","button"),ye(_,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){yt(w),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=ze("div",s+"-base",p),this._separator=ze("div",s+"-separator",p),this._overlaysList=ze("div",s+"-overlays",p),u.appendChild(p)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&a(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:h}),this.options.sortLayers&&this._layers.sort(i(function(p,_){return this.options.sortFunction(p.layer,_.layer,p.name,_.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;zs(this._baseLayersList),zs(this._overlaysList),this._layerControlInputs=[];var s,u,h,p,_=0;for(h=0;h<this._layers.length;h++)p=this._layers[h],this._addItem(p),u=u||p.overlay,s=s||!p.overlay,_+=p.overlay?0:1;return this.options.hideSingleBase&&(s=s&&_>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(a(s.target)),h=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,u)},_createRadioElement:function(s,u){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=h,p.firstChild},_addItem:function(s){var u=document.createElement("label"),h=this._map.hasLayer(s.layer),p;s.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=h):p=this._createRadioElement("leaflet-base-layers_"+a(this),h),this._layerControlInputs.push(p),p.layerId=a(s.layer),ye(p,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+s.name;var w=document.createElement("span");u.appendChild(w),w.appendChild(p),w.appendChild(_);var S=s.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,h,p=[],_=[];this._handlingClick=!0;for(var w=s.length-1;w>=0;w--)u=s[w],h=this._getLayer(u.layerId).layer,u.checked?p.push(h):u.checked||_.push(h);for(w=0;w<_.length;w++)this._map.hasLayer(_[w])&&this._map.removeLayer(_[w]);for(w=0;w<p.length;w++)this._map.hasLayer(p[w])||this._map.addLayer(p[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,h,p=this._map.getZoom(),_=s.length-1;_>=0;_--)u=s[_],h=this._getLayer(u.layerId).layer,u.disabled=h.options.minZoom!==void 0&&p<h.options.minZoom||h.options.maxZoom!==void 0&&p>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,ye(s,"click",yt),this.expand();var u=this;setTimeout(function(){tt(s,"click",yt),u._preventClick=!1})}}),Sf=function(s,u,h){return new Zs(s,u,h)},Wn=An.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",h=ze("div",u+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,u+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,u+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,h,p,_){var w=ze("a",h,p);return w.innerHTML=s,w.href="#",w.title=u,w.setAttribute("role","button"),w.setAttribute("aria-label",u),Ws(w),ye(w,"click",lr),ye(w,"click",_,this),ye(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";vt(this._zoomInButton,u),vt(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(be(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(be(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ue.mergeOptions({zoomControl:!0}),Ue.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Wn,this.addControl(this.zoomControl))});var Af=function(s){return new Wn(s)},Mf=An.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",h=ze("div",u),p=this.options;return this._addScales(p,u+"-line",h),s.on(p.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,h){s.metric&&(this._mScale=ze("div",u,h)),s.imperial&&(this._iScale=ze("div",u,h))},_update:function(){var s=this._map,u=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),h=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,h,u/s)},_updateImperial:function(s){var u=s*3.2808399,h,p,_;u>5280?(h=u/5280,p=this._getRoundNum(h),this._updateScale(this._iScale,p+" mi",p/h)):(_=this._getRoundNum(u),this._updateScale(this._iScale,_+" ft",_/u))},_updateScale:function(s,u,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),h=s/u;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,u*h}}),Qs=function(s){return new Mf(s)},Rf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ys=An.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(se.inlineSvg?Rf+" ":"")+"Leaflet</a>"},initialize:function(s){E(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=ze("div","leaflet-control-attribution"),Ws(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Ue.mergeOptions({attributionControl:!0}),Ue.addInitHook(function(){this.options.attributionControl&&new Ys().addTo(this)});var Eu=function(s){return new Ys(s)};An.Layers=Zs,An.Zoom=Wn,An.Scale=Mf,An.Attribution=Ys,Ho.layers=Sf,Ho.zoom=Af,Ho.scale=Qs,Ho.attribution=Eu;var Gn=O.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gn.addTo=function(s,u){return s.addHandler(u,this),this};var Iu={Events:_t},Pf=se.touch?"touchstart mousedown":"mousedown",Cr=Er.extend({options:{clickTolerance:3},initialize:function(s,u,h,p){E(this,p),this._element=s,this._dragStartTarget=u||s,this._preventOutline=h},enable:function(){this._enabled||(ye(this._dragStartTarget,Pf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Cr._dragging===this&&this.finishDrag(!0),tt(this._dragStartTarget,Pf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!yu(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Cr._dragging===this&&this.finishDrag();return}if(!(Cr._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Cr._dragging=this,this._preventOutline&&Nl(this._element),Li(),jo(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,h=Tf(this._element);this._startPoint=new we(u.clientX,u.clientY),this._startPos=cr(this._element),this._parentScale=Fi(h);var p=s.type==="mousedown";ye(document,p?"mousemove":"touchmove",this._onMove,this),ye(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,h=new we(u.clientX,u.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,yt(s),this._moved||(this.fire("dragstart"),this._moved=!0,be(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),dt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),tt(document,"mousemove touchmove",this._onMove,this),tt(document,"mouseup touchend touchcancel",this._onUp,this),Pl(),Ze();var u=this._moved&&this._moving;this._moving=!1,Cr._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function qo(s,u,h){var p,_=[1,4,2,8],w,S,k,B,W,ee,me,Ne;for(w=0,ee=s.length;w<ee;w++)s[w]._code=ni(s[w],u);for(k=0;k<4;k++){for(me=_[k],p=[],w=0,ee=s.length,S=ee-1;w<ee;S=w++)B=s[w],W=s[S],B._code&me?W._code&me||(Ne=Js(W,B,me,u,h),Ne._code=ni(Ne,u),p.push(Ne)):(W._code&me&&(Ne=Js(W,B,me,u,h),Ne._code=ni(Ne,u),p.push(Ne)),p.push(B));s=p}return s}function Ul(s,u){var h,p,_,w,S,k,B,W,ee;if(!s||s.length===0)throw new Error("latlngs not passed");Tn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var me=Be([0,0]),Ne=et(s),Cn=Ne.getNorthWest().distanceTo(Ne.getSouthWest())*Ne.getNorthEast().distanceTo(Ne.getNorthWest());Cn<1700&&(me=bu(s));var Zt=s.length,dr=[];for(h=0;h<Zt;h++){var Mn=Be(s[h]);dr.push(u.project(Be([Mn.lat-me.lat,Mn.lng-me.lng])))}for(k=B=W=0,h=0,p=Zt-1;h<Zt;p=h++)_=dr[h],w=dr[p],S=_.y*w.x-w.y*_.x,B+=(_.x+w.x)*S,W+=(_.y+w.y)*S,k+=S*3;k===0?ee=dr[0]:ee=[B/k,W/k];var xu=u.unproject(fe(ee));return Be([xu.lat+me.lat,xu.lng+me.lng])}function bu(s){for(var u=0,h=0,p=0,_=0;_<s.length;_++){var w=Be(s[_]);u+=w.lat,h+=w.lng,p++}return Be([u/p,h/p])}var jl={__proto__:null,clipPolygon:qo,polygonCenter:Ul,centroid:bu};function Tu(s,u){if(!u||!s.length)return s.slice();var h=u*u;return s=Bi(s,h),s=xf(s,h),s}function $l(s,u,h){return Math.sqrt(Bt(s,u,h,!0))}function Cu(s,u,h){return Bt(s,u,h)}function xf(s,u){var h=s.length,p=typeof Uint8Array<"u"?Uint8Array:Array,_=new p(h);_[0]=_[h-1]=1,Du(s,_,u,0,h-1);var w,S=[];for(w=0;w<h;w++)_[w]&&S.push(s[w]);return S}function Du(s,u,h,p,_){var w=0,S,k,B;for(k=p+1;k<=_-1;k++)B=Bt(s[k],s[p],s[_],!0),B>w&&(S=k,w=B);w>h&&(u[S]=1,Du(s,u,h,p,S),Du(s,u,h,S,_))}function Bi(s,u){for(var h=[s[0]],p=1,_=0,w=s.length;p<w;p++)Su(s[p],s[_])>u&&(h.push(s[p]),_=p);return _<w-1&&h.push(s[w-1]),h}var zl;function Hl(s,u,h,p,_){var w=p?zl:ni(s,h),S=ni(u,h),k,B,W;for(zl=S;;){if(!(w|S))return[s,u];if(w&S)return!1;k=w||S,B=Js(s,u,k,h,_),W=ni(B,h),k===w?(s=B,w=W):(u=B,S=W)}}function Js(s,u,h,p,_){var w=u.x-s.x,S=u.y-s.y,k=p.min,B=p.max,W,ee;return h&8?(W=s.x+w*(B.y-s.y)/S,ee=B.y):h&4?(W=s.x+w*(k.y-s.y)/S,ee=k.y):h&2?(W=B.x,ee=s.y+S*(B.x-s.x)/w):h&1&&(W=k.x,ee=s.y+S*(k.x-s.x)/w),new we(W,ee,_)}function ni(s,u){var h=0;return s.x<u.min.x?h|=1:s.x>u.max.x&&(h|=2),s.y<u.min.y?h|=4:s.y>u.max.y&&(h|=8),h}function Su(s,u){var h=u.x-s.x,p=u.y-s.y;return h*h+p*p}function Bt(s,u,h,p){var _=u.x,w=u.y,S=h.x-_,k=h.y-w,B=S*S+k*k,W;return B>0&&(W=((s.x-_)*S+(s.y-w)*k)/B,W>1?(_=h.x,w=h.y):W>0&&(_+=S*W,w+=k*W)),S=s.x-_,k=s.y-w,p?S*S+k*k:new we(_,w)}function Tn(s){return!K(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ql(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Tn(s)}function Ui(s,u){var h,p,_,w,S,k,B,W;if(!s||s.length===0)throw new Error("latlngs not passed");Tn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ee=Be([0,0]),me=et(s),Ne=me.getNorthWest().distanceTo(me.getSouthWest())*me.getNorthEast().distanceTo(me.getNorthWest());Ne<1700&&(ee=bu(s));var Cn=s.length,Zt=[];for(h=0;h<Cn;h++){var dr=Be(s[h]);Zt.push(u.project(Be([dr.lat-ee.lat,dr.lng-ee.lng])))}for(h=0,p=0;h<Cn-1;h++)p+=Zt[h].distanceTo(Zt[h+1])/2;if(p===0)W=Zt[0];else for(h=0,w=0;h<Cn-1;h++)if(S=Zt[h],k=Zt[h+1],_=S.distanceTo(k),w+=_,w>p){B=(w-p)/_,W=[k.x-B*(k.x-S.x),k.y-B*(k.y-S.y)];break}var Mn=u.unproject(fe(W));return Be([Mn.lat+ee.lat,Mn.lng+ee.lng])}var d={__proto__:null,simplify:Tu,pointToSegmentDistance:$l,closestPointOnSegment:Cu,clipSegment:Hl,_getEdgeIntersection:Js,_getBitCode:ni,_sqClosestPointOnSegment:Bt,isFlat:Tn,_flat:ql,polylineCenter:Ui},m={project:function(s){return new we(s.lng,s.lat)},unproject:function(s){return new ve(s.y,s.x)},bounds:new it([-180,-90],[180,90])},v={R:6378137,R_MINOR:6356752314245179e-9,bounds:new it([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,h=this.R,p=s.lat*u,_=this.R_MINOR/h,w=Math.sqrt(1-_*_),S=w*Math.sin(p),k=Math.tan(Math.PI/4-p/2)/Math.pow((1-S)/(1+S),w/2);return p=-h*Math.log(Math.max(k,1e-10)),new we(s.lng*u*h,p)},unproject:function(s){for(var u=180/Math.PI,h=this.R,p=this.R_MINOR/h,_=Math.sqrt(1-p*p),w=Math.exp(-s.y/h),S=Math.PI/2-2*Math.atan(w),k=0,B=.1,W;k<15&&Math.abs(B)>1e-7;k++)W=_*Math.sin(S),W=Math.pow((1-W)/(1+W),_/2),B=Math.PI/2-2*Math.atan(w*W)-S,S+=B;return new ve(S*u,s.x*u/h)}},b={__proto__:null,LonLat:m,Mercator:v,SphericalMercator:ml},N=n({},Zr,{code:"EPSG:3395",projection:v,transformation:function(){var s=.5/(Math.PI*v.R);return Qr(s,.5,-s,.5)}()}),U=n({},Zr,{code:"EPSG:4326",projection:m,transformation:Qr(1/180,1,-1/180,.5)}),Z=n({},In,{projection:m,transformation:Qr(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var h=u.lng-s.lng,p=u.lat-s.lat;return Math.sqrt(h*h+p*p)},infinite:!0});In.Earth=Zr,In.EPSG3395=N,In.EPSG3857=ko,In.EPSG900913=_l,In.EPSG4326=U,In.Simple=Z;var Re=Er.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[a(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[a(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var h=this.getEvents();u.on(h,this),this.once("remove",function(){u.off(h,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Ue.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=a(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=a(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return a(s)in this._layers},eachLayer:function(s,u){for(var h in this._layers)s.call(u,this._layers[h]);return this},_addLayers:function(s){s=s?K(s)?s:[s]:[];for(var u=0,h=s.length;u<h;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[a(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=a(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,h=this._getZoomSpan();for(var p in this._zoomBoundLayers){var _=this._zoomBoundLayers[p].options;s=_.minZoom===void 0?s:Math.min(s,_.minZoom),u=_.maxZoom===void 0?u:Math.max(u,_.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ft=Re.extend({initialize:function(s,u){E(this,u),this._layers={};var h,p;if(s)for(h=0,p=s.length;h<p;h++)this.addLayer(s[h])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),h,p;for(h in this._layers)p=this._layers[h],p[s]&&p[s].apply(p,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var h in this._layers)s.call(u,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return a(s)}}),qe=function(s,u){return new ft(s,u)},ut=ft.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ft.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ft.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new mn;for(var u in this._layers){var h=this._layers[u];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Kt=function(s,u){return new ut(s,u)},Kn=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){E(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(h,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(p,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(s,u){var h=this.options,p=h[u+"Size"];typeof p=="number"&&(p=[p,p]);var _=fe(p),w=fe(u==="shadow"&&h.shadowAnchor||h.iconAnchor||_&&_.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(h.className||""),w&&(s.style.marginLeft=-w.x+"px",s.style.marginTop=-w.y+"px"),_&&(s.style.width=_.x+"px",s.style.height=_.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return se.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Zn(s){return new Kn(s)}var ri=Kn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof ri.imagePath!="string"&&(ri.imagePath=this._detectIconPath()),(this.options.imagePath||ri.imagePath)+Kn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(h,p,_){var w=p.exec(h);return w&&w[_]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=ze("div","leaflet-default-icon-path",document.body),u=$s(s,"background-image")||$s(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Au=Gn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Cr(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),be(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,h=u._map,p=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,w=cr(u._icon),S=h.getPixelBounds(),k=h.getPixelOrigin(),B=on(S.min._subtract(k).add(_),S.max._subtract(k).subtract(_));if(!B.contains(w)){var W=fe((Math.max(B.max.x,w.x)-B.max.x)/(S.max.x-B.max.x)-(Math.min(B.min.x,w.x)-B.min.x)/(S.min.x-B.min.x),(Math.max(B.max.y,w.y)-B.max.y)/(S.max.y-B.max.y)-(Math.min(B.min.y,w.y)-B.min.y)/(S.min.y-B.min.y)).multiplyBy(p);h.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),dt(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=D(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,h=u._shadow,p=cr(u._icon),_=u._map.layerPointToLatLng(p);h&&dt(h,p),u._latlng=_,s.latlng=_,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Nf=Re.extend({options:{icon:new ri,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){E(this,u),this._latlng=Be(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=Be(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),p=!1;h!==this._icon&&(this._icon&&this._removeIcon(),p=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),be(h,u),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(h,"focus",this._panOnFocus,this);var _=s.icon.createShadow(this._shadow),w=!1;_!==this._shadow&&(this._removeShadow(),w=!0),_&&(be(_,u),_.alt=""),this._shadow=_,s.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&w&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(this._icon,"focus",this._panOnFocus,this),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&dt(this._icon,s),this._shadow&&dt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Au)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Au(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&bn(this._icon,s),this._shadow&&bn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,h=u.iconSize?fe(u.iconSize):fe(0,0),p=u.iconAnchor?fe(u.iconAnchor):fe(0,0);s.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:h.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function GL(s,u){return new Nf(s,u)}var Wo=Re.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return E(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Of=Wo.extend({options:{fill:!0,radius:10},initialize:function(s,u){E(this,u),this._latlng=Be(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=Be(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return Wo.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,h=this._clickTolerance(),p=[s+h,u+h];this._pxBounds=new it(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function KL(s,u){return new Of(s,u)}var Ov=Of.extend({initialize:function(s,u,h){if(typeof u=="number"&&(u=n({},h,{radius:u})),E(this,u),this._latlng=Be(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new mn(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Wo.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,h=this._map,p=h.options.crs;if(p.distance===Zr.distance){var _=Math.PI/180,w=this._mRadius/Zr.R/_,S=h.project([u+w,s]),k=h.project([u-w,s]),B=S.add(k).divideBy(2),W=h.unproject(B).lat,ee=Math.acos((Math.cos(w*_)-Math.sin(u*_)*Math.sin(W*_))/(Math.cos(u*_)*Math.cos(W*_)))/_;(isNaN(ee)||ee===0)&&(ee=w/Math.cos(Math.PI/180*u)),this._point=B.subtract(h.getPixelOrigin()),this._radius=isNaN(ee)?0:B.x-h.project([W,s-ee]).x,this._radiusY=B.y-S.y}else{var me=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(me).x}this._updateBounds()}});function ZL(s,u,h){return new Ov(s,u,h)}var ji=Wo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){E(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,h=null,p=Bt,_,w,S=0,k=this._parts.length;S<k;S++)for(var B=this._parts[S],W=1,ee=B.length;W<ee;W++){_=B[W-1],w=B[W];var me=p(s,_,w,!0);me<u&&(u=me,h=p(s,_,w))}return h&&(h.distance=Math.sqrt(u)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ui(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=Be(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new mn,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Tn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],h=Tn(s),p=0,_=s.length;p<_;p++)h?(u[p]=Be(s[p]),this._bounds.extend(u[p])):u[p]=this._convertLatLngs(s[p]);return u},_project:function(){var s=new it;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new we(s,s);this._rawPxBounds&&(this._pxBounds=new it([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,h){var p=s[0]instanceof ve,_=s.length,w,S;if(p){for(S=[],w=0;w<_;w++)S[w]=this._map.latLngToLayerPoint(s[w]),h.extend(S[w]);u.push(S)}else for(w=0;w<_;w++)this._projectLatlngs(s[w],u,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,h,p,_,w,S,k,B;for(h=0,_=0,w=this._rings.length;h<w;h++)for(B=this._rings[h],p=0,S=B.length;p<S-1;p++)k=Hl(B[p],B[p+1],s,p,!0),k&&(u[_]=u[_]||[],u[_].push(k[0]),(k[1]!==B[p+1]||p===S-2)&&(u[_].push(k[1]),_++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,h=0,p=s.length;h<p;h++)s[h]=Tu(s[h],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var h,p,_,w,S,k,B=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,w=this._parts.length;h<w;h++)for(k=this._parts[h],p=0,S=k.length,_=S-1;p<S;_=p++)if(!(!u&&p===0)&&$l(s,k[_],k[p])<=B)return!0;return!1}});function QL(s,u){return new ji(s,u)}ji._flat=ql;var Mu=ji.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ul(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=ji.prototype._convertLatLngs.call(this,s),h=u.length;return h>=2&&u[0]instanceof ve&&u[0].equals(u[h-1])&&u.pop(),u},_setLatLngs:function(s){ji.prototype._setLatLngs.call(this,s),Tn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Tn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,h=new we(u,u);if(s=new it(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,_=this._rings.length,w;p<_;p++)w=qo(this._rings[p],s,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,h,p,_,w,S,k,B,W;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(w=0,B=this._parts.length;w<B;w++)for(h=this._parts[w],S=0,W=h.length,k=W-1;S<W;k=S++)p=h[S],_=h[k],p.y>s.y!=_.y>s.y&&s.x<(_.x-p.x)*(s.y-p.y)/(_.y-p.y)+p.x&&(u=!u);return u||ji.prototype._containsPoint.call(this,s,!0)}});function YL(s,u){return new Mu(s,u)}var $i=ut.extend({initialize:function(s,u){E(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=K(s)?s:s.features,h,p,_;if(u){for(h=0,p=u.length;h<p;h++)_=u[h],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var w=this.options;if(w.filter&&!w.filter(s))return this;var S=kf(s,w);return S?(S.feature=Vf(s),S.defaultOptions=S.options,this.resetStyle(S),w.onEachFeature&&w.onEachFeature(s,S),this.addLayer(S)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=n({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function kf(s,u){var h=s.type==="Feature"?s.geometry:s,p=h?h.coordinates:null,_=[],w=u&&u.pointToLayer,S=u&&u.coordsToLatLng||kv,k,B,W,ee;if(!p&&!h)return null;switch(h.type){case"Point":return k=S(p),LC(w,s,k,u);case"MultiPoint":for(W=0,ee=p.length;W<ee;W++)k=S(p[W]),_.push(LC(w,s,k,u));return new ut(_);case"LineString":case"MultiLineString":return B=Lf(p,h.type==="LineString"?0:1,S),new ji(B,u);case"Polygon":case"MultiPolygon":return B=Lf(p,h.type==="Polygon"?1:2,S),new Mu(B,u);case"GeometryCollection":for(W=0,ee=h.geometries.length;W<ee;W++){var me=kf({geometry:h.geometries[W],type:"Feature",properties:s.properties},u);me&&_.push(me)}return new ut(_);case"FeatureCollection":for(W=0,ee=h.features.length;W<ee;W++){var Ne=kf(h.features[W],u);Ne&&_.push(Ne)}return new ut(_);default:throw new Error("Invalid GeoJSON object.")}}function LC(s,u,h,p){return s?s(u,h):new Nf(h,p&&p.markersInheritOptions&&p)}function kv(s){return new ve(s[1],s[0],s[2])}function Lf(s,u,h){for(var p=[],_=0,w=s.length,S;_<w;_++)S=u?Lf(s[_],u-1,h):(h||kv)(s[_]),p.push(S);return p}function Lv(s,u){return s=Be(s),s.alt!==void 0?[g(s.lng,u),g(s.lat,u),g(s.alt,u)]:[g(s.lng,u),g(s.lat,u)]}function Ff(s,u,h,p){for(var _=[],w=0,S=s.length;w<S;w++)_.push(u?Ff(s[w],Tn(s[w])?0:u-1,h,p):Lv(s[w],p));return!u&&h&&_.length>0&&_.push(_[0].slice()),_}function Ru(s,u){return s.feature?n({},s.feature,{geometry:u}):Vf(u)}function Vf(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Fv={toGeoJSON:function(s){return Ru(this,{type:"Point",coordinates:Lv(this.getLatLng(),s)})}};Nf.include(Fv),Ov.include(Fv),Of.include(Fv),ji.include({toGeoJSON:function(s){var u=!Tn(this._latlngs),h=Ff(this._latlngs,u?1:0,!1,s);return Ru(this,{type:(u?"Multi":"")+"LineString",coordinates:h})}}),Mu.include({toGeoJSON:function(s){var u=!Tn(this._latlngs),h=u&&!Tn(this._latlngs[0]),p=Ff(this._latlngs,h?2:u?1:0,!0,s);return u||(p=[p]),Ru(this,{type:(h?"Multi":"")+"Polygon",coordinates:p})}}),ft.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(h){u.push(h.toGeoJSON(s).geometry.coordinates)}),Ru(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var h=u==="GeometryCollection",p=[];return this.eachLayer(function(_){if(_.toGeoJSON){var w=_.toGeoJSON(s);if(h)p.push(w.geometry);else{var S=Vf(w);S.type==="FeatureCollection"?p.push.apply(p,S.features):p.push(S)}}}),h?Ru(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function FC(s,u){return new $i(s,u)}var JL=FC,Bf=Re.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,h){this._url=s,this._bounds=et(u),E(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Xr(this._image),this},bringToBack:function(){return this._map&&ei(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=et(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:ze("img");if(be(u,"leaflet-image-layer"),this._zoomAnimated&&be(u,"leaflet-zoom-animated"),this.options.className&&be(u,this.options.className),u.onselectstart=f,u.onmousemove=f,u.onload=i(this.fire,this,"load"),u.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;an(this._image,h,u)},_reset:function(){var s=this._image,u=new it(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=u.getSize();dt(s,u.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){bn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),XL=function(s,u,h){return new Bf(s,u,h)},VC=Bf.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:ze("video");if(be(u,"leaflet-image-layer"),this._zoomAnimated&&be(u,"leaflet-zoom-animated"),this.options.className&&be(u,this.options.className),u.onselectstart=f,u.onmousemove=f,u.onloadeddata=i(this.fire,this,"load"),s){for(var h=u.getElementsByTagName("source"),p=[],_=0;_<h.length;_++)p.push(h[_].src);this._url=h.length>0?p:[u.src];return}K(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var S=ze("source");S.src=this._url[w],u.appendChild(S)}}});function eF(s,u,h){return new VC(s,u,h)}var BC=Bf.extend({_initImage:function(){var s=this._image=this._url;be(s,"leaflet-image-layer"),this._zoomAnimated&&be(s,"leaflet-zoom-animated"),this.options.className&&be(s,this.options.className),s.onselectstart=f,s.onmousemove=f}});function tF(s,u,h){return new BC(s,u,h)}var ii=Re.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof ve||K(s))?(this._latlng=Be(s),E(this,u)):(E(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&bn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&bn(this._container,1),this.bringToFront(),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(bn(this._container,0),this._removeTimeout=setTimeout(i(at,void 0,this._container),200)):at(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Be(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Xr(this._container),this},bringToBack:function(){return this._map&&ei(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof ut){u=null;var h=this._source._layers;for(var p in h)if(h[p]._map){u=h[p];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=fe(this.options.offset),h=this._getAnchor();this._zoomAnimated?dt(this._container,s.add(h)):u=u.add(s).add(h);var p=this._containerBottom=-u.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=p+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Ue.include({_initOverlay:function(s,u,h,p){var _=u;return _ instanceof s||(_=new s(p).setContent(u)),h&&_.setLatLng(h),_}}),Re.include({_initOverlay:function(s,u,h,p){var _=h;return _ instanceof s?(E(_,p),_._source=this):(_=u&&!p?u:new s(p,this),_.setContent(h)),_}});var Uf=ii.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,ii.prototype.openOn.call(this,s)},onAdd:function(s){ii.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wo||this._source.on("preclick",gn))},onRemove:function(s){ii.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wo||this._source.off("preclick",gn))},getEvents:function(){var s=ii.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=ze("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=ze("div",s+"-content-wrapper",u);if(this._contentNode=ze("div",s+"-content",h),Ws(u),Fl(this._contentNode),ye(u,"contextmenu",gn),this._tipContainer=ze("div",s+"-tip-container",u),this._tip=ze("div",s+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=ze("a",s+"-close-button",u);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',ye(p,"click",function(_){yt(_),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),u.width=h+1+"px",u.whiteSpace="",u.height="";var p=s.offsetHeight,_=this.options.maxHeight,w="leaflet-popup-scrolled";_&&p>_?(u.height=_+"px",be(s,w)):vt(s,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();dt(this._container,u.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt($s(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+u,p=this._containerWidth,_=new we(this._containerLeft,-h-this._containerBottom);_._add(cr(this._container));var w=s.layerPointToContainerPoint(_),S=fe(this.options.autoPanPadding),k=fe(this.options.autoPanPaddingTopLeft||S),B=fe(this.options.autoPanPaddingBottomRight||S),W=s.getSize(),ee=0,me=0;w.x+p+B.x>W.x&&(ee=w.x+p-W.x+B.x),w.x-ee-k.x<0&&(ee=w.x-k.x),w.y+h+B.y>W.y&&(me=w.y+h-W.y+B.y),w.y-me-k.y<0&&(me=w.y-k.y),(ee||me)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([ee,me]))}},_getAnchor:function(){return fe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),nF=function(s,u){return new Uf(s,u)};Ue.mergeOptions({closePopupOnClick:!0}),Ue.include({openPopup:function(s,u,h){return this._initOverlay(Uf,s,u,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Re.include({bindPopup:function(s,u){return this._popup=this._initOverlay(Uf,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ut||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){lr(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof Wo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var jf=ii.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){ii.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){ii.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=ii.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ze("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,h,p=this._map,_=this._container,w=p.latLngToContainerPoint(p.getCenter()),S=p.layerPointToContainerPoint(s),k=this.options.direction,B=_.offsetWidth,W=_.offsetHeight,ee=fe(this.options.offset),me=this._getAnchor();k==="top"?(u=B/2,h=W):k==="bottom"?(u=B/2,h=0):k==="center"?(u=B/2,h=W/2):k==="right"?(u=0,h=W/2):k==="left"?(u=B,h=W/2):S.x<w.x?(k="right",u=0,h=W/2):(k="left",u=B+(ee.x+me.x)*2,h=W/2),s=s.subtract(fe(u,h,!0)).add(ee).add(me),vt(_,"leaflet-tooltip-right"),vt(_,"leaflet-tooltip-left"),vt(_,"leaflet-tooltip-top"),vt(_,"leaflet-tooltip-bottom"),be(_,"leaflet-tooltip-"+k),dt(_,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&bn(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return fe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),rF=function(s,u){return new jf(s,u)};Ue.include({openTooltip:function(s,u,h){return this._initOverlay(jf,s,u,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Re.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(jf,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[u](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ut||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(ye(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),ye(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,h,p;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),p=this._map.containerPointToLayerPoint(h),u=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(u)}});var UC=Kn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(zs(u),u.appendChild(h.html)):u.innerHTML=h.html!==!1?h.html:"",h.bgPos){var p=fe(h.bgPos);u.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function iF(s){return new UC(s)}Kn.Default=ri;var Wl=Re.extend({options:{tileSize:256,opacity:1,updateWhenIdle:se.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){E(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),at(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Xr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ei(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof we?s:new we(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,h=-s(-1/0,1/0),p=0,_=u.length,w;p<_;p++)w=u[p].style.zIndex,u[p]!==this._container&&w&&(h=s(h,+w));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!se.ielt9){bn(this._container,this.options.opacity);var s=+new Date,u=!1,h=!1;for(var p in this._tiles){var _=this._tiles[p];if(!(!_.current||!_.loaded)){var w=Math.min(1,(s-_.loaded)/200);bn(_.el,w),w<1?u=!0:(_.active?h=!0:this._onOpaqueTile(_),_.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),u&&(R(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=u-Math.abs(s-h),this._onUpdateLevel(h)):(at(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var p=this._levels[s],_=this._map;return p||(p=this._levels[s]={},p.el=ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=u,p.origin=_.project(_.unproject(_.getPixelOrigin()),s).round(),p.zoom=s,this._setZoomTransform(p,_.getCenter(),_.getZoom()),f(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var s,u,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var p=u.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)at(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,h,p){var _=Math.floor(s/2),w=Math.floor(u/2),S=h-1,k=new we(+_,+w);k.z=+S;var B=this._tileCoordsToKey(k),W=this._tiles[B];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),S>p?this._retainParent(_,w,S,p):!1)},_retainChildren:function(s,u,h,p){for(var _=2*s;_<2*s+2;_++)for(var w=2*u;w<2*u+2;w++){var S=new we(_,w);S.z=h+1;var k=this._tileCoordsToKey(S),B=this._tiles[k];if(B&&B.active){B.retain=!0;continue}else B&&B.loaded&&(B.retain=!0);h+1<p&&this._retainChildren(_,w,h+1,p)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,h,p){var _=Math.round(u);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var w=this.options.updateWhenZooming&&_!==this._tileZoom;(!p||w)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,u)},_setZoomTransform:function(s,u,h){var p=this._map.getZoomScale(h,s.zoom),_=s.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(u,h)).round();se.any3d?an(s.el,_,p):dt(s.el,_)},_resetGrid:function(){var s=this._map,u=s.options.crs,h=this._tileSize=this.getTileSize(),p=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],p).x/h.x),Math.ceil(s.project([0,u.wrapLng[1]],p).x/h.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],p).y/h.x),Math.ceil(s.project([u.wrapLat[1],0],p).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,h=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),p=u.getZoomScale(h,this._tileZoom),_=u.project(s,this._tileZoom).floor(),w=u.getSize().divideBy(p*2);return new it(_.subtract(w),_.add(w))},_update:function(s){var u=this._map;if(u){var h=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(s),_=this._pxBoundsToTileRange(p),w=_.getCenter(),S=[],k=this.options.keepBuffer,B=new it(_.getBottomLeft().subtract([k,-k]),_.getTopRight().add([k,-k]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var ee=this._tiles[W].coords;(ee.z!==this._tileZoom||!B.contains(new we(ee.x,ee.y)))&&(this._tiles[W].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var me=_.min.y;me<=_.max.y;me++)for(var Ne=_.min.x;Ne<=_.max.x;Ne++){var Cn=new we(Ne,me);if(Cn.z=this._tileZoom,!!this._isValidTile(Cn)){var Zt=this._tiles[this._tileCoordsToKey(Cn)];Zt?Zt.current=!0:S.push(Cn)}}if(S.sort(function(Mn,xu){return Mn.distanceTo(w)-xu.distanceTo(w)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var dr=document.createDocumentFragment();for(Ne=0;Ne<S.length;Ne++)this._addTile(S[Ne],dr);this._level.el.appendChild(dr)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var h=this._globalTileRange;if(!u.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!u.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(s);return et(this.options.bounds).overlaps(p)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,h=this.getTileSize(),p=s.scaleBy(h),_=p.add(h),w=u.unproject(p,s.z),S=u.unproject(_,s.z);return[w,S]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),h=new mn(u[0],u[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),h=new we(+u[0],+u[1]);return h.z=+u[2],h},_removeTile:function(s){var u=this._tiles[s];u&&(at(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){be(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=f,s.onmousemove=f,se.ielt9&&this.options.opacity<1&&bn(s,this.options.opacity)},_addTile:function(s,u){var h=this._getTilePos(s),p=this._tileCoordsToKey(s),_=this.createTile(this._wrapCoords(s),i(this._tileReady,this,s));this._initTile(_),this.createTile.length<2&&D(i(this._tileReady,this,s,null,_)),dt(_,h),this._tiles[p]={el:_,coords:s,current:!0},u.appendChild(_),this.fire("tileloadstart",{tile:_,coords:s})},_tileReady:function(s,u,h){u&&this.fire("tileerror",{error:u,tile:h,coords:s});var p=this._tileCoordsToKey(s);h=this._tiles[p],h&&(h.loaded=+new Date,this._map._fadeAnimated?(bn(h.el,0),R(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),u||(be(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),se.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new we(this._wrapX?l(s.x,this._wrapX):s.x,this._wrapY?l(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new it(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function oF(s){return new Wl(s)}var Pu=Wl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=E(this,u),u.detectRetina&&se.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var h=document.createElement("img");return ye(h,"load",i(this._tileOnLoad,this,u,h)),ye(h,"error",i(this._tileOnError,this,u,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var u={r:se.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=h),u["-y"]=h}return V(this._url,n(u,this.options))},_tileOnLoad:function(s,u){se.ielt9?setTimeout(i(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,h){var p=this.options.errorTileUrl;p&&u.getAttribute("src")!==p&&(u.src=p),s(h,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,h=this.options.zoomReverse,p=this.options.zoomOffset;return h&&(s=u-s),s+p},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=f,u.onerror=f,!u.complete)){u.src=X;var h=this._tiles[s].coords;at(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:h})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",X),Wl.prototype._removeTile.call(this,s)},_tileReady:function(s,u,h){if(!(!this._map||h&&h.getAttribute("src")===X))return Wl.prototype._tileReady.call(this,s,u,h)}});function jC(s,u){return new Pu(s,u)}var $C=Pu.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var h=n({},this.defaultWmsParams);for(var p in u)p in this.options||(h[p]=u[p]);u=E(this,u);var _=u.detectRetina&&se.retina?2:1,w=this.getTileSize();h.width=w.x*_,h.height=w.y*_,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,Pu.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),h=this._crs,p=on(h.project(u[0]),h.project(u[1])),_=p.min,w=p.max,S=(this._wmsVersion>=1.3&&this._crs===U?[_.y,_.x,w.y,w.x]:[_.x,_.y,w.x,w.y]).join(","),k=Pu.prototype.getTileUrl.call(this,s);return k+M(this.wmsParams,k,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(s,u){return n(this.wmsParams,s),u||this.redraw(),this}});function sF(s,u){return new $C(s,u)}Pu.WMS=$C,jC.wms=sF;var zi=Re.extend({options:{padding:.1},initialize:function(s){E(this,s),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var h=this._map.getZoomScale(u,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,u),w=p.multiplyBy(-h).add(_).subtract(this._map._getNewPixelOrigin(s,u));se.any3d?an(this._container,w,h):dt(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),h=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new it(h,h.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zC=zi.extend({options:{tolerance:0},getEvents:function(){var s=zi.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){zi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");ye(s,"mousemove",this._onMouseMove,this),ye(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ye(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,at(this._container),tt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zi.prototype._update.call(this);var s=this._bounds,u=this._container,h=s.getSize(),p=se.retina?2:1;dt(u,s.min),u.width=p*h.x,u.height=p*h.y,u.style.width=h.x+"px",u.style.height=h.y+"px",se.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){zi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[a(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,h=u.next,p=u.prev;h?h.prev=p:this._drawLast=p,p?p.next=h:this._drawFirst=h,delete s._order,delete this._layers[a(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),h=[],p,_;for(_=0;_<u.length;_++){if(p=Number(u[_]),isNaN(p))return;h.push(p)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new it,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var h=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)s=p.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var h,p,_,w,S=s._parts,k=S.length,B=this._ctx;if(k){for(B.beginPath(),h=0;h<k;h++){for(p=0,_=S[h].length;p<_;p++)w=S[h][p],B[p?"lineTo":"moveTo"](w.x,w.y);u&&B.closePath()}this._fillStroke(B,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,h=this._ctx,p=Math.max(Math.round(s._radius),1),_=(Math.max(Math.round(s._radiusY),1)||p)/p;_!==1&&(h.save(),h.scale(1,_)),h.beginPath(),h.arc(u.x,u.y/_,p,0,Math.PI*2,!1),_!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,u){var h=u.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),h,p,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(p=h);this._fireEvent(p?[p]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(vt(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var h,p,_=this._drawFirst;_;_=_.next)h=_.layer,h.options.interactive&&h._containsPoint(u)&&(p=h);p!==this._hoveredLayer&&(this._handleMouseOut(s),p&&(be(this._container,"leaflet-interactive"),this._fireEvent([p],s,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,h){this._map._fireDOMEvent(u,h||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var h=u.next,p=u.prev;if(h)h.prev=p;else return;p?p.next=h:h&&(this._drawFirst=h),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var h=u.next,p=u.prev;if(p)p.next=h;else return;h?h.prev=p:p&&(this._drawLast=p),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function HC(s){return se.canvas?new zC(s):null}var Gl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),aF={_initContainer:function(){this._container=ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(zi.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=Gl("shape");be(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=Gl("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[a(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;at(u),s.removeInteractiveTarget(u),delete this._layers[a(s)]},_updateStyle:function(s){var u=s._stroke,h=s._fill,p=s.options,_=s._container;_.stroked=!!p.stroke,_.filled=!!p.fill,p.stroke?(u||(u=s._stroke=Gl("stroke")),_.appendChild(u),u.weight=p.weight+"px",u.color=p.color,u.opacity=p.opacity,p.dashArray?u.dashStyle=K(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=p.lineCap.replace("butt","flat"),u.joinstyle=p.lineJoin):u&&(_.removeChild(u),s._stroke=null),p.fill?(h||(h=s._fill=Gl("fill")),_.appendChild(h),h.color=p.fillColor||p.color,h.opacity=p.fillOpacity):h&&(_.removeChild(h),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),h=Math.round(s._radius),p=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+h+","+p+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Xr(s._container)},_bringToBack:function(s){ei(s._container)}},$f=se.vml?Gl:cu,Kl=zi.extend({_initContainer:function(){this._container=$f("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$f("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),tt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){zi.prototype._update.call(this);var s=this._bounds,u=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,h.setAttribute("width",u.x),h.setAttribute("height",u.y)),dt(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=$f("path");s.options.className&&be(u,s.options.className),s.options.interactive&&be(u,"leaflet-interactive"),this._updateStyle(s),this._layers[a(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){at(s._path),s.removeInteractiveTarget(s._path),delete this._layers[a(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,h=s.options;u&&(h.stroke?(u.setAttribute("stroke",h.color),u.setAttribute("stroke-opacity",h.opacity),u.setAttribute("stroke-width",h.weight),u.setAttribute("stroke-linecap",h.lineCap),u.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?u.setAttribute("stroke-dasharray",h.dashArray):u.removeAttribute("stroke-dasharray"),h.dashOffset?u.setAttribute("stroke-dashoffset",h.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),h.fill?(u.setAttribute("fill",h.fillColor||h.color),u.setAttribute("fill-opacity",h.fillOpacity),u.setAttribute("fill-rule",h.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,lu(s._parts,u))},_updateCircle:function(s){var u=s._point,h=Math.max(Math.round(s._radius),1),p=Math.max(Math.round(s._radiusY),1)||h,_="a"+h+","+p+" 0 1,0 ",w=s._empty()?"M0 0":"M"+(u.x-h)+","+u.y+_+h*2+",0 "+_+-h*2+",0 ";this._setPath(s,w)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Xr(s._path)},_bringToBack:function(s){ei(s._path)}});se.vml&&Kl.include(aF);function qC(s){return se.svg||se.vml?new Kl(s):null}Ue.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&HC(s)||qC(s)}});var WC=Mu.extend({initialize:function(s,u){Mu.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=et(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function uF(s,u){return new WC(s,u)}Kl.create=$f,Kl.pointsToPath=lu,$i.geometryToLayer=kf,$i.coordsToLatLng=kv,$i.coordsToLatLngs=Lf,$i.latLngToCoords=Lv,$i.latLngsToCoords=Ff,$i.getFeature=Ru,$i.asFeature=Vf,Ue.mergeOptions({boxZoom:!0});var GC=Gn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),jo(),Li(),this._startPoint=this._map.mouseEventToContainerPoint(s),ye(document,{contextmenu:lr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=ze("div","leaflet-zoom-box",this._container),be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new it(this._point,this._startPoint),h=u.getSize();dt(this._box,u.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(at(this._box),vt(this._container,"leaflet-crosshair")),Ze(),Pl(),tt(document,{contextmenu:lr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var u=new mn(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ue.addInitHook("addHandler","boxZoom",GC),Ue.mergeOptions({doubleClickZoom:!0});var KC=Gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,h=u.getZoom(),p=u.options.zoomDelta,_=s.originalEvent.shiftKey?h-p:h+p;u.options.doubleClickZoom==="center"?u.setZoom(_):u.setZoomAround(s.containerPoint,_)}});Ue.addInitHook("addHandler","doubleClickZoom",KC),Ue.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ZC=Gn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Cr(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=et(this._map.options.maxBounds);this._offsetLimit=on(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),h=this._initialWorldOffset,p=this._draggable._newPos.x,_=(p-u+h)%s+u-h,w=(p+u+h)%s-u-h,S=Math.abs(_+h)<Math.abs(w+h)?_:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(s){var u=this._map,h=u.options,p=!h.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),p)u.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,S=h.easeLinearity,k=_.multiplyBy(S/w),B=k.distanceTo([0,0]),W=Math.min(h.inertiaMaxSpeed,B),ee=k.multiplyBy(W/B),me=W/(h.inertiaDeceleration*S),Ne=ee.multiplyBy(-me/2).round();!Ne.x&&!Ne.y?u.fire("moveend"):(Ne=u._limitOffset(Ne,u.options.maxBounds),D(function(){u.panBy(Ne,{duration:me,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});Ue.addInitHook("addHandler","dragging",ZC),Ue.mergeOptions({keyboard:!0,keyboardPanDelta:80});var QC=Gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),ye(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),tt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,h=s.scrollTop||u.scrollTop,p=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(p,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},h=this.keyCodes,p,_;for(p=0,_=h.left.length;p<_;p++)u[h.left[p]]=[-1*s,0];for(p=0,_=h.right.length;p<_;p++)u[h.right[p]]=[s,0];for(p=0,_=h.down.length;p<_;p++)u[h.down[p]]=[0,s];for(p=0,_=h.up.length;p<_;p++)u[h.up[p]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},h=this.keyCodes,p,_;for(p=0,_=h.zoomIn.length;p<_;p++)u[h.zoomIn[p]]=s;for(p=0,_=h.zoomOut.length;p<_;p++)u[h.zoomOut[p]]=-s},_addHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,h=this._map,p;if(u in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(p=this._panKeys[u],s.shiftKey&&(p=fe(p).multiplyBy(3)),h.options.maxBounds&&(p=h._limitOffset(fe(p),h.options.maxBounds)),h.options.worldCopyJump){var _=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(p)));h.panTo(_)}else h.panBy(p)}else if(u in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;lr(s)}}});Ue.addInitHook("addHandler","keyboard",QC),Ue.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var YC=Gn.extend({addHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=Bl(s),h=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var p=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),p),lr(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,w=h?Math.ceil(_/h)*h:_,S=s._limitZoom(u+(this._delta>0?w:-w))-u;this._delta=0,this._startTime=null,S&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+S):s.setZoomAround(this._lastMousePos,u+S))}});Ue.addInitHook("addHandler","scrollWheelZoom",YC);var cF=600;Ue.mergeOptions({tapHold:se.touchNative&&se.safari&&se.mobile,tapTolerance:15});var JC=Gn.extend({addHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new we(u.clientX,u.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(ye(document,"touchend",yt),ye(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),cF),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){tt(document,"touchend",yt),tt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new we(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});h._simulated=!0,u.target.dispatchEvent(h)}});Ue.addInitHook("addHandler","tapHold",JC),Ue.mergeOptions({touchZoom:se.touch,bounceAtZoomLimits:!0});var XC=Gn.extend({addHooks:function(){be(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var h=u.mouseEventToContainerPoint(s.touches[0]),p=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(h.add(p)._divideBy(2))),this._startDist=h.distanceTo(p),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),yt(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,h=u.mouseEventToContainerPoint(s.touches[0]),p=u.mouseEventToContainerPoint(s.touches[1]),_=h.distanceTo(p)/this._startDist;if(this._zoom=u.getScaleZoom(_,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&_<1||this._zoom>u.getMaxZoom()&&_>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var w=h._add(p)._divideBy(2)._subtract(this._centerPoint);if(_===1&&w.x===0&&w.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var S=i(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(S,this,!0),yt(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,R(this._animRequest),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ue.addInitHook("addHandler","touchZoom",XC),Ue.BoxZoom=GC,Ue.DoubleClickZoom=KC,Ue.Drag=ZC,Ue.Keyboard=QC,Ue.ScrollWheelZoom=YC,Ue.TapHold=JC,Ue.TouchZoom=XC,t.Bounds=it,t.Browser=se,t.CRS=In,t.Canvas=zC,t.Circle=Ov,t.CircleMarker=Of,t.Class=O,t.Control=An,t.DivIcon=UC,t.DivOverlay=ii,t.DomEvent=ht,t.DomUtil=ti,t.Draggable=Cr,t.Evented=Er,t.FeatureGroup=ut,t.GeoJSON=$i,t.GridLayer=Wl,t.Handler=Gn,t.Icon=Kn,t.ImageOverlay=Bf,t.LatLng=ve,t.LatLngBounds=mn,t.Layer=Re,t.LayerGroup=ft,t.LineUtil=d,t.Map=Ue,t.Marker=Nf,t.Mixin=Iu,t.Path=Wo,t.Point=we,t.PolyUtil=jl,t.Polygon=Mu,t.Polyline=ji,t.Popup=Uf,t.PosAnimation=Cf,t.Projection=b,t.Rectangle=WC,t.Renderer=zi,t.SVG=Kl,t.SVGOverlay=BC,t.TileLayer=Pu,t.Tooltip=jf,t.Transformation=gl,t.Util=x,t.VideoOverlay=VC,t.bind=i,t.bounds=on,t.canvas=HC,t.circle=ZL,t.circleMarker=KL,t.control=Ho,t.divIcon=iF,t.extend=n,t.featureGroup=Kt,t.geoJSON=FC,t.geoJson=JL,t.gridLayer=oF,t.icon=Zn,t.imageOverlay=XL,t.latLng=Be,t.latLngBounds=et,t.layerGroup=qe,t.map=Df,t.marker=GL,t.point=fe,t.polygon=YL,t.polyline=QL,t.popup=nF,t.rectangle=uF,t.setOptions=E,t.stamp=a,t.svg=qC,t.svgOverlay=tF,t.tileLayer=jC,t.tooltip=rF,t.transformation=Qr,t.version=e,t.videoOverlay=eF;var lF=window.L;t.noConflict=function(){return window.L=lF,this},window.L=t})});function Hv(t,e){return Object.is(t,e)}var Ut=null,qf=!1,qv=1,hr=Symbol("SIGNAL");function Ae(t){let e=Ut;return Ut=t,e}function Wv(){return Ut}var Ql={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Yl(t){if(qf)throw new Error("");if(Ut===null)return;Ut.consumerOnSignalRead(t);let e=Ut.nextProducerIndex++;if(Zf(Ut),e<Ut.producerNode.length&&Ut.producerNode[e]!==t&&Zl(Ut)){let n=Ut.producerNode[e];Kf(n,Ut.producerIndexOfThis[e])}Ut.producerNode[e]!==t&&(Ut.producerNode[e]=t,Ut.producerIndexOfThis[e]=Zl(Ut)?uD(t,Ut,e):0),Ut.producerLastReadVersion[e]=t.version}function aD(){qv++}function Gv(t){if(!(Zl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===qv)){if(!t.producerMustRecompute(t)&&!Yv(t)){zv(t);return}t.producerRecomputeValue(t),zv(t)}}function Kv(t){if(t.liveConsumerNode===void 0)return;let e=qf;qf=!0;try{for(let n of t.liveConsumerNode)n.dirty||AF(n)}finally{qf=e}}function Zv(){return Ut?.consumerAllowSignalWrites!==!1}function AF(t){t.dirty=!0,Kv(t),t.consumerMarkedDirty?.(t)}function zv(t){t.dirty=!1,t.lastCleanEpoch=qv}function Gf(t){return t&&(t.nextProducerIndex=0),Ae(t)}function Qv(t,e){if(Ae(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Zl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Kf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Yv(t){Zf(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Gv(n),r!==n.version))return!0}return!1}function Jv(t){if(Zf(t),Zl(t))for(let e=0;e<t.producerNode.length;e++)Kf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function uD(t,e,n){if(cD(t),t.liveConsumerNode.length===0&&lD(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=uD(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Kf(t,e){if(cD(t),t.liveConsumerNode.length===1&&lD(t))for(let r=0;r<t.producerNode.length;r++)Kf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Zf(i),i.producerIndexOfThis[r]=e}}function Zl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Zf(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function cD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function lD(t){return t.producerNode!==void 0}function Xv(t,e){let n=Object.create(MF);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Gv(n),Yl(n),n.value===Wf)throw n.error;return n.value};return r[hr]=n,r}var jv=Symbol("UNSET"),$v=Symbol("COMPUTING"),Wf=Symbol("ERRORED"),MF=Oe(Q({},Ql),{value:jv,dirty:!0,error:null,equal:Hv,kind:"computed",producerMustRecompute(t){return t.value===jv||t.value===$v},producerRecomputeValue(t){if(t.value===$v)throw new Error("Detected cycle in computations.");let e=t.value;t.value=$v;let n=Gf(t),r,i=!1;try{r=t.computation(),Ae(null),i=e!==jv&&e!==Wf&&r!==Wf&&t.equal(e,r)}catch(o){r=Wf,t.error=o}finally{Qv(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function RF(){throw new Error}var dD=RF;function hD(t){dD(t)}function ey(t){dD=t}var PF=null;function ty(t,e){let n=Object.create(Qf);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Yl(n),n.value);return r[hr]=n,r}function Jl(t,e){Zv()||hD(t),t.equal(t.value,e)||(t.value=e,xF(t))}function ny(t,e){Zv()||hD(t),Jl(t,e(t.value))}var Qf=Oe(Q({},Ql),{equal:Hv,value:void 0,kind:"signal"});function xF(t){t.version++,aD(),Kv(t),PF?.()}function ry(t){let e=Ae(null);try{return t()}finally{Ae(e)}}var iy;function Xl(){return iy}function Hi(t){let e=iy;return iy=t,e}var Yf=Symbol("NotFound");function Te(t){return typeof t=="function"}function Nu(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Jf=Nu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Xs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var bt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Te(r))try{r()}catch(o){e=o instanceof Jf?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{fD(o)}catch(a){e=e??[],a instanceof Jf?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Jf(e)}}add(e){var n;if(e&&e!==this)if(this.closed)fD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Xs(n,e)}remove(e){let{_finalizers:n}=this;n&&Xs(n,e),e instanceof t&&e._removeParent(this)}};bt.EMPTY=(()=>{let t=new bt;return t.closed=!0,t})();var oy=bt.EMPTY;function Xf(t){return t instanceof bt||t&&"closed"in t&&Te(t.remove)&&Te(t.add)&&Te(t.unsubscribe)}function fD(t){Te(t)?t():t.unsubscribe()}var Dr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ou={setTimeout(t,e,...n){let{delegate:r}=Ou;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ou;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ep(t){Ou.setTimeout(()=>{let{onUnhandledError:e}=Dr;if(e)e(t);else throw t})}function ed(){}var pD=sy("C",void 0,void 0);function mD(t){return sy("E",void 0,t)}function gD(t){return sy("N",t,void 0)}function sy(t,e,n){return{kind:t,value:e,error:n}}var ea=null;function ku(t){if(Dr.useDeprecatedSynchronousErrorHandling){let e=!ea;if(e&&(ea={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ea;if(ea=null,n)throw r}}else t()}function _D(t){Dr.useDeprecatedSynchronousErrorHandling&&ea&&(ea.errorThrown=!0,ea.error=t)}var ta=class extends bt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xf(e)&&e.add(this)):this.destination=VF}static create(e,n,r){return new Ko(e,n,r)}next(e){this.isStopped?uy(gD(e),this):this._next(e)}error(e){this.isStopped?uy(mD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?uy(pD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},LF=Function.prototype.bind;function ay(t,e){return LF.call(t,e)}var cy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){tp(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){tp(r)}else tp(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){tp(n)}}},Ko=class extends ta{constructor(e,n,r){super();let i;if(Te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Dr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ay(e.next,o),error:e.error&&ay(e.error,o),complete:e.complete&&ay(e.complete,o)}):i=e}this.destination=new cy(i)}};function tp(t){Dr.useDeprecatedSynchronousErrorHandling?_D(t):ep(t)}function FF(t){throw t}function uy(t,e){let{onStoppedNotification:n}=Dr;n&&Ou.setTimeout(()=>n(t,e))}var VF={closed:!0,next:ed,error:FF,complete:ed};var Lu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Qn(t){return t}function ly(...t){return dy(t)}function dy(t){return t.length===0?Qn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Me=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=UF(n)?n:new Ko(n,r,i);return ku(()=>{let{operator:a,source:c}=this;o.add(a?a.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=vD(r),new r((i,o)=>{let a=new Ko({next:c=>{try{n(c)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Lu](){return this}pipe(...n){return dy(n)(this)}toPromise(n){return n=vD(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return t.create=e=>new t(e),t})();function vD(t){var e;return(e=t??Dr.Promise)!==null&&e!==void 0?e:Promise}function BF(t){return t&&Te(t.next)&&Te(t.error)&&Te(t.complete)}function UF(t){return t&&t instanceof ta||BF(t)&&Xf(t)}function hy(t){return Te(t?.lift)}function We(t){return e=>{if(hy(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function je(t,e,n,r,i){return new fy(t,e,n,r,i)}var fy=class extends ta{constructor(e,n,r,i,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(c){try{n(c)}catch(l){e.error(l)}}:super._next,this._error=i?function(c){try{i(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Fu(){return We((t,e)=>{let n=null;t._refCount++;let r=je(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Vu=class extends Me{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,hy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bt;let n=this.getSubject();e.add(this.source.subscribe(je(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bt.EMPTY)}return e}refCount(){return Fu()(this)}};var yD=Nu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class t extends Me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new np(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new yD}next(n){ku(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ku(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ku(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?oy:(this.currentObservers=null,o.push(n),new bt(()=>{this.currentObservers=null,Xs(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Me;return n.source=this,n}}return t.create=(e,n)=>new np(e,n),t})(),np=class extends ot{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:oy}};var jt=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var py={now(){return(py.delegate||Date).now()},delegate:void 0};var rp=class extends bt{constructor(e,n){super()}schedule(e,n=0){return this}};var td={setInterval(t,e,...n){let{delegate:r}=td;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=td;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Bu=class extends rp{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return td.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&td.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Xs(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Uu=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Uu.now=py.now;var ju=class extends Uu{constructor(e,n=Uu.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var my=new ju(Bu);var ip=class extends Bu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var op=class extends ju{};var gy=new op(ip);var Rn=new Me(t=>t.complete());function wD(t){return t&&Te(t.schedule)}function ED(t){return t[t.length-1]}function sp(t){return Te(ED(t))?t.pop():void 0}function Zo(t){return wD(ED(t))?t.pop():void 0}function _y(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bD(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(g){try{f(r.next(g))}catch(y){a(y)}}function l(g){try{f(r.throw(g))}catch(y){a(y)}}function f(g){g.done?o(g.value):i(g.value).then(c,l)}f((r=r.apply(t,e||[])).next())})}function ID(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function na(t){return this instanceof na?(this.v=t,this):new na(t)}function TD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(E){return function(M){return Promise.resolve(M).then(E,y)}}function c(E,M){r[E]&&(i[E]=function(F){return new Promise(function(V,K){o.push([E,F,V,K])>1||l(E,F)})},M&&(i[E]=M(i[E])))}function l(E,M){try{f(r[E](M))}catch(F){I(o[0][3],F)}}function f(E){E.value instanceof na?Promise.resolve(E.value.v).then(g,y):I(o[0][2],E)}function g(E){l("next",E)}function y(E){l("throw",E)}function I(E,M){E(M),o.shift(),o.length&&l(o[0][0],o[0][1])}}function CD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ID=="function"?ID(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(a){return new Promise(function(c,l){a=t[o](a),i(c,l,a.done,a.value)})}}function i(o,a,c,l){Promise.resolve(l).then(function(f){o({value:f,done:c})},a)}}var ap=t=>t&&typeof t.length=="number"&&typeof t!="function";function up(t){return Te(t?.then)}function cp(t){return Te(t[Lu])}function lp(t){return Symbol.asyncIterator&&Te(t?.[Symbol.asyncIterator])}function dp(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hp=jF();function fp(t){return Te(t?.[hp])}function pp(t){return TD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield na(n.read());if(i)return yield na(void 0);yield yield na(r)}}finally{n.releaseLock()}})}function mp(t){return Te(t?.getReader)}function xt(t){if(t instanceof Me)return t;if(t!=null){if(cp(t))return $F(t);if(ap(t))return zF(t);if(up(t))return HF(t);if(lp(t))return DD(t);if(fp(t))return qF(t);if(mp(t))return WF(t)}throw dp(t)}function $F(t){return new Me(e=>{let n=t[Lu]();if(Te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zF(t){return new Me(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function HF(t){return new Me(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ep)})}function qF(t){return new Me(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function DD(t){return new Me(e=>{GF(t,e).catch(n=>e.error(n))})}function WF(t){return DD(pp(t))}function GF(t,e){var n,r,i,o;return bD(this,void 0,void 0,function*(){try{for(n=CD(t);r=yield n.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Pn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Qo(t,e=0){return We((n,r)=>{n.subscribe(je(r,i=>Pn(r,t,()=>r.next(i),e),()=>Pn(r,t,()=>r.complete(),e),i=>Pn(r,t,()=>r.error(i),e)))})}function Yo(t,e=0){return We((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function SD(t,e){return xt(t).pipe(Yo(e),Qo(e))}function AD(t,e){return xt(t).pipe(Yo(e),Qo(e))}function MD(t,e){return new Me(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function RD(t,e){return new Me(n=>{let r;return Pn(n,e,()=>{r=t[hp](),Pn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>Te(r?.return)&&r.return()})}function gp(t,e){if(!t)throw new Error("Iterable cannot be null");return new Me(n=>{Pn(n,e,()=>{let r=t[Symbol.asyncIterator]();Pn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function PD(t,e){return gp(pp(t),e)}function xD(t,e){if(t!=null){if(cp(t))return SD(t,e);if(ap(t))return MD(t,e);if(up(t))return AD(t,e);if(lp(t))return gp(t,e);if(fp(t))return RD(t,e);if(mp(t))return PD(t,e)}throw dp(t)}function ke(t,e){return e?xD(t,e):xt(t)}function te(...t){let e=Zo(t);return ke(t,e)}function $u(t,e){let n=Te(t)?t:()=>t,r=i=>i.error(n());return new Me(e?i=>e.schedule(r,0,i):r)}function vy(t){return!!t&&(t instanceof Me||Te(t.lift)&&Te(t.subscribe))}var Sr=Nu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function _p(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Ko({next:a=>{r(a),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Sr)}});t.subscribe(o)})}function ge(t,e){return We((n,r)=>{let i=0;n.subscribe(je(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:KF}=Array;function ZF(t,e){return KF(e)?t(...e):t(e)}function vp(t){return ge(e=>ZF(t,e))}var{isArray:QF}=Array,{getPrototypeOf:YF,prototype:JF,keys:XF}=Object;function yp(t){if(t.length===1){let e=t[0];if(QF(e))return{args:e,keys:null};if(eV(e)){let n=XF(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function eV(t){return t&&typeof t=="object"&&YF(t)===JF}function wp(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ep(...t){let e=Zo(t),n=sp(t),{args:r,keys:i}=yp(t);if(r.length===0)return ke([],e);let o=new Me(tV(r,e,i?a=>wp(i,a):Qn));return n?o.pipe(vp(n)):o}function tV(t,e,n=Qn){return r=>{ND(e,()=>{let{length:i}=t,o=new Array(i),a=i,c=i;for(let l=0;l<i;l++)ND(e,()=>{let f=ke(t[l],e),g=!1;f.subscribe(je(r,y=>{o[l]=y,g||(g=!0,c--),c||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function ND(t,e,n){t?Pn(n,t,e):e()}function OD(t,e,n,r,i,o,a,c){let l=[],f=0,g=0,y=!1,I=()=>{y&&!l.length&&!f&&e.complete()},E=F=>f<r?M(F):l.push(F),M=F=>{o&&e.next(F),f++;let V=!1;xt(n(F,g++)).subscribe(je(e,K=>{i?.(K),o?E(K):e.next(K)},()=>{V=!0},void 0,()=>{if(V)try{for(f--;l.length&&f<r;){let K=l.shift();a?Pn(e,a,()=>M(K)):M(K)}I()}catch(K){e.error(K)}}))};return t.subscribe(je(e,E,()=>{y=!0,I()})),()=>{c?.()}}function $t(t,e,n=1/0){return Te(e)?$t((r,i)=>ge((o,a)=>e(r,o,i,a))(xt(t(r,i))),n):(typeof e=="number"&&(n=e),We((r,i)=>OD(r,i,t,n)))}function kD(t=1/0){return $t(Qn,t)}function LD(){return kD(1)}function zu(...t){return LD()(ke(t,Zo(t)))}function Ip(t){return new Me(e=>{xt(t()).subscribe(e)})}function yy(...t){let e=sp(t),{args:n,keys:r}=yp(t),i=new Me(o=>{let{length:a}=n;if(!a){o.complete();return}let c=new Array(a),l=a,f=a;for(let g=0;g<a;g++){let y=!1;xt(n[g]).subscribe(je(o,I=>{y||(y=!0,f--),c[g]=I},()=>l--,void 0,()=>{(!l||!y)&&(f||o.next(r?wp(r,c):c),o.complete())}))}});return e?i.pipe(vp(e)):i}function Yn(t,e){return We((n,r)=>{let i=0;n.subscribe(je(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Tt(t){return We((e,n)=>{let r=null,i=!1,o;r=e.subscribe(je(n,void 0,void 0,a=>{o=xt(t(a,Tt(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function FD(t,e,n,r,i){return(o,a)=>{let c=n,l=e,f=0;o.subscribe(je(a,g=>{let y=f++;l=c?t(l,g,y):(c=!0,g),r&&a.next(l)},i&&(()=>{c&&a.next(l),a.complete()})))}}function Jo(t,e){return Te(e)?$t(t,e,1):$t(t,1)}function Xo(t){return We((e,n)=>{let r=!1;e.subscribe(je(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function qi(t){return t<=0?()=>Rn:We((e,n)=>{let r=0;e.subscribe(je(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function bp(t=nV){return We((e,n)=>{let r=!1;e.subscribe(je(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function nV(){return new Sr}function ra(t){return We((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Wi(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Yn((i,o)=>t(i,o,r)):Qn,qi(1),n?Xo(e):bp(()=>new Sr))}function Hu(t){return t<=0?()=>Rn:We((e,n)=>{let r=[];e.subscribe(je(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function wy(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Yn((i,o)=>t(i,o,r)):Qn,Hu(1),n?Xo(e):bp(()=>new Sr))}function Ey(t,e){return We(FD(t,e,arguments.length>=2,!0))}function Iy(...t){let e=Zo(t);return We((n,r)=>{(e?zu(t,n,e):zu(t,n)).subscribe(r)})}function Qt(t,e){return We((n,r)=>{let i=null,o=0,a=!1,c=()=>a&&!i&&r.complete();n.subscribe(je(r,l=>{i?.unsubscribe();let f=0,g=o++;xt(t(l,g)).subscribe(i=je(r,y=>r.next(e?e(l,y,g,f++):y),()=>{i=null,c()}))},()=>{a=!0,c()}))})}function Jn(t){return We((e,n)=>{xt(t).subscribe(je(n,()=>n.complete(),ed)),!n.closed&&e.subscribe(n)})}function pt(t,e,n){let r=Te(t)||e||n?{next:t,error:e,complete:n}:t;return r?We((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let c=!0;i.subscribe(je(o,l=>{var f;(f=r.next)===null||f===void 0||f.call(r,l),o.next(l)},()=>{var l;c=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var f;c=!1,(f=r.error)===null||f===void 0||f.call(r,l),o.error(l)},()=>{var l,f;c&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(f=r.finalize)===null||f===void 0||f.call(r)}))}):Qn}var Sy={JSACTION:"jsaction"},Ay={JSACTION:"__jsaction",OWNER:"__owner"},jD={};function rV(t){return t[Ay.JSACTION]}function VD(t,e){t[Ay.JSACTION]=e}function iV(t){return jD[t]}function oV(t,e){jD[t]=e}var le={CLICK:"click",CLICKMOD:"clickmod",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",ERROR:"error",LOAD:"load",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",TOGGLE:"toggle"},sV=[le.MOUSEENTER,le.MOUSELEAVE,"pointerenter","pointerleave"],Tee=[le.CLICK,le.DBLCLICK,le.FOCUSIN,le.FOCUSOUT,le.KEYDOWN,le.KEYUP,le.KEYPRESS,le.MOUSEOVER,le.MOUSEOUT,le.SUBMIT,le.TOUCHSTART,le.TOUCHEND,le.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],aV=[le.FOCUS,le.BLUR,le.ERROR,le.LOAD,le.TOGGLE],My=t=>aV.indexOf(t)>=0;function uV(t){return t===le.MOUSEENTER?le.MOUSEOVER:t===le.MOUSELEAVE?le.MOUSEOUT:t===le.POINTERENTER?le.POINTEROVER:t===le.POINTERLEAVE?le.POINTEROUT:t}function cV(t,e,n,r){let i=!1;My(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function lV(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function dV(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var BD=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function hV(t){return t.which===2||t.which==null&&t.button===4}function fV(t){return BD&&t.metaKey||!BD&&t.ctrlKey||hV(t)||t.shiftKey}function pV(t,e,n){let r=t.relatedTarget;return(t.type===le.MOUSEOVER&&e===le.MOUSEENTER||t.type===le.MOUSEOUT&&e===le.MOUSELEAVE||t.type===le.POINTEROVER&&e===le.POINTERENTER||t.type===le.POINTEROUT&&e===le.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function mV(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===le.MOUSEOVER?n.type=le.MOUSEENTER:t.type===le.MOUSEOUT?n.type=le.MOUSELEAVE:t.type===le.POINTEROVER?n.type=le.POINTERENTER:n.type=le.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var gV=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Sp=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){gV&&(this.element.style.cursor="pointer"),this.handlerInfos.push(cV(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)lV(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},_V={EVENT_ACTION_SEPARATOR:":"};function es(t){return t.eventType}function Ry(t,e){t.eventType=e}function Cp(t){return t.event}function $D(t,e){t.event=e}function zD(t){return t.targetElement}function HD(t,e){t.targetElement=e}function qD(t){return t.eic}function vV(t,e){t.eic=e}function yV(t){return t.timeStamp}function wV(t,e){t.timeStamp=e}function Dp(t){return t.eia}function WD(t,e,n){t.eia=[e,n]}function by(t){t.eia=void 0}function Tp(t){return t[1]}function EV(t){return t.eirp}function GD(t,e){t.eirp=e}function KD(t){return t.eir}function ZD(t,e){t.eir=e}function QD(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function IV(t,e,n,r,i,o,a,c){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:a,eiack:c}}var Ty=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return es(this.eventInfo)}setEventType(e){Ry(this.eventInfo,e)}getEvent(){return Cp(this.eventInfo)}setEvent(e){$D(this.eventInfo,e)}getTargetElement(){return zD(this.eventInfo)}setTargetElement(e){HD(this.eventInfo,e)}getContainer(){return qD(this.eventInfo)}setContainer(e){vV(this.eventInfo,e)}getTimestamp(){return yV(this.eventInfo)}setTimestamp(e){wV(this.eventInfo,e)}getAction(){let e=Dp(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){by(this.eventInfo);return}WD(this.eventInfo,e.name,e.element)}getIsReplay(){return EV(this.eventInfo)}setIsReplay(e){GD(this.eventInfo,e)}getResolved(){return KD(this.eventInfo)}setResolved(e){ZD(this.eventInfo,e)}clone(){return new t(QD(this.eventInfo))}},bV={},TV=/\s*;\s*/,CV=le.CLICK,Cy=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&es(e)===le.CLICK&&fV(Cp(e))?Ry(e,le.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){KD(e)||(this.populateAction(e,zD(e)),ZD(e,!0))}resolveParentAction(e){let n=Dp(e),r=n&&Tp(n);by(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==qD(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Dp(e));)r=this.getParentNode(r);let i=Dp(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(es(e)===le.MOUSEENTER||es(e)===le.MOUSELEAVE||es(e)===le.POINTERENTER||es(e)===le.POINTERLEAVE)))if(pV(Cp(e),es(e),Tp(i))){let o=mV(Cp(e),Tp(i));$D(e,o),HD(e,Tp(i))}else by(e)}getParentNode(e){let n=e[Ay.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[es(n)];i!==void 0&&WD(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=rV(e);if(!n){let r=e.getAttribute(Sy.JSACTION);if(!r)n=bV,VD(e,n);else{if(n=iV(r),!n){n={};let i=r.split(TV);for(let o=0;o<i.length;o++){let a=i[o];if(!a)continue;let c=a.indexOf(_V.EVENT_ACTION_SEPARATOR),l=c!==-1,f=l?a.substr(0,c).trim():CV,g=l?a.substr(c+1).trim():a;n[f]=g}oV(r,n)}VD(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},YD=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(YD||{}),Dy=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Ty(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&DV(r.element,n)&&dV(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function DV(t,e){return t.tagName==="A"&&(e.getEventType()===le.CLICK||e.getEventType()===le.CLICKMOD)}var JD=Symbol.for("propagationStopped"),Py={REPLAY:101};var SV="`preventDefault` called during event replay.";var AV="`composedPath` called during event replay.",Ap=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Cy({clickModSupport:n}),this.dispatcher=new Dy(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&PV(e),MV(e);e.getAction();){if(xV(e),My(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),RV(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function MV(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[JD]=!0,n()};ia(e,"stopPropagation",r),ia(e,"stopImmediatePropagation",r)}function RV(t){return!!t.getEvent()[JD]}function PV(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);ia(e,"target",n),ia(e,"eventPhase",Py.REPLAY),ia(e,"preventDefault",()=>{throw r(),new Error(SV+"")}),ia(e,"composedPath",()=>{throw new Error(AV+"")})}function xV(t){let e=t.getEvent(),n=t.getAction()?.element;n&&ia(e,"currentTarget",n,{configurable:!0})}function ia(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function XD(t,e){t.ecrd(n=>{e.dispatch(n)},YD.I_AM_THE_JSACTION_FRAMEWORK)}function NV(t){return t?.q??[]}function OV(t){t&&(UD(t.c,t.et,t.h),UD(t.c,t.etc,t.h,!0))}function UD(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var kV=!1,eS=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=kV;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=IV(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){GD(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&sV.indexOf(n)>=0)return;let o=(c,l,f)=>{this.handleEvent(c,l,f)};this.eventHandlers[n]=o;let a=uV(r||n);if(a!==n){let c=this.browserEventTypeToExtraEventTypes[a]||[];c.push(n),this.browserEventTypeToExtraEventTypes[a]=c}this.containerManager.addEventListener(a,c=>l=>{o(n,l,c)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),OV(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let a=0;a<o.length;a++){let c=QD(i);Ry(c,o[a]),this.handleEventInfo(c)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function tS(t,e=window){return NV(e._ejsas?.[t])}function xy(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var tA="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",J=class extends Error{code;constructor(e,n){super(K0(e,n)),this.code=e}};function LV(t){return`NG0${Math.abs(t)}`}function K0(t,e){return`${LV(t)}${e?": "+e:""}`}var nA=Symbol("InputSignalNode#UNSET"),FV=Oe(Q({},Qf),{transformFn:void 0,applyValueToInputSignal(t,e){Jl(t,e)}});function rA(t,e){let n=Object.create(FV);n.value=t,n.transformFn=e?.transform;function r(){if(Yl(n),n.value===nA){let i=null;throw new J(-950,i)}return n.value}return r[hr]=n,r}function _d(t){return{toString:t}.toString()}var Mp="__parameters__";function VV(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function BV(t,e,n){return _d(()=>{let r=VV(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return c.annotation=a,c;function c(l,f,g){let y=l.hasOwnProperty(Mp)?l[Mp]:Object.defineProperty(l,Mp,{value:[]})[Mp];for(;y.length<=g;)y.push(null);return(y[g]=y[g]||[]).push(a),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ts=globalThis;function st(t){for(let e in t)if(t[e]===st)return e;throw Error("Could not find renamed property on target object.")}function UV(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Nn(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Nn).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function nS(t,e){return t?e?`${t} ${e}`:t:e||""}var jV=st({__forward_ref__:st});function Xi(t){return t.__forward_ref__=Xi,t.toString=function(){return Nn(this())},t}function Dn(t){return iA(t)?t():t}function iA(t){return typeof t=="function"&&t.hasOwnProperty(jV)&&t.__forward_ref__===Xi}function ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function eo(t){return{providers:t.providers||[],imports:t.imports||[]}}function pm(t){return rS(t,sA)||rS(t,aA)}function oA(t){return pm(t)!==null}function rS(t,e){return t.hasOwnProperty(e)?t[e]:null}function $V(t){let e=t&&(t[sA]||t[aA]);return e||null}function iS(t){return t&&(t.hasOwnProperty(oS)||t.hasOwnProperty(zV))?t[oS]:null}var sA=st({\u0275prov:st}),oS=st({\u0275inj:st}),aA=st({ngInjectableDef:st}),zV=st({ngInjectorDef:st}),Y=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uA(t){return t&&!!t.\u0275providers}var HV=st({\u0275cmp:st}),qV=st({\u0275dir:st}),WV=st({\u0275pipe:st}),GV=st({\u0275mod:st}),$p=st({\u0275fac:st}),od=st({__NG_ELEMENT_ID__:st}),sS=st({__NG_ENV_ID__:st});function mm(t){return typeof t=="string"?t:t==null?"":String(t)}function KV(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():mm(t)}function cA(t,e){throw new J(-200,t)}function Z0(t,e){throw new J(-201,!1)}var Se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Se||{}),Jy;function lA(){return Jy}function xn(t){let e=Jy;return Jy=t,e}function dA(t,e,n){let r=pm(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Se.Optional)return null;if(e!==void 0)return e;Z0(t,"Injector")}var ZV={},sa=ZV,Xy="__NG_DI_FLAG__",zp=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?Yf:sa,r)}},Hp="ngTempTokenPath",QV="ngTokenPath",YV=/\n/gm,JV="\u0275",aS="__source";function XV(t,e=Se.Default){if(Xl()===void 0)throw new J(-203,!1);if(Xl()===null)return dA(t,void 0,e);{let n=Xl(),r;return n instanceof zp?r=n.injector:r=n,r.get(t,e&Se.Optional?null:void 0,e)}}function ue(t,e=Se.Default){return(lA()||XV)(Dn(t),e)}function z(t,e=Se.Default){return ue(t,gm(e))}function gm(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function e0(t){let e=[];for(let n=0;n<t.length;n++){let r=Dn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new J(900,!1);let i,o=Se.Default;for(let a=0;a<r.length;a++){let c=r[a],l=t4(c);typeof l=="number"?l===-1?i=c.token:o|=l:i=c}e.push(ue(i,o))}else e.push(ue(r))}return e}function e4(t,e){return t[Xy]=e,t.prototype[Xy]=e,t}function t4(t){return t[Xy]}function n4(t,e,n,r){let i=t[Hp];throw e[aS]&&i.unshift(e[aS]),t.message=r4(`
`+t.message,i,n,r),t[QV]=i,t[Hp]=null,t}function r4(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==JV?t.slice(2):t;let i=Nn(e);if(Array.isArray(e))i=e.map(Nn).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];o.push(a+":"+(typeof c=="string"?JSON.stringify(c):Nn(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(YV,`
  `)}`}var nr=e4(BV("Optional"),8);function ua(t,e){let n=t.hasOwnProperty($p);return n?t[$p]:null}function i4(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function o4(t){return t.flat(Number.POSITIVE_INFINITY)}function Q0(t,e){t.forEach(n=>Array.isArray(n)?Q0(n,e):e(n))}function hA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qp(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function s4(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function a4(t,e,n){let r=vd(t,e);return r>=0?t[r|1]=n:(r=~r,s4(t,r,e,n)),r}function Ny(t,e){let n=vd(t,e);if(n>=0)return t[n|1]}function vd(t,e){return u4(t,e,1)}function u4(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=t[o<<n];if(e===a)return o<<n;a>e?i=o:r=o+1}return~(i<<n)}var ca={},fr=[],rs=new Y(""),fA=new Y("",-1),pA=new Y(""),Wp=class{get(e,n=sa){if(n===sa){let r=new Error(`NullInjectorError: No provider for ${Nn(e)}!`);throw r.name="NullInjectorError",r}return n}};function mA(t,e){let n=t[GV]||null;if(!n&&e===!0)throw new Error(`Type ${Nn(t)} does not have '\u0275mod' property.`);return n}function la(t){return t[HV]||null}function gA(t){return t[qV]||null}function _A(t){return t[WV]||null}function kn(t){return{\u0275providers:t}}function c4(...t){return{\u0275providers:Y0(!0,t),\u0275fromNgModule:!0}}function Y0(t,...e){let n=[],r=new Set,i,o=a=>{n.push(a)};return Q0(e,a=>{let c=a;t0(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&vA(i,o),n}function vA(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];J0(i,o=>{e(o,r)})}}function t0(t,e,n,r){if(t=Dn(t),!t)return!1;let i=null,o=iS(t),a=!o&&la(t);if(!o&&!a){let l=t.ngModule;if(o=iS(l),o)i=l;else return!1}else{if(a&&!a.standalone)return!1;i=t}let c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){let l=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let f of l)t0(f,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let f;try{Q0(o.imports,g=>{t0(g,e,n,r)&&(f||=[],f.push(g))})}finally{}f!==void 0&&vA(f,e)}if(!c){let f=ua(i)||(()=>new i);e({provide:i,useFactory:f,deps:fr},i),e({provide:pA,useValue:i,multi:!0},i),e({provide:rs,useValue:()=>ue(i),multi:!0},i)}let l=o.providers;if(l!=null&&!c){let f=t;J0(l,g=>{e(g,f)})}}else return!1;return i!==t&&t.providers!==void 0}function J0(t,e){for(let n of t)uA(n)&&(n=n.\u0275providers),Array.isArray(n)?J0(n,e):e(n)}var l4=st({provide:String,useValue:st});function yA(t){return t!==null&&typeof t=="object"&&l4 in t}function d4(t){return!!(t&&t.useExisting)}function h4(t){return!!(t&&t.useFactory)}function ec(t){return typeof t=="function"}function f4(t){return!!t.useClass}var _m=new Y(""),Op={},uS={},Oy;function X0(){return Oy===void 0&&(Oy=new Wp),Oy}var Yt=class{},sd=class extends Yt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,r0(e,a=>this.processProvider(a)),this.records.set(fA,qu(void 0,this)),i.has("environment")&&this.records.set(Yt,qu(void 0,this));let o=this.records.get(_m);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(pA,fr,Se.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?Yf:sa,r)}destroy(){rd(this),this._destroyed=!0;let e=Ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ae(e)}}onDestroy(e){return rd(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){rd(this);let n=Hi(this),r=xn(void 0),i;try{return e()}finally{Hi(n),xn(r)}}get(e,n=sa,r=Se.Default){if(rd(this),e.hasOwnProperty(sS))return e[sS](this);r=gm(r);let i,o=Hi(this),a=xn(void 0);try{if(!(r&Se.SkipSelf)){let l=this.records.get(e);if(l===void 0){let f=v4(e)&&pm(e);f&&this.injectableDefInScope(f)?l=qu(n0(e),Op):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let c=r&Se.Self?X0():this.parent;return n=r&Se.Optional&&n===sa?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Hp]=c[Hp]||[]).unshift(Nn(e)),o)throw c;return n4(c,e,"R3InjectorError",this.source)}else throw c}finally{xn(a),Hi(o)}}resolveInjectorInitializers(){let e=Ae(null),n=Hi(this),r=xn(void 0),i;try{let o=this.get(rs,fr,Se.Self);for(let a of o)a()}finally{Hi(n),xn(r),Ae(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Nn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Dn(e);let n=ec(e)?e:Dn(e&&e.provide),r=m4(e);if(!ec(e)&&e.multi===!0){let i=this.records.get(n);i||(i=qu(void 0,Op,!0),i.factory=()=>e0(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=Ae(null);try{return n.value===uS?cA(Nn(e)):n.value===Op&&(n.value=uS,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&_4(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ae(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Dn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function n0(t){let e=pm(t),n=e!==null?e.factory:ua(t);if(n!==null)return n;if(t instanceof Y)throw new J(204,!1);if(t instanceof Function)return p4(t);throw new J(204,!1)}function p4(t){if(t.length>0)throw new J(204,!1);let n=$V(t);return n!==null?()=>n.factory(t):()=>new t}function m4(t){if(yA(t))return qu(void 0,t.useValue);{let e=wA(t);return qu(e,Op)}}function wA(t,e,n){let r;if(ec(t)){let i=Dn(t);return ua(i)||n0(i)}else if(yA(t))r=()=>Dn(t.useValue);else if(h4(t))r=()=>t.useFactory(...e0(t.deps||[]));else if(d4(t))r=(i,o)=>ue(Dn(t.useExisting),o!==void 0&&o&Se.Optional?Se.Optional:void 0);else{let i=Dn(t&&(t.useClass||t.provide));if(g4(t))r=()=>new i(...e0(t.deps));else return ua(i)||n0(i)}return r}function rd(t){if(t.destroyed)throw new J(205,!1)}function qu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function g4(t){return!!t.deps}function _4(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function v4(t){return typeof t=="function"||typeof t=="object"&&t instanceof Y}function r0(t,e){for(let n of t)Array.isArray(n)?r0(n,e):n&&uA(n)?r0(n.\u0275providers,e):e(n)}function cn(t,e){let n;t instanceof sd?(rd(t),n=t):n=new zp(t);let r,i=Hi(n),o=xn(void 0);try{return e()}finally{Hi(i),xn(o)}}function EA(){return lA()!==void 0||Xl()!=null}function vm(t){if(!EA())throw new J(-203,!1)}function y4(t){return typeof t=="function"}var er=0,he=1,Ee=2,qt=3,Mr=4,Nr=5,Pr=6,Gp=7,Ht=8,si=9,Ki=10,ct=11,ad=12,cS=13,ac=14,tr=15,da=16,Wu=17,Zi=18,ym=19,IA=20,ns=21,ky=22,Kp=23,pr=24,Qu=25,Et=26,bA=1,Qi=6,Yi=7,Zp=8,tc=9,un=10;function Rr(t){return Array.isArray(t)&&typeof t[bA]=="object"}function hi(t){return Array.isArray(t)&&t[bA]===!0}function TA(t){return(t.flags&4)!==0}function va(t){return t.componentOffset>-1}function ew(t){return(t.flags&1)===1}function ai(t){return!!t.template}function ud(t){return(t[Ee]&512)!==0}function ya(t){return(t[Ee]&256)===256}var i0=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function CA(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var is=(()=>{let t=()=>DA;return t.ngInherit=!0,t})();function DA(t){return t.type.prototype.ngOnChanges&&(t.setInput=E4),w4}function w4(){let t=AA(this),e=t?.current;if(e){let n=t.previous;if(n===ca)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function E4(t,e,n,r,i){let o=this.declaredInputs[r],a=AA(t)||I4(t,{previous:ca,current:null}),c=a.current||(a.current={}),l=a.previous,f=l[o];c[o]=new i0(f&&f.currentValue,n,l===ca),CA(t,e,i,n)}var SA="__ngSimpleChanges__";function AA(t){return t[SA]||null}function I4(t,e){return t[SA]=e}var lS=null;var Je=function(t,e=null,n){lS?.(t,e,n)},b4="svg",T4="math";function xr(t){for(;Array.isArray(t);)t=t[er];return t}function MA(t,e){return xr(e[t])}function Or(t,e){return xr(e[t.index])}function yd(t,e){return t.data[e]}function RA(t,e){return t[e]}function ui(t,e){let n=e[t];return Rr(n)?n:n[er]}function C4(t){return(t[Ee]&4)===4}function tw(t){return(t[Ee]&128)===128}function D4(t){return hi(t[qt])}function nc(t,e){return e==null?null:t[e]}function PA(t){t[Wu]=0}function xA(t){t[Ee]&1024||(t[Ee]|=1024,tw(t)&&wd(t))}function S4(t,e){for(;t>0;)e=e[ac],t--;return e}function wm(t){return!!(t[Ee]&9216||t[pr]?.dirty)}function o0(t){t[Ki].changeDetectionScheduler?.notify(8),t[Ee]&64&&(t[Ee]|=1024),wm(t)&&wd(t)}function wd(t){t[Ki].changeDetectionScheduler?.notify(0);let e=ha(t);for(;e!==null&&!(e[Ee]&8192||(e[Ee]|=8192,!tw(e)));)e=ha(e)}function NA(t,e){if(ya(t))throw new J(911,!1);t[ns]===null&&(t[ns]=[]),t[ns].push(e)}function A4(t,e){if(t[ns]===null)return;let n=t[ns].indexOf(e);n!==-1&&t[ns].splice(n,1)}function ha(t){let e=t[qt];return hi(e)?e[qt]:e}function nw(t){return t[Gp]??=[]}function rw(t){return t.cleanup??=[]}function M4(t,e,n,r){let i=nw(e);i.push(n),t.firstCreatePass&&rw(t).push(r,i.length-1)}var Pe={lFrame:jA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var s0=!1;function R4(){return Pe.lFrame.elementDepthCount}function P4(){Pe.lFrame.elementDepthCount++}function x4(){Pe.lFrame.elementDepthCount--}function OA(){return Pe.bindingsEnabled}function Ed(){return Pe.skipHydrationRootTNode!==null}function N4(t){return Pe.skipHydrationRootTNode===t}function O4(t){Pe.skipHydrationRootTNode=t}function k4(){Pe.skipHydrationRootTNode=null}function Fe(){return Pe.lFrame.lView}function Jt(){return Pe.lFrame.tView}function fi(t){return Pe.lFrame.contextLView=t,t[Ht]}function pi(t){return Pe.lFrame.contextLView=null,t}function Ln(){let t=kA();for(;t!==null&&t.type===64;)t=t.parent;return t}function kA(){return Pe.lFrame.currentTNode}function L4(){let t=Pe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Id(t,e){let n=Pe.lFrame;n.currentTNode=t,n.isParent=e}function LA(){return Pe.lFrame.isParent}function F4(){Pe.lFrame.isParent=!1}function FA(){return s0}function dS(t){let e=s0;return s0=t,e}function iw(){let t=Pe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function V4(t){return Pe.lFrame.bindingIndex=t}function uc(){return Pe.lFrame.bindingIndex++}function B4(t){let e=Pe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function U4(){return Pe.lFrame.inI18n}function j4(t,e){let n=Pe.lFrame;n.bindingIndex=n.bindingRootIndex=t,a0(e)}function $4(){return Pe.lFrame.currentDirectiveIndex}function a0(t){Pe.lFrame.currentDirectiveIndex=t}function z4(t){let e=Pe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function VA(){return Pe.lFrame.currentQueryIndex}function ow(t){Pe.lFrame.currentQueryIndex=t}function H4(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[Nr]:null}function BA(t,e,n){if(n&Se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Se.Host);)if(i=H4(o),i===null||(o=o[ac],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Pe.lFrame=UA();return r.currentTNode=e,r.lView=t,!0}function sw(t){let e=UA(),n=t[he];Pe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function UA(){let t=Pe.lFrame,e=t===null?null:t.child;return e===null?jA(t):e}function jA(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function $A(){let t=Pe.lFrame;return Pe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var zA=$A;function aw(){let t=$A();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function q4(t){return(Pe.lFrame.contextLView=S4(t,Pe.lFrame.contextLView))[Ht]}function wa(){return Pe.lFrame.selectedIndex}function fa(t){Pe.lFrame.selectedIndex=t}function Em(){let t=Pe.lFrame;return yd(t.tView,t.selectedIndex)}function HA(){return Pe.lFrame.currentNamespace}var qA=!0;function uw(){return qA}function os(t){qA=t}function W4(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let a=DA(e);(n.preOrderHooks??=[]).push(t,a),(n.preOrderCheckHooks??=[]).push(t,a)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function WA(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:f,ngOnDestroy:g}=o;a&&(t.contentHooks??=[]).push(-n,a),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),l&&(t.viewHooks??=[]).push(-n,l),f&&((t.viewHooks??=[]).push(n,f),(t.viewCheckHooks??=[]).push(n,f)),g!=null&&(t.destroyHooks??=[]).push(n,g)}}function kp(t,e,n){GA(t,e,3,n)}function Lp(t,e,n,r){(t[Ee]&3)===n&&GA(t,e,n,r)}function Ly(t,e){let n=t[Ee];(n&3)===e&&(n&=16383,n+=1,t[Ee]=n)}function GA(t,e,n,r){let i=r!==void 0?t[Wu]&65535:0,o=r??-1,a=e.length-1,c=0;for(let l=i;l<a;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(t[Wu]+=65536),(c<o||o==-1)&&(G4(t,n,e,l),t[Wu]=(t[Wu]&4294901760)+l+2),l++}function hS(t,e){Je(4,t,e);let n=Ae(null);try{e.call(t)}finally{Ae(n),Je(5,t,e)}}function G4(t,e,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],c=t[a];i?t[Ee]>>14<t[Wu]>>16&&(t[Ee]&3)===e&&(t[Ee]+=16384,hS(c,o)):hS(c,o)}var Yu=-1,pa=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function K4(t){return(t.flags&8)!==0}function Z4(t){return(t.flags&16)!==0}function Q4(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],c=n[r++];t.setAttribute(e,a,c,o)}else{let o=i,a=n[++r];Y4(o)?t.setProperty(e,o,a):t.setAttribute(e,o,a),r++}}return r}function KA(t){return t===3||t===4||t===6}function Y4(t){return t.charCodeAt(0)===64}function cd(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?fS(t,n,i,null,e[++r]):fS(t,n,i,null,null))}}return t}function fS(t,e,n,r,i){let o=0,a=t.length;if(e===-1)a=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){a=-1;break}else if(c>e){a=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function ZA(t){return t!==Yu}function Qp(t){return t&32767}function J4(t){return t>>16}function Yp(t,e){let n=J4(t),r=e;for(;n>0;)r=r[ac],n--;return r}var u0=!0;function Jp(t){let e=u0;return u0=t,e}var X4=256,QA=X4-1,YA=5,e2=0,oi={};function t2(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(od)&&(r=n[od]),r==null&&(r=n[od]=e2++);let i=r&QA,o=1<<i;e.data[t+(i>>YA)]|=o}function Xp(t,e){let n=JA(t,e);if(n!==-1)return n;let r=e[he];r.firstCreatePass&&(t.injectorIndex=e.length,Fy(r.data,t),Fy(e,null),Fy(r.blueprint,null));let i=cw(t,e),o=t.injectorIndex;if(ZA(i)){let a=Qp(i),c=Yp(i,e),l=c[he].data;for(let f=0;f<8;f++)e[o+f]=c[a+f]|l[a+f]}return e[o+8]=i,o}function Fy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function JA(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function cw(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=rM(i),r===null)return Yu;if(n++,i=i[ac],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Yu}function c0(t,e,n){t2(t,e,n)}function n2(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(KA(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function XA(t,e,n){if(n&Se.Optional||t!==void 0)return t;Z0(e,"NodeInjector")}function eM(t,e,n,r){if(n&Se.Optional&&r===void 0&&(r=null),(n&(Se.Self|Se.Host))===0){let i=t[si],o=xn(void 0);try{return i?i.get(e,r,n&Se.Optional):dA(e,r,n&Se.Optional)}finally{xn(o)}}return XA(r,e,n)}function tM(t,e,n,r=Se.Default,i){if(t!==null){if(e[Ee]&2048&&!(r&Se.Self)){let a=s2(t,e,n,r,oi);if(a!==oi)return a}let o=nM(t,e,n,r,oi);if(o!==oi)return o}return eM(e,n,r,i)}function nM(t,e,n,r,i){let o=i2(n);if(typeof o=="function"){if(!BA(e,t,r))return r&Se.Host?XA(i,n,r):eM(e,n,r,i);try{let a;if(a=o(r),a==null&&!(r&Se.Optional))Z0(n);else return a}finally{zA()}}else if(typeof o=="number"){let a=null,c=JA(t,e),l=Yu,f=r&Se.Host?e[tr][Nr]:null;for((c===-1||r&Se.SkipSelf)&&(l=c===-1?cw(t,e):e[c+8],l===Yu||!mS(r,!1)?c=-1:(a=e[he],c=Qp(l),e=Yp(l,e)));c!==-1;){let g=e[he];if(pS(o,c,g.data)){let y=r2(c,e,n,a,r,f);if(y!==oi)return y}l=e[c+8],l!==Yu&&mS(r,e[he].data[c+8]===f)&&pS(o,c,e)?(a=g,c=Qp(l),e=Yp(l,e)):c=-1}}return i}function r2(t,e,n,r,i,o){let a=e[he],c=a.data[t+8],l=r==null?va(c)&&u0:r!=a&&(c.type&3)!==0,f=i&Se.Host&&o===c,g=Fp(c,a,n,l,f);return g!==null?ld(e,a,g,c,i):oi}function Fp(t,e,n,r,i){let o=t.providerIndexes,a=e.data,c=o&1048575,l=t.directiveStart,f=t.directiveEnd,g=o>>20,y=r?c:c+g,I=i?c+g:f;for(let E=y;E<I;E++){let M=a[E];if(E<l&&n===M||E>=l&&M.type===n)return E}if(i){let E=a[l];if(E&&ai(E)&&E.type===n)return l}return null}function ld(t,e,n,r,i){let o=t[n],a=e.data;if(o instanceof pa){let c=o;c.resolving&&cA(KV(a[n]));let l=Jp(c.canSeeViewProviders);c.resolving=!0;let f,g=c.injectImpl?xn(c.injectImpl):null,y=BA(t,r,Se.Default);try{o=t[n]=c.factory(void 0,i,a,t,r),e.firstCreatePass&&n>=r.directiveStart&&W4(n,a[n],e)}finally{g!==null&&xn(g),Jp(l),c.resolving=!1,zA()}}return o}function i2(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(od)?t[od]:void 0;return typeof e=="number"?e>=0?e&QA:o2:e}function pS(t,e,n){let r=1<<t;return!!(n[e+(t>>YA)]&r)}function mS(t,e){return!(t&Se.Self)&&!(t&Se.Host&&e)}var aa=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return tM(this._tNode,this._lView,e,gm(r),n)}};function o2(){return new aa(Ln(),Fe())}function ss(t){return _d(()=>{let e=t.prototype.constructor,n=e[$p]||l0(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[$p]||l0(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function l0(t){return iA(t)?()=>{let e=l0(Dn(t));return e&&e()}:ua(t)}function s2(t,e,n,r,i){let o=t,a=e;for(;o!==null&&a!==null&&a[Ee]&2048&&!ud(a);){let c=nM(o,a,n,r|Se.Self,oi);if(c!==oi)return c;let l=o.parent;if(!l){let f=a[IA];if(f){let g=f.get(n,oi,r);if(g!==oi)return g}l=rM(a),a=a[ac]}o=l}return i}function rM(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[Nr]:null}function lw(t){return n2(Ln(),t)}function gS(t,e=null,n=null,r){let i=iM(t,e,n,r);return i.resolveInjectorInitializers(),i}function iM(t,e=null,n=null,r,i=new Set){let o=[n||fr,c4(t)];return r=r||(typeof t=="object"?void 0:Nn(t)),new sd(o,e||X0(),r||null,i)}var Nt=class t{static THROW_IF_NOT_FOUND=sa;static NULL=new Wp;static create(e,n){if(Array.isArray(e))return gS({name:""},n,e,"");{let r=e.name??"";return gS({name:r},e.parent,e.providers,r)}}static \u0275prov=ie({token:t,providedIn:"any",factory:()=>ue(fA)});static __NG_ELEMENT_ID__=-1};var a2=new Y("");a2.__NG_ELEMENT_ID__=t=>{let e=Ln();if(e===null)throw new J(204,!1);if(e.type&2)return e.value;if(t&Se.Optional)return null;throw new J(204,!1)};var oM=!1,cc=(()=>{class t{static __NG_ELEMENT_ID__=u2;static __NG_ENV_ID__=n=>n}return t})(),d0=class extends cc{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return ya(n)?(e(),()=>{}):(NA(n,e),()=>A4(n,e))}};function u2(){return new d0(Fe())}var ma=class{},Im=new Y("",{providedIn:"root",factory:()=>!1});var sM=new Y(""),aM=new Y(""),mi=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new jt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ie({token:t,providedIn:"root",factory:()=>new t})}return t})(),bd=(()=>{class t{internalPendingTasks=z(mi);scheduler=z(ma);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return T(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=ie({token:t,providedIn:"root",factory:()=>new t})}return t})(),h0=class extends ot{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,EA()&&(this.destroyRef=z(cc,{optional:!0})??void 0,this.pendingTasks=z(mi,{optional:!0})??void 0)}emit(e){let n=Ae(null);try{super.next(e)}finally{Ae(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),a=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),a=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let c=super.subscribe({next:i,error:o,complete:a});return e instanceof bt&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},wt=h0;function em(...t){}function uM(t){let e,n;function r(){t=em;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function _S(t){return queueMicrotask(()=>t()),()=>{t=em}}var dw="isAngularZone",tm=dw+"_ID",c2=0,Qe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new wt(!1);onMicrotaskEmpty=new wt(!1);onStable=new wt(!1);onError=new wt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=oM}=e;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,h2(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dw)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new J(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,e,l2,em,em);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},l2={};function hw(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function d2(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){uM(()=>{t.callbackScheduled=!1,f0(t),t.isCheckStableRunning=!0,hw(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),f0(t)}function h2(t){let e=()=>{d2(t)},n=c2++;t._inner=t._inner.fork({name:"angular",properties:{[dw]:!0,[tm]:n,[tm+n]:!0},onInvokeTask:(r,i,o,a,c,l)=>{if(f2(l))return r.invokeTask(o,a,c,l);try{return vS(t),r.invokeTask(o,a,c,l)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),yS(t)}},onInvoke:(r,i,o,a,c,l,f)=>{try{return vS(t),r.invoke(o,a,c,l,f)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!p2(l)&&e(),yS(t)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,f0(t),hw(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function f0(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function vS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yS(t){t._nesting--,hw(t)}var p0=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new wt;onMicrotaskEmpty=new wt;onStable=new wt;onError=new wt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function f2(t){return cM(t,"__ignore_ng_zone__")}function p2(t){return cM(t,"__scheduler_tick__")}function cM(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ci=class{_console=console;handleError(e){this._console.error("ERROR",e)}},m2=new Y("",{providedIn:"root",factory:()=>{let t=z(Qe),e=z(ci);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function wS(t,e){return rA(t,e)}function g2(t){return rA(nA,t)}var lM=(wS.required=g2,wS);function _2(){return lc(Ln(),Fe())}function lc(t,e){return new mr(Or(t,e))}var mr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=_2}return t})();function v2(t){return t instanceof mr?t.nativeElement:t}function y2(t){return typeof t=="function"&&t[hr]!==void 0}function Ea(t,e){let n=ty(t,e?.equal),r=n[hr];return n.set=i=>Jl(r,i),n.update=i=>ny(r,i),n.asReadonly=w2.bind(n),n}function w2(){let t=this[hr];if(t.readonlyFn===void 0){let e=()=>this();e[hr]=t,t.readonlyFn=e}return t.readonlyFn}function dM(t){return y2(t)&&typeof t.set=="function"}function E2(){return this._results[Symbol.iterator]()}var m0=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ot}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=o4(e);(this._changesDetected=!i4(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=E2},I2="ngSkipHydration",b2="ngskiphydration";function hM(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===b2)return!0}return!1}function fM(t){return t.hasAttribute(I2)}function nm(t){return(t.flags&128)===128}function T2(t){if(nm(t))return!0;let e=t.parent;for(;e;){if(nm(t)||hM(e))return!0;e=e.parent}return!1}var pM=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pM||{}),mM=new Map,C2=0;function D2(){return C2++}function S2(t){mM.set(t[ym],t)}function g0(t){mM.delete(t[ym])}var ES="__ngContext__";function Td(t,e){Rr(e)?(t[ES]=e[ym],S2(e)):t[ES]=e}function gM(t){return vM(t[ad])}function _M(t){return vM(t[Mr])}function vM(t){for(;t!==null&&!hi(t);)t=t[Mr];return t}var _0;function yM(t){_0=t}function bm(){if(_0!==void 0)return _0;if(typeof document<"u")return document;throw new J(210,!1)}var Gi=new Y("",{providedIn:"root",factory:()=>A2}),A2="ng",fw=new Y(""),Ia=new Y("",{providedIn:"platform",factory:()=>"unknown"});var pw=new Y("",{providedIn:"root",factory:()=>bm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function M2(){let t=new dc;return t.store=R2(bm(),z(Gi)),t}var dc=(()=>{class t{static \u0275prov=ie({token:t,providedIn:"root",factory:M2});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function R2(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var wM="h",EM="b",P2="f",x2="n",N2="e",O2="t",mw="c",IM="x",rm="r",k2="i",L2="n",bM="d";var F2="di",V2="s",B2="p";var Rp=new Y(""),TM=!1,CM=new Y("",{providedIn:"root",factory:()=>TM});var DM=new Y(""),U2=!1,j2=new Y(""),IS=new Y("",{providedIn:"root",factory:()=>new Map}),gw=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(gw||{}),hc=new Y(""),bS=new Set;function gi(t){bS.has(t)||(bS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var SM=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=$2}return t})();function $2(){return new SM(Fe(),Ln())}var Gu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Gu||{}),AM=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ie({token:t,providedIn:"root",factory:()=>new t})}return t})(),z2=[Gu.EarlyRead,Gu.Write,Gu.MixedReadWrite,Gu.Read],H2=(()=>{class t{ngZone=z(Qe);scheduler=z(ma);errorHandler=z(ci,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){z(hc,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Je(16),this.executing=!0;for(let r of z2)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Je(17)}register(n){let{view:r}=n;r!==void 0?((r[Qu]??=[]).push(n),wd(r),r[Ee]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(gw.AFTER_NEXT_RENDER,n):n()}static \u0275prov=ie({token:t,providedIn:"root",factory:()=>new t})}return t})(),v0=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,a=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Qu];e&&(this.view[Qu]=e.filter(n=>n!==this))}};function _w(t,e){!e?.injector&&vm(_w);let n=e?.injector??z(Nt);return gi("NgAfterNextRender"),W2(t,n,e,!0)}function q2(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function W2(t,e,n,r){let i=e.get(AM);i.impl??=e.get(H2);let o=e.get(hc,null,{optional:!0}),a=n?.phase??Gu.MixedReadWrite,c=n?.manualCleanup!==!0?e.get(cc):null,l=e.get(SM,null,{optional:!0}),f=new v0(i.impl,q2(t,a),l?.view,r,c,o?.snapshot(null));return i.impl.register(f),f}var Xn=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(Xn||{}),TS=0,G2=1,zt=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(zt||{});var K2=0,Tm=1;var Z2=4,Q2=5;var Y2=7,Ju=8,J2=9,MM=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(MM||{});function Vp(t,e){let n=eB(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function X2(t){Vp(1,t),Vp(0,t),Vp(2,t)}function eB(t){let e=Z2;return t===1?e=Q2:t===2&&(e=J2),e}function RM(t){return t+1}function Cd(t,e){let n=t[he],r=RM(e.index);return t[r]}function Cm(t,e){let n=RM(e.index);return t.data[n]}function tB(t,e,n){let r=e[he],i=Cm(r,n);switch(t){case zt.Complete:return i.primaryTmplIndex;case zt.Loading:return i.loadingTmplIndex;case zt.Error:return i.errorTmplIndex;case zt.Placeholder:return i.placeholderTmplIndex;default:return null}}function CS(t,e){return e===zt.Placeholder?t.placeholderBlockConfig?.[TS]??null:e===zt.Loading?t.loadingBlockConfig?.[TS]??null:null}function nB(t){return t.loadingBlockConfig?.[G2]??null}function DS(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function rB(t,e){let n=e.primaryTmplIndex+Et;return yd(t,n)}var Dm="ngb";var iB=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},oB=(t,e)=>{let n=t,r=n.getAttribute(Dm)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var sB=t=>{t.removeAttribute(Sy.JSACTION),t.removeAttribute(Dm),t.__jsaction_fns=void 0},aB=new Y("",{providedIn:"root",factory:()=>({})});function PM(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var vw=new Y("");var uB="__nghData__",xM=uB,cB="__nghDeferData__",lB=cB,Vy="ngh",dB="nghm",NM=()=>null;function hB(t,e,n=!1){let r=t.getAttribute(Vy);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let a=o?`|${o}`:"",c=n?i:a,l={};if(r!==""){let g=e.get(dc,null,{optional:!0});g!==null&&(l=g.get(xM,[])[Number(r)])}let f={data:l,firstChild:t.firstChild??null};return n&&(f.firstChild=t,Sm(f,0,t.nextSibling)),c?t.setAttribute(Vy,c):t.removeAttribute(Vy),f}function fB(){NM=hB}function OM(t,e,n=!1){return NM(t,e,n)}function pB(t){let e=t._lView;return e[he].type===2?null:(ud(e)&&(e=e[Et]),e)}function mB(t){return t.textContent?.replace(/\s/gm,"")}function gB(t){let e=bm(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let a=mB(o);return a==="ngetn"||a==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Sm(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function y0(t,e){return t.segmentHeads?.[e]??null}function _B(t){return t.get(j2,!1,{optional:!0})}function vB(t,e){let n=t.data,r=n[N2]?.[e]??null;return r===null&&n[mw]?.[e]&&(r=yw(t,e)),r}function kM(t,e){return t.data[mw]?.[e]??null}function yw(t,e){let n=kM(t,e)??[],r=0;for(let i of n)r+=i[rm]*(i[IM]??1);return r}function yB(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[bM];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Dd(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[bM];t.disconnectedNodes=n?new Set(n):null}return!!yB(t)?.has(e)}function wB(t,e){let n=e.get(vw),i=e.get(dc).get(lB,{}),o=!1,a=t,c=null,l=[];for(;!o&&a;){o=n.has(a);let f=n.hydrating.get(a);if(c===null&&f!=null){c=f.promise;break}l.unshift(a),a=i[a][B2]}return{parentBlockPromise:c,hydrationQueue:l}}function By(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===dB}function SS(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function EB(t){for(let r of t.body.childNodes)if(By(r))return;let e=SS(t.body.previousSibling);if(By(e))return;let n=SS(t.head.lastChild);if(!By(n))throw new J(-507,!1)}function LM(t,e){let n=t.contentQueries;if(n!==null){let r=Ae(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let c=t.data[a];ow(o),c.contentQueries(2,e[a],a)}}}finally{Ae(r)}}}function w0(t,e,n){ow(0);let r=Ae(null);try{e(t,n)}finally{Ae(r)}}function FM(t,e,n){if(TA(e)){let r=Ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let a=i;a<o;a++){let c=t.data[a];if(c.contentQueries){let l=n[a];c.contentQueries(1,l,a)}}}finally{Ae(r)}}}var li=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(li||{});var Pp;function IB(){if(Pp===void 0&&(Pp=null,ts.trustedTypes))try{Pp=ts.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pp}function AS(t){return IB()?.createScriptURL(t)||t}var im=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tA})`}};function Am(t){return t instanceof im?t.changingThisBreaksApplicationSecurity:t}function ww(t,e){let n=bB(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${tA})`)}return n===e}function bB(t){return t instanceof im&&t.getTypeName()||null}var TB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function VM(t){return t=String(t),t.match(TB)?t:"unsafe:"+t}var Mm=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Mm||{});function CB(t){let e=UM();return e?e.sanitize(Mm.URL,t)||"":ww(t,"URL")?Am(t):VM(mm(t))}function DB(t){let e=UM();if(e)return AS(e.sanitize(Mm.RESOURCE_URL,t)||"");if(ww(t,"ResourceURL"))return AS(Am(t));throw new J(904,!1)}function SB(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?DB:CB}function BM(t,e,n){return SB(e,n)(t)}function UM(){let t=Fe();return t&&t[Ki].sanitizer}var AB=/^>|^->|<!--|-->|--!>|<!-$/g,MB=/(<|>)/g,RB="\u200B$1\u200B";function PB(t){return t.replace(AB,e=>e.replace(MB,RB))}function xB(t){return t.ownerDocument.body}function jM(t){return t instanceof Function?t():t}function NB(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var $M="ng-template";function OB(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&NB(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ew(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ew(t){return t.type===4&&t.value!==$M}function kB(t,e,n){let r=t.type===4&&!n?$M:t.value;return e===r}function LB(t,e,n){let r=4,i=t.attrs,o=i!==null?BB(i):0,a=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!a&&!Ar(r)&&!Ar(l))return!1;if(a&&Ar(l))continue;a=!1,r=l|r&1;continue}if(!a)if(r&4){if(r=2|r&1,l!==""&&!kB(t,l,n)||l===""&&e.length===1){if(Ar(r))return!1;a=!0}}else if(r&8){if(i===null||!OB(t,i,l,n)){if(Ar(r))return!1;a=!0}}else{let f=e[++c],g=FB(l,i,Ew(t),n);if(g===-1){if(Ar(r))return!1;a=!0;continue}if(f!==""){let y;if(g>o?y="":y=i[g+1].toLowerCase(),r&2&&f!==y){if(Ar(r))return!1;a=!0}}}}return Ar(r)||a}function Ar(t){return(t&1)===0}function FB(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let a=e[i];if(a===t)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return UB(e,t)}function VB(t,e,n=!1){for(let r=0;r<e.length;r++)if(LB(t,e[r],n))return!0;return!1}function BB(t){for(let e=0;e<t.length;e++){let n=t[e];if(KA(n))return e}return t.length}function UB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function MS(t,e){return t?":not("+e.trim()+")":e}function jB(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let a=t[n];if(typeof a=="string")if(r&2){let c=t[++n];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Ar(a)&&(e+=MS(o,i),i=""),r=a,o=o||!Ar(r);n++}return i!==""&&(e+=MS(o,i)),e}function $B(t){return t.map(jB).join(",")}function zB(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ar(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var to={};function zM(t,e){return t.createText(e)}function HB(t,e,n){t.setValue(e,n)}function HM(t,e){return t.createComment(PB(e))}function Iw(t,e,n){return t.createElement(e,n)}function om(t,e,n,r,i){t.insertBefore(e,n,r,i)}function qM(t,e,n){t.appendChild(e,n)}function RS(t,e,n,r,i){r!==null?om(t,e,n,r,i):qM(t,e,n)}function bw(t,e,n){t.removeChild(null,e,n)}function WM(t){t.textContent=""}function qB(t,e,n){t.setAttribute(e,"style",n)}function WB(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function GM(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Q4(t,e,r),i!==null&&WB(t,e,i),o!==null&&qB(t,e,o)}function Tw(t,e,n,r,i,o,a,c,l,f,g){let y=Et+r,I=y+i,E=GB(y,I),M=typeof f=="function"?f():f;return E[he]={type:t,blueprint:E,template:n,queries:null,viewQuery:c,declTNode:e,data:E.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:l,consts:M,incompleteFirstPass:!1,ssrId:g}}function GB(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:to);return n}function KB(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Tw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Cw(t,e,n,r,i,o,a,c,l,f,g){let y=e.blueprint.slice();return y[er]=i,y[Ee]=r|4|128|8|64|1024,(f!==null||t&&t[Ee]&2048)&&(y[Ee]|=2048),PA(y),y[qt]=y[ac]=t,y[Ht]=n,y[Ki]=a||t&&t[Ki],y[ct]=c||t&&t[ct],y[si]=l||t&&t[si]||null,y[Nr]=o,y[ym]=D2(),y[Pr]=g,y[IA]=f,y[tr]=e.type==2?t[tr]:y,y}function ZB(t,e,n){let r=Or(e,t),i=KB(n),o=t[Ki].rendererFactory,a=Dw(t,Cw(t,i,null,KM(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=a}function KM(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function ZM(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Dw(t,e){return t[ad]?t[cS][Mr]=e:t[ad]=e,t[cS]=e,e}function ce(t=1){QM(Jt(),Fe(),wa()+t,!1)}function QM(t,e,n,r){if(!r)if((e[Ee]&3)===3){let o=t.preOrderCheckHooks;o!==null&&kp(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Lp(e,o,0,n)}fa(n)}var Rm=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Rm||{});function E0(t,e,n,r){let i=Ae(null);try{let[o,a,c]=t.inputs[n],l=null;(a&Rm.SignalBased)!==0&&(l=e[o][hr]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,o):CA(e,l,o,r)}finally{Ae(i)}}function YM(t,e,n,r,i){let o=wa(),a=r&2;try{fa(-1),a&&e.length>Et&&QM(t,e,Et,!1),Je(a?2:0,i),n(r,i)}finally{fa(o),Je(a?3:1,i)}}function Sw(t,e,n){nU(t,e,n),(n.flags&64)===64&&rU(t,e,n)}function JM(t,e,n=Or){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],c=a===-1?n(e,t):t[a];t[i++]=c}}}function QB(t,e,n,r){let o=r.get(CM,TM)||n===li.ShadowDom,a=t.selectRootElement(e,o);return YB(a),a}function YB(t){XM(t)}var XM=()=>null;function JB(t){fM(t)?WM(t):gB(t)}function XB(){XM=JB}function eU(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Aw(t,e,n,r,i,o,a,c){if(!c&&Rw(e,t,n,r,i)){va(e)&&tU(n,e.index);return}if(e.type&3){let l=Or(e,n);r=eU(r),i=a!=null?a(i,e.value||"",r):i,o.setProperty(l,r,i)}else e.type&12}function tU(t,e){let n=ui(e,t);n[Ee]&16||(n[Ee]|=64)}function nU(t,e,n){let r=n.directiveStart,i=n.directiveEnd;va(n)&&ZB(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Xp(n,e);let o=n.initialInputs;for(let a=r;a<i;a++){let c=t.data[a],l=ld(e,t,a,n);if(Td(l,e),o!==null&&aU(e,a-r,l,c,n,o),ai(c)){let f=ui(n.index,e);f[Ht]=ld(e,t,a,n)}}}function rU(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=$4();try{fa(o);for(let c=r;c<i;c++){let l=t.data[c],f=e[c];a0(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&iU(l,f)}}finally{fa(-1),a0(a)}}function iU(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function eR(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];VB(e,o.selectors,!1)&&(r??=[],ai(o)?r.unshift(o):r.push(o))}return r}function oU(t,e,n,r,i,o){let a=Or(t,e);sU(e[ct],a,o,t.value,n,r,i)}function sU(t,e,n,r,i,o,a){if(o==null)t.removeAttribute(e,i,n);else{let c=a==null?mm(o):a(o,r||"",i);t.setAttribute(e,i,c,n)}}function aU(t,e,n,r,i,o){let a=o[e];if(a!==null)for(let c=0;c<a.length;c+=2){let l=a[c],f=a[c+1];E0(r,n,l,f)}}function Mw(t,e){let n=t[si],r=n?n.get(ci,null):null;r&&r.handleError(e)}function Rw(t,e,n,r,i){let o=t.inputs?.[r],a=t.hostDirectiveInputs?.[r],c=!1;if(a)for(let l=0;l<a.length;l+=2){let f=a[l],g=a[l+1],y=e.data[f];E0(y,n[f],g,i),c=!0}if(o)for(let l of o){let f=n[l],g=e.data[l];E0(g,f,r,i),c=!0}return c}function uU(t,e){let n=ui(e,t),r=n[he];cU(r,n);let i=n[er];i!==null&&n[Pr]===null&&(n[Pr]=OM(i,n[si])),Je(18),Pw(r,n,n[Ht]),Je(19,n[Ht])}function cU(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Pw(t,e,n){sw(e);try{let r=t.viewQuery;r!==null&&w0(1,r,n);let i=t.template;i!==null&&YM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Zi]?.finishViewCreation(t),t.staticContentQueries&&LM(t,e),t.staticViewQueries&&w0(2,t.viewQuery,n);let o=t.components;o!==null&&lU(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ee]&=-5,aw()}}function lU(t,e){for(let n=0;n<e.length;n++)uU(t,e[n])}function Sd(t,e,n,r){let i=Ae(null);try{let o=e.tView,c=t[Ee]&4096?4096:16,l=Cw(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),f=t[e.index];l[da]=f;let g=t[Zi];return g!==null&&(l[Zi]=g.createEmbeddedView(o)),Pw(o,l,n),l}finally{Ae(i)}}function rc(t,e){return!e||e.firstChild===null||nm(t)}var dU;function xw(t,e){return dU(t,e)}var Ji=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ji||{});function fc(t){return(t.flags&32)===32}function Ku(t,e,n,r,i){if(r!=null){let o,a=!1;hi(r)?o=r:Rr(r)&&(a=!0,r=r[er]);let c=xr(r);t===0&&n!==null?i==null?qM(e,n,c):om(e,n,c,i||null,!0):t===1&&n!==null?om(e,n,c,i||null,!0):t===2?bw(e,c,a):t===3&&e.destroyNode(c),o!=null&&bU(e,t,o,n,i)}}function hU(t,e){tR(t,e),e[er]=null,e[Nr]=null}function fU(t,e,n,r,i,o){r[er]=i,r[Nr]=e,xm(t,r,n,1,i,o)}function tR(t,e){e[Ki].changeDetectionScheduler?.notify(9),xm(t,e,e[ct],2,null,null)}function pU(t){let e=t[ad];if(!e)return Uy(t[he],t);for(;e;){let n=null;if(Rr(e))n=e[ad];else{let r=e[un];r&&(n=r)}if(!n){for(;e&&!e[Mr]&&e!==t;)Rr(e)&&Uy(e[he],e),e=e[qt];e===null&&(e=t),Rr(e)&&Uy(e[he],e),n=e&&e[Mr]}e=n}}function Nw(t,e){let n=t[tc],r=n.indexOf(e);n.splice(r,1)}function Pm(t,e){if(ya(e))return;let n=e[ct];n.destroyNode&&xm(t,e,n,3,null,null),pU(e)}function Uy(t,e){if(ya(e))return;let n=Ae(null);try{e[Ee]&=-129,e[Ee]|=256,e[pr]&&Jv(e[pr]),gU(t,e),mU(t,e),e[he].type===1&&e[ct].destroy();let r=e[da];if(r!==null&&hi(e[qt])){r!==e[qt]&&Nw(r,e);let i=e[Zi];i!==null&&i.detachView(t)}g0(e)}finally{Ae(n)}}function mU(t,e){let n=t.cleanup,r=e[Gp];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let c=n[a+3];c>=0?r[c]():r[-c].unsubscribe(),a+=2}else{let c=r[n[a+1]];n[a].call(c)}r!==null&&(e[Gp]=null);let i=e[ns];if(i!==null){e[ns]=null;for(let a=0;a<i.length;a++){let c=i[a];c()}}let o=e[Kp];if(o!==null){e[Kp]=null;for(let a of o)a.destroy()}}function gU(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof pa)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let c=i[o[a]],l=o[a+1];Je(4,c,l);try{l.call(c)}finally{Je(5,c,l)}}else{Je(4,i,o);try{o.call(i)}finally{Je(5,i,o)}}}}}function _U(t,e,n){return vU(t,e.parent,n)}function vU(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[er];if(va(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===li.None||i===li.Emulated)return null}return Or(r,n)}function yU(t,e,n){return EU(t,e,n)}function wU(t,e,n){return t.type&40?Or(t,n):null}var EU=wU,PS;function Ow(t,e,n,r){let i=_U(t,r,e),o=e[ct],a=r.parent||e[Nr],c=yU(a,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)RS(o,i,n[l],c,!1);else RS(o,i,n,c,!1);PS!==void 0&&PS(o,r,e,n,i)}function id(t,e){if(e!==null){let n=e.type;if(n&3)return Or(e,t);if(n&4)return I0(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return id(t,r);{let i=t[e.index];return hi(i)?I0(-1,i):xr(i)}}else{if(n&128)return id(t,e.next);if(n&32)return xw(e,t)()||xr(t[e.index]);{let r=nR(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ha(t[tr]);return id(i,r)}else return id(t,e.next)}}}return null}function nR(t,e){if(e!==null){let r=t[tr][Nr],i=e.projection;return r.projection[i]}return null}function I0(t,e){let n=un+t+1;if(n<e.length){let r=e[n],i=r[he].firstChild;if(i!==null)return id(r,i)}return e[Yi]}function kw(t,e,n,r,i,o,a){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(a&&e===0&&(c&&Td(xr(c),r),n.flags|=2),!fc(n))if(l&8)kw(t,e,n.child,r,i,o,!1),Ku(e,t,i,c,o);else if(l&32){let f=xw(n,r),g;for(;g=f();)Ku(e,t,i,g,o);Ku(e,t,i,c,o)}else l&16?IU(t,e,r,n,i,o):Ku(e,t,i,c,o);n=a?n.projectionNext:n.next}}function xm(t,e,n,r,i,o){kw(n,r,t.firstChild,e,i,o,!1)}function IU(t,e,n,r,i,o){let a=n[tr],l=a[Nr].projection[r.projection];if(Array.isArray(l))for(let f=0;f<l.length;f++){let g=l[f];Ku(e,t,i,g,o)}else{let f=l,g=a[qt];nm(r)&&(f.flags|=128),kw(t,e,f,g,i,o,!0)}}function bU(t,e,n,r,i){let o=n[Yi],a=xr(n);o!==a&&Ku(e,t,r,o,i);for(let c=un;c<n.length;c++){let l=n[c];xm(l[he],l,t,e,r,o)}}function TU(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ji.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ji.Important),t.setStyle(n,r,i,o))}}function sm(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(xr(o)),hi(o)&&CU(o,r);let a=n.type;if(a&8)sm(t,e,n.child,r);else if(a&32){let c=xw(n,e),l;for(;l=c();)r.push(l)}else if(a&16){let c=nR(e,n);if(Array.isArray(c))r.push(...c);else{let l=ha(e[tr]);sm(l[he],l,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function CU(t,e){for(let n=un;n<t.length;n++){let r=t[n],i=r[he].firstChild;i!==null&&sm(r[he],r,i,e)}t[Yi]!==t[er]&&e.push(t[Yi])}function rR(t){if(t[Qu]!==null){for(let e of t[Qu])e.impl.addSequence(e);t[Qu].length=0}}var iR=[];function DU(t){return t[pr]??SU(t)}function SU(t){let e=iR.pop()??Object.create(MU);return e.lView=t,e}function AU(t){t.lView[pr]!==t&&(t.lView=null,iR.push(t))}var MU=Oe(Q({},Ql),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{wd(t.lView)},consumerOnSignalRead(){this.lView[pr]=this}});function RU(t){let e=t[pr]??Object.create(PU);return e.lView=t,e}var PU=Oe(Q({},Ql),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ha(t.lView);for(;e&&!oR(e[he]);)e=ha(e);e&&xA(e)},consumerOnSignalRead(){this.lView[pr]=this}});function oR(t){return t.type!==2}function sR(t){if(t[Kp]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Kp])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Ee]&8192)}}var xU=100;function aR(t,e=!0,n=0){let i=t[Ki].rendererFactory,o=!1;o||i.begin?.();try{NU(t,n)}catch(a){throw e&&Mw(t,a),a}finally{o||i.end?.()}}function NU(t,e){let n=FA();try{dS(!0),b0(t,e);let r=0;for(;wm(t);){if(r===xU)throw new J(103,!1);r++,b0(t,1)}}finally{dS(n)}}function OU(t,e,n,r){if(ya(e))return;let i=e[Ee],o=!1,a=!1;sw(e);let c=!0,l=null,f=null;o||(oR(t)?(f=DU(e),l=Gf(f)):Wv()===null?(c=!1,f=RU(e),l=Gf(f)):e[pr]&&(Jv(e[pr]),e[pr]=null));try{PA(e),V4(t.bindingStartIndex),n!==null&&YM(t,e,n,2,r);let g=(i&3)===3;if(!o)if(g){let E=t.preOrderCheckHooks;E!==null&&kp(e,E,null)}else{let E=t.preOrderHooks;E!==null&&Lp(e,E,0,null),Ly(e,0)}if(a||kU(e),sR(e),uR(e,0),t.contentQueries!==null&&LM(t,e),!o)if(g){let E=t.contentCheckHooks;E!==null&&kp(e,E)}else{let E=t.contentHooks;E!==null&&Lp(e,E,1),Ly(e,1)}FU(t,e);let y=t.components;y!==null&&lR(e,y,0);let I=t.viewQuery;if(I!==null&&w0(2,I,r),!o)if(g){let E=t.viewCheckHooks;E!==null&&kp(e,E)}else{let E=t.viewHooks;E!==null&&Lp(e,E,2),Ly(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ky]){for(let E of e[ky])E();e[ky]=null}o||(rR(e),e[Ee]&=-73)}catch(g){throw o||wd(e),g}finally{f!==null&&(Qv(f,l),c&&AU(f)),aw()}}function uR(t,e){for(let n=gM(t);n!==null;n=_M(n))for(let r=un;r<n.length;r++){let i=n[r];cR(i,e)}}function kU(t){for(let e=gM(t);e!==null;e=_M(e)){if(!(e[Ee]&2))continue;let n=e[tc];for(let r=0;r<n.length;r++){let i=n[r];xA(i)}}}function LU(t,e,n){Je(18);let r=ui(e,t);cR(r,n),Je(19,r[Ht])}function cR(t,e){tw(t)&&b0(t,e)}function b0(t,e){let r=t[he],i=t[Ee],o=t[pr],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(o?.dirty&&Yv(o)),a||=!1,o&&(o.dirty=!1),t[Ee]&=-9217,a)OU(r,t,r.template,t[Ht]);else if(i&8192){sR(t),uR(t,1);let c=r.components;c!==null&&lR(t,c,1),rR(t)}}function lR(t,e,n){for(let r=0;r<e.length;r++)LU(t,e[r],n)}function FU(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)fa(~i);else{let o=i,a=n[++r],c=n[++r];j4(a,o);let l=e[o];Je(24,l),c(2,l),Je(25,l)}}}finally{fa(-1)}}function Nm(t,e){let n=FA()?64:1088;for(t[Ki].changeDetectionScheduler?.notify(e);t;){t[Ee]|=n;let r=ha(t);if(ud(t)&&!r)return t;t=r}return null}function dR(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function hR(t,e){let n=un+e;if(n<t.length)return t[n]}function Ad(t,e,n,r=!0){let i=e[he];if(VU(i,e,t,n),r){let a=I0(n,t),c=e[ct],l=c.parentNode(t[Yi]);l!==null&&fU(i,t[Nr],c,e,l,a)}let o=e[Pr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Lw(t,e){let n=dd(t,e);return n!==void 0&&Pm(n[he],n),n}function dd(t,e){if(t.length<=un)return;let n=un+e,r=t[n];if(r){let i=r[da];i!==null&&i!==t&&Nw(i,r),e>0&&(t[n-1][Mr]=r[Mr]);let o=qp(t,un+e);hU(r[he],r);let a=o[Zi];a!==null&&a.detachView(o[he]),r[qt]=null,r[Mr]=null,r[Ee]&=-129}return r}function VU(t,e,n,r){let i=un+r,o=n.length;r>0&&(n[i-1][Mr]=e),r<o-un?(e[Mr]=n[i],hA(n,un+r,e)):(n.push(e),e[Mr]=null),e[qt]=n;let a=e[da];a!==null&&n!==a&&fR(a,e);let c=e[Zi];c!==null&&c.insertView(t),o0(e),e[Ee]|=128}function fR(t,e){let n=t[tc],r=e[qt];if(Rr(r))t[Ee]|=2;else{let i=r[qt][tr];e[tr]!==i&&(t[Ee]|=2)}n===null?t[tc]=[e]:n.push(e)}var hd=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[he];return sm(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ht]}set context(e){this._lView[Ht]=e}get destroyed(){return ya(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qt];if(hi(e)){let n=e[Zp],r=n?n.indexOf(this):-1;r>-1&&(dd(e,r),qp(n,r))}this._attachedToViewContainer=!1}Pm(this._lView[he],this._lView)}onDestroy(e){NA(this._lView,e)}markForCheck(){Nm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ee]&=-129}reattach(){o0(this._lView),this._lView[Ee]|=128}detectChanges(){this._lView[Ee]|=1024,aR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ud(this._lView),n=this._lView[da];n!==null&&!e&&Nw(n,this._lView),tR(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e;let n=ud(this._lView),r=this._lView[da];r!==null&&!n&&fR(r,this._lView),o0(this._lView)}};var fd=(()=>{class t{static __NG_ELEMENT_ID__=jU}return t})(),BU=fd,UU=class extends BU{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Sd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new hd(i)}};function jU(){return Fw(Ln(),Fe())}function Fw(t,e){return t.type&4?new UU(e,t,lc(t,e)):null}function Vw(t,e,n,r,i){let o=t.data[e];if(o===null)o=$U(t,e,n,r,i),U4()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=L4();o.injectorIndex=a===null?-1:a.injectorIndex}return Id(o,!0),o}function $U(t,e,n,r,i){let o=kA(),a=LA(),c=a?o:o&&o.parent,l=t.data[e]=HU(t,c,n,e,r,i);return zU(t,l,o,a),l}function zU(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function HU(t,e,n,r,i,o){let a=e?e.injectorIndex:-1,c=0;return Ed()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var qU=new RegExp(`^(\\d+)*(${EM}|${wM})*(.*)`);function WU(t){let e=t.match(qU),[n,r,i,o]=e,a=r?parseInt(r,10):i,c=[];for(let[l,f,g]of o.matchAll(/(f|n)(\d*)/g)){let y=parseInt(g,10)||1;c.push(f,y)}return[a,...c]}function GU(t){return!t.prev&&t.parent?.type===8}function jy(t){return t.index-Et}function KU(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Om(t,e,n,r){let i=jy(r),o=KU(t,i);if(o===void 0){let a=t.data[L2];if(a?.[i])o=QU(a[i],n);else if(e.firstChild===r)o=t.firstChild;else{let c=r.prev===null,l=r.prev??r.parent;if(GU(r)){let f=jy(r.parent);o=y0(t,f)}else{let f=Or(l,n);if(c)o=f.firstChild;else{let g=jy(l),y=y0(t,g);if(l.type===2&&y){let E=yw(t,g)+1;o=km(E,y)}else o=f.nextSibling}}}}return o}function km(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function ZU(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let a=0;a<o;a++)switch(i){case P2:n=n.firstChild;break;case x2:n=n.nextSibling;break}}return n}function QU(t,e){let[n,...r]=WU(t),i;if(n===wM)i=e[tr][er];else if(n===EM)i=xB(e[tr][er]);else{let o=Number(n);i=xr(e[o+Et])}return ZU(i,r)}var YU=!1;function JU(t){YU=t}function XU(t){let e=t[Pr];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[ct];for(let o of r.values())ej(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function ej(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Et);i&&bw(t,i,!1)}}function pR(t){let e=t[Qi]??[],r=t[qt][ct],i=[];for(let o of e)o.data[F2]!==void 0?i.push(o):mR(o,r);t[Qi]=i}function tj(t){let{lContainer:e}=t,n=e[Qi];if(n===null)return;let i=e[qt][ct];for(let o of n)mR(o,i)}function mR(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[rm];for(;n<i;){let o=r.nextSibling;bw(e,r,!1),r=o,n++}}}function Lm(t){pR(t);let e=t[er];Rr(e)&&am(e);for(let n=un;n<t.length;n++)am(t[n])}function am(t){XU(t);let e=t[he];for(let n=Et;n<e.bindingStartIndex;n++)if(hi(t[n])){let r=t[n];Lm(r)}else Rr(t[n])&&am(t[n])}function gR(t){let e=t._views;for(let n of e){let r=pB(n);r!==null&&r[er]!==null&&(Rr(r)?am(r):Lm(r))}}function nj(t,e,n,r){t!==null&&(n.cleanup(e),Lm(t.lContainer),gR(r))}function rj(t,e){let n=[];for(let r of e)for(let i=0;i<(r[IM]??1);i++){let o={data:r,firstChild:null};r[rm]>0&&(o.firstChild=t,t=km(r[rm],t)),n.push(o)}return[t,n]}var _R=()=>null;function ij(t,e){let n=t[Qi];return!e||n===null||n.length===0?null:n[0].data[k2]===e?n.shift():(pR(t),null)}function oj(){_R=ij}function pd(t,e){return _R(t,e)}var sj=class{},vR=class{},T0=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Nn(e)}.`)}},Fm=class{static NULL=new T0},ic=class{},as=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>aj()}return t})();function aj(){let t=Fe(),e=Ln(),n=ui(e.index,t);return(Rr(n)?n:t)[ct]}var uj=(()=>{class t{static \u0275prov=ie({token:t,providedIn:"root",factory:()=>null})}return t})();var $y={},Xu=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=gm(r);let i=this.injector.get(e,$y,r);return i!==$y||n===$y?i:this.parentInjector.get(e,n,r)}};function xS(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number")o=c;else if(o==1)i=nS(i,c);else if(o==2){let l=c,f=e[++a];r=nS(r,l+": "+f+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ae(t,e=Se.Default){let n=Fe();if(n===null)return ue(t,e);let r=Ln();return tM(r,n,Dn(t),e)}function yR(t,e,n,r,i){let o=r===null?null:{"":-1},a=i(t,n);if(a!==null){let c,l=null,f=null,g=lj(a);g===null?c=a:[c,l,f]=g,fj(t,e,n,c,o,l,f)}o!==null&&r!==null&&cj(n,r,o)}function cj(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new J(-301,!1);r.push(e[i],o)}}function lj(t){let e=null,n=!1;for(let a=0;a<t.length;a++){let c=t[a];if(a===0&&ai(c)&&(e=c),c.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let a of t)a.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,dj(a,r,o,i)),a===e&&(r??=[],r.push(a));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function dj(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function hj(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function fj(t,e,n,r,i,o,a){let c=r.length,l=!1;for(let I=0;I<c;I++){let E=r[I];!l&&ai(E)&&(l=!0,hj(t,n,I)),c0(Xp(n,e),t,E.type)}yj(n,t.data.length,c);for(let I=0;I<c;I++){let E=r[I];E.providersResolver&&E.providersResolver(E)}let f=!1,g=!1,y=ZM(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let I=0;I<c;I++){let E=r[I];if(n.mergedAttrs=cd(n.mergedAttrs,E.hostAttrs),mj(t,n,e,y,E),vj(y,E,i),a!==null&&a.has(E)){let[F,V]=a.get(E);n.directiveToIndex.set(E.type,[y,F+n.directiveStart,V+n.directiveStart])}else(o===null||!o.has(E))&&n.directiveToIndex.set(E.type,y);E.contentQueries!==null&&(n.flags|=4),(E.hostBindings!==null||E.hostAttrs!==null||E.hostVars!==0)&&(n.flags|=64);let M=E.type.prototype;!f&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),f=!0),!g&&(M.ngOnChanges||M.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),g=!0),y++}pj(t,n,o)}function pj(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))NS(0,e,i,r),NS(1,e,i,r),kS(e,r,!1);else{let o=n.get(i);OS(0,e,o,r),OS(1,e,o,r),kS(e,r,!0)}}}function NS(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;t===0?a=e.inputs??={}:a=e.outputs??={},a[o]??=[],a[o].push(r),wR(e,o)}}function OS(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[a]??=[],c[a].push(r,o),wR(e,a)}}function wR(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function kS(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Ew(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let a=null,c=0;for(;c<r.length;){let l=r[c];if(l===0){c+=4;continue}else if(l===5){c+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let f=i[l];for(let g of f)if(g===e){a??=[],a.push(l,r[c+1]);break}}else if(n&&o.hasOwnProperty(l)){let f=o[l];for(let g=0;g<f.length;g+=2)if(f[g]===e){a??=[],a.push(f[g+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(a)}function mj(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ua(i.type,!0)),a=new pa(o,ai(i),ae);t.blueprint[r]=a,n[r]=a,gj(t,e,r,ZM(t,n,i.hostVars,to),i)}function gj(t,e,n,r,i){let o=i.hostBindings;if(o){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let c=~e.index;_j(a)!=c&&a.push(c),a.push(n,r,o)}}function _j(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function vj(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ai(e)&&(n[""]=t)}}function yj(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ER(t,e,n,r,i,o,a,c){let l=e.consts,f=nc(l,a),g=Vw(e,t,2,r,f);return o&&yR(e,n,g,nc(l,c),i),g.mergedAttrs=cd(g.mergedAttrs,g.attrs),g.attrs!==null&&xS(g,g.attrs,!1),g.mergedAttrs!==null&&xS(g,g.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,g),g}function IR(t,e){WA(t,e),TA(e)&&t.queries.elementEnd(e)}var um=class extends Fm{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=la(e);return new md(n,this.ngModule)}};function wj(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Rm.SignalBased)!==0};return i&&(o.transform=i),o})}function Ej(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Ij(t,e,n){let r=e instanceof Yt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Xu(n,r):n}function bj(t){let e=t.get(ic,null);if(e===null)throw new J(407,!1);let n=t.get(uj,null),r=t.get(ma,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function Tj(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Iw(e,n,n==="svg"?b4:n==="math"?T4:null)}var md=class extends vR{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=wj(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Ej(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=$B(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Je(22);let o=Ae(null);try{let a=this.componentDef,c=r?["ng-version","19.2.11"]:zB(this.componentDef.selectors[0]),l=Tw(0,null,null,1,0,null,null,null,null,[c],null),f=Ij(a,i||this.ngModule,e),g=bj(f),y=g.rendererFactory.createRenderer(null,a),I=r?QB(y,r,a.encapsulation,f):Tj(a,y),E=Cw(null,l,null,512|KM(a),null,null,g,y,f,null,OM(I,f,!0));E[Et]=I,sw(E);let M=null;try{let F=ER(Et,l,E,"#host",()=>[this.componentDef],!0,0);I&&(GM(y,I,F),Td(I,E)),Sw(l,E,F),FM(l,F,E),IR(l,F),n!==void 0&&Cj(F,this.ngContentSelectors,n),M=ui(F.index,E),E[Ht]=M[Ht],Pw(l,E,null)}catch(F){throw M!==null&&g0(M),g0(E),F}finally{Je(23),aw()}return new C0(this.componentType,E)}finally{Ae(o)}}},C0=class extends sj{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=yd(n[he],Et),this.location=lc(this._tNode,n),this.instance=ui(this._tNode.index,n)[Ht],this.hostView=this.changeDetectorRef=new hd(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Rw(r,i[he],i,e,n);this.previousInputValues.set(e,n);let a=ui(r.index,i);Nm(a,1)}get injector(){return new aa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Cj(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var pc=(()=>{class t{static __NG_ELEMENT_ID__=Dj}return t})();function Dj(){let t=Ln();return TR(t,Fe())}var Sj=pc,bR=class extends Sj{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return lc(this._hostTNode,this._hostLView)}get injector(){return new aa(this._hostTNode,this._hostLView)}get parentInjector(){let e=cw(this._hostTNode,this._hostLView);if(ZA(e)){let n=Yp(e,this._hostLView),r=Qp(e),i=n[he].data[r+8];return new aa(i,n)}else return new aa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=LS(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-un}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=pd(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(c,i,rc(this._hostTNode,a)),c}createComponent(e,n,r,i,o){let a=e&&!y4(e),c;if(a)c=n;else{let M=n||{};c=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let l=a?e:new md(la(e)),f=r||this.parentInjector;if(!o&&l.ngModule==null){let F=(a?f:this.parentInjector).get(Yt,null);F&&(o=F)}let g=la(l.componentType??{}),y=pd(this._lContainer,g?.id??null),I=y?.firstChild??null,E=l.create(f,i,I,o);return this.insertImpl(E.hostView,c,rc(this._hostTNode,y)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(D4(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=i[qt],f=new bR(l,l[Nr],l[qt]);f.detach(f.indexOf(e))}}let o=this._adjustIndex(n),a=this._lContainer;return Ad(a,i,o,r),e.attachToViewContainerRef(),hA(zy(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=LS(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=dd(this._lContainer,n);r&&(qp(zy(this._lContainer),n),Pm(r[he],r))}detach(e){let n=this._adjustIndex(e,-1),r=dd(this._lContainer,n);return r&&qp(zy(this._lContainer),n)!=null?new hd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function LS(t){return t[Zp]}function zy(t){return t[Zp]||(t[Zp]=[])}function TR(t,e){let n,r=e[t.index];return hi(r)?n=r:(n=dR(r,e,null,t),e[t.index]=n,Dw(e,n)),CR(n,e,t,r),new bR(n,t,e)}function Aj(t,e){let n=t[ct],r=n.createComment(""),i=Or(e,t),o=n.parentNode(i);return om(n,o,r,n.nextSibling(i),!1),r}var CR=DR,Bw=()=>!1;function Mj(t,e,n){return Bw(t,e,n)}function DR(t,e,n,r){if(t[Yi])return;let i;n.type&8?i=xr(r):i=Aj(e,n),t[Yi]=i}function Rj(t,e,n){if(t[Yi]&&t[Qi])return!0;let r=n[Pr],i=e.index-Et;if(!r||T2(e)||Dd(r,i))return!1;let a=y0(r,i),c=r.data[mw]?.[i],[l,f]=rj(a,c);return t[Yi]=l,t[Qi]=f,!0}function Pj(t,e,n,r){Bw(t,n,e)||DR(t,e,n,r)}function xj(){CR=Pj,Bw=Rj}var D0=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},S0=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let a=n.getByIndex(o),c=this.queries[a.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Uw(e,n).matches!==null&&this.queries[n].setDirty()}},A0=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Uj(e):this.predicate=e}},M0=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},R0=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,Nj(n,o)),this.matchTNodeWithReadOption(e,n,Fp(n,e,o,!1,!1))}else r===fd?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Fp(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===mr||i===pc||i===fd&&n.type&4)this.addMatch(n.index,-2);else{let o=Fp(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Nj(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Oj(t,e){return t.type&11?lc(t,e):t.type&4?Fw(t,e):null}function kj(t,e,n,r){return n===-1?Oj(e,t):n===-2?Lj(t,e,r):ld(t,t[he],n,e)}function Lj(t,e,n){if(n===mr)return lc(e,t);if(n===fd)return Fw(e,t);if(n===pc)return TR(e,t)}function SR(t,e,n,r){let i=e[Zi].queries[r];if(i.matches===null){let o=t.data,a=n.matches,c=[];for(let l=0;a!==null&&l<a.length;l+=2){let f=a[l];if(f<0)c.push(null);else{let g=o[f];c.push(kj(e,g,a[l+1],n.metadata.read))}}i.matches=c}return i.matches}function P0(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let a=SR(t,e,i,n);for(let c=0;c<o.length;c+=2){let l=o[c];if(l>0)r.push(a[c/2]);else{let f=o[c+1],g=e[-l];for(let y=un;y<g.length;y++){let I=g[y];I[da]===I[qt]&&P0(I[he],I,f,r)}if(g[tc]!==null){let y=g[tc];for(let I=0;I<y.length;I++){let E=y[I];P0(E[he],E,f,r)}}}}}return r}function Fj(t,e){return t[Zi].queries[e].queryList}function Vj(t,e,n){let r=new m0((n&4)===4);return M4(t,e,r,r.destroy),(e[Zi]??=new S0).queries.push(new D0(r))-1}function Bj(t,e,n){let r=Jt();return r.firstCreatePass&&(jj(r,new A0(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Vj(r,Fe(),e)}function Uj(t){return t.split(",").map(e=>e.trim())}function jj(t,e,n){t.queries===null&&(t.queries=new M0),t.queries.track(new R0(e,n))}function Uw(t,e){return t.queries.getByIndex(e)}function $j(t,e){let n=t[he],r=Uw(n,e);return r.crossesNgTemplate?P0(n,t,e,[]):SR(n,t,r,e)}var oc=class{},jw=class{};var x0=class extends oc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new um(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=mA(e);this._bootstrapComponents=jM(o.bootstrap),this._r3Injector=iM(e,n,[{provide:oc,useValue:this},{provide:Fm,useValue:this.componentFactoryResolver},...r],Nn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},N0=class extends jw{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new x0(this.moduleType,e,[])}};var cm=class extends oc{injector;componentFactoryResolver=new um(this);instance=null;constructor(e){super();let n=new sd([...e.providers,{provide:oc,useValue:this},{provide:Fm,useValue:this.componentFactoryResolver}],e.parent||X0(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Md(t,e,n=null){return new cm({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var zj=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Y0(!1,n.type),i=r.length>0?Md([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ie({token:t,providedIn:"environment",factory:()=>new t(ue(Yt))})}return t})();function Ct(t){return _d(()=>{let e=AR(t),n=Oe(Q({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pM.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(zj).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||li.Emulated,styles:t.styles||fr,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&gi("NgStandalone"),MR(n);let r=t.dependencies;return n.directiveDefs=FS(r,!1),n.pipeDefs=FS(r,!0),n.id=Kj(n),n})}function Hj(t){return la(t)||gA(t)}function qj(t){return t!==null}function no(t){return _d(()=>({type:t.type,bootstrap:t.bootstrap||fr,declarations:t.declarations||fr,imports:t.imports||fr,exports:t.exports||fr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Wj(t,e){if(t==null)return ca;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,a,c,l;Array.isArray(i)?(c=i[0],o=i[1],a=i[2]??o,l=i[3]||null):(o=i,a=i,c=Rm.None,l=null),n[o]=[r,c,l],e[o]=a}return n}function Gj(t){if(t==null)return ca;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ot(t){return _d(()=>{let e=AR(t);return MR(e),e})}function $w(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function AR(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||ca,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||fr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Wj(t.inputs,e),outputs:Gj(t.outputs),debugInfo:null}}function MR(t){t.features?.forEach(e=>e(t))}function FS(t,e){if(!t)return null;let n=e?_A:Hj;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(qj)}function Kj(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Zj(t){return Object.getPrototypeOf(t.prototype).constructor}function kr(t){let e=Zj(t.type),n=!0,r=[t];for(;e;){let i;if(ai(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new J(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let a=t;a.inputs=Hy(t.inputs),a.declaredInputs=Hy(t.declaredInputs),a.outputs=Hy(t.outputs);let c=i.hostBindings;c&&e3(t,c);let l=i.viewQuery,f=i.contentQueries;if(l&&Jj(t,l),f&&Xj(t,f),Qj(t,i),UV(t.outputs,i.outputs),ai(i)&&i.data.animation){let g=t.data;g.animation=(g.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let c=o[a];c&&c.ngInherit&&c(t),c===kr&&(n=!1)}}e=Object.getPrototypeOf(e)}Yj(r)}function Qj(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function Yj(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=cd(i.hostAttrs,n=cd(n,i.hostAttrs))}}function Hy(t){return t===ca?{}:t===fr?[]:t}function Jj(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Xj(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function e3(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function RR(t,e,n){return t[e]=n}function di(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function t3(t,e,n,r){let i=di(t,e,n);return di(t,e+1,r)||i}function n3(t,e,n,r,i,o,a,c,l){let f=e.consts,g=Vw(e,t,4,a||null,c||null);OA()&&yR(e,n,g,nc(f,l),eR),g.mergedAttrs=cd(g.mergedAttrs,g.attrs),WA(e,g);let y=g.tView=Tw(2,g,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f,null);return e.queries!==null&&(e.queries.template(e,g),y.queries=e.queries.embeddedTView(g)),g}function O0(t,e,n,r,i,o,a,c,l,f){let g=n+Et,y=e.firstCreatePass?n3(g,e,t,r,i,o,a,c,l):e.data[g];Id(y,!1);let I=PR(e,t,y,n);uw()&&Ow(e,t,I,y),Td(I,t);let E=dR(I,t,I,y);return t[g]=E,Dw(t,E),Mj(E,y,t),ew(y)&&Sw(e,t,y),l!=null&&JM(t,y,f),y}function Lr(t,e,n,r,i,o,a,c){let l=Fe(),f=Jt(),g=nc(f.consts,o);return O0(l,f,t,e,n,r,i,g,a,c),Lr}var PR=xR;function xR(t,e,n,r){return os(!0),e[ct].createComment("")}function r3(t,e,n,r){let i=e[Pr],o=!i||Ed()||fc(n)||Dd(i,r);if(os(o),o)return xR(t,e);let a=i.data[O2]?.[r]??null;a!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=a);let c=Om(i,t,e,n);Sm(i,r,c);let l=yw(i,r);return km(l,c)}function i3(){PR=r3}var o3=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let a=i.length>0?Md(i,r,o):null;this.cachedInjectors.set(n,a)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ie({token:t,providedIn:"environment",factory:()=>new t})}return t})();var s3=new Y("");function qy(t,e,n){return t.get(o3).getOrCreateInjector(e,t,n,"")}function a3(t,e,n){if(t instanceof Xu){let i=t.injector,o=t.parentInjector,a=qy(o,e,n);return new Xu(i,a)}let r=t.get(Yt);if(r!==t){let i=qy(r,e,n);return new Xu(t,i)}return qy(t,e,n)}function Zu(t,e,n,r=!1){let i=n[qt],o=i[he];if(ya(i))return;let a=Cd(i,e),c=a[Tm],l=a[Y2];if(!(l!==null&&t<l)&&VS(c,t)&&VS(a[K2]??-1,t)){let f=Cm(o,e),y=!r&&!0&&(nB(f)!==null||CS(f,zt.Loading)!==null||CS(f,zt.Placeholder))?l3:c3;try{y(t,a,n,e,i)}catch(I){Mw(i,I)}}}function u3(t,e){let n=t[Qi]?.findIndex(i=>i.data[V2]===e[Tm])??-1;return{dehydratedView:n>-1?t[Qi][n]:null,dehydratedViewIx:n}}function c3(t,e,n,r,i){Je(20);let o=tB(t,i,r);if(o!==null){e[Tm]=t;let a=i[he],c=o+Et,l=yd(a,c),f=0;Lw(n,f);let g;if(t===zt.Complete){let M=Cm(a,r),F=M.providers;F&&F.length>0&&(g=a3(i[si],M,F))}let{dehydratedView:y,dehydratedViewIx:I}=u3(n,e),E=Sd(i,l,null,{injector:g,dehydratedView:y});if(Ad(n,E,f,rc(l,y)),Nm(E,2),I>-1&&n[Qi]?.splice(I,1),(t===zt.Complete||t===zt.Error)&&Array.isArray(e[Ju])){for(let M of e[Ju])M();e[Ju]=null}}Je(21)}function VS(t,e){return t<e}function BS(t,e,n){t.loadingPromise.then(()=>{t.loadingState===Xn.COMPLETE?Zu(zt.Complete,e,n):t.loadingState===Xn.FAILED&&Zu(zt.Error,e,n)})}var l3=null;var zw=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var NR=new Y("");var d3=(()=>{class t{static \u0275prov=ie({token:t,providedIn:"root",factory:()=>new k0})}return t})(),k0=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function us(t){return!!t&&typeof t.then=="function"}function Hw(t){return!!t&&typeof t.subscribe=="function"}var h3=new Y("");var OR=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=z(h3,{optional:!0})??[];injector=z(Nt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=cn(this.injector,i);if(us(o))n.push(o);else if(Hw(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ba=new Y("");function f3(){ey(()=>{throw new J(600,!1)})}function p3(t){return t.isBoundToModule}var m3=10;var On=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=z(m2);afterRenderManager=z(AM);zonelessEnabled=z(Im);rootEffectScheduler=z(d3);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ot;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=z(mi).hasPendingTasks.pipe(ge(n=>!n));constructor(){z(hc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=z(Yt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Nt.NULL){Je(10);let o=n instanceof vR;if(!this._injector.get(OR).done){let E="";throw new J(405,E)}let c;o?c=n:c=this._injector.get(Fm).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=p3(c)?void 0:this._injector.get(oc),f=r||c.selector,g=c.create(i,[],f,l),y=g.location.nativeElement,I=g.injector.get(NR,null);return I?.registerApplication(y),g.onDestroy(()=>{this.detachView(g.hostView),Bp(this.components,g),I?.unregisterApplication(y)}),this._loadComponent(g),Je(11,g),g}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Je(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(gw.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new J(101,!1);let n=Ae(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ae(n),this.afterTick.next(),Je(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ic,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<m3;)Je(14),this.synchronizeOnce(),Je(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)g3(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>wm(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Bp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(ba,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new J(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bp(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function g3(t,e,n,r){if(!n&&!wm(t))return;aR(t,e,n&&!r?0:1)}function _3(t,e,n){let r=e[si],i=e[he];if(t.loadingState!==Xn.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=Cd(e,n),a=rB(i,t);t.loadingState=Xn.IN_PROGRESS,Vp(1,o);let c=t.dependencyResolverFn,l=r.get(bd).add();return c?(t.loadingPromise=Promise.allSettled(c()).then(f=>{let g=!1,y=[],I=[];for(let E of f)if(E.status==="fulfilled"){let M=E.value,F=la(M)||gA(M);if(F)y.push(F);else{let V=_A(M);V&&I.push(V)}}else{g=!0;break}if(g){if(t.loadingState=Xn.FAILED,t.errorTmplIndex===null){let E="",M=new J(-750,!1);Mw(e,M)}}else{t.loadingState=Xn.COMPLETE;let E=a.tView;if(y.length>0){E.directiveRegistry=DS(E.directiveRegistry,y);let M=y.map(V=>V.type),F=Y0(!1,...M);t.providers=F}I.length>0&&(E.pipeRegistry=DS(E.pipeRegistry,I))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,l()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=Xn.COMPLETE,l()}),t.loadingPromise)}function v3(t,e){return e[si].get(s3,null,{optional:!0})?.behavior!==MM.Manual}function y3(t,e,n){let r=e[he],i=e[n.index];if(!v3(t,e))return;let o=Cd(e,n),a=Cm(r,n);switch(X2(o),a.loadingState){case Xn.NOT_STARTED:Zu(zt.Loading,n,i),_3(a,e,n),a.loadingState===Xn.IN_PROGRESS&&BS(a,n,i);break;case Xn.IN_PROGRESS:Zu(zt.Loading,n,i),BS(a,n,i);break;case Xn.COMPLETE:Zu(zt.Complete,n,i);break;case Xn.FAILED:Zu(zt.Error,n,i);break;default:}}function w3(t,e,n){return T(this,null,function*(){let r=t.get(vw);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:a}=wB(e,t);if(a.length===0)return;o!==null&&a.shift(),b3(r,a),o!==null&&(yield o);let c=a[0];r.has(c)?yield US(t,a,n):r.awaitParentBlock(c,()=>T(null,null,function*(){return yield US(t,a,n)}))})}function US(t,e,n){return T(this,null,function*(){let r=t.get(vw),i=r.hydrating,o=t.get(mi),a=o.add();for(let l=0;l<e.length;l++){let f=e[l],g=r.get(f);if(g!=null){if(yield C3(g),yield T3(t),E3(g)){tj(g),jS(e.slice(l),r);break}i.get(f).resolve()}else{I3(l,e,r),jS(e.slice(l),r);break}}let c=e[e.length-1];yield i.get(c)?.promise,o.remove(a),n&&n(e),nj(r.get(c),e,r,t.get(On))})}function E3(t){return Cd(t.lView,t.tNode)[Tm]===zt.Error}function I3(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&Lm(i.lContainer)}function jS(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function b3(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function T3(t){return new Promise(e=>_w(e,{injector:t}))}function C3(t){return T(this,null,function*(){let{tNode:e,lView:n}=t,r=Cd(n,e);return new Promise(i=>{D3(r,i),y3(2,n,e)})})}function D3(t,e){Array.isArray(t[Ju])||(t[Ju]=[]),t[Ju].push(e)}function Rd(t,e,n,r){let i=Fe(),o=uc();if(di(i,o,e)){let a=Jt(),c=Em();oU(c,i,t,e,n,r)}return Rd}function kR(t,e,n,r){return di(t,uc(),n)?e+mm(n)+r:to}function xp(t,e){return t<<17|e<<2}function ga(t){return t>>17&32767}function S3(t){return(t&2)==2}function A3(t,e){return t&131071|e<<17}function L0(t){return t|2}function sc(t){return(t&131068)>>2}function Wy(t,e){return t&-131069|e<<2}function M3(t){return(t&1)===1}function F0(t){return t|1}function R3(t,e,n,r,i,o){let a=o?e.classBindings:e.styleBindings,c=ga(a),l=sc(a);t[r]=n;let f=!1,g;if(Array.isArray(n)){let y=n;g=y[1],(g===null||vd(y,g)>0)&&(f=!0)}else g=n;if(i)if(l!==0){let I=ga(t[c+1]);t[r+1]=xp(I,c),I!==0&&(t[I+1]=Wy(t[I+1],r)),t[c+1]=A3(t[c+1],r)}else t[r+1]=xp(c,0),c!==0&&(t[c+1]=Wy(t[c+1],r)),c=r;else t[r+1]=xp(l,0),c===0?c=r:t[l+1]=Wy(t[l+1],r),l=r;f&&(t[r+1]=L0(t[r+1])),$S(t,g,r,!0),$S(t,g,r,!1),P3(e,g,t,r,o),a=xp(c,l),o?e.classBindings=a:e.styleBindings=a}function P3(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&vd(o,e)>=0&&(n[r+1]=F0(n[r+1]))}function $S(t,e,n,r){let i=t[n+1],o=e===null,a=r?ga(i):sc(i),c=!1;for(;a!==0&&(c===!1||o);){let l=t[a],f=t[a+1];x3(l,e)&&(c=!0,t[a+1]=r?F0(f):L0(f)),a=r?ga(f):sc(f)}c&&(t[n+1]=r?L0(i):F0(i))}function x3(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?vd(t,e)>=0:!1}function ro(t,e,n){let r=Fe(),i=uc();if(di(r,i,e)){let o=Jt(),a=Em();Aw(o,a,r,t,e,r[ct],n,!1)}return ro}function zS(t,e,n,r,i){Rw(e,t,n,i?"class":"style",r)}function io(t,e){return N3(t,e,null,!0),io}function N3(t,e,n,r){let i=Fe(),o=Jt(),a=B4(2);if(o.firstUpdatePass&&k3(o,t,a,r),e!==to&&di(i,a,e)){let c=o.data[wa()];U3(o,c,i,i[ct],t,i[a+1]=j3(e,n),r,a)}}function O3(t,e){return e>=t.expandoStartIndex}function k3(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[wa()],a=O3(t,n);$3(o,r)&&e===null&&!a&&(e=!1),e=L3(i,o,e,r),R3(i,o,e,n,a,r)}}function L3(t,e,n,r){let i=z4(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Gy(null,t,e,n,r),n=gd(n,e.attrs,r),o=null);else{let a=e.directiveStylingLast;if(a===-1||t[a]!==i)if(n=Gy(i,t,e,n,r),o===null){let l=F3(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Gy(null,t,e,l[1],r),l=gd(l,e.attrs,r),V3(t,e,r,l))}else o=B3(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function F3(t,e,n){let r=n?e.classBindings:e.styleBindings;if(sc(r)!==0)return t[ga(r)]}function V3(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ga(i)]=r}function B3(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let a=t[o].hostAttrs;r=gd(r,a,n)}return gd(r,e.attrs,n)}function Gy(t,e,n,r,i){let o=null,a=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<a&&(o=e[c],r=gd(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function gd(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),a4(t,a,n?!0:e[++o]))}return t===void 0?null:t}function U3(t,e,n,r,i,o,a,c){if(!(e.type&3))return;let l=t.data,f=l[c+1],g=M3(f)?HS(l,e,n,i,sc(f),a):void 0;if(!lm(g)){lm(o)||S3(f)&&(o=HS(l,null,n,i,c,a));let y=MA(wa(),n);TU(r,a,y,i,o)}}function HS(t,e,n,r,i,o){let a=e===null,c;for(;i>0;){let l=t[i],f=Array.isArray(l),g=f?l[1]:l,y=g===null,I=n[i+1];I===to&&(I=y?fr:void 0);let E=y?Ny(I,r):g===r?I:void 0;if(f&&!lm(E)&&(E=Ny(l,r)),lm(E)&&(c=E,a))return c;let M=t[i+1];i=a?ga(M):sc(M)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(c=Ny(l,r))}return c}function lm(t){return t!==void 0}function j3(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Nn(Am(t)))),t}function $3(t,e){return(t.flags&(e?8:16))!==0}var V0=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Ky(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function z3(t,e,n){let r,i,o=0,a=t.length-1,c=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=a&&o<=l;){let f=t.at(o),g=e[o],y=Ky(o,f,o,g,n);if(y!==0){y<0&&t.updateValue(o,g),o++;continue}let I=t.at(a),E=e[l],M=Ky(a,I,l,E,n);if(M!==0){M<0&&t.updateValue(a,E),a--,l--;continue}let F=n(o,f),V=n(a,I),K=n(o,g);if(Object.is(K,V)){let oe=n(l,E);Object.is(oe,F)?(t.swap(o,a),t.updateValue(a,E),l--,a--):t.move(a,o),t.updateValue(o,g),o++;continue}if(r??=new dm,i??=WS(t,o,a,n),B0(t,r,o,K))t.updateValue(o,g),o++,a++;else if(i.has(K))r.set(F,t.detach(o)),a--;else{let oe=t.create(o,e[o]);t.attach(o,oe),o++,a++}}for(;o<=l;)qS(t,r,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),f=l.next();for(;!f.done&&o<=a;){let g=t.at(o),y=f.value,I=Ky(o,g,o,y,n);if(I!==0)I<0&&t.updateValue(o,y),o++,f=l.next();else{r??=new dm,i??=WS(t,o,a,n);let E=n(o,y);if(B0(t,r,o,E))t.updateValue(o,y),o++,a++,f=l.next();else if(!i.has(E))t.attach(o,t.create(o,y)),o++,a++,f=l.next();else{let M=n(o,g);r.set(M,t.detach(o)),a--}}}for(;!f.done;)qS(t,r,n,t.length,f.value),f=l.next()}for(;o<=a;)t.destroy(t.detach(a--));r?.forEach(l=>{t.destroy(l)})}function B0(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function qS(t,e,n,r,i){if(B0(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function WS(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var dm=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function _i(t,e){gi("NgControlFlow");let n=Fe(),r=uc(),i=n[r]!==to?n[r]:-1,o=i!==-1?hm(n,Et+i):void 0,a=0;if(di(n,r,t)){let c=Ae(null);try{if(o!==void 0&&Lw(o,a),t!==-1){let l=Et+t,f=hm(n,l),g=z0(n[he],l),y=pd(f,g.tView.ssrId),I=Sd(n,g,e,{dehydratedView:y});Ad(f,I,a,rc(g,y))}}finally{Ae(c)}}else if(o!==void 0){let c=hR(o,a);c!==void 0&&(c[Ht]=e)}}var U0=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-un}};function oo(t,e){return e}var j0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Fr(t,e,n,r,i,o,a,c,l,f,g,y,I){gi("NgControlFlow");let E=Fe(),M=Jt(),F=l!==void 0,V=Fe(),K=c?a.bind(V[tr][Ht]):a,oe=new j0(F,K);V[Et+t]=oe,O0(E,M,t+1,e,n,r,i,nc(M.consts,o)),F&&O0(E,M,t+2,l,f,g,y,nc(M.consts,I))}var $0=class extends V0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-un}at(e){return this.getLView(e)[Ht].$implicit}attach(e,n){let r=n[Pr];this.needsIndexUpdate||=e!==this.length,Ad(this.lContainer,n,e,rc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,H3(this.lContainer,e)}create(e,n){let r=pd(this.lContainer,this.templateTNode.tView.ssrId),i=Sd(this.hostLView,this.templateTNode,new U0(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Pm(e[he],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ht].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ht].$index=e}getLView(e){return q3(this.lContainer,e)}};function Vr(t){let e=Ae(null),n=wa();try{let r=Fe(),i=r[he],o=r[n],a=n+1,c=hm(r,a);if(o.liveCollection===void 0){let f=z0(i,a);o.liveCollection=new $0(c,r,f)}else o.liveCollection.reset();let l=o.liveCollection;if(z3(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let f=uc(),g=l.length===0;if(di(r,f,g)){let y=n+2,I=hm(r,y);if(g){let E=z0(i,y),M=pd(I,E.tView.ssrId),F=Sd(r,E,void 0,{dehydratedView:M});Ad(I,F,0,rc(E,M))}else Lw(I,0)}}}finally{Ae(e)}}function hm(t,e){return t[e]}function H3(t,e){return dd(t,e)}function q3(t,e){return hR(t,e)}function z0(t,e){return yd(t,e)}function j(t,e,n,r){let i=Fe(),o=Jt(),a=Et+t,c=i[ct],l=o.firstCreatePass?ER(a,o,i,e,eR,OA(),n,r):o.data[a],f=LR(o,i,l,c,e,t);i[a]=f;let g=ew(l);return Id(l,!0),GM(c,f,l),!fc(l)&&uw()&&Ow(o,i,f,l),(R4()===0||g)&&Td(f,i),P4(),g&&(Sw(o,i,l),FM(o,l,i)),r!==null&&JM(i,l),j}function $(){let t=Ln();LA()?F4():(t=t.parent,Id(t,!1));let e=t;N4(e)&&k4(),x4();let n=Jt();return n.firstCreatePass&&IR(n,e),e.classesWithoutHost!=null&&K4(e)&&zS(n,e,Fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Z4(e)&&zS(n,e,Fe(),e.stylesWithoutHost,!1),$}function nt(t,e,n,r){return j(t,e,n,r),$(),nt}var LR=(t,e,n,r,i,o)=>(os(!0),Iw(r,i,HA()));function W3(t,e,n,r,i,o){let a=e[Pr],c=!a||Ed()||fc(n)||Dd(a,o);if(os(c),c)return Iw(r,i,HA());let l=Om(a,t,e,n);return kM(a,o)&&Sm(a,o,l.nextSibling),a&&(hM(n)||fM(l))&&va(n)&&(O4(n),WM(l)),l}function G3(){LR=W3}var K3=(t,e,n,r)=>(os(!0),HM(e[ct],""));function Z3(t,e,n,r){let i,o=e[Pr],a=!o||Ed()||Dd(o,r)||fc(n);if(os(a),a)return HM(e[ct],"");let c=Om(o,t,e,n),l=vB(o,r);return Sm(o,r,c),i=km(l,c),i}function Q3(){K3=Z3}function so(){return Fe()}var oa=void 0;function Y3(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var J3=["en",[["a","p"],["AM","PM"],oa],[["AM","PM"],oa,oa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oa,"{1} 'at' {0}",oa],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Y3],Zy={};function gr(t){let e=X3(t),n=GS(e);if(n)return n;let r=e.split("-")[0];if(n=GS(r),n)return n;if(r==="en")return J3;throw new J(701,!1)}function GS(t){return t in Zy||(Zy[t]=ts.ng&&ts.ng.common&&ts.ng.common.locales&&ts.ng.common.locales[t]),Zy[t]}var At=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(At||{});function X3(t){return t.toLowerCase().replace(/_/g,"-")}var fm="en-US";var e$=fm;function t$(t){typeof t=="string"&&(e$=t.toLowerCase().replace(/_/g,"-"))}function KS(t,e,n){return function r(i){if(i===Function)return n;let o=va(t)?ui(t.index,e):e;Nm(o,5);let a=e[Ht],c=ZS(e,a,n,i),l=r.__ngNextListenerFn__;for(;l;)c=ZS(e,a,l,i)&&c,l=l.__ngNextListenerFn__;return c}}function ZS(t,e,n,r){let i=Ae(null);try{return Je(6,e,n),n(r)!==!1}catch(o){return n$(t,o),!1}finally{Je(7,e,n),Ae(i)}}function n$(t,e){let n=t[si],r=n?n.get(ci,null):null;r&&r.handleError(e)}function QS(t,e,n,r,i,o){let a=e[n],c=e[he],f=c.data[n].outputs[r],g=a[f],y=c.firstCreatePass?rw(c):null,I=nw(e),E=g.subscribe(o),M=I.length;I.push(o,E),y&&y.push(i,t.index,M,-(M+1))}var qw=new Map;function r$(t,e){qw.set(t,e)}function i$(t){qw.delete(t)}function Ke(t,e,n,r){let i=Fe(),o=Jt(),a=Ln();return FR(o,i,i[ct],a,t,e,r),Ke}function o$(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let c=e[Gp],l=i[o+2];return c.length>l?c[l]:null}typeof a=="string"&&(o+=2)}return null}function FR(t,e,n,r,i,o,a){let c=ew(r),f=t.firstCreatePass?rw(t):null,g=nw(e),y=!0;if(r.type&3||a){let I=Or(r,e),E=a?a(I):I,M=g.length,F=a?K=>a(xr(K[r.index])):r.index,V=null;if(!a&&c&&(V=o$(t,e,i,r.index)),V!==null){let K=V.__ngLastListenerFn__||V;K.__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,y=!1}else{o=KS(r,e,o);let K=e[si].get(Gi);qw.get(K)?.(E,i,o);let X=n.listen(E,i,o);g.push(o,X),f&&f.push(i,F,M,M+1)}}else o=KS(r,e,o);if(y){let I=r.outputs?.[i],E=r.hostDirectiveOutputs?.[i];if(E&&E.length)for(let M=0;M<E.length;M+=2){let F=E[M],V=E[M+1];QS(r,e,F,V,i,o)}if(I&&I.length)for(let M of I)QS(r,e,M,i,i,o)}}function ln(t=1){return q4(t)}function Ww(t,e,n,r,i){let o=Fe(),a=kR(o,e,n,r);if(a!==to){let c=Jt(),l=Em();Aw(c,l,o,t,a,o[ct],i,!1)}return Ww}function mc(t,e,n){Bj(t,e,n)}function Ta(t){let e=Fe(),n=Jt(),r=VA();ow(r+1);let i=Uw(n,r);if(t.dirty&&C4(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=$j(e,r);t.reset(o,v2),t.notifyOnChanges()}return!0}return!1}function Ca(){return Fj(Fe(),VA())}function s$(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function q(t,e=""){let n=Fe(),r=Jt(),i=t+Et,o=r.firstCreatePass?Vw(r,i,1,e,null):r.data[i],a=VR(r,n,o,e,t);n[i]=a,uw()&&Ow(r,n,a,o),Id(o,!1)}var VR=(t,e,n,r,i)=>(os(!0),zM(e[ct],r));function a$(t,e,n,r,i){let o=e[Pr],a=!o||Ed()||fc(n)||Dd(o,i);return os(a),a?zM(e[ct],r):Om(o,t,e,n)}function u$(){VR=a$}function dn(t){return ao("",t,""),dn}function ao(t,e,n){let r=Fe(),i=kR(r,t,e,n);return i!==to&&c$(r,wa(),i),ao}function c$(t,e,n){let r=MA(e,t);HB(t[ct],r,n)}function Fn(t,e,n){dM(e)&&(e=e());let r=Fe(),i=uc();if(di(r,i,e)){let o=Jt(),a=Em();Aw(o,a,r,t,e,r[ct],n,!1)}return Fn}function rr(t,e){let n=dM(t);return n&&t.set(e),n}function Vn(t,e){let n=Fe(),r=Jt(),i=Ln();return FR(r,n,n[ct],i,t,e),Vn}function l$(t,e,n){let r=Jt();if(r.firstCreatePass){let i=ai(t);H0(n,r.data,r.blueprint,i,!0),H0(e,r.data,r.blueprint,i,!1)}}function H0(t,e,n,r,i){if(t=Dn(t),Array.isArray(t))for(let o=0;o<t.length;o++)H0(t[o],e,n,r,i);else{let o=Jt(),a=Fe(),c=Ln(),l=ec(t)?t:Dn(t.provide),f=wA(t),g=c.providerIndexes&1048575,y=c.directiveStart,I=c.providerIndexes>>20;if(ec(t)||!t.multi){let E=new pa(f,i,ae),M=Yy(l,e,i?g:g+I,y);M===-1?(c0(Xp(c,a),o,l),Qy(o,t,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(E),a.push(E)):(n[M]=E,a[M]=E)}else{let E=Yy(l,e,g+I,y),M=Yy(l,e,g,g+I),F=E>=0&&n[E],V=M>=0&&n[M];if(i&&!V||!i&&!F){c0(Xp(c,a),o,l);let K=f$(i?h$:d$,n.length,i,r,f);!i&&V&&(n[M].providerFactory=K),Qy(o,t,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(K),a.push(K)}else{let K=BR(n[i?M:E],f,!i&&r);Qy(o,t,E>-1?E:M,K)}!i&&r&&V&&n[M].componentProviders++}}}function Qy(t,e,n,r){let i=ec(e),o=f4(e);if(i||o){let l=(o?Dn(e.useClass):e).prototype.ngOnDestroy;if(l){let f=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let g=f.indexOf(n);g===-1?f.push(n,[r,l]):f[g+1].push(r,l)}else f.push(n,l)}}}function BR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Yy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function d$(t,e,n,r,i){return q0(this.multi,[])}function h$(t,e,n,r,i){let o=this.multi,a;if(this.providerFactory){let c=this.providerFactory.componentProviders,l=ld(r,r[he],this.providerFactory.index,i);a=l.slice(0,c),q0(o,a);for(let f=c;f<l.length;f++)a.push(l[f])}else a=[],q0(o,a);return a}function q0(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function f$(t,e,n,r,i){let o=new pa(t,n,ae);return o.multi=[],o.index=e,o.componentProviders=0,BR(o,i,r&&!n),o}function Da(t,e=[]){return n=>{n.providersResolver=(r,i)=>l$(r,i?i(t):t,e)}}function UR(t,e,n,r){return $R(Fe(),iw(),t,e,n,r)}function jR(t,e){let n=t[e];return n===to?void 0:n}function $R(t,e,n,r,i,o){let a=e+n;return di(t,a,i)?RR(t,a+1,o?r.call(o,i):r(i)):jR(t,a+1)}function p$(t,e,n,r,i,o,a){let c=e+n;return t3(t,c,i,o)?RR(t,c+2,a?r.call(a,i,o):r(i,o)):jR(t,c+2)}function Vm(t,e){let n=Jt(),r,i=t+Et;n.firstCreatePass?(r=m$(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=ua(r.type,!0)),a,c=xn(ae);try{let l=Jp(!1),f=o();return Jp(l),s$(n,Fe(),i,f),f}finally{xn(c)}}function m$(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function zR(t,e,n){let r=t+Et,i=Fe(),o=RA(i,r);return qR(i,r)?$R(i,iw(),e,o.transform,n,o):o.transform(n)}function HR(t,e,n,r){let i=t+Et,o=Fe(),a=RA(o,i);return qR(o,i)?p$(o,iw(),e,a.transform,n,r,a):a.transform(n,r)}function qR(t,e){return t[he].data[e].pure}var _a=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},WR=new _a("19.2.11"),W0=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},GR=(()=>{class t{compileModuleSync(n){return new N0(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=mA(n),o=jM(i.declarations).reduce((a,c)=>{let l=la(c);return l&&a.push(new md(l)),a},[]);return new W0(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var g$=(()=>{class t{zone=z(Qe);changeDetectionScheduler=z(ma);applicationRef=z(On);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_$=new Y("",{factory:()=>!1});function KR({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Qe(Oe(Q({},QR()),{scheduleInRootZone:n})),[{provide:Qe,useFactory:t},{provide:rs,multi:!0,useFactory:()=>{let r=z(g$,{optional:!0});return()=>r.initialize()}},{provide:rs,multi:!0,useFactory:()=>{let r=z(v$);return()=>{r.initialize()}}},e===!0?{provide:sM,useValue:!0}:[],{provide:aM,useValue:n??oM}]}function ZR(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=KR({ngZoneFactory:()=>{let i=QR(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&gi("NgZone_CoalesceEvent"),new Qe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return kn([{provide:_$,useValue:!0},{provide:Im,useValue:!1},r])}function QR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var v$=(()=>{class t{subscription=new bt;initialized=!1;zone=z(Qe);pendingTasks=z(mi);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Qe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Qe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var y$=(()=>{class t{appRef=z(On);taskService=z(mi);ngZone=z(Qe);zonelessEnabled=z(Im);tracing=z(hc,{optional:!0});disableScheduling=z(sM,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new bt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(tm):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(z(aM,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof p0||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?_S:uM;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(tm+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,_S(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function w$(){return typeof $localize<"u"&&$localize.locale||fm}var Bm=new Y("",{providedIn:"root",factory:()=>z(Bm,Se.Optional|Se.SkipSelf)||w$()});var G0=new Y(""),E$=new Y("");function nd(t){return!t.moduleRef}function I$(t){let e=nd(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Qe);return n.run(()=>{nd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(ci,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),nd(t)){let o=()=>e.destroy(),a=t.platformInjector.get(G0);a.add(o),e.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>t.moduleRef.destroy(),a=t.platformInjector.get(G0);a.add(o),t.moduleRef.onDestroy(()=>{Bp(t.allPlatformModules,t.moduleRef),i.unsubscribe(),a.delete(o)})}return T$(r,n,()=>{let o=e.get(OR);return o.runInitializers(),o.donePromise.then(()=>{let a=e.get(Bm,fm);if(t$(a||fm),!e.get(E$,!0))return nd(t)?e.get(On):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(nd(t)){let l=e.get(On);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return b$(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function b$(t,e){let n=t.injector.get(On);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new J(-403,!1);e.push(t)}function T$(t,e,n){try{let r=n();return us(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Up=null;function C$(t=[],e){return Nt.create({name:e,providers:[{provide:_m,useValue:"platform"},{provide:G0,useValue:new Set([()=>Up=null])},...t]})}function D$(t=[]){if(Up)return Up;let e=C$(t);return Up=e,f3(),S$(e),e}function S$(t){let e=t.get(fw,null);cn(t,()=>{e?.forEach(n=>n())})}function Gw(){return!1}var Sa=(()=>{class t{static __NG_ELEMENT_ID__=A$}return t})();function A$(t){return M$(Ln(),Fe(),(t&16)===16)}function M$(t,e,n){if(va(t)&&!n){let r=ui(t.index,e);return new hd(r,r)}else if(t.type&175){let r=e[tr];return new hd(r,e)}return null}function YR(t){Je(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=D$(r),o=[KR({}),{provide:ma,useExisting:y$},...n||[]],a=new cm({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return I$({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Je(9)}}var Np=new WeakSet,YS="",jp=[];function JS(t){return t.get(DM,U2)}function JR(){let t=[{provide:DM,useFactory:()=>{let e=!0;{let n=z(Gi);e=!!window._ejsas?.[n]}return e&&gi("NgEventReplay"),e}}];return t.push({provide:rs,useValue:()=>{let e=z(On),{injector:n}=e;if(!Np.has(e)){let r=z(IS);if(JS(n)){let i=n.get(Gi);r$(i,(o,a,c)=>{o.nodeType===Node.ELEMENT_NODE&&(iB(o,a,c),oB(o,r))})}}},multi:!0},{provide:ba,useFactory:()=>{let e=z(On),{injector:n}=e;return()=>{!JS(n)||Np.has(e)||(Np.add(e),e.onDestroy(()=>{Np.delete(e);{let r=n.get(Gi);xy(r),i$(r)}}),e.whenStable().then(()=>{if(e.destroyed)return;let r=n.get(aB);R$(r,n);let i=n.get(IS);i.get(YS)?.forEach(sB),i.delete(YS);let o=r.instance;_B(n)?e.onDestroy(()=>o.cleanUp()):o.cleanUp()}))}},multi:!0}),t}var R$=(t,e)=>{let n=e.get(Gi),r=window._ejsas[n],i=t.instance=new eS(new Sp(r.c));for(let c of r.et)i.addEvent(c);for(let c of r.etc)i.addEvent(c);let o=tS(n);i.replayEarlyEventInfos(o),xy(n);let a=new Ap(c=>{P$(e,c,c.currentTarget)});XD(i,a)};function P$(t,e,n){let r=(n&&n.getAttribute(Dm))??"";/d\d+/.test(r)?x$(r,t,e,n):e.eventPhase===Py.REPLAY&&PM(e,n)}function x$(t,e,n,r){jp.push({event:n,currentTarget:r}),w3(e,t,N$)}function N$(t){let e=[...jp],n=new Set(t);jp=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(Dm);n.has(o)?PM(r,i):jp.push({event:r,currentTarget:i})}}var XS=!1;function O$(){XS||(XS=!0,fB(),G3(),u$(),Q3(),i3(),xj(),oj(),XB())}function k$(t){return t.whenStable()}function XR(){let t=[{provide:Rp,useFactory:()=>{let e=!0;return e=!!z(dc,{optional:!0})?.get(xM,null),e&&gi("NgHydration"),e}},{provide:rs,useValue:()=>{JU(!1),z(Rp)&&(EB(bm()),O$())},multi:!0}];return t.push({provide:CM,useFactory:()=>z(Rp)},{provide:ba,useFactory:()=>{if(z(Rp)){let e=z(On);return()=>{k$(e).then(()=>{e.destroyed||gR(e)})}}return()=>{}},multi:!0}),kn(t)}function Aa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function _r(t){return ry(t)}function Ma(t,e){return Xv(t,e?.equal)}var eA=class{[hr];constructor(e){this[hr]=e}destroy(){this[hr].destroy()}};var Xt=new Y("");var nP=null;function vr(){return nP}function Kw(t){nP??=t}var Pd=class{},Zw=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:()=>z(rP),providedIn:"platform"})}return t})();var rP=(()=>{class t extends Zw{_location;_history;_doc=z(Xt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function iP(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function eP(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function cs(t){return t&&t[0]!=="?"?`?${t}`:t}var gc=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:()=>z(sP),providedIn:"root"})}return t})(),oP=new Y(""),sP=(()=>{class t extends gc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??z(Xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return iP(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+cs(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+cs(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+cs(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ue(Zw),ue(oP,8))};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_c=(()=>{class t{_subject=new ot;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=V$(eP(tP(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+cs(r))}normalize(n){return t.stripTrailingSlash(F$(this._basePath,tP(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cs(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=cs;static joinWithSlash=iP;static stripTrailingSlash=eP;static \u0275fac=function(r){return new(r||t)(ue(gc))};static \u0275prov=ie({token:t,factory:()=>L$(),providedIn:"root"})}return t})();function L$(){return new _c(ue(gc))}function F$(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function tP(t){return t.replace(/\/index.html$/,"")}function V$(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var _n=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(_n||{}),rt=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(rt||{}),Bn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Bn||{}),co={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function uP(t){return gr(t)[At.LocaleId]}function cP(t,e,n){let r=gr(t),i=[r[At.DayPeriodsFormat],r[At.DayPeriodsStandalone]],o=yr(i,e);return yr(o,n)}function lP(t,e,n){let r=gr(t),i=[r[At.DaysFormat],r[At.DaysStandalone]],o=yr(i,e);return yr(o,n)}function dP(t,e,n){let r=gr(t),i=[r[At.MonthsFormat],r[At.MonthsStandalone]],o=yr(i,e);return yr(o,n)}function hP(t,e){let r=gr(t)[At.Eras];return yr(r,e)}function xd(t,e){let n=gr(t);return yr(n[At.DateFormat],e)}function Nd(t,e){let n=gr(t);return yr(n[At.TimeFormat],e)}function Od(t,e){let r=gr(t)[At.DateTimeFormat];return yr(r,e)}function kd(t,e){let n=gr(t),r=n[At.NumberSymbols][e];if(typeof r>"u"){if(e===co.CurrencyDecimal)return n[At.NumberSymbols][co.Decimal];if(e===co.CurrencyGroup)return n[At.NumberSymbols][co.Group]}return r}function fP(t){if(!t[At.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[At.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function pP(t){let e=gr(t);return fP(e),(e[At.ExtraData][2]||[]).map(r=>typeof r=="string"?Qw(r):[Qw(r[0]),Qw(r[1])])}function mP(t,e,n){let r=gr(t);fP(r);let i=[r[At.ExtraData][0],r[At.ExtraData][1]],o=yr(i,e)||[];return yr(o,n)||[]}function yr(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Qw(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var B$=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Um={},U$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function gP(t,e,n,r){let i=Z$(t);e=uo(n,e)||e;let a=[],c;for(;e;)if(c=U$.exec(e),c){a=a.concat(c.slice(1));let g=a.pop();if(!g)break;e=g}else{a.push(e);break}let l=i.getTimezoneOffset();r&&(l=vP(r,l),i=K$(i,r));let f="";return a.forEach(g=>{let y=W$(g);f+=y?y(i,n,l):g==="''"?"'":g.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function qm(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function uo(t,e){let n=uP(t);if(Um[n]??={},Um[n][e])return Um[n][e];let r="";switch(e){case"shortDate":r=xd(t,Bn.Short);break;case"mediumDate":r=xd(t,Bn.Medium);break;case"longDate":r=xd(t,Bn.Long);break;case"fullDate":r=xd(t,Bn.Full);break;case"shortTime":r=Nd(t,Bn.Short);break;case"mediumTime":r=Nd(t,Bn.Medium);break;case"longTime":r=Nd(t,Bn.Long);break;case"fullTime":r=Nd(t,Bn.Full);break;case"short":let i=uo(t,"shortTime"),o=uo(t,"shortDate");r=jm(Od(t,Bn.Short),[i,o]);break;case"medium":let a=uo(t,"mediumTime"),c=uo(t,"mediumDate");r=jm(Od(t,Bn.Medium),[a,c]);break;case"long":let l=uo(t,"longTime"),f=uo(t,"longDate");r=jm(Od(t,Bn.Long),[l,f]);break;case"full":let g=uo(t,"fullTime"),y=uo(t,"fullDate");r=jm(Od(t,Bn.Full),[g,y]);break}return r&&(Um[n][e]=r),r}function jm(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Br(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let a=String(t);for(;a.length<e;)a="0"+a;return r&&(a=a.slice(a.length-e)),o+a}function j$(t,e){return Br(t,3).substring(0,e)}function kt(t,e,n=0,r=!1,i=!1){return function(o,a){let c=$$(t,o);if((n>0||c>-n)&&(c+=n),t===3)c===0&&n===-12&&(c=12);else if(t===6)return j$(c,e);let l=kd(a,co.MinusSign);return Br(c,e,l,r,i)}}function $$(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function lt(t,e,n=_n.Format,r=!1){return function(i,o){return z$(i,o,t,e,n,r)}}function z$(t,e,n,r,i,o){switch(n){case 2:return dP(e,i,r)[t.getMonth()];case 1:return lP(e,i,r)[t.getDay()];case 0:let a=t.getHours(),c=t.getMinutes();if(o){let f=pP(e),g=mP(e,i,r),y=f.findIndex(I=>{if(Array.isArray(I)){let[E,M]=I,F=a>=E.hours&&c>=E.minutes,V=a<M.hours||a===M.hours&&c<M.minutes;if(E.hours<M.hours){if(F&&V)return!0}else if(F||V)return!0}else if(I.hours===a&&I.minutes===c)return!0;return!1});if(y!==-1)return g[y]}return cP(e,i,r)[a<12?0:1];case 3:return hP(e,r)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function $m(t){return function(e,n,r){let i=-1*r,o=kd(n,co.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Br(a,2,o)+Br(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Br(a,1,o);case 2:return"GMT"+(i>=0?"+":"")+Br(a,2,o)+":"+Br(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Br(a,2,o)+":"+Br(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var H$=0,Hm=4;function q$(t){let e=qm(t,H$,1).getDay();return qm(t,0,1+(e<=Hm?Hm:Hm+7)-e)}function _P(t){let e=t.getDay(),n=e===0?-3:Hm-e;return qm(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Yw(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{let o=_P(n),a=q$(o.getFullYear()),c=o.getTime()-a.getTime();i=1+Math.round(c/6048e5)}return Br(i,t,kd(r,co.MinusSign))}}function zm(t,e=!1){return function(n,r){let o=_P(n).getFullYear();return Br(o,t,kd(r,co.MinusSign),e)}}var Jw={};function W$(t){if(Jw[t])return Jw[t];let e;switch(t){case"G":case"GG":case"GGG":e=lt(3,rt.Abbreviated);break;case"GGGG":e=lt(3,rt.Wide);break;case"GGGGG":e=lt(3,rt.Narrow);break;case"y":e=kt(0,1,0,!1,!0);break;case"yy":e=kt(0,2,0,!0,!0);break;case"yyy":e=kt(0,3,0,!1,!0);break;case"yyyy":e=kt(0,4,0,!1,!0);break;case"Y":e=zm(1);break;case"YY":e=zm(2,!0);break;case"YYY":e=zm(3);break;case"YYYY":e=zm(4);break;case"M":case"L":e=kt(1,1,1);break;case"MM":case"LL":e=kt(1,2,1);break;case"MMM":e=lt(2,rt.Abbreviated);break;case"MMMM":e=lt(2,rt.Wide);break;case"MMMMM":e=lt(2,rt.Narrow);break;case"LLL":e=lt(2,rt.Abbreviated,_n.Standalone);break;case"LLLL":e=lt(2,rt.Wide,_n.Standalone);break;case"LLLLL":e=lt(2,rt.Narrow,_n.Standalone);break;case"w":e=Yw(1);break;case"ww":e=Yw(2);break;case"W":e=Yw(1,!0);break;case"d":e=kt(2,1);break;case"dd":e=kt(2,2);break;case"c":case"cc":e=kt(7,1);break;case"ccc":e=lt(1,rt.Abbreviated,_n.Standalone);break;case"cccc":e=lt(1,rt.Wide,_n.Standalone);break;case"ccccc":e=lt(1,rt.Narrow,_n.Standalone);break;case"cccccc":e=lt(1,rt.Short,_n.Standalone);break;case"E":case"EE":case"EEE":e=lt(1,rt.Abbreviated);break;case"EEEE":e=lt(1,rt.Wide);break;case"EEEEE":e=lt(1,rt.Narrow);break;case"EEEEEE":e=lt(1,rt.Short);break;case"a":case"aa":case"aaa":e=lt(0,rt.Abbreviated);break;case"aaaa":e=lt(0,rt.Wide);break;case"aaaaa":e=lt(0,rt.Narrow);break;case"b":case"bb":case"bbb":e=lt(0,rt.Abbreviated,_n.Standalone,!0);break;case"bbbb":e=lt(0,rt.Wide,_n.Standalone,!0);break;case"bbbbb":e=lt(0,rt.Narrow,_n.Standalone,!0);break;case"B":case"BB":case"BBB":e=lt(0,rt.Abbreviated,_n.Format,!0);break;case"BBBB":e=lt(0,rt.Wide,_n.Format,!0);break;case"BBBBB":e=lt(0,rt.Narrow,_n.Format,!0);break;case"h":e=kt(3,1,-12);break;case"hh":e=kt(3,2,-12);break;case"H":e=kt(3,1);break;case"HH":e=kt(3,2);break;case"m":e=kt(4,1);break;case"mm":e=kt(4,2);break;case"s":e=kt(5,1);break;case"ss":e=kt(5,2);break;case"S":e=kt(6,1);break;case"SS":e=kt(6,2);break;case"SSS":e=kt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=$m(0);break;case"ZZZZZ":e=$m(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$m(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=$m(2);break;default:return null}return Jw[t]=e,e}function vP(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function G$(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function K$(t,e,n){let i=t.getTimezoneOffset(),o=vP(e,i);return G$(t,-1*(o-i))}function Z$(t){if(aP(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,a=1]=t.split("-").map(c=>+c);return qm(i,o-1,a)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(B$))return Q$(r)}let e=new Date(t);if(!aP(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function Q$(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let a=Number(t[4]||0)-n,c=Number(t[5]||0)-r,l=Number(t[6]||0),f=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,a,c,l,f),e}function aP(t){return t instanceof Date&&!isNaN(t.valueOf())}function yP(t,e){return new J(2100,!1)}var Xw=class{createSubscription(e,n){return _r(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){_r(()=>e.unsubscribe())}},eE=class{createSubscription(e,n){return e.then(r=>n?.(r),r=>{throw r}),{unsubscribe:()=>{n=null}}}dispose(e){e.unsubscribe()}},Y$=new eE,J$=new Xw,tE=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(us(n))return Y$;if(Hw(n))return J$;throw yP(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(ae(Sa,16))};static \u0275pipe=$w({name:"async",type:t,pure:!1})}return t})();var X$="mediumDate",wP=new Y(""),EP=new Y(""),nE=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??X$,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return gP(n,a,o||this.locale,c)}catch(a){throw yP(t,a.message)}}static \u0275fac=function(r){return new(r||t)(ae(Bm,16),ae(wP,24),ae(EP,24))};static \u0275pipe=$w({name:"date",type:t,pure:!0})}return t})();var vn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=no({type:t});static \u0275inj=eo({})}return t})();function Ld(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var rE="browser",IP="server";function Wm(t){return t===IP}var Ra=class{};var Zm=new Y(""),uE=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new J(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ue(Zm),ue(Qe))};static \u0275prov=ie({token:t,factory:t.\u0275fac})}return t})(),Fd=class{_doc;constructor(e){this._doc=e}manager},Gm="ng-app-id";function bP(t){for(let e of t)e.remove()}function TP(t,e){let n=e.createElement("style");return n.textContent=t,n}function tz(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Gm}="${e}"],link[${Gm}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Gm),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function sE(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var cE=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Wm(o),tz(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,TP);r?.forEach(i=>this.addUsage(i,this.external,sE))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(bP(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])bP(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,TP(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,sE(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Gm,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ue(Xt),ue(Gi),ue(pw,8),ue(Ia))};static \u0275prov=ie({token:t,factory:t.\u0275fac})}return t})(),oE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},lE=/%COMP%/g;var DP="%COMP%",nz=`_nghost-${DP}`,rz=`_ngcontent-${DP}`,iz=!0,oz=new Y("",{providedIn:"root",factory:()=>iz});function sz(t){return rz.replace(lE,t)}function az(t){return nz.replace(lE,t)}function SP(t,e){return e.map(n=>n.replace(lE,t))}var dE=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,a,c,l,f=null,g=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=f,this.tracingService=g,this.platformIsServer=Wm(c),this.defaultRenderer=new Vd(n,a,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===li.ShadowDom&&(r=Oe(Q({},r),{encapsulation:li.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Km?i.applyToHost(n):i instanceof Bd&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,y=this.platformIsServer,I=this.tracingService;switch(r.encapsulation){case li.Emulated:o=new Km(l,f,r,this.appId,g,a,c,y,I);break;case li.ShadowDom:return new aE(l,f,n,r,a,c,this.nonce,y,I);default:o=new Bd(l,f,r,g,a,c,y,I);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ue(uE),ue(cE),ue(Gi),ue(oz),ue(Xt),ue(Ia),ue(Qe),ue(pw),ue(hc,8))};static \u0275prov=ie({token:t,factory:t.\u0275fac})}return t})(),Vd=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(oE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(CP(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(CP(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new J(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=oE[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=oE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ji.DashCase|Ji.Important)?e.style.setProperty(n,r,i&Ji.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ji.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=vr().getGlobalEventTarget(this.doc,e),!e))throw new J(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function CP(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var aE=class extends Vd{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,a,c,l,f){super(e,o,a,l,f),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=i.styles;g=SP(i.id,g);for(let I of g){let E=document.createElement("style");c&&E.setAttribute("nonce",c),E.textContent=I,this.shadowRoot.appendChild(E)}let y=i.getExternalStyles?.();if(y)for(let I of y){let E=sE(I,o);c&&E.setAttribute("nonce",c),this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Bd=class extends Vd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,a,c,l,f){super(e,o,a,c,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let g=r.styles;this.styles=f?SP(f,g):g,this.styleUrls=r.getExternalStyles?.(f)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Km=class extends Bd{contentAttr;hostAttr;constructor(e,n,r,i,o,a,c,l,f){let g=i+"-"+r.id;super(e,n,r,o,a,c,l,f,g),this.contentAttr=sz(g),this.hostAttr=az(g)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Qm=class t extends Pd{supportsDOMEvents=!0;static makeCurrent(){Kw(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=uz();return n==null?null:cz(n)}resetBaseElement(){Ud=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ld(document.cookie,e)}},Ud=null;function uz(){return Ud=Ud||document.querySelector("base"),Ud?Ud.getAttribute("href"):null}function cz(t){return new URL(t,document.baseURI).pathname}var lz=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac})}return t})(),MP=(()=>{class t extends Fd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ue(Xt))};static \u0275prov=ie({token:t,factory:t.\u0275fac})}return t})(),AP=["alt","control","meta","shift"],dz={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hz={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},RP=(()=>{class t extends Fd{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let a=t.parseEventName(r),c=t.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(n,a.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),AP.forEach(f=>{let g=r.indexOf(f);g>-1&&(r.splice(g,1),a+=f+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=a,l}static matchEventFullKeyCode(n,r){let i=dz[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),AP.forEach(a=>{if(a!==i){let c=hz[a];c(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ue(Xt))};static \u0275prov=ie({token:t,factory:t.\u0275fac})}return t})();function hE(t,e){return YR(Q({rootComponent:t},fz(e)))}function fz(t){return{appProviders:[...vz,...t?.providers??[]],platformProviders:_z}}function pz(){Qm.makeCurrent()}function mz(){return new ci}function gz(){return yM(document),document}var _z=[{provide:Ia,useValue:rE},{provide:fw,useValue:pz,multi:!0},{provide:Xt,useFactory:gz}];var vz=[{provide:_m,useValue:"root"},{provide:ci,useFactory:mz},{provide:Zm,useClass:MP,multi:!0,deps:[Xt]},{provide:Zm,useClass:RP,multi:!0,deps:[Xt]},dE,cE,uE,{provide:ic,useExisting:dE},{provide:Ra,useClass:lz},[]];var yc=class{},jd=class{},ho=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(c=>o.indexOf(c)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Jm=class{encodeKey(e){return PP(e)}encodeValue(e){return PP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function yz(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[a,c]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(a)||[];l.push(c),n.set(a,l)}),n}var wz=/%(\d[a-f0-9])/gi,Ez={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PP(t){return encodeURIComponent(t).replace(wz,(e,n)=>Ez[n]??e)}function Ym(t){return`${t}`}var lo=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Jm,e.fromString){if(e.fromObject)throw new J(2805,!1);this.map=yz(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Ym):[Ym(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Ym(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ym(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Xm=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Iz(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function xP(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function NP(t){return typeof Blob<"u"&&t instanceof Blob}function OP(t){return typeof FormData<"u"&&t instanceof FormData}function bz(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var kP="Content-Type",LP="Accept",FP="X-Request-URL",VP="text/plain",BP="application/json",Tz=`${BP}, ${VP}, */*`,vc=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(Iz(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ho,this.context??=new Xm,!this.params)this.params=new lo,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),l=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+l+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||xP(this.body)||NP(this.body)||OP(this.body)||bz(this.body)?this.body:this.body instanceof lo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||OP(this.body)?null:NP(this.body)?this.body.type||null:xP(this.body)?null:typeof this.body=="string"?VP:this.body instanceof lo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?BP:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,f=e.headers||this.headers,g=e.params||this.params,y=e.context??this.context;return e.setHeaders!==void 0&&(f=Object.keys(e.setHeaders).reduce((I,E)=>I.set(E,e.setHeaders[E]),f)),e.setParams&&(g=Object.keys(e.setParams).reduce((I,E)=>I.set(E,e.setParams[E]),g)),new t(n,r,a,{params:g,headers:f,context:y,reportProgress:l,responseType:i,withCredentials:c,transferCache:o})}},Pa=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Pa||{}),wc=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new ho,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},eg=class t extends wc{constructor(e={}){super(e)}type=Pa.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},xa=class t extends wc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Pa.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},$d=class extends wc{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Cz=200,Dz=204;function fE(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ng=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof vc)o=n;else{let l;i.headers instanceof ho?l=i.headers:l=new ho(i.headers);let f;i.params&&(i.params instanceof lo?f=i.params:f=new lo({fromObject:i.params})),o=new vc(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let a=te(o).pipe(Jo(l=>this.handler.handle(l)));if(n instanceof vc||i.observe==="events")return a;let c=a.pipe(Yn(l=>l instanceof xa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(ge(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new J(2806,!1);return l.body}));case"blob":return c.pipe(ge(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new J(2807,!1);return l.body}));case"text":return c.pipe(ge(l=>{if(l.body!==null&&typeof l.body!="string")throw new J(2808,!1);return l.body}));case"json":default:return c.pipe(ge(l=>l.body))}case"response":return c;default:throw new J(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new lo().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,fE(i,r))}post(n,r,i={}){return this.request("POST",n,fE(i,r))}put(n,r,i={}){return this.request("PUT",n,fE(i,r))}static \u0275fac=function(r){return new(r||t)(ue(yc))};static \u0275prov=ie({token:t,factory:t.\u0275fac})}return t})();var Sz=new Y("");function Az(t,e){return e(t)}function Mz(t,e,n){return(r,i)=>cn(n,()=>e(r,o=>t(o,i)))}var UP=new Y(""),mE=new Y(""),jP=new Y("",{providedIn:"root",factory:()=>!0});var tg=(()=>{class t extends yc{backend;injector;chain=null;pendingTasks=z(mi);contributeToStability=z(jP);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(UP),...this.injector.get(mE,[])]));this.chain=r.reduceRight((i,o)=>Mz(i,o,this.injector),Az)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ra(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(ue(jd),ue(Yt))};static \u0275prov=ie({token:t,factory:t.\u0275fac})}return t})();var Rz=/^\)\]\}',?\n/,Pz=RegExp(`^${FP}:`,"m");function xz(t){return"responseURL"in t&&t.responseURL?t.responseURL:Pz.test(t.getAllResponseHeaders())?t.getResponseHeader(FP):null}var pE=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new J(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ke(r.\u0275loadImpl()):te(null)).pipe(Qt(()=>new Me(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((F,V)=>a.setRequestHeader(F,V.join(","))),n.headers.has(LP)||a.setRequestHeader(LP,Tz),!n.headers.has(kP)){let F=n.detectContentTypeHeader();F!==null&&a.setRequestHeader(kP,F)}if(n.responseType){let F=n.responseType.toLowerCase();a.responseType=F!=="json"?F:"text"}let c=n.serializeBody(),l=null,f=()=>{if(l!==null)return l;let F=a.statusText||"OK",V=new ho(a.getAllResponseHeaders()),K=xz(a)||n.url;return l=new eg({headers:V,status:a.status,statusText:F,url:K}),l},g=()=>{let{headers:F,status:V,statusText:K,url:oe}=f(),X=null;V!==Dz&&(X=typeof a.response>"u"?a.responseText:a.response),V===0&&(V=X?Cz:0);let Le=V>=200&&V<300;if(n.responseType==="json"&&typeof X=="string"){let Rt=X;X=X.replace(Rz,"");try{X=X!==""?JSON.parse(X):null}catch(He){X=Rt,Le&&(Le=!1,X={error:He,text:X})}}Le?(o.next(new xa({body:X,headers:F,status:V,statusText:K,url:oe||void 0})),o.complete()):o.error(new $d({error:X,headers:F,status:V,statusText:K,url:oe||void 0}))},y=F=>{let{url:V}=f(),K=new $d({error:F,status:a.status||0,statusText:a.statusText||"Unknown Error",url:V||void 0});o.error(K)},I=!1,E=F=>{I||(o.next(f()),I=!0);let V={type:Pa.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(V.total=F.total),n.responseType==="text"&&a.responseText&&(V.partialText=a.responseText),o.next(V)},M=F=>{let V={type:Pa.UploadProgress,loaded:F.loaded};F.lengthComputable&&(V.total=F.total),o.next(V)};return a.addEventListener("load",g),a.addEventListener("error",y),a.addEventListener("timeout",y),a.addEventListener("abort",y),n.reportProgress&&(a.addEventListener("progress",E),c!==null&&a.upload&&a.upload.addEventListener("progress",M)),a.send(c),o.next({type:Pa.Sent}),()=>{a.removeEventListener("error",y),a.removeEventListener("abort",y),a.removeEventListener("load",g),a.removeEventListener("timeout",y),n.reportProgress&&(a.removeEventListener("progress",E),c!==null&&a.upload&&a.upload.removeEventListener("progress",M)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||t)(ue(Ra))};static \u0275prov=ie({token:t,factory:t.\u0275fac})}return t})(),$P=new Y(""),Nz="XSRF-TOKEN",Oz=new Y("",{providedIn:"root",factory:()=>Nz}),kz="X-XSRF-TOKEN",Lz=new Y("",{providedIn:"root",factory:()=>kz}),zd=class{},Fz=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ld(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(ue(Xt),ue(Oz))};static \u0275prov=ie({token:t,factory:t.\u0275fac})}return t})();function Vz(t,e){let n=t.url.toLowerCase();if(!z($P)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=z(zd).getToken(),i=z(Lz);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function gE(...t){let e=[ng,pE,tg,{provide:yc,useExisting:tg},{provide:jd,useFactory:()=>z(Sz,{optional:!0})??z(pE)},{provide:UP,useValue:Vz,multi:!0},{provide:$P,useValue:!0},{provide:zd,useClass:Fz}];for(let n of t)e.push(...n.\u0275providers);return kn(e)}var Bz=new Y(""),Uz="b",jz="h",$z="s",zz="st",Hz="u",qz="rt",_E=new Y(""),Wz=["GET","HEAD"];function Gz(t,e){let I=z(_E),{isCacheActive:n}=I,r=sD(I,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!Wz.includes(o)||!r.includeRequestsWithAuthHeaders&&Kz(t)||r.filter?.(t)===!1)return e(t);let a=z(dc);if(z(Bz,{optional:!0}))throw new J(2803,!1);let l=t.url,f=Zz(t,l),g=a.get(f,null),y=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(y=i.includeHeaders),g){let{[Uz]:E,[qz]:M,[jz]:F,[$z]:V,[zz]:K,[Hz]:oe}=g,X=E;switch(M){case"arraybuffer":X=new TextEncoder().encode(E).buffer;break;case"blob":X=new Blob([E]);break}let Le=new ho(F);return te(new xa({body:X,headers:Le,status:V,statusText:K,url:oe}))}return e(t).pipe(pt(E=>{E instanceof xa}))}function Kz(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function zP(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function Zz(t,e){let{params:n,method:r,responseType:i}=t,o=zP(n),a=t.serializeBody();a instanceof URLSearchParams?a=zP(a):typeof a!="string"&&(a="");let c=[r,i,e,a,o].join("|"),l=Qz(c);return l}function Qz(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function HP(t){return[{provide:_E,useFactory:()=>(gi("NgHttpTransferCache"),Q({isCacheActive:!0},t))},{provide:mE,useValue:Gz,multi:!0},{provide:ba,multi:!0,useFactory:()=>{let e=z(On),n=z(_E);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var qP=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ue(Xt))};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rg=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(rg||{});function Jz(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function WP(){return Jz(rg.EventReplay,JR())}function GP(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has(rg.HttpTransferCacheOptions);return kn([[],XR(),n.has(rg.NoHttpTransferCache)||r?[]:HP({}),e])}var De="primary",rh=Symbol("RouteTitle"),IE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ka(t){return new IE(t)}function tx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],c=t[o];if(a[0]===":")i[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function eH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!vi(t[n],e[n]))return!1;return!0}function vi(t,e){let n=t?bE(t):void 0,r=e?bE(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!nx(t[i],e[i]))return!1;return!0}function bE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nx(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function rx(t){return t.length>0?t[t.length-1]:null}function hs(t){return vy(t)?t:us(t)?ke(Promise.resolve(t)):te(t)}var tH={exact:ox,subset:sx},ix={exact:nH,subset:rH,ignored:()=>!0};function KP(t,e,n){return tH[n.paths](t.root,e.root,n.matrixParams)&&ix[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function nH(t,e){return vi(t,e)}function ox(t,e,n){if(!Na(t.segments,e.segments)||!sg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!ox(t.children[r],e.children[r],n))return!1;return!0}function rH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nx(t[n],e[n]))}function sx(t,e,n){return ax(t,e,e.segments,n)}function ax(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Na(i,n)||e.hasChildren()||!sg(i,n,r))}else if(t.segments.length===n.length){if(!Na(t.segments,n)||!sg(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!sx(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Na(t.segments,i)||!sg(t.segments,i,r)||!t.children[De]?!1:ax(t.children[De],e,o,r)}}function sg(t,e,n){return e.every((r,i)=>ix[n](t[i].parameters,r.parameters))}var wi=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ka(this.queryParams),this._queryParamMap}toString(){return sH.serialize(this)}},Ye=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ag(this)}},ls=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ka(this.parameters),this._parameterMap}toString(){return cx(this)}};function iH(t,e){return Na(t,e)&&t.every((n,r)=>vi(n.parameters,e[r].parameters))}function Na(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function oH(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===De&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==De&&(n=n.concat(e(i,r)))}),n}var ih=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:()=>new La,providedIn:"root"})}return t})(),La=class{parse(e){let n=new CE(e);return new wi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Hd(e.root,!0)}`,r=cH(e.queryParams),i=typeof e.fragment=="string"?`#${aH(e.fragment)}`:"";return`${n}${r}${i}`}},sH=new La;function ag(t){return t.segments.map(e=>cx(e)).join("/")}function Hd(t,e){if(!t.hasChildren())return ag(t);if(e){let n=t.children[De]?Hd(t.children[De],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==De&&r.push(`${i}:${Hd(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=oH(t,(r,i)=>i===De?[Hd(t.children[De],!1)]:[`${i}:${Hd(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[De]!=null?`${ag(t)}/${n[0]}`:`${ag(t)}/(${n.join("//")})`}}function ux(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ig(t){return ux(t).replace(/%3B/gi,";")}function aH(t){return encodeURI(t)}function TE(t){return ux(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ug(t){return decodeURIComponent(t)}function ZP(t){return ug(t.replace(/\+/g,"%20"))}function cx(t){return`${TE(t.path)}${uH(t.parameters)}`}function uH(t){return Object.entries(t).map(([e,n])=>`;${TE(e)}=${TE(n)}`).join("")}function cH(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ig(n)}=${ig(i)}`).join("&"):`${ig(n)}=${ig(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var lH=/^[^\/()?;#]+/;function vE(t){let e=t.match(lH);return e?e[0]:""}var dH=/^[^\/()?;=#]+/;function hH(t){let e=t.match(dH);return e?e[0]:""}var fH=/^[^=?&#]+/;function pH(t){let e=t.match(fH);return e?e[0]:""}var mH=/^[^&#]+/;function gH(t){let e=t.match(mH);return e?e[0]:""}var CE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[De]=new Ye(e,n)),r}parseSegment(){let e=vE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(e),new ls(ug(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=hH(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=vE(this.remaining);i&&(r=i,this.capture(r))}e[ug(n)]=ug(r)}parseQueryParam(e){let n=pH(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=gH(this.remaining);a&&(r=a,this.capture(r))}let i=ZP(n),o=ZP(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=vE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new J(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=De);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[De]:new Ye([],a),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new J(4011,!1)}};function lx(t){return t.segments.length>0?new Ye([],{[De]:t}):t}function dx(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=dx(i);if(r===De&&o.segments.length===0&&o.hasChildren())for(let[a,c]of Object.entries(o.children))e[a]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ye(t.segments,e);return _H(n)}function _H(t){if(t.numberOfChildren===1&&t.children[De]){let e=t.children[De];return new Ye(t.segments.concat(e.segments),e.children)}return t}function ds(t){return t instanceof wi}function hx(t,e,n=null,r=null){let i=fx(t);return px(i,e,n,r)}function fx(t){let e;function n(o){let a={};for(let l of o.children){let f=n(l);a[l.outlet]=f}let c=new Ye(o.url,a);return o===t&&(e=c),c}let r=n(t.root),i=lx(r);return e??i}function px(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return yE(i,i,i,n,r);let o=vH(e);if(o.toRoot())return yE(i,i,new Ye([],{}),n,r);let a=yH(o,i,t),c=a.processChildren?Wd(a.segmentGroup,a.index,o.commands):gx(a.segmentGroup,a.index,o.commands);return yE(i,a.segmentGroup,c,n,r)}function lg(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Kd(t){return typeof t=="object"&&t!=null&&t.outlets}function yE(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,f])=>{o[l]=Array.isArray(f)?f.map(g=>`${g}`):`${f}`});let a;t===e?a=n:a=mx(t,e,n);let c=lx(dx(a));return new wi(c,o,i)}function mx(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=mx(o,e,n)}),new Ye(t.segments,r)}var dg=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&lg(r[0]))throw new J(4003,!1);let i=r.find(Kd);if(i&&i!==rx(r))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function vH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new dg(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([l,f])=>{c[l]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new dg(n,e,r)}var bc=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function yH(t,e,n){if(t.isAbsolute)return new bc(e,!0,0);if(!n)return new bc(e,!1,NaN);if(n.parent===null)return new bc(n,!0,0);let r=lg(t.commands[0])?0:1,i=n.segments.length-1+r;return wH(n,i,t.numberOfDoubleDots)}function wH(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new J(4005,!1);i=r.segments.length}return new bc(r,!1,i-o)}function EH(t){return Kd(t[0])?t[0].outlets:{[De]:t}}function gx(t,e,n){if(t??=new Ye([],{}),t.segments.length===0&&t.hasChildren())return Wd(t,e,n);let r=IH(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ye(t.segments.slice(0,r.pathIndex),{});return o.children[De]=new Ye(t.segments.slice(r.pathIndex),t.children),Wd(o,0,i)}else return r.match&&i.length===0?new Ye(t.segments,{}):r.match&&!t.hasChildren()?DE(t,e,n):r.match?Wd(t,0,i):DE(t,e,n)}function Wd(t,e,n){if(n.length===0)return new Ye(t.segments,{});{let r=EH(n),i={};if(Object.keys(r).some(o=>o!==De)&&t.children[De]&&t.numberOfChildren===1&&t.children[De].segments.length===0){let o=Wd(t.children[De],e,n);return new Ye(t.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=gx(t.children[o],e,a))}),Object.entries(t.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new Ye(t.segments,i)}}function IH(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let a=t.segments[i],c=n[r];if(Kd(c))break;let l=`${c}`,f=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&f&&typeof f=="object"&&f.outlets===void 0){if(!YP(l,f,a))return o;r+=2}else{if(!YP(l,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function DE(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Kd(o)){let l=bH(o.outlets);return new Ye(r,l)}if(i===0&&lg(n[0])){let l=t.segments[e];r.push(new ls(l.path,QP(n[0]))),i++;continue}let a=Kd(o)?o.outlets[De]:`${o}`,c=i<n.length-1?n[i+1]:null;a&&c&&lg(c)?(r.push(new ls(a,QP(c))),i+=2):(r.push(new ls(a,{})),i++)}return new Ye(r,{})}function bH(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=DE(new Ye([],{}),0,r))}),e}function QP(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function YP(t,e,n){return t==n.path&&vi(e,n.parameters)}var cg="imperative",en=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(en||{}),or=class{id;url;constructor(e,n){this.id=e,this.url=n}},Fa=class extends or{type=en.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ei=class extends or{urlAfterRedirects;type=en.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Un=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Un||{}),Zd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Zd||{}),yi=class extends or{reason;code;type=en.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fo=class extends or{reason;code;type=en.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Cc=class extends or{error;target;type=en.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qd=class extends or{urlAfterRedirects;state;type=en.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hg=class extends or{urlAfterRedirects;state;type=en.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fg=class extends or{urlAfterRedirects;state;shouldActivate;type=en.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pg=class extends or{urlAfterRedirects;state;type=en.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mg=class extends or{urlAfterRedirects;state;type=en.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gg=class{route;type=en.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_g=class{route;type=en.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vg=class{snapshot;type=en.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yg=class{snapshot;type=en.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wg=class{snapshot;type=en.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eg=class{snapshot;type=en.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Yd=class{},Dc=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function TH(t,e){return t.providers&&!t._injector&&(t._injector=Md(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ur(t){return t.outlet||De}function CH(t,e){let n=t.filter(r=>Ur(r)===e);return n.push(...t.filter(r=>Ur(r)!==e)),n}function oh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ig=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return oh(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Mc(this.rootInjector)}},Mc=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ig(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ue(Yt))};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bg=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=SE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=SE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=AE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return AE(e,this._root).map(n=>n.value)}};function SE(t,e){if(t===e.value)return e;for(let n of e.children){let r=SE(t,n);if(r)return r}return null}function AE(t,e){if(t===e.value)return[e];for(let n of e.children){let r=AE(t,n);if(r.length)return r.unshift(e),r}return[]}var ir=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ic(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Jd=class extends bg{snapshot;constructor(e,n){super(e),this.snapshot=n,LE(this,e)}toString(){return this.snapshot.toString()}};function _x(t){let e=DH(t),n=new jt([new ls("",{})]),r=new jt({}),i=new jt({}),o=new jt({}),a=new jt(""),c=new po(n,r,o,a,i,De,t,e.root);return c.snapshot=e.root,new Jd(new ir(c,[]),e)}function DH(t){let e={},n={},r={},i="",o=new Oa([],e,r,i,n,De,t,null,{});return new Xd("",new ir(o,[]))}var po=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,a,c,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ge(f=>f[rh]))??te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ge(e=>ka(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ge(e=>ka(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Tg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Q(Q({},e.params),t.params),data:Q(Q({},e.data),t.data),resolve:Q(Q(Q(Q({},t.data),e.data),i?.data),t._resolvedData)}:r={params:Q({},t.params),data:Q({},t.data),resolve:Q(Q({},t.data),t._resolvedData??{})},i&&yx(i)&&(r.resolve[rh]=i.title),r}var Oa=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[rh]}constructor(e,n,r,i,o,a,c,l,f){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=c,this.routeConfig=l,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ka(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ka(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Xd=class extends bg{url;constructor(e,n){super(n),this.url=e,LE(this,n)}toString(){return vx(this._root)}};function LE(t,e){e.value._routerState=t,e.children.forEach(n=>LE(t,n))}function vx(t){let e=t.children.length>0?` { ${t.children.map(vx).join(", ")} } `:"";return`${t.value}${e}`}function wE(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),vi(e.params,n.params)||t.paramsSubject.next(n.params),eH(e.url,n.url)||t.urlSubject.next(n.url),vi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ME(t,e){let n=vi(t.params,e.params)&&iH(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ME(t.parent,e.parent))}function yx(t){return typeof t.title=="string"||t.title===null}var wx=new Y(""),sh=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=De;activateEvents=new wt;deactivateEvents=new wt;attachEvents=new wt;detachEvents=new wt;routerOutletData=lM(void 0);parentContexts=z(Mc);location=z(pc);changeDetector=z(Sa);inputBinder=z(Ag,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=n;let i=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new RE(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ot({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[is]})}return t})(),RE=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===po?this.route:e===Mc?this.childContexts:e===wx?this.outletData:this.parent.get(e,n)}},Ag=new Y("");var FE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ct({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&nt(0,"router-outlet")},dependencies:[sh],encapsulation:2})}return t})();function VE(t){let e=t.children&&t.children.map(VE),n=e?Oe(Q({},t),{children:e}):Q({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==De&&(n.component=FE),n}function SH(t,e,n){let r=eh(t,e._root,n?n._root:void 0);return new Jd(r,e)}function eh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=AH(t,e,n);return new ir(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(c=>eh(t,c)),a}}let r=MH(e.value),i=e.children.map(o=>eh(t,o));return new ir(r,i)}}function AH(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return eh(t,r,i);return eh(t,r)})}function MH(t){return new po(new jt(t.url),new jt(t.params),new jt(t.queryParams),new jt(t.fragment),new jt(t.data),t.outlet,t.component,t)}var Sc=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Ex="ngNavigationCancelingError";function Cg(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ds(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ix(!1,Un.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ix(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Ex]=!0,n.cancellationCode=e,n}function RH(t){return bx(t)&&ds(t.url)}function bx(t){return!!t&&t[Ex]}var PH=(t,e,n,r)=>ge(i=>(new PE(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),PE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),wE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ic(n);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,n,a.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ic(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ic(e);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ic(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Eg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new yg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(wE(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),wE(c.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},Dg=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Tc=class{component;route;constructor(e,n){this.component=e,this.route=n}};function xH(t,e,n){let r=t._root,i=e?e._root:null;return qd(r,i,n,[r.value])}function NH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Rc(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!oA(t)?t:e.get(t):r}function qd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ic(e);return t.children.forEach(a=>{OH(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,c])=>Gd(c,n.getContext(a),i)),i}function OH(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,a=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let l=kH(a,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Dg(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?qd(t,e,c?c.children:null,r,i):qd(t,e,n,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Tc(c.outlet.component,a))}else a&&Gd(e,c,i),i.canActivateChecks.push(new Dg(r)),o.component?qd(t,null,c?c.children:null,r,i):qd(t,null,n,r,i);return i}function kH(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Na(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Na(t.url,e.url)||!vi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ME(t,e)||!vi(t.queryParams,e.queryParams);case"paramsChange":default:return!ME(t,e)}}function Gd(t,e,n){let r=Ic(t),i=t.value;Object.entries(r).forEach(([o,a])=>{i.component?e?Gd(a,e.children.getContext(o),n):Gd(a,null,n):Gd(a,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Tc(e.outlet.component,i)):n.canDeactivateChecks.push(new Tc(null,i)):n.canDeactivateChecks.push(new Tc(null,i))}function ah(t){return typeof t=="function"}function LH(t){return typeof t=="boolean"}function FH(t){return t&&ah(t.canLoad)}function VH(t){return t&&ah(t.canActivate)}function BH(t){return t&&ah(t.canActivateChild)}function UH(t){return t&&ah(t.canDeactivate)}function jH(t){return t&&ah(t.canMatch)}function Tx(t){return t instanceof Sr||t?.name==="EmptyError"}var og=Symbol("INITIAL_VALUE");function Ac(){return Qt(t=>Ep(t.map(e=>e.pipe(qi(1),Iy(og)))).pipe(ge(e=>{for(let n of e)if(n!==!0){if(n===og)return og;if(n===!1||$H(n))return n}return!0}),Yn(e=>e!==og),qi(1)))}function $H(t){return ds(t)||t instanceof Sc}function zH(t,e){return $t(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?te(Oe(Q({},n),{guardsResult:!0})):HH(a,r,i,t).pipe($t(c=>c&&LH(c)?qH(r,o,t,e):te(c)),ge(c=>Oe(Q({},n),{guardsResult:c})))})}function HH(t,e,n,r){return ke(t).pipe($t(i=>QH(i.component,i.route,n,e,r)),Wi(i=>i!==!0,!0))}function qH(t,e,n,r){return ke(e).pipe(Jo(i=>zu(GH(i.route.parent,r),WH(i.route,r),ZH(t,i.path,n),KH(t,i.route,n))),Wi(i=>i!==!0,!0))}function WH(t,e){return t!==null&&e&&e(new wg(t)),te(!0)}function GH(t,e){return t!==null&&e&&e(new vg(t)),te(!0)}function KH(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>Ip(()=>{let a=oh(e)??n,c=Rc(o,a),l=VH(c)?c.canActivate(e,t):cn(a,()=>c(e,t));return hs(l).pipe(Wi())}));return te(i).pipe(Ac())}function ZH(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>NH(a)).filter(a=>a!==null).map(a=>Ip(()=>{let c=a.guards.map(l=>{let f=oh(a.node)??n,g=Rc(l,f),y=BH(g)?g.canActivateChild(r,t):cn(f,()=>g(r,t));return hs(y).pipe(Wi())});return te(c).pipe(Ac())}));return te(o).pipe(Ac())}function QH(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let a=o.map(c=>{let l=oh(e)??i,f=Rc(c,l),g=UH(f)?f.canDeactivate(t,e,n,r):cn(l,()=>f(t,e,n,r));return hs(g).pipe(Wi())});return te(a).pipe(Ac())}function YH(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(a=>{let c=Rc(a,t),l=FH(c)?c.canLoad(e,n):cn(t,()=>c(e,n));return hs(l)});return te(o).pipe(Ac(),Cx(r))}function Cx(t){return ly(pt(e=>{if(typeof e!="boolean")throw Cg(t,e)}),ge(e=>e===!0))}function JH(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(a=>{let c=Rc(a,t),l=jH(c)?c.canMatch(e,n):cn(t,()=>c(e,n));return hs(l)});return te(o).pipe(Ac(),Cx(r))}var th=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},nh=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ec(t){return $u(new th(t))}function XH(t){return $u(new J(4e3,!1))}function e5(t){return $u(Ix(!1,Un.GuardRejected))}var xE=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[De])return XH(`${e.redirectTo}`);i=i.children[De]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:l,fragment:f,routeConfig:g,url:y,outlet:I,params:E,data:M,title:F}=i,V=cn(o,()=>c({params:E,data:M,queryParams:l,fragment:f,routeConfig:g,url:y,outlet:I,title:F}));if(V instanceof wi)throw new nh(V);n=V}let a=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new nh(a);return a}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new wi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),a={};return Object.entries(n.children).forEach(([c,l])=>{a[c]=this.createSegmentGroup(e,l,r,i)}),new Ye(o,a)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new J(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},NE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function t5(t,e,n,r,i){let o=Dx(t,e,n);return o.matched?(r=TH(e,r),JH(r,e,n,i).pipe(ge(a=>a===!0?o:Q({},NE)))):te(o)}function Dx(t,e,n){if(e.path==="**")return n5(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?Q({},NE):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||tx)(n,t,e);if(!i)return Q({},NE);let o={};Object.entries(i.posParams??{}).forEach(([c,l])=>{o[c]=l.path});let a=i.consumed.length>0?Q(Q({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function n5(t){return{matched:!0,parameters:t.length>0?rx(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function JP(t,e,n,r){return n.length>0&&o5(t,n,r)?{segmentGroup:new Ye(e,i5(r,new Ye(n,t.children))),slicedSegments:[]}:n.length===0&&s5(t,n,r)?{segmentGroup:new Ye(t.segments,r5(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ye(t.segments,t.children),slicedSegments:n}}function r5(t,e,n,r){let i={};for(let o of n)if(Mg(t,e,o)&&!r[Ur(o)]){let a=new Ye([],{});i[Ur(o)]=a}return Q(Q({},r),i)}function i5(t,e){let n={};n[De]=e;for(let r of t)if(r.path===""&&Ur(r)!==De){let i=new Ye([],{});n[Ur(r)]=i}return n}function o5(t,e,n){return n.some(r=>Mg(t,e,r)&&Ur(r)!==De)}function s5(t,e,n){return n.some(r=>Mg(t,e,r))}function Mg(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function a5(t,e,n){return e.length===0&&!t.children[n]}var OE=class{};function u5(t,e,n,r,i,o,a="emptyOnly"){return new kE(t,e,n,r,i,a,o).recognize()}var c5=31,kE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,a,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new xE(this.urlSerializer,this.urlTree)}noMatchError(e){return new J(4002,`'${e.segmentGroup}'`)}recognize(){let e=JP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ge(({children:n,rootSnapshot:r})=>{let i=new ir(r,n),o=new Xd("",i),a=hx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(e){let n=new Oa([],Object.freeze({}),Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),De,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,De,n).pipe(ge(r=>({children:r,rootSnapshot:n})),Tt(r=>{if(r instanceof nh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof th?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ge(a=>a instanceof ir?[a]:[]))}processChildren(e,n,r,i){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return ke(o).pipe(Jo(a=>{let c=r.children[a],l=CH(n,a);return this.processSegmentGroup(e,l,c,a,i)}),Ey((a,c)=>(a.push(...c),a)),Xo(null),wy(),$t(a=>{if(a===null)return Ec(r);let c=Sx(a);return l5(c),te(c)}))}processSegment(e,n,r,i,o,a,c){return ke(n).pipe(Jo(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,a,c).pipe(Tt(f=>{if(f instanceof th)return te(null);throw f}))),Wi(l=>!!l),Tt(l=>{if(Tx(l))return a5(r,i,o)?te(new OE):Ec(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,a,c,l){return Ur(r)!==a&&(a===De||!Mg(i,o,r))?Ec(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,a,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,a,l):Ec(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,a,c){let{matched:l,parameters:f,consumedSegments:g,positionalParamSegments:y,remainingSegments:I}=Dx(n,i,o);if(!l)return Ec(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>c5&&(this.allowRedirects=!1));let E=new Oa(o,f,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,XP(i),Ur(i),i.component??i._loadedComponent??null,i,ex(i)),M=Tg(E,c,this.paramsInheritanceStrategy);E.params=Object.freeze(M.params),E.data=Object.freeze(M.data);let F=this.applyRedirects.applyRedirectCommands(g,i.redirectTo,y,E,e);return this.applyRedirects.lineralizeSegments(i,F).pipe($t(V=>this.processSegment(e,r,n,V.concat(I),a,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,a){let c=t5(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Qt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Qt(({routes:f})=>{let g=r._loadedInjector??e,{parameters:y,consumedSegments:I,remainingSegments:E}=l,M=new Oa(I,y,Object.freeze(Q({},this.urlTree.queryParams)),this.urlTree.fragment,XP(r),Ur(r),r.component??r._loadedComponent??null,r,ex(r)),F=Tg(M,a,this.paramsInheritanceStrategy);M.params=Object.freeze(F.params),M.data=Object.freeze(F.data);let{segmentGroup:V,slicedSegments:K}=JP(n,I,E,f);if(K.length===0&&V.hasChildren())return this.processChildren(g,f,V,M).pipe(ge(X=>new ir(M,X)));if(f.length===0&&K.length===0)return te(new ir(M,[]));let oe=Ur(r)===o;return this.processSegment(g,f,V,K,oe?De:o,!0,M).pipe(ge(X=>new ir(M,X instanceof ir?[X]:[])))}))):Ec(n)))}getChildConfig(e,n,r){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):YH(e,n,r,this.urlSerializer).pipe($t(i=>i?this.configLoader.loadChildren(e,n).pipe(pt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):e5(n))):te({routes:[],injector:e})}};function l5(t){t.sort((e,n)=>e.value.outlet===De?-1:n.value.outlet===De?1:e.value.outlet.localeCompare(n.value.outlet))}function d5(t){let e=t.value.routeConfig;return e&&e.path===""}function Sx(t){let e=[],n=new Set;for(let r of t){if(!d5(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Sx(r.children);e.push(new ir(r.value,i))}return e.filter(r=>!n.has(r))}function XP(t){return t.data||{}}function ex(t){return t.resolve||{}}function h5(t,e,n,r,i,o){return $t(a=>u5(t,e,n,r,a.extractedUrl,i,o).pipe(ge(({state:c,tree:l})=>Oe(Q({},a),{targetSnapshot:c,urlAfterRedirects:l}))))}function f5(t,e){return $t(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let o=new Set(i.map(l=>l.route)),a=new Set;for(let l of o)if(!a.has(l))for(let f of Ax(l))a.add(f);let c=0;return ke(a).pipe(Jo(l=>o.has(l)?p5(l,r,t,e):(l.data=Tg(l,l.parent,t).resolve,te(void 0))),pt(()=>c++),Hu(1),$t(l=>c===a.size?te(n):Rn))})}function Ax(t){let e=t.children.map(n=>Ax(n)).flat();return[t,...e]}function p5(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!yx(i)&&(o[rh]=i.title),m5(o,t,e,r).pipe(ge(a=>(t._resolvedData=a,t.data=Tg(t,t.parent,n).resolve,null)))}function m5(t,e,n,r){let i=bE(t);if(i.length===0)return te({});let o={};return ke(i).pipe($t(a=>g5(t[a],e,n,r).pipe(Wi(),pt(c=>{if(c instanceof Sc)throw Cg(new La,c);o[a]=c}))),Hu(1),ge(()=>o),Tt(a=>Tx(a)?Rn:$u(a)))}function g5(t,e,n,r){let i=oh(e)??r,o=Rc(t,i),a=o.resolve?o.resolve(e,n):cn(i,()=>o(e,n));return hs(a)}function EE(t){return Qt(e=>{let n=t(e);return n?ke(n).pipe(ge(()=>e)):te(e)})}var BE=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===De);return r}getResolvedTitleForRoute(n){return n.data[rh]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:()=>z(Mx),providedIn:"root"})}return t})(),Mx=(()=>{class t extends BE{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ue(qP))};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uh=new Y("",{providedIn:"root",factory:()=>({})}),ch=new Y(""),Rx=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=z(GR);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return te(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=hs(n.loadComponent()).pipe(ge(xx),pt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ra(()=>{this.componentLoaders.delete(n)})),i=new Vu(r,()=>new ot).pipe(Fu());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Px(r,this.compiler,n,this.onLoadEndListener).pipe(ra(()=>{this.childrenLoaders.delete(r)})),a=new Vu(o,()=>new ot).pipe(Fu());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Px(t,e,n,r){return hs(t.loadChildren()).pipe(ge(xx),$t(i=>i instanceof jw||Array.isArray(i)?te(i):ke(e.compileModuleAsync(i))),ge(i=>{r&&r(t);let o,a,c=!1;return Array.isArray(i)?(a=i,c=!0):(o=i.create(n).injector,a=o.get(ch,[],{optional:!0,self:!0}).flat()),{routes:a.map(VE),injector:o}}))}function _5(t){return t&&typeof t=="object"&&"default"in t}function xx(t){return _5(t)?t.default:t}var Rg=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:()=>z(v5),providedIn:"root"})}return t})(),v5=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nx=new Y("");var Ox=new Y(""),kx=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ot;transitionAbortSubject=new ot;configLoader=z(Rx);environmentInjector=z(Yt);destroyRef=z(cc);urlSerializer=z(ih);rootContexts=z(Mc);location=z(_c);inputBindingEnabled=z(Ag,{optional:!0})!==null;titleStrategy=z(BE);options=z(uh,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=z(Rg);createViewTransition=z(Nx,{optional:!0});navigationErrorHandler=z(Ox,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>te(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new gg(i)),r=i=>this.events.next(new _g(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Oe(Q({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new jt(null),this.transitions.pipe(Yn(r=>r!==null),Qt(r=>{let i=!1,o=!1;return te(r).pipe(Qt(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Un.SupersededByNewNavigation),Rn;this.currentTransition=r,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Oe(Q({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&l!=="reload"){let f="";return this.events.next(new fo(a.id,this.urlSerializer.serialize(a.rawUrl),f,Zd.IgnoredSameUrlNavigation)),a.resolve(!1),Rn}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return te(a).pipe(Qt(f=>(this.events.next(new Fa(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?Rn:Promise.resolve(f))),h5(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),pt(f=>{r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Oe(Q({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let g=new Qd(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:f,extractedUrl:g,source:y,restoredState:I,extras:E}=a,M=new Fa(f,this.urlSerializer.serialize(g),y,I);this.events.next(M);let F=_x(this.rootComponentType).snapshot;return this.currentTransition=r=Oe(Q({},a),{targetSnapshot:F,urlAfterRedirects:g,extras:Oe(Q({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,te(r)}else{let f="";return this.events.next(new fo(a.id,this.urlSerializer.serialize(a.extractedUrl),f,Zd.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Rn}}),pt(a=>{let c=new hg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),ge(a=>(this.currentTransition=r=Oe(Q({},a),{guards:xH(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r)),zH(this.environmentInjector,a=>this.events.next(a)),pt(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Cg(this.urlSerializer,a.guardsResult);let c=new fg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(c)}),Yn(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Un.GuardRejected),!1)),EE(a=>{if(a.guards.canActivateChecks.length!==0)return te(a).pipe(pt(c=>{let l=new pg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Qt(c=>{let l=!1;return te(c).pipe(f5(this.paramsInheritanceStrategy,this.environmentInjector),pt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(c,"",Un.NoDataFromResolver)}}))}),pt(c=>{let l=new mg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}))}),EE(a=>{let c=l=>{let f=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(l.routeConfig).pipe(pt(g=>{l.component=g}),ge(()=>{})));for(let g of l.children)f.push(...c(g));return f};return Ep(c(a.targetSnapshot.root)).pipe(Xo(null),qi(1))}),EE(()=>this.afterPreactivation()),Qt(()=>{let{currentSnapshot:a,targetSnapshot:c}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return l?ke(l).pipe(ge(()=>r)):te(r)}),ge(a=>{let c=SH(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=r=Oe(Q({},a),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),pt(()=>{this.events.next(new Yd)}),PH(this.rootContexts,n.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),qi(1),pt({next:a=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ei(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{i=!0}}),Jn(this.transitionAbortSubject.pipe(pt(a=>{throw a}))),ra(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Un.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Tt(a=>{if(this.destroyed)return r.resolve(!1),Rn;if(o=!0,bx(a))this.events.next(new yi(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),RH(a)?this.events.next(new Dc(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Cc(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=cn(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(l instanceof Sc){let{message:f,cancellationCode:g}=Cg(this.urlSerializer,l);this.events.next(new yi(r.id,this.urlSerializer.serialize(r.extractedUrl),f,g)),this.events.next(new Dc(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(c),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Rn}))}))}cancelNavigationTransition(n,r,i){let o=new yi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function y5(t){return t!==cg}var Lx=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:()=>z(w5),providedIn:"root"})}return t})(),Sg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},w5=(()=>{class t extends Sg{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ss(t)))(i||t)}})();static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fx=(()=>{class t{urlSerializer=z(ih);options=z(uh,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=z(_c);urlHandlingStrategy=z(Rg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,a=i??o;return a instanceof wi?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=_x(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:()=>z(E5),providedIn:"root"})}return t})(),E5=(()=>{class t extends Fx{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Fa?this.updateStateMemento():n instanceof fo?this.commitTransition(r):n instanceof Qd?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Yd?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof yi&&(n.code===Un.GuardRejected||n.code===Un.NoDataFromResolver)?this.restoreHistory(r):n instanceof Cc?this.restoreHistory(r,!0):n instanceof Ei&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(n)||o){let c=this.browserPageId,l=Q(Q({},a),this.generateNgRouterState(i,c));this.location.replaceState(n,"",l)}else{let c=Q(Q({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ss(t)))(i||t)}})();static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function UE(t,e){t.events.pipe(Yn(n=>n instanceof Ei||n instanceof yi||n instanceof Cc||n instanceof fo),ge(n=>n instanceof Ei||n instanceof fo?0:(n instanceof yi?n.code===Un.Redirect||n.code===Un.SupersededByNewNavigation:!1)?2:1),Yn(n=>n!==2),qi(1)).subscribe(()=>{e()})}var I5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},b5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},hn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=z(zw);stateManager=z(Fx);options=z(uh,{optional:!0})||{};pendingTasks=z(mi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=z(kx);urlSerializer=z(ih);location=z(_c);urlHandlingStrategy=z(Rg);_events=new ot;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=z(Lx);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=z(ch,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!z(Ag,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new bt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yi&&r.code!==Un.Redirect&&r.code!==Un.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ei)this.navigated=!0;else if(r instanceof Dc){let a=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=Q({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||y5(i.source)},a);this.scheduleNavigation(c,cg,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}C5(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let l=Q({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(VE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,f=l?this.currentUrlTree.fragment:a,g=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":g=Q(Q({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let y;try{let I=i?i.snapshot:this.routerState.snapshot.root;y=fx(I)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),y=this.currentUrlTree.root}return px(y,n,g,f??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ds(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,cg,null,r)}navigate(n,r={skipLocationChange:!1}){return T5(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=Q({},I5):r===!1?i=Q({},b5):i=r,ds(n))return KP(this.currentUrlTree,n,i);let o=this.parseUrl(n);return KP(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,f;a?(c=a.resolve,l=a.reject,f=a.promise):f=new Promise((y,I)=>{c=y,l=I});let g=this.pendingTasks.add();return UE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function T5(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new J(4008,!1)}function C5(t){return!(t instanceof Yd)&&!(t instanceof Dc)}var Pg=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ot;constructor(n,r,i,o,a,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.locationStrategy=c;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(f=>{f instanceof Ei&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ds(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:BM(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ds(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(ae(hn),ae(po),lw("tabindex"),ae(as),ae(mr),ae(gc))};static \u0275dir=Ot({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ke("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Rd("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Aa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Aa],replaceUrl:[2,"replaceUrl","replaceUrl",Aa],routerLink:"routerLink"},features:[is]})}return t})();var S5=new Y("");function jE(t,...e){return kn([{provide:ch,multi:!0,useValue:t},[],{provide:po,useFactory:A5,deps:[hn]},{provide:ba,multi:!0,useFactory:M5},e.map(n=>n.\u0275providers)])}function A5(t){return t.routerState.root}function M5(){let t=z(Nt);return e=>{let n=t.get(On);if(e!==n.components[0])return;let r=t.get(hn),i=t.get(R5);t.get(P5)===1&&r.initialNavigation(),t.get(x5,null,Se.Optional)?.setUpPreloading(),t.get(S5,null,Se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var R5=new Y("",{factory:()=>new ot}),P5=new Y("",{providedIn:"root",factory:()=>1});var x5=new Y("");function N5(t,e){if(t&1){let n=so();j(0,"div",7)(1,"strong"),q(2),$(),j(3,"p",19),q(4),$(),j(5,"button",20),Ke("click",function(){let i=fi(n).$index,o=ln();return pi(o.scroll(i))}),nt(6,"img",21),$()()}if(t&2){let n=e.$implicit;ce(2),dn(n.title),ce(2),dn(n.description)}}function O5(t,e){if(t&1&&(j(0,"div",17)(1,"div",22)(2,"h3",23),q(3),$(),j(4,"p",24),q(5),$()(),j(6,"div",25),nt(7,"video",26),$(),nt(8,"div",27),$()),t&2){let n=e.$implicit,r=e.$index;Ww("id","advantage-",r,""),ce(),io("site-info__content--right",r%2!==0),ce(2),dn(n.title),ce(2),dn(n.description),ce(),io("site-info__video--left",r%2!==0)}}function k5(t,e){if(t&1&&(j(0,"div",18)(1,"div",22)(2,"h3",23),q(3),$(),j(4,"p",24),q(5),$()(),j(6,"div",25),nt(7,"video",26),$(),nt(8,"div",27),$()),t&2){let n=e.$implicit,r=e.$index;ce(),io("site-info__content--right",r%2!==0),ce(2),dn(n.title),ce(2),dn(n.description),ce(),io("site-info__video--left",r%2!==0)}}var xg=class t{advantages=[{title:"\u0423\u0434\u043E\u0431\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432",description:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0447\u0430\u043B\u044C\u043D\u0443\u044E \u0438 \u043A\u043E\u043D\u0435\u0447\u043D\u0443\u044E \u0442\u043E\u0447\u043A\u0438 \u0438 \u0441\u043F\u043E\u0441\u043E\u0431 \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u0436\u0435\u043D\u0438\u044F. \u0412\u0441\u0451. \u041C\u044B \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0438\u043C \u0432\u0430\u043C \u043D\u0430\u0438\u0431\u043E\u043B\u0435\u0435 \u043E\u043F\u0442\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u043C\u0430\u0440\u0448\u0440\u0443\u0442"},{title:"\u0418\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u0430\u044F \u043A\u0430\u0440\u0442\u0430",description:"\u0418\u0441\u0441\u043B\u0435\u0434\u0443\u0439\u0442\u0435 \u043C\u0438\u0440 \u0441 \u043F\u043E\u043C\u043E\u0449\u044C\u044E \u043D\u0430\u0448\u0435\u0439 \u0438\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0439 \u043A\u0430\u0440\u0442\u044B, \u043F\u043E\u0437\u0432\u043E\u043B\u044F\u044E\u0449\u0435\u0439 \u043E\u0442\u043C\u0435\u0447\u0430\u0442\u044C \u043B\u044E\u0431\u044B\u0435 \u0438\u043D\u0442\u0435\u0440\u0435\u0441\u043D\u044B\u0435 \u043C\u0435\u0441\u0442\u0430 \u0438 \u0434\u0435\u043B\u0430\u0442\u044C \u0443\u043D\u0438\u043A\u0430\u043B\u044C\u043D\u044B\u0435 \u0437\u0430\u043C\u0435\u0442\u043A\u0438."},{title:"\u0421\u043E\u043E\u0431\u0449\u0435\u0441\u0442\u0432\u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439",description:"\u0414\u0435\u043B\u0438\u0442\u0435\u0441\u044C \u0441\u0432\u043E\u0438\u043C\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430\u043C\u0438 \u0441 \u0434\u0440\u0443\u0433\u0438\u043C\u0438 \u043B\u044E\u0434\u044C\u043C\u0438, \u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0439\u0442\u0435 \u043E\u0442\u0437\u044B\u0432\u044B \u0438 \u043F\u043E\u043B\u0443\u0447\u0430\u0439\u0442\u0435 \u0441\u043E\u0432\u0435\u0442\u044B."},{title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u043F\u043E\u0435\u0437\u0434\u043E\u043A",description:"\u041E\u0442\u0441\u043B\u0435\u0436\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u0432\u043E\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B, \u043F\u0440\u043E\u0439\u0434\u0435\u043D\u043D\u043E\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435 \u0438 \u043C\u043D\u043E\u0433\u043E\u0435 \u0434\u0440\u0443\u0433\u043E\u0435 \u0441 \u043D\u0430\u0448\u0438\u043C \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435\u043C."}];features=[{title:"\u041F\u0440\u043E\u0444\u0438\u043B\u044C",description:`
        \u0412\u0430\u0448 \u043B\u0438\u0447\u043D\u044B\u0439 \u043A\u0430\u0431\u0438\u043D\u0435\u0442, \u0433\u0434\u0435 \u0445\u0440\u0430\u043D\u044F\u0442\u0441\u044F \u0432\u0441\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B, \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0438 \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435. 
        \u0417\u0434\u0435\u0441\u044C \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044F \u043F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u0430\u044F \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430: \u043E\u0431\u0449\u0435\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043F\u043E\u0441\u0442\u0440\u043E\u0435\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432, 
        \u0441\u0443\u043C\u043C\u0430\u0440\u043D\u043E\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435 (\u0432 \u043A\u043C/\u043C\u0438\u043B\u044F\u0445), \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438 \u0438 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0438\u0442\u0430\u0435\u043C\u044B\u0435 \u0432\u0438\u0434\u044B \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430. 
        \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043B\u0438\u0447\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0438 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F.
      `},{title:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0430",description:`
        \u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u0440\u0430\u0437\u0434\u0435\u043B \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u0441 \u0431\u044B\u0441\u0442\u0440\u044B\u043C \u0434\u043E\u0441\u0442\u0443\u043F\u043E\u043C \u043A\u043E \u0432\u0441\u0435\u043C \u0444\u0443\u043D\u043A\u0446\u0438\u044F\u043C. 
        \u0417\u0434\u0435\u0441\u044C \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u044E\u0442\u0441\u044F \u0432\u0430\u0448\u0438 \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B, \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u043C\u0435\u0441\u0442\u0430 \u0438 \u0440\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0430\u0446\u0438\u0438 
        \u043F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u0432 \u0432\u0430\u0448\u0435\u043C \u0440\u0435\u0433\u0438\u043E\u043D\u0435. \u0423\u0434\u043E\u0431\u043D\u0430\u044F \u043D\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044F \u043F\u043E\u0437\u0432\u043E\u043B\u044F\u0435\u0442 \u0431\u044B\u0441\u0442\u0440\u043E 
        \u043F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u043D\u0443\u0436\u043D\u043E\u043C\u0443 \u0440\u0430\u0437\u0434\u0435\u043B\u0443.
      `},{title:"\u0421\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442",description:`
        \u041E\u0441\u043D\u043E\u0432\u043D\u043E\u0439 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442 \u0434\u043B\u044F \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u043F\u043E\u0435\u0437\u0434\u043E\u043A. \u0423\u043A\u0430\u0436\u0438\u0442\u0435 \u043D\u0430\u0447\u0430\u043B\u044C\u043D\u0443\u044E \u0438 \u043A\u043E\u043D\u0435\u0447\u043D\u0443\u044E \u0442\u043E\u0447\u043A\u0438 
        \u043D\u0430 \u043A\u0430\u0440\u0442\u0435 \u0438\u043B\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441\u0430, \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043F\u043E\u0441\u043E\u0431 \u043F\u0435\u0440\u0435\u0434\u0432\u0438\u0436\u0435\u043D\u0438\u044F (\u043F\u0435\u0448\u043A\u043E\u043C, \u043D\u0430 \u0432\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434\u0435, 
        \u043D\u0430 \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435 \u0438\u043B\u0438 \u043E\u0431\u0449\u0435\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u043C \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0435) - \u0441\u0438\u0441\u0442\u0435\u043C\u0430 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0438\u0442 2-3 \u043E\u043F\u0442\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0445 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u0430 
        \u0441 \u0440\u0430\u0441\u0447\u0435\u0442\u043E\u043C \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u044F \u0438 \u043E\u0440\u0438\u0435\u043D\u0442\u0438\u0440\u043E\u0432\u043E\u0447\u043D\u043E\u0433\u043E \u0432\u0440\u0435\u043C\u0435\u043D\u0438 \u0432 \u043F\u0443\u0442\u0438.
      `},{title:"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432",description:`
        \u041F\u043E\u043B\u043D\u044B\u0439 \u0430\u0440\u0445\u0438\u0432 \u0432\u0441\u0435\u0445 \u0432\u0430\u0448\u0438\u0445 \u043F\u043E\u0435\u0437\u0434\u043E\u043A \u0441 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044C\u044E \u0441\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u043A\u0438 \u043F\u043E \u0434\u0430\u0442\u0435, \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u044E 
        \u0438\u043B\u0438 \u0432\u0438\u0434\u0443 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430. \u0414\u043B\u044F \u043A\u0430\u0436\u0434\u043E\u0433\u043E \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u044F\u044E\u0442\u0441\u044F \u043E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 \u043F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B: 
        \u043F\u0440\u043E\u0439\u0434\u0435\u043D\u043D\u043E\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435, \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438, \u0441\u0440\u0435\u0434\u043D\u044F\u044F \u0441\u043A\u043E\u0440\u043E\u0441\u0442\u044C. \u0423\u0434\u043E\u0431\u043D\u043E \u0434\u043B\u044F \u0430\u043D\u0430\u043B\u0438\u0437\u0430 
        \u0432\u0430\u0448\u0435\u0439 \u043C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0441\u0442\u0438.
      `},{title:"\u0418\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435",description:`
        \u0425\u0440\u0430\u043D\u0438\u043B\u0438\u0449\u0435 \u0434\u043B\u044F \u0447\u0430\u0441\u0442\u043E \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u043C\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u0438 \u0432\u0430\u0436\u043D\u044B\u0445 \u043C\u0435\u0441\u0442. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0441\u043E\u0437\u0434\u0430\u0432\u0430\u0442\u044C 
        \u0442\u0435\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0435 \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u0438 (\u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, "\u0420\u0430\u0431\u043E\u0447\u0438\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B", "\u041F\u0440\u043E\u0433\u0443\u043B\u043A\u0438 \u043D\u0430 \u0432\u044B\u0445\u043E\u0434\u043D\u044B\u0435") 
        \u0438 \u0434\u0435\u043B\u0438\u0442\u044C\u0441\u044F \u0438\u043C\u0438 \u0441 \u0434\u0440\u0443\u0433\u0438\u043C\u0438 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C\u0438. \u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E \u0441 \u043B\u044E\u0431\u043E\u0433\u043E \u0443\u0441\u0442\u0440\u043E\u0439\u0441\u0442\u0432\u0430.
      `},{title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",description:`
        \u041F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u044F \u043F\u043E\u0434 \u0432\u0430\u0448\u0438 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0442\u0435\u043D\u0438\u044F: \u0432\u044B\u0431\u043E\u0440 \u0446\u0432\u0435\u0442\u043E\u0432\u043E\u0439 \u0442\u0435\u043C\u044B, \u0435\u0434\u0438\u043D\u0438\u0446 \u0438\u0437\u043C\u0435\u0440\u0435\u043D\u0438\u044F 
        (\u043A\u043C/\u043C\u0438\u043B\u0438), \u044F\u0437\u044B\u043A\u0430 \u0438\u043D\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430. \u0417\u0434\u0435\u0441\u044C \u0436\u0435 \u043C\u043E\u0436\u043D\u043E \u0443\u043F\u0440\u0430\u0432\u043B\u044F\u0442\u044C \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F\u043C\u0438 \u0438 \u043F\u043E\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u043D\u044B\u043C\u0438 
        \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043C\u0438.
      `}];siteInfoBlocks=[{title:"\u0423\u0434\u043E\u0431\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432",description:`
        \u041D\u0430\u0448 \u0430\u043B\u0433\u043E\u0440\u0438\u0442\u043C \u043F\u043E\u0438\u0441\u043A\u0430 \u043F\u043E\u043C\u043E\u0433\u0430\u0435\u0442 \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u044C \u043E\u043F\u0442\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0435 \u043F\u0443\u0442\u0438 \u0441 \u0443\u0447\u0435\u0442\u043E\u043C \u0432\u0430\u0448\u0438\u0445 \u043F\u0440\u0435\u0434\u043F\u043E\u0447\u0442\u0435\u043D\u0438\u0439. 
        \u041F\u043E\u0441\u043B\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0438\u044F \u0442\u043E\u0447\u0435\u043A \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0438 \u043D\u0430\u0437\u043D\u0430\u0447\u0435\u043D\u0438\u044F \u0432\u044B \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u0435 2-3 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 
        \u0441 \u0434\u0435\u0442\u0430\u043B\u044C\u043D\u043E\u0439 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0435\u0439: \u043E\u0431\u0449\u0435\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435, \u043E\u0440\u0438\u0435\u043D\u0442\u0438\u0440\u043E\u0432\u043E\u0447\u043D\u043E\u0435 \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438, \u043E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 
        \u043E\u0440\u0438\u0435\u043D\u0442\u0438\u0440\u044B. \u0414\u043B\u044F \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u043C\u043E\u0436\u043D\u043E \u0438\u0441\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043F\u043B\u0430\u0442\u043D\u044B\u0435 \u0434\u043E\u0440\u043E\u0433\u0438, \u0430 \u0434\u043B\u044F \u043F\u0435\u0448\u0438\u0445 - 
        \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u043D\u0430\u0438\u0431\u043E\u043B\u0435\u0435 \u0436\u0438\u0432\u043E\u043F\u0438\u0441\u043D\u044B\u0435 \u043F\u0443\u0442\u0438.
      `},{title:"\u0418\u043D\u0442\u0435\u0440\u0430\u043A\u0442\u0438\u0432\u043D\u0430\u044F \u043A\u0430\u0440\u0442\u0430",description:`
        \u0423\u0434\u043E\u0431\u043D\u044B\u0439 \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442 \u0434\u043B\u044F \u0432\u0438\u0437\u0443\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u043F\u043E\u0435\u0437\u0434\u043E\u043A. \u041A\u0430\u0440\u0442\u0430 \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 
        \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0440\u0435\u0436\u0438\u043C\u043E\u0432 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F (\u0441\u0445\u0435\u043C\u0430, \u0441\u043F\u0443\u0442\u043D\u0438\u043A) \u0438 \u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0435\u0442 \u043F\u043E\u043B\u0435\u0437\u043D\u044B\u0435 \u043E\u0431\u044A\u0435\u043A\u0442\u044B 
        \u0432\u0434\u043E\u043B\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430: \u043A\u0430\u0444\u0435, \u0410\u0417\u0421, \u0434\u043E\u0441\u0442\u043E\u043F\u0440\u0438\u043C\u0435\u0447\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u0438. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u0434\u043E\u0431\u0430\u0432\u043B\u044F\u0442\u044C \u0441\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0435 
        \u043C\u0435\u0442\u043A\u0438 \u0438 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438 \u043A \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430\u043C, \u0430 \u0437\u0430\u0442\u0435\u043C \u0441\u043E\u0445\u0440\u0430\u043D\u044F\u0442\u044C \u0438\u0445 \u0432 \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435.
      `},{title:"\u0421\u043E\u043E\u0431\u0449\u0435\u0441\u0442\u0432\u043E \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439",description:`
        \u041F\u043B\u0430\u0442\u0444\u043E\u0440\u043C\u0430 \u0434\u043B\u044F \u043E\u0431\u043C\u0435\u043D\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430\u043C\u0438 \u0438 \u043E\u043F\u044B\u0442\u043E\u043C. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u0443\u0431\u043B\u0438\u043A\u043E\u0432\u0430\u0442\u044C \u0441\u0432\u043E\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B, 
        \u043E\u0446\u0435\u043D\u0438\u0432\u0430\u0442\u044C \u0447\u0443\u0436\u0438\u0435 \u0438 \u043E\u0441\u0442\u0430\u0432\u043B\u044F\u0442\u044C \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0438. \u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u043E\u0432 \u0432\u044B\u0434\u0435\u043B\u044F\u0435\u0442 \u043D\u0430\u0438\u0431\u043E\u043B\u0435\u0435 
        \u043F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u044B\u0435 \u0438 \u043F\u0440\u043E\u0432\u0435\u0440\u0435\u043D\u043D\u044B\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B \u0432 \u0432\u0430\u0448\u0435\u043C \u0433\u043E\u0440\u043E\u0434\u0435. \u041E\u0441\u043E\u0431\u0435\u043D\u043D\u043E \u043F\u043E\u043B\u0435\u0437\u043D\u043E \u0434\u043B\u044F \u043F\u043E\u0438\u0441\u043A\u0430 
        \u043D\u0435\u043E\u0447\u0435\u0432\u0438\u0434\u043D\u044B\u0445 \u0438 \u0438\u043D\u0442\u0435\u0440\u0435\u0441\u043D\u044B\u0445 \u043F\u0443\u0442\u0435\u0439.
      `},{title:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u043F\u043E\u0435\u0437\u0434\u043E\u043A",description:`
        \u0414\u0435\u0442\u0430\u043B\u044C\u043D\u0430\u044F \u0430\u043D\u0430\u043B\u0438\u0442\u0438\u043A\u0430 \u0432\u0430\u0448\u0438\u0445 \u043F\u0435\u0440\u0435\u043C\u0435\u0449\u0435\u043D\u0438\u0439. \u0412 \u043F\u0440\u043E\u0444\u0438\u043B\u0435 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044F \u043E\u0431\u0449\u0435\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E 
        \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432, \u0441\u0443\u043C\u043C\u0430\u0440\u043D\u043E\u0435 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435, \u0441\u0440\u0435\u0434\u043D\u0435\u0435 \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438. \u0414\u043B\u044F \u0432\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434\u043D\u044B\u0445 \u0438 \u043F\u0435\u0448\u0438\u0445 
        \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u044B\u0432\u0430\u0435\u0442\u0441\u044F \u043F\u0440\u0438\u043C\u0435\u0440\u043D\u044B\u0439 \u0440\u0430\u0441\u0445\u043E\u0434 \u043A\u0430\u043B\u043E\u0440\u0438\u0439. \u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u0440\u043E\u0441\u043C\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044C 
        \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0443 \u0437\u0430 \u0440\u0430\u0437\u043D\u044B\u0435 \u043F\u0435\u0440\u0438\u043E\u0434\u044B \u0438 \u0441\u0440\u0430\u0432\u043D\u0438\u0432\u0430\u0442\u044C \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C.
      `}];scroll(e){let n=document.getElementById(`advantage-${e}`);n&&n.scrollIntoView({behavior:"smooth"})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ct({type:t,selectors:[["app-start-page"]],decls:31,vars:0,consts:[[1,"main"],[1,"text-content"],[1,"text-content__top"],[1,"text-content__title"],[1,"text-content__body"],[1,"text-content__subtitle"],[1,"advantages"],[1,"advantages__item"],[1,"gallery"],["src","\u0421\u043D\u0438\u043C\u043E\u043A \u044D\u043A\u0440\u0430\u043D\u0430 2025-04-28 143604.jpg","alt","\u041A\u0430\u0440\u0442\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430",1,"gallery__main-image"],[1,"gallery__thumbnails"],["src","image 4.jpg","alt","\u041F\u0440\u0438\u043C\u0435\u0440 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 1",1,"gallery__thumbnail"],["src","image 5.jpg","alt","\u041F\u0440\u0438\u043C\u0435\u0440 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430 2",1,"gallery__thumbnail"],[1,"site-info"],[1,"site-info__container"],[1,"site-info__title"],[1,"site-info__intro"],[1,"site-info__block",3,"id"],[1,"site-info__block"],[1,"advantages__text"],[1,"advantages__button",3,"click"],["src","arrow-down.svg","alt","\u041F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u043F\u043E\u0434\u0440\u043E\u0431\u043D\u043E\u0441\u0442\u044F\u043C"],[1,"site-info__content"],[1,"site-info__subtitle"],[1,"site-info__text"],[1,"site-info__video"],["src","RouteGuide \u2014 \u042F\u043D\u0434\u0435\u043A\u0441\xA0\u0411\u0440\u0430\u0443\u0437\u0435\u0440 2025-04-29 01-02-50.mp4","controls",""],[1,"site-info__clearfix"]],template:function(n,r){n&1&&(j(0,"main",0)(1,"section",1)(2,"div",2)(3,"h1",3),q(4,"\u041A\u0430\u0436\u0434\u044B\u0439 \u043C\u0430\u0440\u0448\u0440\u0443\u0442 \u2014 \u044D\u0442\u043E \u043C\u0430\u043B\u0435\u043D\u044C\u043A\u043E\u0435 \u043F\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435"),$()(),j(5,"div",4)(6,"h2",5),q(7,"\u041D\u0430\u0448\u0438 \u043F\u0440\u0435\u0438\u043C\u0443\u0449\u0435\u0441\u0442\u0432\u0430"),$(),j(8,"div",6),Fr(9,N5,7,2,"div",7,oo),$()()(),j(11,"section",8),nt(12,"img",9),j(13,"div",10),nt(14,"img",11)(15,"img",12),$()()(),j(16,"section",13)(17,"div",14)(18,"h2",15),q(19,"\u041E \u0441\u0430\u0439\u0442\u0435 \u0438 \u043A\u0430\u043A \u0438\u043C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),$(),j(20,"p",16),q(21," \u0414\u043E\u0431\u0440\u043E \u043F\u043E\u0436\u0430\u043B\u043E\u0432\u0430\u0442\u044C \u043D\u0430 "),j(22,"strong"),q(23,"Route Guide"),$(),q(24,"! \u042D\u0442\u043E\u0442 \u0441\u0430\u0439\u0442 \u0441\u043E\u0437\u0434\u0430\u043D, \u0447\u0442\u043E\u0431\u044B \u0441\u0434\u0435\u043B\u0430\u0442\u044C \u043F\u043B\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432 \u043F\u0440\u043E\u0441\u0442\u044B\u043C, \u0443\u0434\u043E\u0431\u043D\u044B\u043C \u0438 \u0443\u0432\u043B\u0435\u043A\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u043C. \u0417\u0434\u0435\u0441\u044C \u0432\u044B \u0441\u043C\u043E\u0436\u0435\u0442\u0435 \u0431\u044B\u0441\u0442\u0440\u043E \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u044C \u043B\u0443\u0447\u0448\u0438\u0435 \u043F\u0443\u0442\u0438 \u0434\u043B\u044F \u043F\u0440\u043E\u0433\u0443\u043B\u043E\u043A, \u043F\u043E\u0435\u0437\u0434\u043E\u043A \u043D\u0430 \u0432\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434\u0435, \u0430\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0435 \u0438 \u043D\u0435 \u0442\u043E\u043B\u044C\u043A\u043E. \u041C\u044B \u043F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u0438\u043B\u0438 \u0434\u043B\u044F \u0432\u0430\u0441 \u043A\u043E\u0440\u043E\u0442\u043A\u0438\u0435 \u0432\u0438\u0434\u0435\u043E-\u0438\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u0438 \u043A \u043A\u0430\u0436\u0434\u043E\u043C\u0443 \u0440\u0430\u0437\u0434\u0435\u043B\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u043D\u0430\u043A\u043E\u043C\u0441\u0442\u0432\u043E \u0441 \u0444\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B\u043E\u043C \u043F\u0440\u043E\u0448\u043B\u043E \u043B\u0435\u0433\u043A\u043E! "),$(),Fr(25,O5,9,8,"div",17,oo),j(27,"h2",15),q(28,"\u041E\u0441\u043D\u043E\u0432\u043D\u044B\u0435 \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438"),$(),Fr(29,k5,9,6,"div",18,oo),$()()),n&2&&(ce(9),Vr(r.advantages),ce(16),Vr(r.siteInfoBlocks),ce(4),Vr(r.features))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}.main[_ngcontent-%COMP%]{display:flex;gap:50px;align-items:center;justify-content:center;padding:20px;max-width:1920px;margin:0 auto}.text-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:50px;max-width:calc(100vw - 970px)}.text-content__top[_ngcontent-%COMP%]{background-color:#e6d70ae6;padding:25px;box-shadow:5px 5px 10px #00000080;text-align:center;height:75px;display:flex;align-items:center;justify-content:center;border-radius:10px}.text-content__title[_ngcontent-%COMP%]{font-family:Playfair Display SC,serif;font-size:32px;margin:0}.text-content__body[_ngcontent-%COMP%]{background-color:#e6d70ae6;box-shadow:5px 5px 10px #00000080;padding-top:25px;overflow-y:auto;border-radius:10px}.text-content__subtitle[_ngcontent-%COMP%]{margin:0;font-family:Playfair Display SC,serif;font-size:26px;text-align:center}.advantages[_ngcontent-%COMP%]{margin-top:0}.advantages__item[_ngcontent-%COMP%]{border-top:10px solid transparent;border-left:10px solid rgba(0,0,0,.25);border-bottom:10px solid rgba(0,0,0,.5);border-right:10px solid transparent;box-shadow:5px 5px 5px #00000040;padding:10px;width:calc(100% - 40px);font-family:Playfair Display,serif;font-size:18px}.advantages__title[_ngcontent-%COMP%]{display:block;margin-bottom:8px}.advantages__text[_ngcontent-%COMP%]{margin:0;line-height:1.5}.advantages__button[_ngcontent-%COMP%]{margin-top:5px;height:25px;width:100%;border:none;background-color:#ffffffbf;cursor:pointer}.advantages__button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;width:100px}.advantages__button[_ngcontent-%COMP%]:hover{background-color:#00000080}.advantages__button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{filter:invert(1)}.gallery[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:25px}.gallery__main-image[_ngcontent-%COMP%]{width:100%;max-width:770px;height:500px;object-fit:cover;box-shadow:5px 5px 10px #00000080;border-radius:10px}.gallery__thumbnails[_ngcontent-%COMP%]{display:flex;gap:50px;max-width:820px}.gallery__thumbnail[_ngcontent-%COMP%]{height:250px;object-fit:cover;box-shadow:5px 5px 10px #00000080;border-radius:10px}.gallery__thumbnail[_ngcontent-%COMP%]:first-child{width:350px}.gallery__thumbnail[_ngcontent-%COMP%]:last-child{width:370px}.site-info[_ngcontent-%COMP%]{background-color:#ff0000bf;padding:50px 20px;margin-top:30px;box-sizing:border-box;box-shadow:5px 5px 5px #00000080;border-radius:10px;color:#fff;width:max-content;max-width:calc(100vw - 150px);display:flex;justify-content:center}.site-info__container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.site-info__title[_ngcontent-%COMP%], .site-info__subtitle[_ngcontent-%COMP%], .site-info__feature-title[_ngcontent-%COMP%]{font-family:Playfair Display SC,serif;margin:0 0 20px;text-align:center}.site-info__title[_ngcontent-%COMP%]{font-size:32px}.site-info__subtitle[_ngcontent-%COMP%]{font-size:20px}.site-info__intro[_ngcontent-%COMP%], .site-info__text[_ngcontent-%COMP%], .site-info__final[_ngcontent-%COMP%]{font-family:Playfair Display,serif;font-size:18px;line-height:1.6;margin:0 0 20px;text-align:justify;text-justify:inter-word;hyphens:auto}.site-info__block[_ngcontent-%COMP%]{display:flex;gap:50px;margin-bottom:40px;align-items:flex-start}.site-info__block[_ngcontent-%COMP%]:nth-child(2n){flex-direction:row-reverse}.site-info__content[_ngcontent-%COMP%]{flex:1;min-width:0}.site-info__video[_ngcontent-%COMP%]{width:350px;height:225px;flex-shrink:0}.site-info__video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:cover;box-shadow:5px 5px 5px #00000080;border:5px solid rgb(255,255,255)}@media (max-width: 1400px){.main[_ngcontent-%COMP%]{flex-direction:column;gap:30px}.text-content[_ngcontent-%COMP%]{max-width:calc(100vw - 100px);transform:scale(.75);transform-origin:top center}.gallery[_ngcontent-%COMP%]{margin-top:-175px;width:100%;align-items:center}.gallery__main-image[_ngcontent-%COMP%]{width:400px;height:250px}.gallery__thumbnails[_ngcontent-%COMP%]{flex-direction:column;gap:25px}.gallery__thumbnail[_ngcontent-%COMP%]{width:400px!important;height:250px}.site-info[_ngcontent-%COMP%]{width:100%;padding:30px 15px;box-sizing:border-box}.site-info__container[_ngcontent-%COMP%]{width:100%}.site-info__block[_ngcontent-%COMP%]{flex-direction:column!important;gap:20px}.site-info__video[_ngcontent-%COMP%]{width:100%;height:auto;aspect-ratio:16/9}.site-info__content[_ngcontent-%COMP%]{width:100%}}"]})};var Vx=()=>{};var jx=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},L5=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],a=t[n++],c=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Ng={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],a=i+1<t.length,c=a?t[i+1]:0,l=i+2<t.length,f=l?t[i+2]:0,g=o>>2,y=(o&3)<<4|c>>4,I=(c&15)<<2|f>>6,E=f&63;l||(E=64,a||(I=64)),r.push(n[g],n[y],n[I],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let f=i<t.length?n[t.charAt(i)]:64;++i;let y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||f==null||y==null)throw new zE;let I=o<<2|c>>4;if(r.push(I),f!==64){let E=c<<4&240|f>>2;if(r.push(E),y!==64){let M=f<<6&192|y;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},zE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},F5=function(t){let e=jx(t);return Ng.encodeByteArray(e,!0)},dh=function(t){return F5(t).replace(/\./g,"")},Og=function(t){try{return Ng.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var V5=()=>qE().__FIREBASE_DEFAULTS__,B5=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},U5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Og(t[1]);return e&&JSON.parse(e)},kg=()=>{try{return Vx()||V5()||B5()||U5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WE=t=>{var e,n;return(n=(e=kg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$x=t=>{let e=WE(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GE=()=>{var t;return(t=kg())===null||t===void 0?void 0:t.config},KE=t=>{var e;return(e=kg())===null||e===void 0?void 0:e[`_${t}`]};var Va=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ba(t){return t.endsWith(".cloudworkstations.dev")}function Lg(t){return T(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function zx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dh(JSON.stringify(n)),dh(JSON.stringify(a)),""].join(".")}var lh={};function j5(){let t={prod:[],emulator:[]};for(let e of Object.keys(lh))lh[e]?t.emulator.push(e):t.prod.push(e);return t}function $5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var Bx=!1;function xc(t,e){if(typeof window>"u"||typeof document>"u"||!Ba(window.location.host)||lh[t]===e||lh[t]||Bx)return;lh[t]=e;function n(I){return`__firebase__banner__${I}`}let r="__firebase__banner",o=j5().prod.length>0;function a(){let I=document.getElementById(r);I&&I.remove()}function c(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function l(I,E){I.setAttribute("width","24"),I.setAttribute("id",E),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function f(){let I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Bx=!0,a()},I}function g(I,E){I.setAttribute("id",E),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function y(){let I=$5(r),E=n("text"),M=document.getElementById(E)||document.createElement("span"),F=n("learnmore"),V=document.getElementById(F)||document.createElement("a"),K=n("preprendIcon"),oe=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){let X=I.element;c(X),g(V,F);let Le=f();l(oe,K),X.append(oe,M,V,Le),document.body.appendChild(X)}o?(M.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function z5(){var t;let e=(t=kg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wx(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Gx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kx(){let t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zx(){return!z5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hh(){try{return typeof indexedDB=="object"}catch{return!1}}function Qx(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var H5="FirebaseError",sr=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=H5,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jr.prototype.create)}},jr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?q5(o,r):"Error",c=`${this.serviceName}: ${a} (${i}).`;return new sr(i,c,r)}};function q5(t,e){return t.replace(W5,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var W5=/\{\$([^}]+)}/g;function Yx(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ii(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],a=e[i];if(Ux(o)&&Ux(a)){if(!Ii(o,a))return!1}else if(o!==a)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Ux(t){return t!==null&&typeof t=="object"}function fh(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nc(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Oc(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Jx(t,e){let n=new HE(t,e);return n.subscribe.bind(n)}var HE=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");G5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$E),i.error===void 0&&(i.error=$E),i.complete===void 0&&(i.complete=$E);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function G5(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $E(){}var voe=4*60*60*1e3;function fn(t){return t&&t._delegate?t._delegate:t}var Sn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ua="[DEFAULT]";var ZE=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Va;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z5(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,a]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&a.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function K5(t){return t===Ua?void 0:t}function Z5(t){return t.instantiationMode==="EAGER"}var Fg=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ZE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Q5=[],Ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ve||{}),Y5={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},J5=Ve.INFO,X5={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},eq=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=X5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},bi=class{constructor(e){this.name=e,this._logLevel=J5,this._logHandler=eq,this._userLogHandler=null,Q5.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}};var tq=(t,e)=>e.some(n=>t instanceof n),Xx,eN;function nq(){return Xx||(Xx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rq(){return eN||(eN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var tN=new WeakMap,YE=new WeakMap,nN=new WeakMap,QE=new WeakMap,XE=new WeakMap;function iq(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Ti(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&tN.set(n,t)}).catch(()=>{}),XE.set(e,t),e}function oq(t){if(YE.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});YE.set(t,e)}var JE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return YE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rN(t){JE=t(JE)}function sq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Vg(this),e,...n);return nN.set(r,e.sort?e.sort():[e]),Ti(r)}:rq().includes(t)?function(...e){return t.apply(Vg(this),e),Ti(tN.get(this))}:function(...e){return Ti(t.apply(Vg(this),e))}}function aq(t){return typeof t=="function"?sq(t):(t instanceof IDBTransaction&&oq(t),tq(t,nq())?new Proxy(t,JE):t)}function Ti(t){if(t instanceof IDBRequest)return iq(t);if(QE.has(t))return QE.get(t);let e=aq(t);return e!==t&&(QE.set(t,e),XE.set(e,t)),e}var Vg=t=>XE.get(t);function oN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let a=indexedDB.open(t,e),c=Ti(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Ti(a.result),l.oldVersion,l.newVersion,Ti(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}var uq=["get","getKey","getAll","getAllKeys","count"],cq=["put","add","delete","clear"],eI=new Map;function iN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eI.get(e))return eI.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=cq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uq.includes(n)))return;let o=function(a,...c){return T(this,null,function*(){let l=this.transaction(a,i?"readwrite":"readonly"),f=l.store;return r&&(f=f.index(c.shift())),(yield Promise.all([f[n](...c),i&&l.done]))[0]})};return eI.set(e,o),o}rN(t=>Oe(Q({},t),{get:(e,n,r)=>iN(e,n)||t.get(e,n,r),has:(e,n)=>!!iN(e,n)||t.has(e,n)}));var nI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lq(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function lq(t){let e=t.getComponent();return e?.type==="VERSION"}var rI="@firebase/app",sN="0.12.3";var go=new bi("@firebase/app"),dq="@firebase/app-compat",hq="@firebase/analytics-compat",fq="@firebase/analytics",pq="@firebase/app-check-compat",mq="@firebase/app-check",gq="@firebase/auth",_q="@firebase/auth-compat",vq="@firebase/database",yq="@firebase/data-connect",wq="@firebase/database-compat",Eq="@firebase/functions",Iq="@firebase/functions-compat",bq="@firebase/installations",Tq="@firebase/installations-compat",Cq="@firebase/messaging",Dq="@firebase/messaging-compat",Sq="@firebase/performance",Aq="@firebase/performance-compat",Mq="@firebase/remote-config",Rq="@firebase/remote-config-compat",Pq="@firebase/storage",xq="@firebase/storage-compat",Nq="@firebase/firestore",Oq="@firebase/vertexai",kq="@firebase/firestore-compat",Lq="firebase",Fq="11.7.3";var iI="[DEFAULT]",Vq={[rI]:"fire-core",[dq]:"fire-core-compat",[fq]:"fire-analytics",[hq]:"fire-analytics-compat",[mq]:"fire-app-check",[pq]:"fire-app-check-compat",[gq]:"fire-auth",[_q]:"fire-auth-compat",[vq]:"fire-rtdb",[yq]:"fire-data-connect",[wq]:"fire-rtdb-compat",[Eq]:"fire-fn",[Iq]:"fire-fn-compat",[bq]:"fire-iid",[Tq]:"fire-iid-compat",[Cq]:"fire-fcm",[Dq]:"fire-fcm-compat",[Sq]:"fire-perf",[Aq]:"fire-perf-compat",[Mq]:"fire-rc",[Rq]:"fire-rc-compat",[Pq]:"fire-gcs",[xq]:"fire-gcs-compat",[Nq]:"fire-fst",[kq]:"fire-fst-compat",[Oq]:"fire-vertex","fire-js":"fire-js",[Lq]:"fire-js-all"};var ph=new Map,Bq=new Map,oI=new Map;function aN(t,e){try{t.container.addComponent(e)}catch(n){go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $r(t){let e=t.name;if(oI.has(e))return go.debug(`There were multiple attempts to register component ${e}.`),!1;oI.set(e,t);for(let n of ph.values())aN(n,t);for(let n of Bq.values())aN(n,t);return!0}function kc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t==null?!1:t.settings!==void 0}var Uq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new jr("app","Firebase",Uq);var sI=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}};var ps=Fq;function cI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:iI,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fs.create("bad-app-name",{appName:String(i)});if(n||(n=GE()),!n)throw fs.create("no-options");let o=ph.get(i);if(o){if(Ii(n,o.options)&&Ii(r,o.config))return o;throw fs.create("duplicate-app",{appName:i})}let a=new Fg(i);for(let l of oI.values())a.addComponent(l);let c=new sI(n,r,a);return ph.set(i,c),c}function ja(t=iI){let e=ph.get(t);if(!e&&t===iI&&GE())return cI();if(!e)throw fs.create("no-app",{appName:t});return e}function Bg(){return Array.from(ph.values())}function Dt(t,e,n){var r;let i=(r=Vq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),go.warn(c.join(" "));return}$r(new Sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var jq="firebase-heartbeat-database",$q=1,mh="firebase-heartbeat-store",tI=null;function dN(){return tI||(tI=oN(jq,$q,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mh)}catch(n){console.warn(n)}}}}).catch(t=>{throw fs.create("idb-open",{originalErrorMessage:t.message})})),tI}function zq(t){return T(this,null,function*(){try{let n=(yield dN()).transaction(mh),r=yield n.objectStore(mh).get(hN(t));return yield n.done,r}catch(e){if(e instanceof sr)go.warn(e.message);else{let n=fs.create("idb-get",{originalErrorMessage:e?.message});go.warn(n.message)}}})}function uN(t,e){return T(this,null,function*(){try{let r=(yield dN()).transaction(mh,"readwrite");yield r.objectStore(mh).put(e,hN(t)),yield r.done}catch(n){if(n instanceof sr)go.warn(n.message);else{let r=fs.create("idb-set",{originalErrorMessage:n?.message});go.warn(r.message)}}})}function hN(t){return`${t.name}!${t.options.appId}`}var Hq=1024,qq=30,aI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new uI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=cN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>qq){let a=Gq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){go.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=cN(),{heartbeatsToSend:r,unsentEntries:i}=Wq(this._heartbeatsCache.heartbeats),o=dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return go.warn(n),""}})}};function cN(){return new Date().toISOString().substring(0,10)}function Wq(t,e=Hq){let n=[],r=t.slice();for(let i of t){let o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),lN(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var uI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return hh()?Qx().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield zq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function lN(t){return dh(JSON.stringify({version:2,heartbeats:t})).length}function Gq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Kq(t){$r(new Sn("platform-logger",e=>new nI(e),"PRIVATE")),$r(new Sn("heartbeat",e=>new aI(e),"PRIVATE")),Dt(rI,sN,t),Dt(rI,sN,"esm2017"),Dt("fire-js","")}Kq("");var Zq="firebase",Qq="11.7.3";Dt(Zq,Qq,"app");function lI(t){t===void 0&&(vm(lI),t=z(Nt));let e=t.get(bd);return n=>new Me(r=>{let i=e.add(),o=!1;function a(){o||(i(),o=!0)}let c=n.subscribe({next:l=>{r.next(l),a()},complete:()=>{r.complete(),a()},error:l=>{r.error(l),a()}});return c.add(()=>{r.unsubscribe(),a()}),c})}var ms=new _a("ANGULARFIRE2_VERSION");function gh(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(a=>a.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Fc=(t,e)=>{let n=e?[e]:Bg(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},Lc=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Lc||{}),fN=Gw()&&typeof Zone<"u"?Lc.WARN:Lc.SILENT;var Ug=class{zone;delegate;constructor(e,n=gy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(a){i?i.runGuarded(()=>{e.apply(this,[a])}):e.apply(this,[a])};return this.delegate.schedule(o,n,r)}},gs=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=z(Qe);this.outsideAngular=n.runOutsideAngular(()=>new Ug(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Ug(typeof Zone>"u"?void 0:Zone.current,my))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pN=!1;function Yq(t,e){!pN&&(fN>Lc.SILENT||Gw())&&(pN=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),fN>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function Jq(t){let e=z(Qe,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function $a(t){let e=z(Qe,{optional:!0});return e?e.run(()=>t()):t()}var Xq=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),cn(n,()=>$a(()=>t.apply(void 0,r)))),Mt=(t,e,n)=>(n||=e?Lc.WARN:Lc.VERBOSE,function(){let r,i=arguments,o,a,c;try{o=z(gs),a=z(bd),c=z(Yt)}catch{return Yq(t,n),t.apply(this,i)}for(let f=0;f<arguments.length;f++)typeof i[f]=="function"&&(e&&(r||=$a(()=>a.add())),i[f]=Xq(i[f],r,c));let l=Jq(()=>t.apply(this,i));return e?l instanceof Me?l.pipe(Yo(o.outsideAngular),Qo(o.insideAngular),lI(c)):l instanceof Promise?$a(()=>new Promise((f,g)=>{a.run(()=>l).then(y=>cn(c,()=>$a(()=>f(y))),y=>cn(c,()=>$a(()=>g(y))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:$a(()=>l):l instanceof Me?l.pipe(Yo(o.outsideAngular),Qo(o.insideAngular)):$a(()=>l)});var _o=class{constructor(e){return e}},za=class{constructor(){return Bg()}};function e6(t){return t&&t.length===1?t[0]:new _o(ja())}var dI=new Y("angularfire2._apps"),t6={provide:_o,useFactory:e6,deps:[[new nr,dI]]},n6={provide:za,deps:[[new nr,dI]]};function r6(t){return(e,n)=>{let r=n.get(Ia);Dt("angularfire",ms.full,"core"),Dt("angularfire",ms.full,"app"),Dt("angular",WR.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new _o(i)}}function mN(t,...e){return kn([t6,n6,{provide:dI,useFactory:r6(t),multi:!0,deps:[Qe,Nt,gs,...e]}])}var gN=Mt(cI,!0);var i6=new Map,o6={activated:!1,tokenObservers:[]},s6={initialized:!1,enabled:!1};function zr(t){return i6.get(t)||Object.assign({},o6)}function wN(){return s6}var a6="https://content-firebaseappcheck.googleapis.com/v1";var u6="exchangeDebugToken",_N={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Tse=24*60*60*1e3;var pI=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return T(this,null,function*(){this.stop();try{this.pending=new Va,this.pending.promise.catch(n=>{}),yield c6(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Va,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function c6(t){return new Promise(e=>{setTimeout(e,t)})}var l6={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},_s=new jr("appCheck","AppCheck",l6);function EN(t){if(!zr(t).activated)throw _s.create("use-before-activation",{appName:t.name})}function IN(r,i){return T(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},a=n.getImmediate({optional:!0});if(a){let E=yield a.getHeartbeatsHeader();E&&(o["X-Firebase-Client"]=E)}let c={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,c)}catch(E){throw _s.create("fetch-network-error",{originalErrorMessage:E?.message})}if(l.status!==200)throw _s.create("fetch-status-error",{httpStatus:l.status});let f;try{f=yield l.json()}catch(E){throw _s.create("fetch-parse-error",{originalErrorMessage:E?.message})}let g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw _s.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});let y=Number(g[1])*1e3,I=Date.now();return{token:f.token,expireTimeMillis:I+y,issuedAtTimeMillis:I}})}function bN(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${a6}/projects/${n}/apps/${r}:${u6}?key=${i}`,body:{debug_token:e}}}var d6="firebase-app-check-database",h6=1,mI="firebase-app-check-store";var jg=null;function f6(){return jg||(jg=new Promise((t,e)=>{try{let n=indexedDB.open(d6,h6);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(_s.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(mI,{keyPath:"compositeKey"})}}}catch(n){e(_s.create("storage-open",{originalErrorMessage:n?.message}))}}),jg)}function p6(t,e){return m6(g6(t),e)}function m6(t,e){return T(this,null,function*(){let r=(yield f6()).transaction(mI,"readwrite"),o=r.objectStore(mI).put({compositeKey:t,value:e});return new Promise((a,c)=>{o.onsuccess=l=>{a()},r.onerror=l=>{var f;c(_s.create("storage-set",{originalErrorMessage:(f=l.target.error)===null||f===void 0?void 0:f.message}))}})})}function g6(t){return`${t.options.appId}-${t.name}`}var _h=new bi("@firebase/app-check");function hI(t,e){return hh()?p6(t,e).catch(n=>{_h.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function TN(){return wN().enabled}function CN(){return T(this,null,function*(){let t=wN();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var _6={error:"UNKNOWN_ERROR"};function v6(t){return Ng.encodeString(JSON.stringify(t),!1)}function gI(t,e=!1,n=!1){return T(this,null,function*(){let r=t.app;EN(r);let i=zr(r),o=i.token,a;if(o&&!vh(o)&&(i.token=void 0,o=void 0),!o){let f=yield i.cachedTokenPromise;f&&(vh(f)?o=f:yield hI(r,void 0))}if(!e&&o&&vh(o))return{token:o.token};let c=!1;if(TN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=IN(bN(r,yield CN()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let f=yield i.exchangeTokenPromise;return yield hI(r,f),i.token=f,{token:f.token}}catch(f){return f.code==="appCheck/throttled"||f.code==="appCheck/initial-throttle"?_h.warn(f.message):n&&_h.error(f),fI(f)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield zr(r).exchangeTokenPromise}catch(f){f.code==="appCheck/throttled"||f.code==="appCheck/initial-throttle"?_h.warn(f.message):n&&_h.error(f),a=f}let l;return o?a?vh(o)?l={token:o.token,internalError:a}:l=fI(a):(l={token:o.token},i.token=o,yield hI(r,o)):l=fI(a),c&&I6(r,l),l})}function y6(t){return T(this,null,function*(){let e=t.app;EN(e);let{provider:n}=zr(e);if(TN()){let r=yield CN(),{token:i}=yield IN(bN(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function w6(t,e,n,r){let{app:i}=t,o=zr(i),a={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,a],o.token&&vh(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),vN(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>vN(t))}function DN(t,e){let n=zr(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function vN(t){let{app:e}=t,n=zr(e),r=n.tokenRefresher;r||(r=E6(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function E6(t){let{app:e}=t;return new pI(()=>T(null,null,function*(){let n=zr(e),r;if(n.token?r=yield gI(t,!0):r=yield gI(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=zr(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},_N.RETRIAL_MIN_WAIT,_N.RETRIAL_MAX_WAIT)}function I6(t,e){let n=zr(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function vh(t){return t.expireTimeMillis-Date.now()>0}function fI(t){return{token:v6(_6),error:t}}var _I=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=zr(this.app);for(let n of e)DN(this.app,n.next);return Promise.resolve()}};function b6(t,e){return new _I(t,e)}function T6(t){return{getToken:e=>gI(t,e),getLimitedUseToken:()=>y6(t),addTokenListener:e=>w6(t,"INTERNAL",e),removeTokenListener:e=>DN(t.app,e)}}var C6="@firebase/app-check",D6="0.9.3";var S6="app-check",yN="app-check-internal";function A6(){$r(new Sn(S6,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return b6(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(yN).initialize()})),$r(new Sn(yN,t=>{let e=t.getProvider("app-check").getImmediate();return T6(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Dt(C6,D6)}A6();var M6="app-check";var Vc=class{constructor(){return Fc(M6)}};var R6=["localhost","0.0.0.0","127.0.0.1"],Fse=typeof window<"u"&&R6.includes(window.location.hostname);function $N(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zN=$N,HN=new jr("auth","Firebase",$N());var Gg=new bi("@firebase/auth");function P6(t,...e){Gg.logLevel<=Ve.WARN&&Gg.warn(`Auth (${ps}): ${t}`,...e)}function zg(t,...e){Gg.logLevel<=Ve.ERROR&&Gg.error(`Auth (${ps}): ${t}`,...e)}function Di(t,...e){throw $I(t,...e)}function Ha(t,...e){return $I(t,...e)}function qN(t,e,n){let r=Object.assign(Object.assign({},zN()),{[e]:n});return new jr("auth","Firebase",r).create(e,{appName:t.name})}function wo(t){return qN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $I(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HN.create(t,...e)}function _e(t,e,...n){if(!t)throw $I(e,...n)}function vo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw zg(e),new Error(e)}function ws(t,e){t||vo(e)}function EI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function x6(){return SN()==="http:"||SN()==="https:"}function SN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function N6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x6()||Wx()||"connection"in navigator)?navigator.onLine:!0}function O6(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var qa=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ws(n>e,"Short delay should be less than long delay!"),this.isMobile=Hx()||Gx()}get(){return N6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function zI(t,e){ws(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Kg=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var k6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var L6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F6=new qa(3e4,6e4);function Es(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Is(o,a,c,l){return T(this,arguments,function*(t,e,n,r,i={}){return WN(t,i,()=>T(null,null,function*(){let f={},g={};r&&(e==="GET"?g=r:f={body:JSON.stringify(r)});let y=fh(Object.assign({key:t.config.apiKey},g)).slice(1),I=yield t._getAdditionalHeaders();I["Content-Type"]="application/json",t.languageCode&&(I["X-Firebase-Locale"]=t.languageCode);let E=Object.assign({method:e,headers:I},f);return qx()||(E.referrerPolicy="no-referrer"),t.emulatorConfig&&Ba(t.emulatorConfig.host)&&(E.credentials="include"),Kg.fetch()(yield GN(t,t.config.apiHost,n,y),E)}))})}function WN(t,e,n){return T(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},k6),e);try{let i=new II(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let a=yield o.json();if("needConfirmation"in a)throw $g(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{let c=o.ok?a.errorMessage:a.error.message,[l,f]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $g(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw $g(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw $g(t,"user-disabled",a);let g=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw qN(t,g,f);Di(t,g)}}catch(i){if(i instanceof sr)throw i;Di(t,"network-request-failed",{message:String(i)})}})}function Sh(o,a,c,l){return T(this,arguments,function*(t,e,n,r,i={}){let f=yield Is(t,e,n,r,i);return"mfaPendingCredential"in f&&Di(t,"multi-factor-auth-required",{_serverResponse:f}),f})}function GN(t,e,n,r){return T(this,null,function*(){let i=`${e}${n}?${r}`,o=t,a=o.config.emulator?zI(t.config,i):`${t.config.apiScheme}://${i}`;return L6.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a})}function V6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var II=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ha(this.auth,"network-request-failed")),F6.get())})}};function $g(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ha(t,e,r);return i.customData._tokenResponse=n,i}function AN(t){return t!==void 0&&t.enterprise!==void 0}var bI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return V6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function B6(t,e){return T(this,null,function*(){return Is(t,"GET","/v2/recaptchaConfig",Es(t,e))})}function U6(t,e){return T(this,null,function*(){return Is(t,"POST","/v1/accounts:delete",e)})}function Zg(t,e){return T(this,null,function*(){return Is(t,"POST","/v1/accounts:lookup",e)})}function wh(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function HI(t,e=!1){return T(this,null,function*(){let n=fn(t),r=yield n.getIdToken(e),i=qI(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:wh(vI(i.auth_time)),issuedAtTime:wh(vI(i.iat)),expirationTime:wh(vI(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function vI(t){return Number(t)*1e3}function qI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zg("JWT malformed, contained fewer than 3 sections"),null;try{let i=Og(n);return i?JSON.parse(i):(zg("Failed to decode base64 JWT payload"),null)}catch(i){return zg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function MN(t){let e=qI(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ih(t,e,n=!1){return T(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof sr&&j6(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function j6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var TI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),n)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bh=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Qg(t){return T(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ih(t,Zg(n,{idToken:r}));_e(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KN(o.providerUserInfo):[],c=$6(t.providerData,a),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!c?.length,g=l?f:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new bh(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,y)})}function WI(t){return T(this,null,function*(){let e=fn(t);yield Qg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function $6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KN(t){return t.map(e=>{var{providerId:n}=e,r=_y(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function z6(t,e){return T(this,null,function*(){let n=yield WN(t,{},()=>T(null,null,function*(){let r=fh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=yield GN(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Kg.fetch()(a,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function H6(t,e){return T(this,null,function*(){return Is(t,"POST","/v2/accounts:revokeToken",Es(t,e))})}var Eh=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");let n=MN(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return T(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield z6(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new t;return r&&(_e(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return vo("not implemented")}};function vs(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ys=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=_y(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bh(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let n=yield Ih(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return HI(this,e)}reload(){return WI(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Qg(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(jn(this.auth.app))return Promise.reject(wo(this.auth));let e=yield this.getIdToken();return yield Ih(this,U6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,c,l,f,g;let y=(r=n.displayName)!==null&&r!==void 0?r:void 0,I=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,M=(a=n.photoURL)!==null&&a!==void 0?a:void 0,F=(c=n.tenantId)!==null&&c!==void 0?c:void 0,V=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,K=(f=n.createdAt)!==null&&f!==void 0?f:void 0,oe=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:X,emailVerified:Le,isAnonymous:Rt,providerData:He,stsTokenManager:P}=n;_e(X&&P,e,"internal-error");let C=Eh.fromJSON(this.name,P);_e(typeof X=="string",e,"internal-error"),vs(y,e.name),vs(I,e.name),_e(typeof Le=="boolean",e,"internal-error"),_e(typeof Rt=="boolean",e,"internal-error"),vs(E,e.name),vs(M,e.name),vs(F,e.name),vs(V,e.name),vs(K,e.name),vs(oe,e.name);let D=new t({uid:X,auth:e,email:I,emailVerified:Le,displayName:y,isAnonymous:Rt,photoURL:M,phoneNumber:E,tenantId:F,stsTokenManager:C,createdAt:K,lastLoginAt:oe});return He&&Array.isArray(He)&&(D.providerData=He.map(R=>Object.assign({},R))),V&&(D._redirectEventId=V),D}static _fromIdTokenResponse(e,n,r=!1){return T(this,null,function*(){let i=new Eh;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Qg(o),o})}static _fromGetAccountInfoResponse(e,n,r){return T(this,null,function*(){let i=n.users[0];_e(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?KN(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,c=new Eh;c.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,f),l})}};var RN=new Map;function yo(t){ws(t instanceof Function,"Expected a class definition");let e=RN.get(t);return e?(ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RN.set(t,e),e)}var q6=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(n,r){return T(this,null,function*(){this.storage[n]=r})}_get(n){return T(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return T(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),CI=q6;function Hg(t,e,n){return`firebase:${t}:${e}:${n}`}var Yg=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Hg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Hg("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Zg(this.auth,{idToken:e}).catch(()=>{});return n?ys._fromGetAccountInfoResponse(this.auth,n,e):null}return ys._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return T(this,null,function*(){if(!n.length)return new t(yo(CI),e,r);let i=(yield Promise.all(n.map(f=>T(null,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),o=i[0]||yo(CI),a=Hg(r,e.config.apiKey,e.name),c=null;for(let f of n)try{let g=yield f._get(a);if(g){let y;if(typeof g=="string"){let I=yield Zg(e,{idToken:g}).catch(()=>{});if(!I)break;y=yield ys._fromGetAccountInfoResponse(e,I,g)}else y=ys._fromJSON(e,g);f!==o&&(c=y),o=f;break}}catch{}let l=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,e,r):(o=l[0],c&&(yield o._set(a,c.toJSON())),yield Promise.all(n.map(f=>T(null,null,function*(){if(f!==o)try{yield f._remove(a)}catch{}}))),new t(o,e,r))})}};function PN(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eO(e))return"Blackberry";if(tO(e))return"Webos";if(QN(e))return"Safari";if((e.includes("chrome/")||YN(e))&&!e.includes("edge/"))return"Chrome";if(XN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ZN(t=tn()){return/firefox\//i.test(t)}function QN(t=tn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YN(t=tn()){return/crios\//i.test(t)}function JN(t=tn()){return/iemobile/i.test(t)}function XN(t=tn()){return/android/i.test(t)}function eO(t=tn()){return/blackberry/i.test(t)}function tO(t=tn()){return/webos/i.test(t)}function GI(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function W6(t=tn()){var e;return GI(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function G6(){return Kx()&&document.documentMode===10}function nO(t=tn()){return GI(t)||XN(t)||tO(t)||eO(t)||/windows phone/i.test(t)||JN(t)}function rO(t,e=[]){let n;switch(t){case"Browser":n=PN(tn());break;case"Worker":n=`${PN(tn())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ps}/${r}`}var DI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((a,c)=>{try{let l=e(o);a(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function K6(n){return T(this,arguments,function*(t,e={}){return Is(t,"GET","/v2/passwordPolicy",Es(t,e))})}var Z6=6,SI=class{constructor(e){var n,r,i,o;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Z6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var AI=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jg(this),this.idTokenSubscription=new Jg(this),this.beforeStateQueue=new DI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yo(n)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Yg.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let n=yield Zg(this,{idToken:e}),r=yield ys._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var n;if(jn(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield Qg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=O6()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(jn(this.app))return Promise.reject(wo(this));let n=e?fn(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return T(this,null,function*(){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return jn(this.app)?Promise.reject(wo(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return jn(this.app)?Promise.reject(wo(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(yo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield K6(this),n=new SI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield H6(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&yo(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=yield Yg.create(this,[yo(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),a=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(c,this,"internal-error"),c.then(()=>{a||o(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{let l=e.addObserver(n);return()=>{a=!0,l()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return T(this,null,function*(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&P6(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ga(t){return fn(t)}var Jg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jx(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var o_={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q6(t){o_=t}function iO(t){return o_.loadJS(t)}function Y6(){return o_.recaptchaEnterpriseScript}function J6(){return o_.gapiScript}function oO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var MI=class{constructor(){this.enterprise=new RI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},RI=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var X6="recaptcha-enterprise",sO="NO_RECAPTCHA",PI=class{constructor(e){this.type=X6,this.auth=Ga(e)}verify(e="verify",n=!1){return T(this,null,function*(){function r(o){return T(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((a,c)=>T(null,null,function*(){B6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let f=new bI(l);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,a(f.siteKey)}}).catch(l=>{c(l)})}))})}function i(o,a,c){let l=window.grecaptcha;AN(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(f=>{a(f)}).catch(()=>{a(sO)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MI().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(c=>{if(!n&&AN(window.grecaptcha))i(c,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Y6();l.length!==0&&(l+=c),iO(l).then(()=>{i(c,o,a)}).catch(f=>{a(f)})}}).catch(c=>{a(c)})})})}};function yh(t,e,n,r=!1,i=!1){return T(this,null,function*(){let o=new PI(t),a;if(i)a=sO;else try{a=yield o.verify(n)}catch{a=yield o.verify(n,!0)}let c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let l=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:f,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let l=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function xI(t,e,n,r,i){return T(this,null,function*(){var o,a;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield yh(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(c=>T(null,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield yh(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(c)}));else if(i==="PHONE_PROVIDER")if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){let c=yield yh(t,e,n);return r(t,c).catch(l=>T(null,null,function*(){var f;if(((f=t._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let g=yield yh(t,e,n,!1,!0);return r(t,g)}return Promise.reject(l)}))}else{let c=yield yh(t,e,n,!1,!0);return r(t,c)}else return Promise.reject(i+" provider is not supported.")})}function KI(t,e){let n=kc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Ii(o,e??{}))return i;Di(i,"already-initialized")}return n.initialize({options:e})}function e8(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(yo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ZI(t,e,n){let r=Ga(t);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=aO(e),{host:a,port:c}=t8(e),l=c===null?"":`:${c}`,f={url:`${o}//${a}${l}/`},g=Object.freeze({host:a,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(Ii(f,r.config.emulator)&&Ii(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Ba(a)?(xc("Auth",!0),Lg(`${o}//${a}${l}`)):i||n8()}function aO(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function t8(t){let e=aO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:xN(r.substr(o.length+1))}}else{let[o,a]=r.split(":");return{host:o,port:xN(a)}}}function xN(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function n8(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Th=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vo("not implemented")}_getIdTokenResponse(e){return vo("not implemented")}_linkToIdToken(e,n){return vo("not implemented")}_getReauthenticationResolver(e){return vo("not implemented")}};function r8(t,e){return T(this,null,function*(){return Is(t,"POST","/v1/accounts:signUp",e)})}function i8(t,e){return T(this,null,function*(){return Sh(t,"POST","/v1/accounts:signInWithPassword",Es(t,e))})}function o8(t,e){return T(this,null,function*(){return Sh(t,"POST","/v1/accounts:signInWithEmailLink",Es(t,e))})}function s8(t,e){return T(this,null,function*(){return Sh(t,"POST","/v1/accounts:signInWithEmailLink",Es(t,e))})}var Ch=class t extends Th{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return T(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xI(e,n,"signInWithPassword",i8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return o8(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}})}_linkToIdToken(e,n){return T(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xI(e,r,"signUpPassword",r8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return s8(e,{idToken:n,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function yI(t,e){return T(this,null,function*(){return Sh(t,"POST","/v1/accounts:signInWithIdp",Es(t,e))})}function a8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u8(t){let e=Nc(Oc(t)).link,n=e?Nc(Oc(e)).deep_link_id:null,r=Nc(Oc(t)).deep_link_id;return(r?Nc(Oc(r)).link:null)||r||n||e||t}var Xg=class t{constructor(e){var n,r,i,o,a,c;let l=Nc(Oc(e)),f=(n=l.apiKey)!==null&&n!==void 0?n:null,g=(r=l.oobCode)!==null&&r!==void 0?r:null,y=a8((i=l.mode)!==null&&i!==void 0?i:null);_e(f&&g&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=g,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.lang)!==null&&a!==void 0?a:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=u8(e);try{return new t(n)}catch{return null}}};var uO=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ch._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Xg.parseLink(r);return _e(i,"argument-error"),Ch._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),e_=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var NI=class extends e_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function c8(t,e){return T(this,null,function*(){return Sh(t,"POST","/v1/accounts:signUp",Es(t,e))})}var Bc=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return T(this,null,function*(){let o=yield ys._fromIdTokenResponse(e,r,i),a=NN(r);return new t({user:o,providerId:a,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return T(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=NN(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function NN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var OI=class t extends sr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function cO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?OI._fromErrorAndOperation(t,o,e,r):o})}function l8(t,e,n=!1){return T(this,null,function*(){let r=yield Ih(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Bc._forOperation(t,"link",r)})}function d8(t,e,n=!1){return T(this,null,function*(){let{auth:r}=t;if(jn(r.app))return Promise.reject(wo(r));let i="reauthenticate";try{let o=yield Ih(t,cO(r,i,e,t),n);_e(o.idToken,r,"internal-error");let a=qI(o.idToken);_e(a,r,"internal-error");let{sub:c}=a;return _e(t.uid===c,r,"user-mismatch"),Bc._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Di(r,"user-mismatch"),o}})}function lO(t,e,n=!1){return T(this,null,function*(){if(jn(t.app))return Promise.reject(wo(t));let r="signIn",i=yield cO(t,r,e),o=yield Bc._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function QI(t,e){return T(this,null,function*(){return lO(Ga(t),e)})}function dO(t){return T(this,null,function*(){let e=Ga(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function YI(t,e,n){return T(this,null,function*(){if(jn(t.app))return Promise.reject(wo(t));let r=Ga(t),a=yield xI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c8,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&dO(t),l}),c=yield Bc._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(c.user),c})}function JI(t,e,n){return jn(t.app)?Promise.reject(wo(t)):QI(fn(t),uO.credential(e,n)).catch(r=>T(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&dO(t),r}))}function Ah(t,e,n,r){return fn(t).onIdTokenChanged(e,n,r)}function XI(t,e,n){return fn(t).beforeAuthStateChanged(e,n)}function eb(t){return fn(t).signOut()}var t_="__sak";var n_=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(t_,"1"),this.storage.removeItem(t_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var h8=1e3,f8=10,p8=(()=>{class t extends n_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nO(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,l,f)=>{this.notifyListeners(c,f)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);G6()&&a!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,f8):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},h8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return T(this,null,function*(){yield Go(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return T(this,null,function*(){let r=yield Go(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return T(this,null,function*(){yield Go(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),hO=p8;var m8=(()=>{class t extends n_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),tb=m8;function g8(t){return Promise.all(t.map(e=>T(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var _8=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return T(this,null,function*(){let r=n,{eventId:i,eventType:o,data:a}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(c).map(g=>T(this,null,function*(){return g(r.origin,a)})),f=yield g8(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function fO(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var kI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return T(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{let f=fO("",20);i.port1.start();let g=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(y){let I=y;if(I.data.eventId===f)switch(I.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(I.data.response);break;default:clearTimeout(g),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function Ci(){return window}function v8(t){Ci().location.href=t}function pO(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}function y8(){return T(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function w8(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function E8(){return pO()?self:null}var mO="firebaseLocalStorageDb",I8=1,r_="firebaseLocalStorage",gO="fbase_key",Wa=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function s_(t,e){return t.transaction([r_],e?"readwrite":"readonly").objectStore(r_)}function b8(){let t=indexedDB.deleteDatabase(mO);return new Wa(t).toPromise()}function LI(){let t=indexedDB.open(mO,I8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(r_,{keyPath:gO})}catch(i){n(i)}}),t.addEventListener("success",()=>T(null,null,function*(){let r=t.result;r.objectStoreNames.contains(r_)?e(r):(r.close(),yield b8(),e(yield LI()))}))})}function ON(t,e,n){return T(this,null,function*(){let r=s_(t,!0).put({[gO]:e,value:n});return new Wa(r).toPromise()})}function T8(t,e){return T(this,null,function*(){let n=s_(t,!1).get(e),r=yield new Wa(n).toPromise();return r===void 0?null:r.value})}function kN(t,e){let n=s_(t,!0).delete(e);return new Wa(n).toPromise()}var C8=800,D8=3,S8=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return T(this,null,function*(){return this.db?this.db:(this.db=yield LI(),this.db)})}_withRetries(n){return T(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>D8)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return T(this,null,function*(){return pO()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return T(this,null,function*(){this.receiver=_8._getInstance(E8()),this.receiver._subscribe("keyChanged",(n,r)=>T(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>T(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return T(this,null,function*(){var n,r;if(this.activeServiceWorker=yield y8(),!this.activeServiceWorker)return;this.sender=new kI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return T(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||w8()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return T(this,null,function*(){try{if(!indexedDB)return!1;let n=yield LI();return yield ON(n,t_,"1"),yield kN(n,t_),!0}catch{}return!1})}_withPendingWrite(n){return T(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(i=>ON(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return T(this,null,function*(){let r=yield this._withRetries(i=>T8(i,n));return this.localCache[n]=r,r})}_remove(n){return T(this,null,function*(){return this._withPendingWrite(()=>T(this,null,function*(){return yield this._withRetries(r=>kN(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return T(this,null,function*(){let n=yield this._withRetries(o=>{let a=s_(o,!1).getAll();return new Wa(a).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:a}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>T(this,null,function*(){return this._poll()}),C8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),_O=S8;var qse=oO("rcb"),Wse=new qa(3e4,6e4);function A8(t,e){return e?yo(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Dh=class extends Th{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yI(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yI(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yI(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function M8(t){return lO(t.auth,new Dh(t),t.bypassAuthState)}function R8(t){let{auth:e,user:n}=t;return _e(n,e,"internal-error"),d8(n,new Dh(t),t.bypassAuthState)}function P8(t){return T(this,null,function*(){let{auth:e,user:n}=t;return _e(n,e,"internal-error"),l8(n,new Dh(t),t.bypassAuthState)})}var FI=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>T(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return T(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:c}=e;if(a){this.reject(a);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M8;case"linkViaPopup":case"linkViaRedirect":return P8;case"reauthViaPopup":case"reauthViaRedirect":return R8;default:Di(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Gse=new qa(2e3,1e4);var x8="pendingRedirect",qg=new Map,VI=class t extends FI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return T(this,null,function*(){let e=qg.get(this.auth._key());if(!e){try{let r=(yield N8(this.resolver,this.auth))?yield Go(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qg.set(this.auth._key(),e)}return this.bypassAuthState||qg.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return T(this,null,function*(){if(e.type==="signInViaRedirect")return Go(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Go(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return T(this,null,function*(){})}cleanUp(){}};function N8(t,e){return T(this,null,function*(){let n=L8(e),r=k8(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function O8(t,e){qg.set(t._key(),e)}function k8(t){return yo(t._redirectPersistence)}function L8(t){return Hg(x8,t.config.apiKey,t.name)}function F8(t,e,n=!1){return T(this,null,function*(){if(jn(t.app))return Promise.reject(wo(t));let r=Ga(t),i=A8(r,e),a=yield new VI(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})}var V8=10*60*1e3,BI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vO(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ha(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V8&&this.cachedEventUids.clear(),this.cachedEventUids.has(LN(e))}saveEventToCache(e){this.cachedEventUids.add(LN(e)),this.lastProcessedEventTime=Date.now()}};function LN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vO({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function B8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vO(t);default:return!1}}function U8(n){return T(this,arguments,function*(t,e={}){return Is(t,"GET","/v1/projects",e)})}var j8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$8=/^https?/;function z8(t){return T(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield U8(t);for(let n of e)try{if(H8(n))return}catch{}Di(t,"unauthorized-domain")})}function H8(t){let e=EI(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!$8.test(n))return!1;if(j8.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var q8=new qa(3e4,6e4);function FN(){let t=Ci().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function W8(t){return new Promise((e,n)=>{var r,i,o;function a(){FN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FN(),n(Ha(t,"network-request-failed"))},timeout:q8.get()})}if(!((i=(r=Ci().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ci().gapi)===null||o===void 0)&&o.load)a();else{let c=oO("iframefcb");return Ci()[c]=()=>{gapi.load?a():n(Ha(t,"network-request-failed"))},iO(`${J6()}?onload=${c}`).catch(l=>n(l))}}).catch(e=>{throw Wg=null,e})}var Wg=null;function G8(t){return Wg=Wg||W8(t),Wg}var K8=new qa(5e3,15e3),Z8="__/auth/iframe",Q8="emulator/auth/iframe",Y8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X8(t){let e=t.config;_e(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?zI(e,Q8):`https://${t.config.authDomain}/${Z8}`,r={apiKey:e.apiKey,appName:t.name,v:ps},i=J8.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${fh(r).slice(1)}`}function eW(t){return T(this,null,function*(){let e=yield G8(t),n=Ci().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:X8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y8,dontclear:!0},r=>new Promise((i,o)=>T(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let a=Ha(t,"network-request-failed"),c=Ci().setTimeout(()=>{o(a)},K8.get());function l(){Ci().clearTimeout(c),i(r)}r.ping(l).then(l,()=>{o(a)})})))})}var tW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nW=500,rW=600,iW="_blank",oW="http://localhost",i_=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function sW(t,e,n,r=nW,i=rW){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",l=Object.assign(Object.assign({},tW),{width:r.toString(),height:i.toString(),top:o,left:a}),f=tn().toLowerCase();n&&(c=YN(f)?iW:n),ZN(f)&&(e=e||oW,l.scrollbars="yes");let g=Object.entries(l).reduce((I,[E,M])=>`${I}${E}=${M},`,"");if(W6(f)&&c!=="_self")return aW(e||"",c),new i_(null);let y=window.open(e||"",c,g);_e(y,t,"popup-blocked");try{y.focus()}catch{}return new i_(y)}function aW(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var uW="__/auth/handler",cW="emulator/auth/handler",lW=encodeURIComponent("fac");function VN(t,e,n,r,i,o){return T(this,null,function*(){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");let a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ps,eventId:i};if(e instanceof e_){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Yx(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[g,y]of Object.entries(o||{}))a[g]=y}if(e instanceof NI){let g=e.getScopes().filter(y=>y!=="");g.length>0&&(a.scopes=g.join(","))}t.tenantId&&(a.tid=t.tenantId);let c=a;for(let g of Object.keys(c))c[g]===void 0&&delete c[g];let l=yield t._getAppCheckToken(),f=l?`#${lW}=${encodeURIComponent(l)}`:"";return`${dW(t)}?${fh(c).slice(1)}${f}`})}function dW({config:t}){return t.emulator?zI(t,cW):`https://${t.authDomain}/${uW}`}var wI="webStorageSupport",UI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tb,this._completeRedirectFn=F8,this._overrideRedirectResult=O8}_openPopup(e,n,r,i){return T(this,null,function*(){var o;ws((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let a=yield VN(e,n,r,EI(),i);return sW(e,a,fO())})}_openRedirect(e,n,r,i){return T(this,null,function*(){yield this._originValidation(e);let o=yield VN(e,n,r,EI(),i);return v8(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ws(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return T(this,null,function*(){let n=yield eW(e),r=new BI(e);return n.register("authEvent",i=>(_e(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wI,{type:wI},i=>{var o;let a=(o=i?.[0])===null||o===void 0?void 0:o[wI];a!==void 0&&n(!!a),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nO()||QN()||GI()}},yO=UI;var BN="@firebase/auth",UN="1.10.4";var jI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function hW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fW(t){$r(new Sn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rO(t)},f=new AI(r,i,o,l);return e8(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$r(new Sn("auth-internal",e=>{let n=Ga(e.getProvider("auth").getImmediate());return(r=>new jI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dt(BN,UN,hW(t)),Dt(BN,UN,"esm2017")}var pW=5*60,mW=KE("authIdTokenMaxAge")||pW,jN=null,gW=t=>e=>T(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mW)return;let i=n?.token;jN!==i&&(jN=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function nb(t=ja()){let e=kc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=KI(t,{popupRedirectResolver:yO,persistence:[_O,hO,tb]}),r=KE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let a=gW(o.toString());XI(n,a,()=>a(n.currentUser)),Ah(n,c=>a(c))}}let i=WE("auth");return i?ZI(n,`http://${i}`):xc("Auth",!1),n}function _W(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Q6({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ha("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",_W().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fW("Browser");function IO(t){return new Me(function(e){var n=Ah(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var bO="auth",Ka=class{constructor(e){return e}},Mh=class{constructor(){return Fc(bO)}};var rb=new Y("angularfire2.auth-instances");function iG(t,e){let n=gh(bO,t,e);return n&&new Ka(n)}function oG(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ka(r)}}var sG={provide:Mh,deps:[[new nr,rb]]},aG={provide:Ka,useFactory:iG,deps:[[new nr,rb],_o]};function TO(t,...e){return Dt("angularfire",ms.full,"auth"),kn([aG,sG,{provide:rb,useFactory:oG(t),multi:!0,deps:[Qe,Nt,gs,za,[new nr,Vc],...e]}])}var CO=Mt(IO,!0);var DO=Mt(YI,!0,2);var SO=Mt(nb,!0);var AO=Mt(JI,!0,2);var MO=Mt(eb,!0,2);var RO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},PO={};var Eo,ib;(function(){var t;function e(P,C){function D(){}D.prototype=C.prototype,P.D=C.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(R,x,O){for(var A=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)A[_t-2]=arguments[_t];return C.prototype[x].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,C,D){D||(D=0);var R=Array(16);if(typeof C=="string")for(var x=0;16>x;++x)R[x]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(x=0;16>x;++x)R[x]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=P.g[0],D=P.g[1],x=P.g[2];var O=P.g[3],A=C+(O^D&(x^O))+R[0]+3614090360&4294967295;C=D+(A<<7&4294967295|A>>>25),A=O+(x^C&(D^x))+R[1]+3905402710&4294967295,O=C+(A<<12&4294967295|A>>>20),A=x+(D^O&(C^D))+R[2]+606105819&4294967295,x=O+(A<<17&4294967295|A>>>15),A=D+(C^x&(O^C))+R[3]+3250441966&4294967295,D=x+(A<<22&4294967295|A>>>10),A=C+(O^D&(x^O))+R[4]+4118548399&4294967295,C=D+(A<<7&4294967295|A>>>25),A=O+(x^C&(D^x))+R[5]+1200080426&4294967295,O=C+(A<<12&4294967295|A>>>20),A=x+(D^O&(C^D))+R[6]+2821735955&4294967295,x=O+(A<<17&4294967295|A>>>15),A=D+(C^x&(O^C))+R[7]+4249261313&4294967295,D=x+(A<<22&4294967295|A>>>10),A=C+(O^D&(x^O))+R[8]+1770035416&4294967295,C=D+(A<<7&4294967295|A>>>25),A=O+(x^C&(D^x))+R[9]+2336552879&4294967295,O=C+(A<<12&4294967295|A>>>20),A=x+(D^O&(C^D))+R[10]+4294925233&4294967295,x=O+(A<<17&4294967295|A>>>15),A=D+(C^x&(O^C))+R[11]+2304563134&4294967295,D=x+(A<<22&4294967295|A>>>10),A=C+(O^D&(x^O))+R[12]+1804603682&4294967295,C=D+(A<<7&4294967295|A>>>25),A=O+(x^C&(D^x))+R[13]+4254626195&4294967295,O=C+(A<<12&4294967295|A>>>20),A=x+(D^O&(C^D))+R[14]+2792965006&4294967295,x=O+(A<<17&4294967295|A>>>15),A=D+(C^x&(O^C))+R[15]+1236535329&4294967295,D=x+(A<<22&4294967295|A>>>10),A=C+(x^O&(D^x))+R[1]+4129170786&4294967295,C=D+(A<<5&4294967295|A>>>27),A=O+(D^x&(C^D))+R[6]+3225465664&4294967295,O=C+(A<<9&4294967295|A>>>23),A=x+(C^D&(O^C))+R[11]+643717713&4294967295,x=O+(A<<14&4294967295|A>>>18),A=D+(O^C&(x^O))+R[0]+3921069994&4294967295,D=x+(A<<20&4294967295|A>>>12),A=C+(x^O&(D^x))+R[5]+3593408605&4294967295,C=D+(A<<5&4294967295|A>>>27),A=O+(D^x&(C^D))+R[10]+38016083&4294967295,O=C+(A<<9&4294967295|A>>>23),A=x+(C^D&(O^C))+R[15]+3634488961&4294967295,x=O+(A<<14&4294967295|A>>>18),A=D+(O^C&(x^O))+R[4]+3889429448&4294967295,D=x+(A<<20&4294967295|A>>>12),A=C+(x^O&(D^x))+R[9]+568446438&4294967295,C=D+(A<<5&4294967295|A>>>27),A=O+(D^x&(C^D))+R[14]+3275163606&4294967295,O=C+(A<<9&4294967295|A>>>23),A=x+(C^D&(O^C))+R[3]+4107603335&4294967295,x=O+(A<<14&4294967295|A>>>18),A=D+(O^C&(x^O))+R[8]+1163531501&4294967295,D=x+(A<<20&4294967295|A>>>12),A=C+(x^O&(D^x))+R[13]+2850285829&4294967295,C=D+(A<<5&4294967295|A>>>27),A=O+(D^x&(C^D))+R[2]+4243563512&4294967295,O=C+(A<<9&4294967295|A>>>23),A=x+(C^D&(O^C))+R[7]+1735328473&4294967295,x=O+(A<<14&4294967295|A>>>18),A=D+(O^C&(x^O))+R[12]+2368359562&4294967295,D=x+(A<<20&4294967295|A>>>12),A=C+(D^x^O)+R[5]+4294588738&4294967295,C=D+(A<<4&4294967295|A>>>28),A=O+(C^D^x)+R[8]+2272392833&4294967295,O=C+(A<<11&4294967295|A>>>21),A=x+(O^C^D)+R[11]+1839030562&4294967295,x=O+(A<<16&4294967295|A>>>16),A=D+(x^O^C)+R[14]+4259657740&4294967295,D=x+(A<<23&4294967295|A>>>9),A=C+(D^x^O)+R[1]+2763975236&4294967295,C=D+(A<<4&4294967295|A>>>28),A=O+(C^D^x)+R[4]+1272893353&4294967295,O=C+(A<<11&4294967295|A>>>21),A=x+(O^C^D)+R[7]+4139469664&4294967295,x=O+(A<<16&4294967295|A>>>16),A=D+(x^O^C)+R[10]+3200236656&4294967295,D=x+(A<<23&4294967295|A>>>9),A=C+(D^x^O)+R[13]+681279174&4294967295,C=D+(A<<4&4294967295|A>>>28),A=O+(C^D^x)+R[0]+3936430074&4294967295,O=C+(A<<11&4294967295|A>>>21),A=x+(O^C^D)+R[3]+3572445317&4294967295,x=O+(A<<16&4294967295|A>>>16),A=D+(x^O^C)+R[6]+76029189&4294967295,D=x+(A<<23&4294967295|A>>>9),A=C+(D^x^O)+R[9]+3654602809&4294967295,C=D+(A<<4&4294967295|A>>>28),A=O+(C^D^x)+R[12]+3873151461&4294967295,O=C+(A<<11&4294967295|A>>>21),A=x+(O^C^D)+R[15]+530742520&4294967295,x=O+(A<<16&4294967295|A>>>16),A=D+(x^O^C)+R[2]+3299628645&4294967295,D=x+(A<<23&4294967295|A>>>9),A=C+(x^(D|~O))+R[0]+4096336452&4294967295,C=D+(A<<6&4294967295|A>>>26),A=O+(D^(C|~x))+R[7]+1126891415&4294967295,O=C+(A<<10&4294967295|A>>>22),A=x+(C^(O|~D))+R[14]+2878612391&4294967295,x=O+(A<<15&4294967295|A>>>17),A=D+(O^(x|~C))+R[5]+4237533241&4294967295,D=x+(A<<21&4294967295|A>>>11),A=C+(x^(D|~O))+R[12]+1700485571&4294967295,C=D+(A<<6&4294967295|A>>>26),A=O+(D^(C|~x))+R[3]+2399980690&4294967295,O=C+(A<<10&4294967295|A>>>22),A=x+(C^(O|~D))+R[10]+4293915773&4294967295,x=O+(A<<15&4294967295|A>>>17),A=D+(O^(x|~C))+R[1]+2240044497&4294967295,D=x+(A<<21&4294967295|A>>>11),A=C+(x^(D|~O))+R[8]+1873313359&4294967295,C=D+(A<<6&4294967295|A>>>26),A=O+(D^(C|~x))+R[15]+4264355552&4294967295,O=C+(A<<10&4294967295|A>>>22),A=x+(C^(O|~D))+R[6]+2734768916&4294967295,x=O+(A<<15&4294967295|A>>>17),A=D+(O^(x|~C))+R[13]+1309151649&4294967295,D=x+(A<<21&4294967295|A>>>11),A=C+(x^(D|~O))+R[4]+4149444226&4294967295,C=D+(A<<6&4294967295|A>>>26),A=O+(D^(C|~x))+R[11]+3174756917&4294967295,O=C+(A<<10&4294967295|A>>>22),A=x+(C^(O|~D))+R[2]+718787259&4294967295,x=O+(A<<15&4294967295|A>>>17),A=D+(O^(x|~C))+R[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(x+(A<<21&4294967295|A>>>11))&4294967295,P.g[2]=P.g[2]+x&4294967295,P.g[3]=P.g[3]+O&4294967295}r.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var D=C-this.blockSize,R=this.B,x=this.h,O=0;O<C;){if(x==0)for(;O<=D;)i(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<C;)if(R[x++]=P.charCodeAt(O++),x==this.blockSize){i(this,R),x=0;break}}else for(;O<C;)if(R[x++]=P[O++],x==this.blockSize){i(this,R),x=0;break}}this.h=x,this.o+=C},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var D=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=D&255,D/=256;for(this.u(P),P=Array(16),C=D=0;4>C;++C)for(var R=0;32>R;R+=8)P[D++]=this.g[C]>>>R&255;return P};function o(P,C){var D=c;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=C(P)}function a(P,C){this.h=C;for(var D=[],R=!0,x=P.length-1;0<=x;x--){var O=P[x]|0;R&&O==C||(D[x]=O,R=!1)}this.g=D}var c={};function l(P){return-128<=P&&128>P?o(P,function(C){return new a([C|0],0>C?-1:0)}):new a([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return y;if(0>P)return V(f(-P));for(var C=[],D=1,R=0;P>=D;R++)C[R]=P/D|0,D*=4294967296;return new a(C,0)}function g(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return V(g(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=f(Math.pow(C,8)),R=y,x=0;x<P.length;x+=8){var O=Math.min(8,P.length-x),A=parseInt(P.substring(x,x+O),C);8>O?(O=f(Math.pow(C,O)),R=R.j(O).add(f(A))):(R=R.j(D),R=R.add(f(A)))}return R}var y=l(0),I=l(1),E=l(16777216);t=a.prototype,t.m=function(){if(F(this))return-V(this).m();for(var P=0,C=1,D=0;D<this.g.length;D++){var R=this.i(D);P+=(0<=R?R:4294967296+R)*C,C*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(M(this))return"0";if(F(this))return"-"+V(this).toString(P);for(var C=f(Math.pow(P,6)),D=this,R="";;){var x=Le(D,C).g;D=K(D,x.j(C));var O=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=x,M(D))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function M(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function F(P){return P.h==-1}t.l=function(P){return P=K(this,P),F(P)?-1:M(P)?0:1};function V(P){for(var C=P.g.length,D=[],R=0;R<C;R++)D[R]=~P.g[R];return new a(D,~P.h).add(I)}t.abs=function(){return F(this)?V(this):this},t.add=function(P){for(var C=Math.max(this.g.length,P.g.length),D=[],R=0,x=0;x<=C;x++){var O=R+(this.i(x)&65535)+(P.i(x)&65535),A=(O>>>16)+(this.i(x)>>>16)+(P.i(x)>>>16);R=A>>>16,O&=65535,A&=65535,D[x]=A<<16|O}return new a(D,D[D.length-1]&-2147483648?-1:0)};function K(P,C){return P.add(V(C))}t.j=function(P){if(M(this)||M(P))return y;if(F(this))return F(P)?V(this).j(V(P)):V(V(this).j(P));if(F(P))return V(this.j(V(P)));if(0>this.l(E)&&0>P.l(E))return f(this.m()*P.m());for(var C=this.g.length+P.g.length,D=[],R=0;R<2*C;R++)D[R]=0;for(R=0;R<this.g.length;R++)for(var x=0;x<P.g.length;x++){var O=this.i(R)>>>16,A=this.i(R)&65535,_t=P.i(x)>>>16,Er=P.i(x)&65535;D[2*R+2*x]+=A*Er,oe(D,2*R+2*x),D[2*R+2*x+1]+=O*Er,oe(D,2*R+2*x+1),D[2*R+2*x+1]+=A*_t,oe(D,2*R+2*x+1),D[2*R+2*x+2]+=O*_t,oe(D,2*R+2*x+2)}for(R=0;R<C;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=C;R<2*C;R++)D[R]=0;return new a(D,0)};function oe(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function X(P,C){this.g=P,this.h=C}function Le(P,C){if(M(C))throw Error("division by zero");if(M(P))return new X(y,y);if(F(P))return C=Le(V(P),C),new X(V(C.g),V(C.h));if(F(C))return C=Le(P,V(C)),new X(V(C.g),C.h);if(30<P.g.length){if(F(P)||F(C))throw Error("slowDivide_ only works with positive integers.");for(var D=I,R=C;0>=R.l(P);)D=Rt(D),R=Rt(R);var x=He(D,1),O=He(R,1);for(R=He(R,2),D=He(D,2);!M(R);){var A=O.add(R);0>=A.l(P)&&(x=x.add(D),O=A),R=He(R,1),D=He(D,1)}return C=K(P,x.j(C)),new X(x,C)}for(x=y;0<=P.l(C);){for(D=Math.max(1,Math.floor(P.m()/C.m())),R=Math.ceil(Math.log(D)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=f(D),A=O.j(C);F(A)||0<A.l(P);)D-=R,O=f(D),A=O.j(C);M(O)&&(O=I),x=x.add(O),P=K(P,A)}return new X(x,P)}t.A=function(P){return Le(this,P).h},t.and=function(P){for(var C=Math.max(this.g.length,P.g.length),D=[],R=0;R<C;R++)D[R]=this.i(R)&P.i(R);return new a(D,this.h&P.h)},t.or=function(P){for(var C=Math.max(this.g.length,P.g.length),D=[],R=0;R<C;R++)D[R]=this.i(R)|P.i(R);return new a(D,this.h|P.h)},t.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),D=[],R=0;R<C;R++)D[R]=this.i(R)^P.i(R);return new a(D,this.h^P.h)};function Rt(P){for(var C=P.g.length+1,D=[],R=0;R<C;R++)D[R]=P.i(R)<<1|P.i(R-1)>>>31;return new a(D,P.h)}function He(P,C){var D=C>>5;C%=32;for(var R=P.g.length-D,x=[],O=0;O<R;O++)x[O]=0<C?P.i(O+D)>>>C|P.i(O+D+1)<<32-C:P.i(O+D);return new a(x,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ib=PO.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=g,Eo=PO.Integer=a}).apply(typeof RO<"u"?RO:typeof self<"u"?self:typeof window<"u"?window:{});var a_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Io={};var ob,cG,Uc,sb,Rh,u_,ab,ub,cb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,v){return d==Array.prototype||d==Object.prototype||(d[m]=v.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof a_=="object"&&a_];for(var m=0;m<d.length;++m){var v=d[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(d,m){if(m)e:{var v=r;d=d.split(".");for(var b=0;b<d.length-1;b++){var N=d[b];if(!(N in v))break e;v=v[N]}d=d[d.length-1],b=v[d],m=m(b),m!=b&&m!=null&&e(v,d,{configurable:!0,writable:!0,value:m})}}function o(d,m){d instanceof String&&(d+="");var v=0,b=!1,N={next:function(){if(!b&&v<d.length){var U=v++;return{value:m(U,d[U]),done:!1}}return b=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(d){return d||function(){return o(this,function(m,v){return v})}});var a=a||{},c=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function f(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function g(d,m,v){return d.call.apply(d.bind,arguments)}function y(d,m,v){if(!d)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,b),d.apply(m,N)}}return function(){return d.apply(m,arguments)}}function I(d,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,I.apply(null,arguments)}function E(d,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),d.apply(this,b)}}function M(d,m){function v(){}v.prototype=m.prototype,d.aa=m.prototype,d.prototype=new v,d.prototype.constructor=d,d.Qb=function(b,N,U){for(var Z=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)Z[Re-2]=arguments[Re];return m.prototype[N].apply(b,Z)}}function F(d){let m=d.length;if(0<m){let v=Array(m);for(let b=0;b<m;b++)v[b]=d[b];return v}return[]}function V(d,m){for(let v=1;v<arguments.length;v++){let b=arguments[v];if(l(b)){let N=d.length||0,U=b.length||0;d.length=N+U;for(let Z=0;Z<U;Z++)d[N+Z]=b[Z]}else d.push(b)}}class K{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function oe(d){return/^[\s\xa0]*$/.test(d)}function X(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function Le(d){return Le[" "](d),d}Le[" "]=function(){};var Rt=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function He(d,m,v){for(let b in d)m.call(v,d[b],b,d)}function P(d,m){for(let v in d)m.call(void 0,d[v],v,d)}function C(d){let m={};for(let v in d)m[v]=d[v];return m}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(d,m){let v,b;for(let N=1;N<arguments.length;N++){b=arguments[N];for(v in b)d[v]=b[v];for(let U=0;U<D.length;U++)v=D[U],Object.prototype.hasOwnProperty.call(b,v)&&(d[v]=b[v])}}function x(d){var m=1;d=d.split(":");let v=[];for(;0<m&&d.length;)v.push(d.shift()),m--;return d.length&&v.push(d.join(":")),v}function O(d){c.setTimeout(()=>{throw d},0)}function A(){var d=it;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class _t{constructor(){this.h=this.g=null}add(m,v){let b=Er.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Er=new K(()=>new we,d=>d.reset());class we{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let No,fe=!1,it=new _t,on=()=>{let d=c.Promise.resolve(void 0);No=()=>{d.then(mn)}};var mn=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(v){O(v)}var m=Er;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}fe=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let v=()=>{};c.addEventListener("test",v,m),c.removeEventListener("test",v,m)}catch{}return d}();function In(d,m){if(ve.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var v=this.type=d.type,b=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(Rt){e:{try{Le(m.nodeName);var N=!0;break e}catch{}N=!1}N||(m=null)}}else v=="mouseover"?m=d.fromElement:v=="mouseout"&&(m=d.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Zr[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&In.aa.h.call(this)}}M(In,ve);var Zr={2:"touch",3:"pen",4:"mouse"};In.prototype.h=function(){In.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Oo="closure_listenable_"+(1e6*Math.random()|0),ml=0;function gl(d,m,v,b,N){this.listener=d,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=N,this.key=++ml,this.da=this.fa=!1}function Qr(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ko(d){this.src=d,this.g={},this.h=0}ko.prototype.add=function(d,m,v,b,N){var U=d.toString();d=this.g[U],d||(d=this.g[U]=[],this.h++);var Z=cu(d,m,b,N);return-1<Z?(m=d[Z],v||(m.fa=!1)):(m=new gl(m,this.src,U,!!b,N),m.fa=v,d.push(m)),m};function _l(d,m){var v=m.type;if(v in d.g){var b=d.g[v],N=Array.prototype.indexOf.call(b,m,void 0),U;(U=0<=N)&&Array.prototype.splice.call(b,N,1),U&&(Qr(m),d.g[v].length==0&&(delete d.g[v],d.h--))}}function cu(d,m,v,b){for(var N=0;N<d.length;++N){var U=d[N];if(!U.da&&U.listener==m&&U.capture==!!v&&U.ha==b)return N}return-1}var lu="closure_lm_"+(1e6*Math.random()|0),ks={};function Ls(d,m,v,b,N){if(b&&b.once)return du(d,m,v,b,N);if(Array.isArray(m)){for(var U=0;U<m.length;U++)Ls(d,m[U],v,b,N);return null}return v=pu(v),d&&d[Oo]?d.K(m,v,f(b)?!!b.capture:!!b,N):af(d,m,v,!1,b,N)}function af(d,m,v,b,N,U){if(!m)throw Error("Invalid event type");var Z=f(N)?!!N.capture:!!N,Re=Fs(d);if(Re||(d[lu]=Re=new ko(d)),v=Re.add(m,v,b,Z,U),v.proxy)return v;if(b=uf(),v.proxy=b,b.src=d,b.listener=v,d.addEventListener)Be||(N=Z),N===void 0&&(N=!1),d.addEventListener(m.toString(),b,N);else if(d.attachEvent)d.attachEvent(cf(m.toString()),b);else if(d.addListener&&d.removeListener)d.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function uf(){function d(v){return m.call(d.src,d.listener,v)}let m=Rv;return d}function du(d,m,v,b,N){if(Array.isArray(m)){for(var U=0;U<m.length;U++)du(d,m[U],v,b,N);return null}return v=pu(v),d&&d[Oo]?d.L(m,v,f(b)?!!b.capture:!!b,N):af(d,m,v,!0,b,N)}function vl(d,m,v,b,N){if(Array.isArray(m))for(var U=0;U<m.length;U++)vl(d,m[U],v,b,N);else b=f(b)?!!b.capture:!!b,v=pu(v),d&&d[Oo]?(d=d.i,m=String(m).toString(),m in d.g&&(U=d.g[m],v=cu(U,v,b,N),-1<v&&(Qr(U[v]),Array.prototype.splice.call(U,v,1),U.length==0&&(delete d.g[m],d.h--)))):d&&(d=Fs(d))&&(m=d.g[m.toString()],d=-1,m&&(d=cu(m,v,b,N)),(v=-1<d?m[d]:null)&&hu(v))}function hu(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[Oo])_l(m.i,d);else{var v=d.type,b=d.proxy;m.removeEventListener?m.removeEventListener(v,b,d.capture):m.detachEvent?m.detachEvent(cf(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Fs(m))?(_l(v,d),v.h==0&&(v.src=null,m[lu]=null)):Qr(d)}}}function cf(d){return d in ks?ks[d]:ks[d]="on"+d}function Rv(d,m){if(d.da)d=!0;else{m=new In(m,this);var v=d.listener,b=d.ha||d.src;d.fa&&hu(d),d=v.call(b,m)}return d}function Fs(d){return d=d[lu],d instanceof ko?d:null}var fu="__closure_events_fn_"+(1e9*Math.random()>>>0);function pu(d){return typeof d=="function"?d:(d[fu]||(d[fu]=function(m){return d.handleEvent(m)}),d[fu])}function Wt(){et.call(this),this.i=new ko(this),this.M=this,this.F=null}M(Wt,et),Wt.prototype[Oo]=!0,Wt.prototype.removeEventListener=function(d,m,v,b){vl(this,d,m,v,b)};function Gt(d,m){var v,b=d.F;if(b)for(v=[];b;b=b.F)v.push(b);if(d=d.M,b=m.type||m,typeof m=="string")m=new ve(m,d);else if(m instanceof ve)m.target=m.target||d;else{var N=m;m=new ve(b,d),R(m,N)}if(N=!0,v)for(var U=v.length-1;0<=U;U--){var Z=m.g=v[U];N=Vs(Z,b,!0,m)&&N}if(Z=m.g=d,N=Vs(Z,b,!0,m)&&N,N=Vs(Z,b,!1,m)&&N,v)for(U=0;U<v.length;U++)Z=m.g=v[U],N=Vs(Z,b,!1,m)&&N}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var v=d.g[m],b=0;b<v.length;b++)Qr(v[b]);delete d.g[m],d.h--}}this.F=null},Wt.prototype.K=function(d,m,v,b){return this.i.add(String(d),m,!1,v,b)},Wt.prototype.L=function(d,m,v,b){return this.i.add(String(d),m,!0,v,b)};function Vs(d,m,v,b){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var N=!0,U=0;U<m.length;++U){var Z=m[U];if(Z&&!Z.da&&Z.capture==v){var Re=Z.listener,ft=Z.ha||Z.src;Z.fa&&_l(d.i,Z),N=Re.call(ft,b)!==!1&&N}}return N&&!b.defaultPrevented}function lf(d,m,v){if(typeof d=="function")v&&(d=I(d,v));else if(d&&typeof d.handleEvent=="function")d=I(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:c.setTimeout(d,m||0)}function yl(d){d.g=lf(()=>{d.g=null,d.i&&(d.i=!1,yl(d))},d.l);let m=d.h;d.h=null,d.m.apply(null,m)}class wl extends et{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yl(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lo(d){et.call(this),this.h=d,this.g={}}M(Lo,et);var df=[];function Fo(d){He(d.g,function(m,v){this.g.hasOwnProperty(v)&&hu(m)},d),d.g={}}Lo.prototype.N=function(){Lo.aa.N.call(this),Fo(this)},Lo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var El=c.JSON.stringify,Pv=c.JSON.parse,hf=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function mu(){}mu.prototype.h=null;function Il(d){return d.h||(d.h=d.i())}function ff(){}var Bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bl(){ve.call(this,"d")}M(bl,ve);function Tl(){ve.call(this,"c")}M(Tl,ve);var Oi={},pf=null;function Vo(){return pf=pf||new Wt}Oi.La="serverreachability";function mf(d){ve.call(this,Oi.La,d)}M(mf,ve);function Us(d){let m=Vo();Gt(m,new mf(m))}Oi.STAT_EVENT="statevent";function gf(d,m){ve.call(this,Oi.STAT_EVENT,d),this.stat=m}M(gf,ve);function sn(d){let m=Vo();Gt(m,new gf(m,d))}Oi.Ma="timingevent";function Hn(d,m){ve.call(this,Oi.Ma,d),this.size=m}M(Hn,ve);function se(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},m)}function Bo(){this.g=!0}Bo.prototype.xa=function(){this.g=!1};function _f(d,m,v,b,N,U){d.info(function(){if(d.g)if(U)for(var Z="",Re=U.split("&"),ft=0;ft<Re.length;ft++){var qe=Re[ft].split("=");if(1<qe.length){var ut=qe[0];qe=qe[1];var Kt=ut.split("_");Z=2<=Kt.length&&Kt[1]=="type"?Z+(ut+"="+qe+"&"):Z+(ut+"=redacted&")}}else Z=null;else Z=U;return"XMLHTTP REQ ("+b+") [attempt "+N+"]: "+m+`
`+v+`
`+Z})}function vf(d,m,v,b,N,U,Z){d.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+N+"]: "+m+`
`+v+`
`+U+" "+Z})}function ki(d,m,v,b){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+yf(d,v)+(b?" "+b:"")})}function Cl(d,m){d.info(function(){return"TIMEOUT: "+m})}Bo.prototype.info=function(){};function yf(d,m){if(!d.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(d=0;d<v.length;d++)if(Array.isArray(v[d])){var b=v[d];if(!(2>b.length)){var N=b[1];if(Array.isArray(N)&&!(1>N.length)){var U=N[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Z=1;Z<N.length;Z++)N[Z]=""}}}}return El(v)}catch{return m}}var Ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sl;function gu(){}M(gu,mu),gu.prototype.g=function(){return new XMLHttpRequest},gu.prototype.i=function(){return{}},Sl=new gu;function Yr(d,m,v,b){this.j=d,this.i=m,this.l=v,this.R=b||1,this.U=new Lo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wf}function wf(){this.i=null,this.g="",this.h=!1}var Al={},Ml={};function Uo(d,m,v){d.L=1,d.v=$o(an(m)),d.m=v,d.P=!0,Ef(d,null)}function Ef(d,m){d.F=Date.now(),_u(d),d.A=an(d.v);var v=d.A,b=d.R;Array.isArray(b)||(b=[String(b)]),tt(v.i,"t",b),d.C=0,v=d.j.J,d.h=new wf,d.g=Js(d.j,v?m:null,!d.m),0<d.O&&(d.M=new wl(I(d.Y,d,d.g),d.O)),m=d.U,v=d.g,b=d.ca;var N="readystatechange";Array.isArray(N)||(N&&(df[0]=N.toString()),N=df);for(var U=0;U<N.length;U++){var Z=Ls(v,N[U],b||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),Us(),_f(d.i,d.u,d.A,d.l,d.R,d.m)}Yr.prototype.ca=function(d){d=d.target;let m=this.M;m&&Wn(d)==3?m.j():this.Y(d)},Yr.prototype.Y=function(d){try{if(d==this.g)e:{let Kt=Wn(this.g);var m=this.g.Ba();let Kn=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||Af(this.g)))){this.J||Kt!=4||m==7||(m==8||0>=Kn?Us(3):Us(2)),js(this);var v=this.g.Z();this.X=v;t:if(If(this)){var b=Af(this.g);d="";var N=b.length,U=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),br(this);var Z="";break t}this.h.i=new c.TextDecoder}for(m=0;m<N;m++)this.h.h=!0,d+=this.h.i.decode(b[m],{stream:!(U&&m==N-1)});b.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=v==200,vf(this.i,this.u,this.A,this.l,this.R,Kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,ft=this.g;if((Re=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(Re)){var qe=Re;break t}}qe=null}if(v=qe)ki(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vu(this,v);else{this.o=!1,this.s=3,sn(12),Jr(this),br(this);break e}}if(this.P){v=!0;let Zn;for(;!this.J&&this.C<Z.length;)if(Zn=xv(this,Z),Zn==Ml){Kt==4&&(this.s=4,sn(14),v=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==Al){this.s=4,sn(15),ki(this.i,this.l,Z,"[Invalid Chunk]"),v=!1;break}else ki(this.i,this.l,Zn,null),vu(this,Zn);if(If(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||Z.length!=0||this.h.h||(this.s=1,sn(16),v=!1),this.o=this.o&&v,!v)ki(this.i,this.l,Z,"[Invalid Chunked Response]"),Jr(this),br(this);else if(0<Z.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Tu(ut),ut.M=!0,sn(11))}}else ki(this.i,this.l,Z,null),vu(this,Z);Kt==4&&Jr(this),this.o&&!this.J&&(Kt==4?xf(this.j,this):(this.o=!1,_u(this)))}else Mf(this.g),v==400&&0<Z.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),Jr(this),br(this)}}}catch{}finally{}};function If(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function xv(d,m){var v=d.C,b=m.indexOf(`
`,v);return b==-1?Ml:(v=Number(m.substring(v,b)),isNaN(v)?Al:(b+=1,b+v>m.length?Ml:(m=m.slice(b,b+v),d.C=b+v,m)))}Yr.prototype.cancel=function(){this.J=!0,Jr(this)};function _u(d){d.S=Date.now()+d.I,bf(d,d.I)}function bf(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=se(I(d.ba,d),m)}function js(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Yr.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(Cl(this.i,this.A),this.L!=2&&(Us(),sn(17)),Jr(this),this.s=2,br(this)):bf(this,this.S-d)};function br(d){d.j.G==0||d.J||xf(d.j,d)}function Jr(d){js(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,Fo(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function vu(d,m){try{var v=d.j;if(v.G!=0&&(v.g==d||Xr(v.h,d))){if(!d.K&&Xr(v.h,d)&&v.G==3){try{var b=v.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var N=b;if(N[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<d.F)Cu(v),Eu(v);else break e;jl(v),sn(18)}}else v.za=N[1],0<v.za-v.T&&37500>N[2]&&v.F&&v.v==0&&!v.C&&(v.C=se(I(v.Za,v),6e3));if(1>=zs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Bi(v,11)}else if((d.K||v.g==d)&&Cu(v),!oe(m))for(N=v.Da.g.parse(m),m=0;m<N.length;m++){let qe=N[m];if(v.T=qe[0],qe=qe[1],v.G==2)if(qe[0]=="c"){v.K=qe[1],v.ia=qe[2];let ut=qe[3];ut!=null&&(v.la=ut,v.j.info("VER="+v.la));let Kt=qe[4];Kt!=null&&(v.Aa=Kt,v.j.info("SVER="+v.Aa));let Kn=qe[5];Kn!=null&&typeof Kn=="number"&&0<Kn&&(b=1.5*Kn,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;let Zn=d.g;if(Zn){let ri=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var U=b.h;U.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ei(U,U.h),U.h=null))}if(b.D){let Au=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Au&&(b.ya=Au,Ze(b.I,b.D,Au))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-d.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var Z=d;if(b.qa=Hl(b,b.J?b.ia:null,b.W),Z.K){yu(b.h,Z);var Re=Z,ft=b.L;ft&&(Re.I=ft),Re.B&&(js(Re),_u(Re)),b.g=Z}else bu(b);0<v.i.length&&Iu(v)}else qe[0]!="stop"&&qe[0]!="close"||Bi(v,7);else v.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Bi(v,7):Ys(v):qe[0]!="noop"&&v.l&&v.l.ta(qe),v.v=0)}}Us(4)}catch{}}var $s=class{constructor(d,m){this.g=d,this.map=m}};function ze(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function at(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function zs(d){return d.h?1:d.g?d.g.size:0}function Xr(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function ei(d,m){d.g?d.g.add(m):d.h=m}function yu(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}ze.prototype.cancel=function(){if(this.i=be(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function be(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(let v of d.g.values())m=m.concat(v.D);return m}return F(d.i)}function vt(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],v=d.length,b=0;b<v;b++)m.push(d[b]);return m}m=[],v=0;for(b in d)m[v++]=d[b];return m}function Rl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var v=0;v<d;v++)m.push(v);return m}m=[],v=0;for(let b in d)m[v++]=b;return m}}}function Hs(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var v=Rl(d),b=vt(d),N=b.length,U=0;U<N;U++)m.call(void 0,b[U],v&&v[U],d)}var bn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nv(d,m){if(d){d=d.split("&");for(var v=0;v<d.length;v++){var b=d[v].indexOf("="),N=null;if(0<=b){var U=d[v].substring(0,b);N=d[v].substring(b+1)}else U=d[v];m(U,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function ur(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof ur){this.h=d.h,dt(this,d.j),this.o=d.o,this.g=d.g,cr(this,d.s),this.l=d.l;var m=d.i,v=new Fi;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),jo(this,v),this.m=d.m}else d&&(m=String(d).match(bn))?(this.h=!1,dt(this,m[1]||"",!0),this.o=Tr(m[2]||""),this.g=Tr(m[3]||"",!0),cr(this,m[4]),this.l=Tr(m[5]||"",!0),jo(this,m[6]||"",!0),this.m=Tr(m[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}ur.prototype.toString=function(){var d=[],m=this.j;m&&d.push(Li(m,qs,!0),":");var v=this.g;return(v||m=="file")&&(d.push("//"),(m=this.o)&&d.push(Li(m,qs,!0),"@"),d.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&d.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push(Li(v,v.charAt(0)=="/"?Nl:xl,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",Li(v,Tf)),d.join("")};function an(d){return new ur(d)}function dt(d,m,v){d.j=v?Tr(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function cr(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function jo(d,m,v){m instanceof Fi?(d.i=m,Ol(d.i,d.h)):(v||(m=Li(m,wu)),d.i=new Fi(m,d.h))}function Ze(d,m,v){d.i.set(m,v)}function $o(d){return Ze(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Tr(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Li(d,m,v){return typeof d=="string"?(d=encodeURI(d).replace(m,Pl),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Pl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var qs=/[#\/\?@]/g,xl=/[#\?:]/g,Nl=/[#\?]/g,wu=/[#\?@]/g,Tf=/#/g;function Fi(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function ti(d){d.g||(d.g=new Map,d.h=0,d.i&&Nv(d.i,function(m,v){d.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=Fi.prototype,t.add=function(d,m){ti(this),this.i=null,d=Vi(this,d);var v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(m),this.h+=1,this};function ye(d,m){ti(d),m=Vi(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function qn(d,m){return ti(d),m=Vi(d,m),d.g.has(m)}t.forEach=function(d,m){ti(this),this.g.forEach(function(v,b){v.forEach(function(N){d.call(m,N,b,this)},this)},this)},t.na=function(){ti(this);let d=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let b=0;b<m.length;b++){let N=d[b];for(let U=0;U<N.length;U++)v.push(m[b])}return v},t.V=function(d){ti(this);let m=[];if(typeof d=="string")qn(this,d)&&(m=m.concat(this.g.get(Vi(this,d))));else{d=Array.from(this.g.values());for(let v=0;v<d.length;v++)m=m.concat(d[v])}return m},t.set=function(d,m){return ti(this),this.i=null,d=Vi(this,d),qn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},t.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function tt(d,m,v){ye(d,m),0<v.length&&(d.i=null,d.g.set(Vi(d,m),F(v)),d.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var b=m[v];let U=encodeURIComponent(String(b)),Z=this.V(b);for(b=0;b<Z.length;b++){var N=U;Z[b]!==""&&(N+="="+encodeURIComponent(String(Z[b]))),d.push(N)}}return this.i=d.join("&")};function Vi(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function Ol(d,m){m&&!d.j&&(ti(d),d.i=null,d.g.forEach(function(v,b){var N=b.toLowerCase();b!=N&&(ye(this,b),tt(this,N,v))},d)),d.j=m}function kl(d,m){let v=new Bo;if(c.Image){let b=new Image;b.onload=E(gn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(gn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(gn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(gn,v,"TestLoadImage: timeout",!1,m,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=d}else m(!1)}function Ll(d,m){let v=new Bo,b=new AbortController,N=setTimeout(()=>{b.abort(),gn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:b.signal}).then(U=>{clearTimeout(N),U.ok?gn(v,"TestPingServer: ok",!0,m):gn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(N),gn(v,"TestPingServer: error",!1,m)})}function gn(d,m,v,b,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),b(v)}catch{}}function Fl(){this.g=new hf}function Ws(d,m,v){let b=v||"";try{Hs(d,function(N,U){let Z=N;f(N)&&(Z=El(N)),m.push(b+U+"="+encodeURIComponent(Z))})}catch(N){throw m.push(b+"type="+encodeURIComponent("_badmap")),N}}function yt(d){this.l=d.Ub||null,this.j=d.eb||!1}M(yt,mu),yt.prototype.g=function(){return new lr(this.l,this.j)},yt.prototype.i=function(d){return function(){return d}}({});function lr(d,m){Wt.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(lr,Wt),t=lr.prototype,t.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,Gs(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||c).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zo(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Gs(this)),this.g&&(this.readyState=3,Gs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?zo(this):Gs(this),this.readyState==3&&Vl(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,zo(this))},t.Qa=function(d){this.g&&(this.response=d,zo(this))},t.ga=function(){this.g&&zo(this)};function zo(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Gs(d)}t.setRequestHeader=function(d,m){this.u.append(d,m)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=m.next();return d.join(`\r
`)};function Gs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Bl(d){let m="";return He(d,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ks(d,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Bl(v),typeof d=="string"?v!=null&&encodeURIComponent(String(v)):Ze(d,m,v))}function ht(d){Wt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(ht,Wt);var Cf=/^https?$/i,Ue=["POST","PUT"];t=ht.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sl.g(),this.v=this.o?Il(this.o):Il(Sl),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(U){Df(this,U);return}if(d=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var N in b)v.set(N,b[N]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let U of b.keys())v.set(U,b.get(U));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(U=>U.toLowerCase()=="content-type"),N=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ue,m,void 0))||b||N||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[U,Z]of v)this.g.setRequestHeader(U,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sf(this),this.u=!0,this.g.send(d),this.u=!1}catch(U){Df(this,U)}};function Df(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,An(d),Zs(d)}function An(d){d.A||(d.A=!0,Gt(d,"complete"),Gt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Gt(this,"complete"),Gt(this,"abort"),Zs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zs(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ho(this):this.bb())},t.bb=function(){Ho(this)};function Ho(d){if(d.h&&typeof a<"u"&&(!d.v[1]||Wn(d)!=4||d.Z()!=2)){if(d.u&&Wn(d)==4)lf(d.Ea,0,d);else if(Gt(d,"readystatechange"),Wn(d)==4){d.h=!1;try{let Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=Z===0){var N=String(d.D).match(bn)[1]||null;!N&&c.self&&c.self.location&&(N=c.self.location.protocol.slice(0,-1)),b=!Cf.test(N?N.toLowerCase():"")}v=b}if(v)Gt(d,"complete"),Gt(d,"success");else{d.m=6;try{var U=2<Wn(d)?d.g.statusText:""}catch{U=""}d.l=U+" ["+d.Z()+"]",An(d)}}finally{Zs(d)}}}}function Zs(d,m){if(d.g){Sf(d);let v=d.g,b=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||Gt(d,"ready");try{v.onreadystatechange=b}catch{}}}function Sf(d){d.I&&(c.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Wn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),Pv(m)}};function Af(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Mf(d){let m={};d=(d.g&&2<=Wn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<d.length;b++){if(oe(d[b]))continue;var v=x(d[b]);let N=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();let U=m[N]||[];m[N]=U,U.push(v)}P(m,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(d,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||m}function Rf(d){this.Aa=0,this.i=[],this.j=new Bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qs("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qs("baseRetryDelayMs",5e3,d),this.cb=Qs("retryDelaySeedMs",1e4,d),this.Wa=Qs("forwardChannelMaxRetries",2,d),this.wa=Qs("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ze(d&&d.concurrentRequestLimit),this.Da=new Fl,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Rf.prototype,t.la=8,t.G=1,t.connect=function(d,m,v,b){sn(0),this.W=d,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=Hl(this,null,this.W),Iu(this)};function Ys(d){if(Gn(d),d.G==3){var m=d.U++,v=an(d.I);if(Ze(v,"SID",d.K),Ze(v,"RID",m),Ze(v,"TYPE","terminate"),qo(d,v),m=new Yr(d,d.j,m),m.L=2,m.v=$o(an(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&c.Image&&(new Image().src=m.v,v=!0),v||(m.g=Js(m.j,null),m.g.ea(m.v)),m.F=Date.now(),_u(m)}zl(d)}function Eu(d){d.g&&(Tu(d),d.g.cancel(),d.g=null)}function Gn(d){Eu(d),d.u&&(c.clearTimeout(d.u),d.u=null),Cu(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Iu(d){if(!at(d.h)&&!d.s){d.s=!0;var m=d.Ga;No||on(),fe||(No(),fe=!0),it.add(m,d),d.B=0}}function Pf(d,m){return zs(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=se(I(d.Ga,d,m),Du(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let N=new Yr(this,this.j,d),U=this.o;if(this.S&&(U?(U=C(U),R(U,this.S)):U=this.S),this.m!==null||this.O||(N.H=U,U=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ul(this,N,m),v=an(this.I),Ze(v,"RID",d),Ze(v,"CVER",22),this.D&&Ze(v,"X-HTTP-Session-Id",this.D),qo(this,v),U&&(this.O?m="headers="+encodeURIComponent(String(Bl(U)))+"&"+m:this.m&&Ks(v,this.m,U)),ei(this.h,N),this.Ua&&Ze(v,"TYPE","init"),this.P?(Ze(v,"$req",m),Ze(v,"SID","null"),N.T=!0,Uo(N,v,null)):Uo(N,v,m),this.G=2}}else this.G==3&&(d?Cr(this,d):this.i.length==0||at(this.h)||Cr(this))};function Cr(d,m){var v;m?v=m.l:v=d.U++;let b=an(d.I);Ze(b,"SID",d.K),Ze(b,"RID",v),Ze(b,"AID",d.T),qo(d,b),d.m&&d.o&&Ks(b,d.m,d.o),v=new Yr(d,d.j,v,d.B+1),d.m===null&&(v.H=d.o),m&&(d.i=m.D.concat(d.i)),m=Ul(d,v,1e3),v.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ei(d.h,v),Uo(v,b,m)}function qo(d,m){d.H&&He(d.H,function(v,b){Ze(m,b,v)}),d.l&&Hs({},function(v,b){Ze(m,b,v)})}function Ul(d,m,v){v=Math.min(d.i.length,v);var b=d.l?I(d.l.Na,d.l,d):null;e:{var N=d.i;let U=-1;for(;;){let Z=["count="+v];U==-1?0<v?(U=N[0].g,Z.push("ofs="+U)):U=0:Z.push("ofs="+U);let Re=!0;for(let ft=0;ft<v;ft++){let qe=N[ft].g,ut=N[ft].map;if(qe-=U,0>qe)U=Math.max(0,N[ft].g-100),Re=!1;else try{Ws(ut,Z,"req"+qe+"_")}catch{b&&b(ut)}}if(Re){b=Z.join("&");break e}}}return d=d.i.splice(0,v),m.D=d,b}function bu(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;No||on(),fe||(No(),fe=!0),it.add(m,d),d.v=0}}function jl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=se(I(d.Fa,d),Du(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,$l(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=se(I(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),Eu(this),$l(this))};function Tu(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function $l(d){d.g=new Yr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=an(d.qa);Ze(m,"RID","rpc"),Ze(m,"SID",d.K),Ze(m,"AID",d.T),Ze(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ze(m,"TO",d.ja),Ze(m,"TYPE","xmlhttp"),qo(d,m),d.m&&d.o&&Ks(m,d.m,d.o),d.L&&(d.g.I=d.L);var v=d.g;d=d.ia,v.L=1,v.v=$o(an(m)),v.m=null,v.P=!0,Ef(v,d)}t.Za=function(){this.C!=null&&(this.C=null,Eu(this),jl(this),sn(19))};function Cu(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function xf(d,m){var v=null;if(d.g==m){Cu(d),Tu(d),d.g=null;var b=2}else if(Xr(d.h,m))v=m.D,yu(d.h,m),b=1;else return;if(d.G!=0){if(m.o)if(b==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var N=d.B;b=Vo(),Gt(b,new Hn(b,v)),Iu(d)}else bu(d);else if(N=m.s,N==3||N==0&&0<m.X||!(b==1&&Pf(d,m)||b==2&&jl(d)))switch(v&&0<v.length&&(m=d.h,m.i=m.i.concat(v)),N){case 1:Bi(d,5);break;case 4:Bi(d,10);break;case 3:Bi(d,6);break;default:Bi(d,2)}}}function Du(d,m){let v=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(v*=2),v*m}function Bi(d,m){if(d.j.info("Error code "+m),m==2){var v=I(d.fb,d),b=d.Xa;let N=!b;b=new ur(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||dt(b,"https"),$o(b),N?kl(b.toString(),v):Ll(b.toString(),v)}else sn(2);d.G=0,d.l&&d.l.sa(m),zl(d),Gn(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function zl(d){if(d.G=0,d.ka=[],d.l){let m=be(d.h);(m.length!=0||d.i.length!=0)&&(V(d.ka,m),V(d.ka,d.i),d.h.i.length=0,F(d.i),d.i.length=0),d.l.ra()}}function Hl(d,m,v){var b=v instanceof ur?an(v):new ur(v);if(b.g!="")m&&(b.g=m+"."+b.g),cr(b,b.s);else{var N=c.location;b=N.protocol,m=m?m+"."+N.hostname:N.hostname,N=+N.port;var U=new ur(null);b&&dt(U,b),m&&(U.g=m),N&&cr(U,N),v&&(U.l=v),b=U}return v=d.D,m=d.ya,v&&m&&Ze(b,v,m),Ze(b,"VER",d.la),qo(d,b),b}function Js(d,m,v){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new ht(new yt({eb:v})):new ht(d.pa),m.Ha(d.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ni(){}t=ni.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Su(){}Su.prototype.g=function(d,m){return new Bt(d,m)};function Bt(d,m){Wt.call(this),this.g=new Rf(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!oe(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!oe(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new Ui(this)}M(Bt,Wt),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Ys(this.g)},Bt.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.u&&(v={},v.__data__=El(d),d=v);m.i.push(new $s(m.Ya++,d)),m.G==3&&Iu(m)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Ys(this.g),delete this.g,Bt.aa.N.call(this)};function Tn(d){bl.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(let v in m){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}M(Tn,bl);function ql(){Tl.call(this),this.status=1}M(ql,Tl);function Ui(d){this.g=d}M(Ui,ni),Ui.prototype.ua=function(){Gt(this.g,"a")},Ui.prototype.ta=function(d){Gt(this.g,new Tn(d))},Ui.prototype.sa=function(d){Gt(this.g,new ql)},Ui.prototype.ra=function(){Gt(this.g,"b")},Su.prototype.createWebChannel=Su.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,cb=Io.createWebChannelTransport=function(){return new Su},ub=Io.getStatEventTarget=function(){return Vo()},ab=Io.Event=Oi,u_=Io.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Rh=Io.ErrorCode=Ir,Dl.COMPLETE="complete",sb=Io.EventType=Dl,ff.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,Uc=Io.WebChannel=ff,cG=Io.FetchXmlHttpFactory=yt,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,ob=Io.XhrIo=ht}).apply(typeof a_<"u"?a_:typeof self<"u"?self:typeof window<"u"?window:{});var xO="@firebase/firestore",NO="4.7.14";var nn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");var sl="11.7.3";var Ja=new bi("@firebase/firestore");function jc(){return Ja.logLevel}function re(t,...e){if(Ja.logLevel<=Ve.DEBUG){let n=e.map(YT);Ja.debug(`Firestore (${sl}): ${t}`,...n)}}function To(t,...e){if(Ja.logLevel<=Ve.ERROR){let n=e.map(YT);Ja.error(`Firestore (${sl}): ${t}`,...n)}}function Kc(t,...e){if(Ja.logLevel<=Ve.WARN){let n=e.map(YT);Ja.warn(`Firestore (${sl}): ${t}`,...n)}}function YT(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Tk(t,r,n)}function Tk(t,e,n){let r=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw To(r),new Error(r)}function Xe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Tk(e,i,r)}function Ie(t,e){return t}var H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ne=class extends sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var m_=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},pb=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}},mb=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},gb=class{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),o=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qr,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let l=o;e.enqueueRetryable(()=>T(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qr)}},0),a()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new m_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new nn(e)}},_b=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},vb=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _b(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},g_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yb=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);let r=o=>{o.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let a=o.token!==this.m;return this.m=o.token,re("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new g_(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function lG(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function Ck(){return new TextEncoder}var __=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=lG(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function xe(t,e){return t<e?-1:t>e?1:0}function wb(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return xe(r,i);{let o=Ck(),a=dG(o.encode(OO(t,n)),o.encode(OO(e,n)));return a!==0?a:xe(r,i)}}n+=r>65535?2:1}return xe(t.length,e.length)}function OO(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function dG(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return xe(t[n],e[n]);return xe(t.length,e.length)}function Zc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var kO=-62135596800,LO=1e6,pn=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LO);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kO)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LO}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-kO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ce=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new pn(0,0))}static max(){return new t(new pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var FO="__name__",v_=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return xe(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):wb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eo.fromString(e.substring(4,e.length-2))}},It=class t extends v_{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new ne(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},hG=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ar=class t extends v_{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return hG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FO}static keyField(){return new t([FO])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new ne(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},a=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new ne(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ne(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else c==="`"?(a=!a,i++):c!=="."||a?(r+=c,i++):(o(),i++)}if(o(),a)throw new ne(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var de=class t{constructor(e){this.path=e}static fromPath(e){return new t(It.fromString(e))}static fromName(e){return new t(It.fromString(e).popFirst(5))}static empty(){return new t(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new It(e.slice()))}};var Lh=-1,Eb=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Eb.UNKNOWN_ID=-1;function fG(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new pn(n+1,0):new pn(n,r));return new Xa(i,de.empty(),e)}function pG(t){return new Xa(t.readTime,t.key,Lh)}var Xa=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ce.min(),de.empty(),Lh)}static max(){return new t(Ce.max(),de.empty(),Lh)}};function mG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}var gG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ib=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function al(t){return T(this,null,function*(){if(t.code!==H.FAILED_PRECONDITION||t.message!==gG)throw t;re("LocalStore","Unexpectedly lost primary lease")})}var G=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,a=!1;e.forEach(c=>{++i,c.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,a=new Array(o),c=0;for(let l=0;l<o;l++){let f=l;n(e[f]).next(g=>{a[f]=g,++c,c===o&&r(a)},g=>i(g))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function _G(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(t){return t.name==="IndexedDbTransactionError"}var JT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),XT=-1;function J_(t){return t==null}function Fh(t){return t===0&&1/t==-1/0}function vG(t){return typeof t=="number"&&Number.isInteger(t)&&!Fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Dk="";function yG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=VO(e)),e=wG(t.get(n),e);return VO(e)}function wG(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case Dk:n+="";break;default:n+=o}}return n}function VO(t){return t+Dk+""}var EG="remoteDocuments",Sk="owner";var Ak="mutationQueues";var Mk="mutations";var Rk="documentMutations",IG="remoteDocumentsV14";var Pk="remoteDocumentGlobal";var xk="targets";var Nk="targetDocuments";var Ok="targetGlobal",kk="collectionParents";var Lk="clientMetadata";var Fk="bundles";var Vk="namedQueries";var bG="indexConfiguration";var TG="indexState";var CG="indexEntries";var Bk="documentOverlays";var DG="globals";var SG=[Ak,Mk,Rk,EG,xk,Sk,Ok,Nk,Lk,Pk,kk,Fk,Vk],Yae=[...SG,Bk],AG=[Ak,Mk,Rk,IG,xk,Sk,Ok,Nk,Lk,Pk,kk,Fk,Vk,Bk],MG=AG,RG=[...MG,bG,TG,CG];var Jae=[...RG,DG];function BO(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function su(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Uk(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var St=class t{constructor(e,n){this.comparator=e,this.root=n||Ai.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}},qc=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ai=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}};Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1;Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ai(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rn=class t{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y_(this.data.getIterator())}getIteratorFrom(e){return new y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},y_=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Si=class t{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new t([])}unionWith(e){let n=new rn(ar.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zc(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var w_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new w_("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wn.EMPTY_BYTE_STRING=new wn("");var PG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(Xe(!!t,39018),typeof t=="string"){let e=0,n=PG.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Do(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}var jk="server_timestamp",$k="__type__",zk="__previous_value__",Hk="__local_write_time__";function eC(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[$k])===null||n===void 0?void 0:n.stringValue)===jk}function X_(t){let e=t.mapValue.fields[zk];return eC(e)?X_(e):e}function Vh(t){let e=Co(t.mapValue.fields[Hk].timestampValue);return new pn(e.seconds,e.nanos)}var bb=class{constructor(e,n,r,i,o,a,c,l,f,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=f,this.isUsingEmulator=g}},E_="(default)",I_=class t{constructor(e,n){this.projectId=e,this.database=n||E_}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===E_}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var tC="__type__",qk="__max__",c_={mapValue:{fields:{__type__:{stringValue:qk}}}},nC="__vector__",Qc="value";function Ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eC(t)?4:Gk(t)?9007199254740991:Wk(t)?10:11:pe(28295,{value:t})}function Pi(t,e){if(t===e)return!0;let n=Ts(t);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vh(t).isEqual(Vh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let a=Co(i.timestampValue),c=Co(o.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Do(i.bytesValue).isEqual(Do(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return gt(i.geoPointValue.latitude)===gt(o.geoPointValue.latitude)&&gt(i.geoPointValue.longitude)===gt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return gt(i.integerValue)===gt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let a=gt(i.doubleValue),c=gt(o.doubleValue);return a===c?Fh(a)===Fh(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return Zc(t.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return function(i,o){let a=i.mapValue.fields||{},c=o.mapValue.fields||{};if(BO(a)!==BO(c))return!1;for(let l in a)if(a.hasOwnProperty(l)&&(c[l]===void 0||!Pi(a[l],c[l])))return!1;return!0}(t,e);default:return pe(52216,{left:t})}}function Bh(t,e){return(t.values||[]).find(n=>Pi(n,e))!==void 0}function Yc(t,e){if(t===e)return 0;let n=Ts(t),r=Ts(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(o,a){let c=gt(o.integerValue||o.doubleValue),l=gt(a.integerValue||a.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return UO(t.timestampValue,e.timestampValue);case 4:return UO(Vh(t),Vh(e));case 5:return wb(t.stringValue,e.stringValue);case 6:return function(o,a){let c=Do(o),l=Do(a);return c.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){let c=o.split("/"),l=a.split("/");for(let f=0;f<c.length&&f<l.length;f++){let g=xe(c[f],l[f]);if(g!==0)return g}return xe(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){let c=xe(gt(o.latitude),gt(a.latitude));return c!==0?c:xe(gt(o.longitude),gt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jO(t.arrayValue,e.arrayValue);case 10:return function(o,a){var c,l,f,g;let y=o.fields||{},I=a.fields||{},E=(c=y[Qc])===null||c===void 0?void 0:c.arrayValue,M=(l=I[Qc])===null||l===void 0?void 0:l.arrayValue,F=xe(((f=E?.values)===null||f===void 0?void 0:f.length)||0,((g=M?.values)===null||g===void 0?void 0:g.length)||0);return F!==0?F:jO(E,M)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===c_.mapValue&&a===c_.mapValue)return 0;if(o===c_.mapValue)return 1;if(a===c_.mapValue)return-1;let c=o.fields||{},l=Object.keys(c),f=a.fields||{},g=Object.keys(f);l.sort(),g.sort();for(let y=0;y<l.length&&y<g.length;++y){let I=wb(l[y],g[y]);if(I!==0)return I;let E=Yc(c[l[y]],f[g[y]]);if(E!==0)return E}return xe(l.length,g.length)}(t.mapValue,e.mapValue);default:throw pe(23264,{Pe:n})}}function UO(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);let n=Co(t),r=Co(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function jO(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Yc(n[i],r[i]);if(o)return o}return xe(n.length,r.length)}function Jc(t){return Tb(t)}function Tb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Co(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Do(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Tb(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let a of r)o?o=!1:i+=",",i+=`${a}:${Tb(n.fields[a])}`;return i+"}"}(t.mapValue):pe(61005,{value:t})}function h_(t){switch(Ts(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=X_(t);return e?16+h_(e):16;case 5:return 2*t.stringValue.length;case 6:return Do(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+h_(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return su(r.fields,(o,a)=>{i+=o.length+h_(a)}),i}(t.mapValue);default:throw pe(13486,{value:t})}}function $O(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cb(t){return!!t&&"integerValue"in t}function rC(t){return!!t&&"arrayValue"in t}function zO(t){return!!t&&"nullValue"in t}function HO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function f_(t){return!!t&&"mapValue"in t}function Wk(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[tC])===null||n===void 0?void 0:n.stringValue)===nC}function xh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return su(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xh(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Gk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qk}var eue={mapValue:{fields:{[tC]:{stringValue:nC},[Qc]:{arrayValue:{}}}}};var Hr=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!f_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(n)}setAll(e){let n=ar.emptyPath(),r={},i=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){let l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=c.popLast()}a?r[c.lastSegment()]=xh(a):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());f_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];f_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){su(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(xh(this.value))}};function Kk(t){let e=[];return su(t.fields,(n,r)=>{let i=new ar([n]);if(f_(r)){let o=Kk(r.mapValue).fields;if(o.length===0)e.push(i);else for(let a of o)e.push(i.child(a))}else e.push(i)}),new Si(e)}var Wr=class t{constructor(e,n,r,i,o,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Ce.min(),Ce.min(),Ce.min(),Hr.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Ce.min(),Ce.min(),Hr.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ce.min(),Ce.min(),Hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Xc=class{constructor(e,n){this.position=e,this.inclusive=n}};function qO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],a=t.position[i];if(o.field.isKeyField()?r=de.comparator(de.fromName(a.referenceValue),n.key):r=Yc(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function WO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pi(t.position[n],e.position[n]))return!1;return!0}var eu=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function xG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var b_=class{},Vt=class t extends b_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Sb(e,n,r):n==="array-contains"?new Rb(e,r):n==="in"?new Pb(e,r):n==="not-in"?new xb(e,r):n==="array-contains-any"?new Nb(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ab(e,r):new Mb(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yc(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(Yc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Gr=class t extends b_{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return Zk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function Zk(t){return t.op==="and"}function Qk(t){return NG(t)&&Zk(t)}function NG(t){for(let e of t.filters)if(e instanceof Gr)return!1;return!0}function Db(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+Jc(t.value);if(Qk(t))return t.filters.map(e=>Db(e)).join(",");{let e=t.filters.map(n=>Db(n)).join(",");return`${t.op}(${e})`}}function Yk(t,e){return t instanceof Vt?function(r,i){return i instanceof Vt&&r.op===i.op&&r.field.isEqual(i.field)&&Pi(r.value,i.value)}(t,e):t instanceof Gr?function(r,i){return i instanceof Gr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,c)=>o&&Yk(a,i.filters[c]),!0):!1}(t,e):void pe(19439)}function Jk(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Jc(n.value)}`}(t):t instanceof Gr?function(n){return n.op.toString()+" {"+n.getFilters().map(Jk).join(" ,")+"}"}(t):"Filter"}var Sb=class extends Vt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){let n=de.comparator(e.key,this.key);return this.matchesComparison(n)}},Ab=class extends Vt{constructor(e,n){super(e,"in",n),this.keys=Xk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Mb=class extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=Xk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Xk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}var Rb=class extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return rC(n)&&Bh(n.arrayValue,this.value)}},Pb=class extends Vt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Bh(this.value.arrayValue,n)}},xb=class extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bh(this.value.arrayValue,n)}},Nb=class extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!rC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bh(this.value.arrayValue,r))}};var Ob=class{constructor(e,n=null,r=[],i=[],o=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=c,this.Ie=null}};function GO(t,e=null,n=[],r=[],i=null,o=null,a=null){return new Ob(t,e,n,r,i,o,a)}function iC(t){let e=Ie(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Db(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),J_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jc(r)).join(",")),e.Ie=n}return e.Ie}function oC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!xG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Yk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WO(t.startAt,e.startAt)&&WO(t.endAt,e.endAt)}function kb(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Cs=class{constructor(e,n=null,r=[],i=[],o=null,a="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=c,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function OG(t,e,n,r,i,o,a,c){return new Cs(t,e,n,r,i,o,a,c)}function sC(t){return new Cs(t)}function KO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function e1(t){return t.collectionGroup!==null}function Nh(t){let e=Ie(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new rn(ar.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new eu(o,r))}),n.has(ar.keyField().canonicalString())||e.Ee.push(new eu(ar.keyField(),r))}return e.Ee}function Mi(t){let e=Ie(t);return e.de||(e.de=kG(e,Nh(t))),e.de}function kG(t,e){if(t.limitType==="F")return GO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new eu(i.field,o)});let n=t.endAt?new Xc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xc(t.startAt.position,t.startAt.inclusive):null;return GO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lb(t,e){let n=t.filters.concat([e]);return new Cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fb(t,e,n){return new Cs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ev(t,e){return oC(Mi(t),Mi(e))&&t.limitType===e.limitType}function t1(t){return`${iC(Mi(t))}|lt:${t.limitType}`}function $c(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Jk(i)).join(", ")}]`),J_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Jc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Jc(i)).join(",")),`Target(${r})`}(Mi(t))}; limitType=${t.limitType})`}function tv(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):de.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Nh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,c,l){let f=qO(a,c,l);return a.inclusive?f<=0:f<0}(r.startAt,Nh(r),i)||r.endAt&&!function(a,c,l){let f=qO(a,c,l);return a.inclusive?f>=0:f>0}(r.endAt,Nh(r),i))}(t,e)}function LG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function n1(t){return(e,n)=>{let r=!1;for(let i of Nh(t)){let o=FG(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function FG(t,e,n){let r=t.field.isKeyField()?de.comparator(e.key,n.key):function(o,a,c){let l=a.data.field(o),f=c.data.field(o);return l!==null&&f!==null?Yc(l,f):pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe(19790,{direction:t.dir})}}var So=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){su(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Uk(this.inner)}size(){return this.innerSize}};var VG=new St(de.comparator);function Ao(){return VG}var r1=new St(de.comparator);function Ph(...t){let e=r1;for(let n of t)e=e.insert(n.key,n);return e}function i1(t){let e=r1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Za(){return Oh()}function o1(){return Oh()}function Oh(){return new So(t=>t.toString(),(t,e)=>t.isEqual(e))}var BG=new St(de.comparator),UG=new rn(de.comparator);function $e(...t){let e=UG;for(let n of t)e=e.add(n);return e}var jG=new rn(xe);function $G(){return jG}function aC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function s1(t){return{integerValue:""+t}}function zG(t,e){return vG(e)?s1(e):aC(t,e)}var el=class{constructor(){this._=void 0}};function HG(t,e,n){return t instanceof tl?function(i,o){let a={fields:{[$k]:{stringValue:jk},[Hk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&eC(o)&&(o=X_(o)),o&&(a.fields[zk]=o),{mapValue:a}}(n,e):t instanceof tu?u1(t,e):t instanceof nu?c1(t,e):function(i,o){let a=a1(i,o),c=ZO(a)+ZO(i.Re);return Cb(a)&&Cb(i.Re)?s1(c):aC(i.serializer,c)}(t,e)}function qG(t,e,n){return t instanceof tu?u1(t,e):t instanceof nu?c1(t,e):n}function a1(t,e){return t instanceof nl?function(r){return Cb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var tl=class extends el{},tu=class extends el{constructor(e){super(),this.elements=e}};function u1(t,e){let n=l1(e);for(let r of t.elements)n.some(i=>Pi(i,r))||n.push(r);return{arrayValue:{values:n}}}var nu=class extends el{constructor(e){super(),this.elements=e}};function c1(t,e){let n=l1(e);for(let r of t.elements)n=n.filter(i=>!Pi(i,r));return{arrayValue:{values:n}}}var nl=class extends el{constructor(e,n){super(),this.serializer=e,this.Re=n}};function ZO(t){return gt(t.integerValue||t.doubleValue)}function l1(t){return rC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tu&&i instanceof tu||r instanceof nu&&i instanceof nu?Zc(r.elements,i.elements,Pi):r instanceof nl&&i instanceof nl?Pi(r.Re,i.Re):r instanceof tl&&i instanceof tl}(t.transform,e.transform)}var Vb=class{constructor(e,n){this.version=e,this.transformResults=n}},bo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function p_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var rl=class{};function d1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uh(t.key,bo.none()):new ru(t.key,t.data,bo.none());{let n=t.data,r=Hr.empty(),i=new rn(ar.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Mo(t.key,r,new Si(i.toArray()),bo.none())}}function GG(t,e,n){t instanceof ru?function(i,o,a){let c=i.value.clone(),l=YO(i.fieldTransforms,o,a.transformResults);c.setAll(l),o.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Mo?function(i,o,a){if(!p_(i.precondition,o))return void o.convertToUnknownDocument(a.version);let c=YO(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(h1(i)),l.setAll(c),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function kh(t,e,n,r){return t instanceof ru?function(o,a,c,l){if(!p_(o.precondition,a))return c;let f=o.value.clone(),g=JO(o.fieldTransforms,l,a);return f.setAll(g),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mo?function(o,a,c,l){if(!p_(o.precondition,a))return c;let f=JO(o.fieldTransforms,l,a),g=a.data;return g.setAll(h1(o)),g.setAll(f),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,a,c){return p_(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function KG(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=a1(r.transform,i||null);o!=null&&(n===null&&(n=Hr.empty()),n.set(r.field,o))}return n||null}function QO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zc(r,i,(o,a)=>WG(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ru=class extends rl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Mo=class extends rl{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function h1(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function YO(t,e,n){let r=new Map;Xe(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],a=o.transform,c=e.data.field(o.field);r.set(o.field,qG(a,c,n[i]))}return r}function JO(t,e,n){let r=new Map;for(let i of t){let o=i.transform,a=n.data.field(i.field);r.set(i.field,HG(o,a,e))}return r}var Uh=class extends rl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Bb=class extends rl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ub=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&GG(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=kh(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=kh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=o1();return this.mutations.forEach(i=>{let o=e.get(i.key),a=o.overlayedDocument,c=this.applyToLocalView(a,o.mutatedFields);c=n.has(i.key)?null:c;let l=d1(a,c);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&Zc(this.mutations,e.mutations,(n,r)=>QO(n,r))&&Zc(this.baseMutations,e.baseMutations,(n,r)=>QO(n,r))}},jb=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return BG}(),o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)}};var $b=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var zb=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Lt,Ge;function ZG(t){switch(t){case H.OK:return pe(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return pe(15467,{code:t})}}function f1(t){if(t===void 0)return To("GRPC error has no .code"),H.UNKNOWN;switch(t){case Lt.OK:return H.OK;case Lt.CANCELLED:return H.CANCELLED;case Lt.UNKNOWN:return H.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return H.INTERNAL;case Lt.UNAVAILABLE:return H.UNAVAILABLE;case Lt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Lt.NOT_FOUND:return H.NOT_FOUND;case Lt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Lt.ABORTED:return H.ABORTED;case Lt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Lt.DATA_LOSS:return H.DATA_LOSS;default:return pe(39323,{code:t})}}(Ge=Lt||(Lt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";var XO=null;var QG=new Eo([4294967295,4294967295],0);function ek(t){let e=Ck().encode(t),n=new ib;return n.update(e),new Uint8Array(n.digest())}function tk(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Eo([n,r],0),new Eo([i,o],0)]}var Hb=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qa(`Invalid padding: ${n}`);if(r<0)throw new Qa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qa(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Eo.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Eo.fromNumber(r)));return i.compare(QG)===1&&(i=new Eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=ek(e),[r,i]=tk(n);for(let o=0;o<this.hashCount;o++){let a=this.we(r,i,o);if(!this.be(a))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new t(o,i,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.pe===0)return;let n=ek(e),[r,i]=tk(n);for(let o=0;o<this.hashCount;o++){let a=this.we(r,i,o);this.Se(a)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Qa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var T_=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,jh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(Ce.min(),i,new St(xe),Ao(),$e())}},jh=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,$e(),$e(),$e())}};var Wc=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},C_=class{constructor(e,n){this.targetId=e,this.Ce=n}},D_=class{constructor(e,n,r=wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},S_=class{constructor(){this.Fe=0,this.Me=nk(),this.xe=wn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=$e(),n=$e(),r=$e();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:pe(38017,{changeType:o})}}),new jh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=nk()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},qb=class{constructor(e){this.ze=e,this.je=new Map,this.He=Ao(),this.Je=l_(),this.Ye=l_(),this.Ze=new St(xe)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(kb(o))if(r===0){let a=new de(o.path);this.tt(n,a,Wr.newNoDocument(a,Ce.min()))}else Xe(r===1,20013,{expectedCount:r});else{let a=this.ut(n);if(a!==r){let c=this.ct(e),l=c?this.lt(c,e,a):1;if(l!==0){this.st(n);let f=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}XO?.ht(function(g,y,I,E,M){var F,V,K,oe,X,Le;let Rt={localCacheCount:g,existenceFilterCount:y.count,databaseId:I.database,projectId:I.projectId},He=y.unchangedNames;return He&&(Rt.bloomFilter={applied:M===0,hashCount:(F=He?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(oe=(K=(V=He?.bits)===null||V===void 0?void 0:V.bitmap)===null||K===void 0?void 0:K.length)!==null&&oe!==void 0?oe:0,padding:(Le=(X=He?.bits)===null||X===void 0?void 0:X.padding)!==null&&Le!==void 0?Le:0,mightContain:P=>{var C;return(C=E?.mightContain(P))!==null&&C!==void 0&&C}}),Rt}(a,e.Ce,this.ze.Pt(),c,l))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,a,c;try{a=Do(r).toUint8Array()}catch(l){if(l instanceof w_)return Kc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Hb(a,i,o)}catch(l){return Kc(l instanceof Qa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let a=this.ze.Pt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,a)=>{let c=this._t(a);if(c){if(o.current&&kb(c.target)){let l=new de(c.target.path);this.Et(l).has(a)||this.dt(a,l)||this.tt(a,l,Wr.newNoDocument(l,e))}o.Le&&(n.set(a,o.qe()),o.Qe())}});let r=$e();this.Ye.forEach((o,a)=>{let c=!0;a.forEachWhile(l=>{let f=this._t(l);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,a)=>a.setReadTime(e));let i=new T_(e,n,this.Ze,this.He,r);return this.He=Ao(),this.Je=l_(),this.Ye=l_(),this.Ze=new St(xe),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new S_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new rn(xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new rn(xe),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new S_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function l_(){return new St(de.comparator)}function nk(){return new St(de.comparator)}var YG={asc:"ASCENDING",desc:"DESCENDING"},JG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XG={and:"AND",or:"OR"},Wb=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Gb(t,e){return t.useProto3Json||J_(e)?e:{value:e}}function A_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function e9(t,e){return A_(t,e.toTimestamp())}function Ri(t){return Xe(!!t,49232),Ce.fromTimestamp(function(n){let r=Co(n);return new pn(r.seconds,r.nanos)}(t))}function uC(t,e){return Kb(t,e).canonicalString()}function Kb(t,e){let n=function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function m1(t){let e=It.fromString(t);return Xe(w1(e),10190,{key:e.toString()}),e}function Zb(t,e){return uC(t.databaseId,e.path)}function lb(t,e){let n=m1(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(_1(n))}function g1(t,e){return uC(t.databaseId,e)}function t9(t){let e=m1(t);return e.length===4?It.emptyPath():_1(e)}function Qb(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _1(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rk(t,e,n){return{name:Zb(t,e),fields:n.value.mapValue.fields}}function n9(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:pe(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(Xe(g===void 0||typeof g=="string",58123),wn.fromBase64String(g||"")):(Xe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),wn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(f){let g=f.code===void 0?H.UNKNOWN:f1(f.code);return new ne(g,f.message||"")}(a);n=new D_(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=lb(t,r.document.name),o=Ri(r.document.updateTime),a=r.document.createTime?Ri(r.document.createTime):Ce.min(),c=new Hr({mapValue:{fields:r.document.fields}}),l=Wr.newFoundDocument(i,o,a,c),f=r.targetIds||[],g=r.removedTargetIds||[];n=new Wc(f,g,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=lb(t,r.document),o=r.readTime?Ri(r.readTime):Ce.min(),a=Wr.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Wc([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=lb(t,r.document),o=r.removedTargetIds||[];n=new Wc([],o,i,null)}else{if(!("filter"in e))return pe(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,a=new zb(i,o),c=r.targetId;n=new C_(c,a)}}return n}function r9(t,e){let n;if(e instanceof ru)n={update:rk(t,e.key,e.value)};else if(e instanceof Uh)n={delete:Zb(t,e.key)};else if(e instanceof Mo)n={update:rk(t,e.key,e.data),updateMask:h9(e.fieldMask)};else{if(!(e instanceof Bb))return pe(16599,{ft:e.type});n={verify:Zb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){let c=a.transform;if(c instanceof tl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof tu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof nu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof nl)return{fieldPath:a.field.canonicalString(),increment:c.Re};throw pe(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:e9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:pe(27497)}(t,e.precondition)),n}function i9(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map(n=>function(i,o){let a=i.updateTime?Ri(i.updateTime):Ri(o);return a.isEqual(Ce.min())&&(a=Ri(o)),new Vb(a,i.transformResults||[])}(n,e))):[]}function o9(t,e){return{documents:[g1(t,e.path)]}}function s9(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=g1(t,i);let o=function(f){if(f.length!==0)return y1(Gr.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let a=function(f){if(f.length!==0)return f.map(g=>function(I){return{field:zc(I.field),direction:c9(I.dir)}}(g))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);let c=Gb(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:n,parent:i}}function a9(t){let e=t9(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Xe(r===1,65062);let g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=function(y){let I=v1(y);return I instanceof Gr&&Qk(I)?I.getFilters():[I]}(n.where));let a=[];n.orderBy&&(a=function(y){return y.map(I=>function(M){return new eu(Hc(M.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(I))}(n.orderBy));let c=null;n.limit&&(c=function(y){let I;return I=typeof y=="object"?y.value:y,J_(I)?null:I}(n.limit));let l=null;n.startAt&&(l=function(y){let I=!!y.before,E=y.values||[];return new Xc(E,I)}(n.startAt));let f=null;return n.endAt&&(f=function(y){let I=!y.before,E=y.values||[];return new Xc(E,I)}(n.endAt)),OG(e,i,a,o,c,"F",l,f)}function u9(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function v1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Hc(n.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Hc(n.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Hc(n.unaryFilter.field);return Vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Hc(n.unaryFilter.field);return Vt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return Vt.create(Hc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gr.create(n.compositeFilter.filters.map(r=>v1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return pe(1026)}}(n.compositeFilter.op))}(t):pe(30097,{filter:t})}function c9(t){return YG[t]}function l9(t){return JG[t]}function d9(t){return XG[t]}function zc(t){return{fieldPath:t.canonicalString()}}function Hc(t){return ar.fromServerFormat(t.fieldPath)}function y1(t){return t instanceof Vt?function(n){if(n.op==="=="){if(HO(n.value))return{unaryFilter:{field:zc(n.field),op:"IS_NAN"}};if(zO(n.value))return{unaryFilter:{field:zc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HO(n.value))return{unaryFilter:{field:zc(n.field),op:"IS_NOT_NAN"}};if(zO(n.value))return{unaryFilter:{field:zc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zc(n.field),op:l9(n.op),value:n.value}}}(t):t instanceof Gr?function(n){let r=n.getFilters().map(i=>y1(i));return r.length===1?r[0]:{compositeFilter:{op:d9(n.op),filters:r}}}(t):pe(54877,{filter:t})}function h9(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function w1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var $h=class t{constructor(e,n,r,i,o=Ce.min(),a=Ce.min(),c=wn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Yb=class{constructor(e){this.wt=e}};function f9(t){let e=a9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fb(e,e.limit,"L"):e}var M_=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(gt(e.integerValue));else if("doubleValue"in e){let r=gt(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),Fh(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=Co(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(Do(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?Gk(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):Wk(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):pe(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let a=Qc,c=((i=(r=o[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(gt(c)),this.Nt(a,n),this.Ct(o[a],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),de.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};M_.Wt=new M_;var Jb=class{constructor(){this.yn=new Xb}addToCollectionParentIndex(e,n){return this.yn.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Xa.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Xa.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}},Xb=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rn(It.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rn(It.comparator)).toArray()}};var tue=new Uint8Array(0);var ik={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E1=41943040,wr=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};wr.DEFAULT_COLLECTION_PERCENTILE=10,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wr.DEFAULT=new wr(E1,wr.DEFAULT_COLLECTION_PERCENTILE,wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wr.DISABLED=new wr(-1,0,0);var zh=class t{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new t(0)}static ir(){return new t(-1)}};var ok="LruGarbageCollector",p9=1048576;function sk([t,e],[n,r]){let i=xe(t,n);return i===0?xe(e,r):i}var eT=class{constructor(e){this.cr=e,this.buffer=new rn(sk),this.lr=0}hr(){return++this.lr}Pr(e){let n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();sk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},tT=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){re(ok,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>T(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?re(ok,"Ignoring IndexedDB error during garbage collection: ",n):yield al(n)}yield this.Ir(3e5)}))}},nT=class{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return G.resolve(JT.le);let r=new eT(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(ik)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ik):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,a,c,l,f,g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,a=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),jc()<=Ve.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-g}ms
	Determined least recently used ${i} in `+(c-a)+`ms
	Removed ${o} targets in `+(l-c)+`ms
	Removed ${y} documents in `+(f-l)+`ms
Total Duration: ${f-g}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}};function m9(t,e){return new nT(t,e)}var rT=class{constructor(){this.changes=new So(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var iT=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var oT=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&kh(r.mutation,i,Si.empty(),pn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){let i=Za();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Ph();return o.forEach((c,l)=>{a=a.insert(c,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){let r=Za();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,i){let o=Ao(),a=Oh(),c=function(){return Oh()}();return n.forEach((l,f)=>{let g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof Mo)?o=o.insert(f.key,f):g!==void 0?(a.set(f.key,g.mutation.getFieldMask()),kh(g.mutation,f,g.mutation.getFieldMask(),pn.now())):a.set(f.key,Si.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((f,g)=>a.set(f,g)),n.forEach((f,g)=>{var y;return c.set(f,new iT(g,(y=a.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Oh(),i=new St((a,c)=>a-c),o=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(let c of a)c.keys().forEach(l=>{let f=n.get(l);if(f===null)return;let g=r.get(l)||Si.empty();g=c.applyToLocalView(f,g),r.set(l,g);let y=(i.get(c.batchId)||$e()).add(l);i=i.insert(c.batchId,y)})}).next(()=>{let a=[],c=i.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),f=l.key,g=l.value,y=o1();g.forEach(I=>{if(!o.has(I)){let E=d1(n.get(I),r.get(I));E!==null&&y.set(I,E),o=o.add(I)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,y))}return G.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return de.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):e1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):G.resolve(Za()),c=Lh,l=o;return a.next(f=>G.forEach(f,(g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(g)?G.resolve():this.remoteDocumentCache.getEntry(e,g).next(I=>{l=l.insert(g,I)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,l,f,$e())).next(g=>({batchId:c,changes:i1(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=Ph();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,a=Ph();return this.indexManager.getCollectionParents(e,o).next(c=>G.forEach(c,l=>{let f=function(y,I){return new Cs(I,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((y,I)=>{a=a.insert(y,I)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,f)=>{let g=f.getKey();a.get(g)===null&&(a=a.insert(g,Wr.newInvalidDocument(g)))});let c=Ph();return a.forEach((l,f)=>{let g=o.get(l);g!==void 0&&kh(g.mutation,f,Si.empty(),pn.now()),tv(n,f)&&(c=c.insert(l,f))}),c})}};var sT=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return G.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ri(i.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:f9(i.bundledQuery),readTime:Ri(i.readTime)}}(n)),G.resolve()}};var aT=class{constructor(){this.overlays=new St(de.comparator),this.Or=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Za();return G.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),G.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){let i=Za(),o=n.length+1,a=new de(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){let l=c.getNext().value,f=l.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return G.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new St((f,g)=>f-g),a=this.overlays.getIterator();for(;a.hasNext();){let f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=Za(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}let c=Za(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((f,g)=>c.set(f,g)),!(c.size()>=i)););return G.resolve(c)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let a=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new $b(n,r));let o=this.Or.get(n);o===void 0&&(o=$e(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}};var uT=class{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}};var Hh=class{constructor(){this.Nr=new rn(Ft.Br),this.Lr=new rn(Ft.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){let r=new Ft(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Ft(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){let n=new de(new It([])),r=new Ft(n,e),i=new Ft(n,e+1),o=[];return this.Lr.forEachInRange([r,i],a=>{this.Qr(a),o.push(a.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let n=new de(new It([])),r=new Ft(n,e),i=new Ft(n,e+1),o=$e();return this.Lr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){let n=new Ft(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ft=class{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return de.comparator(e.key,n.key)||xe(e.Gr,n.Gr)}static kr(e,n){return xe(e.Gr,n.Gr)||de.comparator(e.key,n.key)}};var cT=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new rn(Ft.Br)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Ub(o,n,r,i);this.mutationQueue.push(a);for(let c of i)this.zr=this.zr.add(new Ft(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return G.resolve(a)}lookupMutationBatch(e,n){return G.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Hr(r),o=i<0?0:i;return G.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?XT:this.Jn-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ft(n,0),i=new Ft(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],a=>{let c=this.jr(a.Gr);o.push(c)}),G.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rn(xe);return n.forEach(i=>{let o=new Ft(i,0),a=new Ft(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,a],c=>{r=r.add(c.Gr)})}),G.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;de.isDocumentKey(o)||(o=o.child(""));let a=new Ft(new de(o),0),c=new rn(xe);return this.zr.forEachWhile(l=>{let f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(l.Gr)),!0)},a),G.resolve(this.Jr(c))}Jr(e){let n=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Xe(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return G.forEach(n.mutations,i=>{let o=new Ft(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){let r=new Ft(n,0),i=this.zr.firstAfterOrEqual(r);return G.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var lT=class{constructor(e){this.Zr=e,this.docs=function(){return new St(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():Wr.newInvalidDocument(n))}getEntries(e,n){let r=Ao();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wr.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ao(),a=n.path,c=new de(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:f,value:{document:g}}=l.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||mG(pG(g),r)<=0||(i.has(g.key)||tv(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return G.resolve(o)}getAllFromCollectionGroup(e,n,r,i){pe(9500)}Xr(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dT(this)}getSize(e){return G.resolve(this.size)}},dT=class extends rT{constructor(e){super(),this.vr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}};var hT=class{constructor(e){this.persistence=e,this.ei=new So(n=>iC(n),oC),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ti=0,this.ni=new Hh,this.targetCount=0,this.ri=zh.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),G.resolve()}ar(e){this.ei.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ri=new zh(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.ar(n),G.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ei.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ei.delete(a),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),G.waitFor(o).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){let r=this.ei.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),G.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),G.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ni.Wr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.ni.containsKey(n))}};var R_=class{constructor(e,n){this.ii={},this.overlays={},this.si=new JT(0),this.oi=!1,this.oi=!0,this._i=new uT,this.referenceDelegate=e(this),this.ai=new hT(this),this.indexManager=new Jb,this.remoteDocumentCache=function(i){return new lT(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new Yb(n),this.ci=new sT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new cT(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);let i=new fT(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return G.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}},fT=class extends Ib{constructor(e){super(),this.currentSequenceNumber=e}},pT=class t{constructor(e){this.persistence=e,this.Ti=new Hh,this.Ii=null}static Ei(e){return new t(e)}get di(){if(this.Ii)return this.Ii;throw pe(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),G.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.di,r=>{let i=de.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,Ce.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return G.or([()=>G.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}},P_=class t{constructor(e,n){this.persistence=e,this.Ri=new So(r=>yG(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=m9(this,n)}static Ei(e,n){return new t(e,n)}li(){}hi(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){let n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return G.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?G.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,a=>this.gr(e,a,n).next(c=>{c||(r++,o.removeEntry(a,Ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),G.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=h_(e.data.value)),n}gr(e,n,r){return G.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.Ri.get(n);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var mT=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=$e(),i=$e();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var gT=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var _T=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return Zx()?8:_G(tn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Rs(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;let a=new gT;return this.fs(e,n,a).next(c=>{if(o.result=c,this.Is)return this.gs(e,n,a,c.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(jc()<=Ve.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",$c(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),G.resolve()):(jc()<=Ve.DEBUG&&re("QueryEngine","Query:",$c(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(jc()<=Ve.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",$c(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):G.resolve())}Rs(e,n){if(KO(n))return G.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fb(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let a=$e(...o);return this.As.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{let f=this.ps(n,c);return this.ys(n,f,a,l.readTime)?this.Rs(e,Fb(n,null,"F")):this.ws(e,f,n,l)}))})))}Vs(e,n,r,i){return KO(n)||i.isEqual(Ce.min())?G.resolve(null):this.As.getDocuments(e,r).next(o=>{let a=this.ps(n,o);return this.ys(n,a,r,i)?G.resolve(null):(jc()<=Ve.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$c(n)),this.ws(e,a,n,fG(i,Lh)).next(c=>c))})}ps(e,n){let r=new rn(n1(e));return n.forEach((i,o)=>{tv(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return jc()<=Ve.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",$c(n)),this.As.getDocumentsMatchingQuery(e,n,Xa.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}};var cC="LocalStore",g9=3e8,vT=class{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new St(xe),this.Ds=new So(o=>iC(o),oC),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oT(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}};function _9(t,e,n,r){return new vT(t,e,n,r)}function I1(t,e){return T(this,null,function*(){let n=Ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let a=[],c=[],l=$e();for(let f of i){a.push(f.batchId);for(let g of f.mutations)l=l.add(g.key)}for(let f of o){c.push(f.batchId);for(let g of f.mutations)l=l.add(g.key)}return n.localDocuments.getDocuments(r,l).next(f=>({Ms:f,removedBatchIds:a,addedBatchIds:c}))})})})}function v9(t,e){let n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(c,l,f,g){let y=f.batch,I=y.keys(),E=G.resolve();return I.forEach(M=>{E=E.next(()=>g.getEntry(l,M)).next(F=>{let V=f.docVersions.get(M);Xe(V!==null,48541),F.version.compareTo(V)<0&&(y.applyToRemoteDocument(F,f),F.isValidDocument()&&(F.setReadTime(f.commitVersion),g.addEntry(F)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(l,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=$e();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(l=l.add(c.batch.mutations[f].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function b1(t){let e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function y9(t,e){let n=Ie(t),r=e.snapshotVersion,i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let a=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;let c=[];e.targetChanges.forEach((g,y)=>{let I=i.get(y);if(!I)return;c.push(n.ai.removeMatchingKeys(o,g.removedDocuments,y).next(()=>n.ai.addMatchingKeys(o,g.addedDocuments,y)));let E=I.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(wn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),i=i.insert(y,E),function(F,V,K){return F.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=g9?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(I,E,g)&&c.push(n.ai.updateTargetData(o,E))});let l=Ao(),f=$e();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))}),c.push(w9(o,a,e.documentUpdates).next(g=>{l=g.xs,f=g.Os})),!r.isEqual(Ce.min())){let g=n.ai.getLastRemoteSnapshotVersion(o).next(y=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(g)}return G.waitFor(c).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,f)).next(()=>l)}).then(o=>(n.Ss=i,o))}function w9(t,e,n){let r=$e(),i=$e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Ao();return n.forEach((c,l)=>{let f=o.get(c);l.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(Ce.min())?(e.removeEntry(c,l.readTime),a=a.insert(c,l)):!f.isValidDocument()||l.version.compareTo(f.version)>0||l.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(l),a=a.insert(c,l)):re(cC,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",l.version)}),{xs:a,Os:i}})}function E9(t,e){let n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=XT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function I9(t,e){let n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(o=>o?(i=o,G.resolve(i)):n.ai.allocateTargetId(r).next(a=>(i=new $h(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}function yT(t,e,n){return T(this,null,function*(){let r=Ie(t),i=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!ul(a))throw a;re(cC,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function ak(t,e,n){let r=Ie(t),i=Ce.min(),o=$e();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,f,g){let y=Ie(l),I=y.Ds.get(g);return I!==void 0?G.resolve(y.Ss.get(I)):y.ai.getTargetData(f,g)}(r,a,Mi(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(a,c.targetId).next(l=>{o=l})}).next(()=>r.bs.getDocumentsMatchingQuery(a,e,n?i:Ce.min(),n?o:$e())).next(c=>(b9(r,LG(e),c),{documents:c,Ns:o})))}function b9(t,e,n){let r=t.vs.get(e)||Ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}var x_=class{constructor(){this.activeTargetIds=$G()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var wT=class{constructor(){this.So=new x_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new x_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ET=class{vo(e){}shutdown(){}};var uk="ConnectivityMonitor",N_=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){re(uk,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){re(uk,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var d_=null;function IT(){return d_===null?d_=function(){return 268435456+Math.round(2147483648*Math.random())}():d_++,"0x"+d_.toString(16)}var db="RestConnection",T9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},bT=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===E_?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){let a=IT(),c=this.$o(e,n.toUriEncodedString());re(db,`Sending RPC '${e}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,i,o);let{host:f}=new URL(c),g=Ba(f);return this.Ko(e,c,l,r,g).then(y=>(re(db,`Received RPC '${e}' ${a}: `,y),y),y=>{throw Kc(db,`RPC '${e}' ${a} failed with error: `,y,"url: ",c,"request:",r),y})}Wo(e,n,r,i,o,a){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){let r=T9[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}};var TT=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var yn="WebChannelConnection",CT=class extends bT{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,o){let a=IT();return new Promise((c,l)=>{let f=new ob;f.setWithCredentials(!0),f.listenOnce(sb.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Rh.NO_ERROR:let y=f.getResponseJson();re(yn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),c(y);break;case Rh.TIMEOUT:re(yn,`RPC '${e}' ${a} timed out`),l(new ne(H.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:let I=f.getStatus();if(re(yn,`RPC '${e}' ${a} failed with status:`,I,"response text:",f.getResponseText()),I>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);let M=E?.error;if(M&&M.status&&M.message){let F=function(K){let oe=K.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(oe)>=0?oe:H.UNKNOWN}(M.status);l(new ne(F,M.message))}else l(new ne(H.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new ne(H.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{s_:e,streamId:a,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{re(yn,`RPC '${e}' ${a} completed.`)}});let g=JSON.stringify(i);re(yn,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",g,r,15)})}a_(e,n,r){let i=IT(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=cb(),c=ub(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let g=o.join("");re(yn,`Creating RPC '${e}' stream ${i}: ${g}`,l);let y=a.createWebChannel(g,l),I=!1,E=!1,M=new TT({Go:V=>{E?re(yn,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(I||(re(yn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),I=!0),re(yn,`RPC '${e}' stream ${i} sending:`,V),y.send(V))},zo:()=>y.close()}),F=(V,K,oe)=>{V.listen(K,X=>{try{oe(X)}catch(Le){setTimeout(()=>{throw Le},0)}})};return F(y,Uc.EventType.OPEN,()=>{E||(re(yn,`RPC '${e}' stream ${i} transport opened.`),M.t_())}),F(y,Uc.EventType.CLOSE,()=>{E||(E=!0,re(yn,`RPC '${e}' stream ${i} transport closed`),M.r_())}),F(y,Uc.EventType.ERROR,V=>{E||(E=!0,Kc(yn,`RPC '${e}' stream ${i} transport errored. Name:`,V.name,"Message:",V.message),M.r_(new ne(H.UNAVAILABLE,"The operation could not be completed")))}),F(y,Uc.EventType.MESSAGE,V=>{var K;if(!E){let oe=V.data[0];Xe(!!oe,16349);let X=oe,Le=X?.error||((K=X[0])===null||K===void 0?void 0:K.error);if(Le){re(yn,`RPC '${e}' stream ${i} received error:`,Le);let Rt=Le.status,He=function(D){let R=Lt[D];if(R!==void 0)return f1(R)}(Rt),P=Le.message;He===void 0&&(He=H.INTERNAL,P="Unknown error status: "+Rt+" with message "+Le.message),E=!0,M.r_(new ne(He,P)),y.close()}else re(yn,`RPC '${e}' stream ${i} received:`,oe),M.i_(oe)}}),F(c,ab.STAT_EVENT,V=>{V.stat===u_.PROXY?re(yn,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===u_.NOPROXY&&re(yn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.n_()},0),M}};function hb(){return typeof document<"u"?document:null}function nv(t){return new Wb(t,!0)}var O_=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&re("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var ck="PersistentStream",k_=class{constructor(e,n,r,i,o,a,c,l){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new O_(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return T(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return T(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,n){return T(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(To(n.toString()),To("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(n)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{let i=new ne(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){let r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>T(this,null,function*(){this.state=0,this.start()}))}L_(e){return re(ck,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(re(ck,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},DT=class extends k_{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let n=n9(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();let a=o.targetChange;return a.targetIds&&a.targetIds.length?Ce.min():a.readTime?Ri(a.readTime):Ce.min()}(e);return this.listener.Q_(n,r)}U_(e){let n={};n.database=Qb(this.serializer),n.addTarget=function(o,a){let c,l=a.target;if(c=kb(l)?{documents:o9(o,l)}:{query:s9(o,l).gt},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=p1(o,a.resumeToken);let f=Gb(o,a.expectedCount);f!==null&&(c.expectedCount=f)}else if(a.snapshotVersion.compareTo(Ce.min())>0){c.readTime=A_(o,a.snapshotVersion.toTimestamp());let f=Gb(o,a.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);let r=u9(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){let n={};n.database=Qb(this.serializer),n.removeTarget=e,this.F_(n)}},ST=class extends k_{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let n=i9(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.j_(r,n)}H_(){let e={};e.database=Qb(this.serializer),this.F_(e)}G_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>r9(this.serializer,r))};this.F_(n)}};var AT=class{},MT=class extends AT{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Qo(e,Kb(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(H.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Wo(e,Kb(n,r),i,a,c,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ne(H.UNKNOWN,a.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},RT=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(To(n),this.ea=!1):re("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var iu="RemoteStore",PT=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(a=>{r.enqueueAndForget(()=>T(this,null,function*(){au(this)&&(re(iu,"Restarting streams for network reachability change."),yield function(l){return T(this,null,function*(){let f=Ie(l);f.aa.add(4),yield Qh(f),f.la.set("Unknown"),f.aa.delete(4),yield rv(f)})}(this))}))}),this.la=new RT(r,i)}};function rv(t){return T(this,null,function*(){if(au(t))for(let e of t.ua)yield e(!0)})}function Qh(t){return T(this,null,function*(){for(let e of t.ua)yield e(!1)})}function T1(t,e){let n=Ie(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),fC(n)?hC(n):cl(n).b_()&&dC(n,e))}function lC(t,e){let n=Ie(t),r=cl(n);n._a.delete(e),r.b_()&&C1(n,e),n._a.size===0&&(r.b_()?r.v_():au(n)&&n.la.set("Unknown"))}function dC(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(t).U_(e)}function C1(t,e){t.ha.Ke(e),cl(t).K_(e)}function hC(t){t.ha=new qb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),cl(t).start(),t.la.ta()}function fC(t){return au(t)&&!cl(t).w_()&&t._a.size>0}function au(t){return Ie(t).aa.size===0}function D1(t){t.ha=void 0}function C9(t){return T(this,null,function*(){t.la.set("Online")})}function D9(t){return T(this,null,function*(){t._a.forEach((e,n)=>{dC(t,e)})})}function S9(t,e){return T(this,null,function*(){D1(t),fC(t)?(t.la.ia(e),hC(t)):t.la.set("Unknown")})}function A9(t,e,n){return T(this,null,function*(){if(t.la.set("Online"),e instanceof D_&&e.state===2&&e.cause)try{yield function(i,o){return T(this,null,function*(){let a=o.cause;for(let c of o.targetIds)i._a.has(c)&&(yield i.remoteSyncer.rejectListen(c,a),i._a.delete(c),i.ha.removeTarget(c))})}(t,e)}catch(r){re(iu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield L_(t,r)}else if(e instanceof Wc?t.ha.Xe(e):e instanceof C_?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Ce.min()))try{let r=yield b1(t.localStore);n.compareTo(r)>=0&&(yield function(o,a){let c=o.ha.It(a);return c.targetChanges.forEach((l,f)=>{if(l.resumeToken.approximateByteSize()>0){let g=o._a.get(f);g&&o._a.set(f,g.withResumeToken(l.resumeToken,a))}}),c.targetMismatches.forEach((l,f)=>{let g=o._a.get(l);if(!g)return;o._a.set(l,g.withResumeToken(wn.EMPTY_BYTE_STRING,g.snapshotVersion)),C1(o,l);let y=new $h(g.target,l,f,g.sequenceNumber);dC(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){re(iu,"Failed to raise snapshot:",r),yield L_(t,r)}})}function L_(t,e,n){return T(this,null,function*(){if(!ul(e))throw e;t.aa.add(1),yield Qh(t),t.la.set("Offline"),n||(n=()=>b1(t.localStore)),t.asyncQueue.enqueueRetryable(()=>T(null,null,function*(){re(iu,"Retrying IndexedDB access"),yield n(),t.aa.delete(1),yield rv(t)}))})}function S1(t,e){return e().catch(n=>L_(t,n,e))}function iv(t){return T(this,null,function*(){let e=Ie(t),n=Ds(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:XT;for(;M9(e);)try{let i=yield E9(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,R9(e,i)}catch(i){yield L_(e,i)}A1(e)&&M1(e)})}function M9(t){return au(t)&&t.oa.length<10}function R9(t,e){t.oa.push(e);let n=Ds(t);n.b_()&&n.W_&&n.G_(e.mutations)}function A1(t){return au(t)&&!Ds(t).w_()&&t.oa.length>0}function M1(t){Ds(t).start()}function P9(t){return T(this,null,function*(){Ds(t).H_()})}function x9(t){return T(this,null,function*(){let e=Ds(t);for(let n of t.oa)e.G_(n.mutations)})}function N9(t,e,n){return T(this,null,function*(){let r=t.oa.shift(),i=jb.from(r,e,n);yield S1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield iv(t)})}function O9(t,e){return T(this,null,function*(){e&&Ds(t).W_&&(yield function(r,i){return T(this,null,function*(){if(function(a){return ZG(a)&&a!==H.ABORTED}(i.code)){let o=r.oa.shift();Ds(r).D_(),yield S1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield iv(r)}})}(t,e)),A1(t)&&M1(t)})}function lk(t,e){return T(this,null,function*(){let n=Ie(t);n.asyncQueue.verifyOperationInProgress(),re(iu,"RemoteStore received new credentials");let r=au(n);n.aa.add(3),yield Qh(n),r&&n.la.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),yield rv(n)})}function k9(t,e){return T(this,null,function*(){let n=Ie(t);e?(n.aa.delete(2),yield rv(n)):e||(n.aa.add(2),yield Qh(n),n.la.set("Unknown"))})}function cl(t){return t.Pa||(t.Pa=function(n,r,i){let o=Ie(n);return o.Y_(),new DT(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:C9.bind(null,t),Jo:D9.bind(null,t),Zo:S9.bind(null,t),Q_:A9.bind(null,t)}),t.ua.push(e=>T(null,null,function*(){e?(t.Pa.D_(),fC(t)?hC(t):t.la.set("Unknown")):(yield t.Pa.stop(),D1(t))}))),t.Pa}function Ds(t){return t.Ta||(t.Ta=function(n,r,i){let o=Ie(n);return o.Y_(),new ST(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:P9.bind(null,t),Zo:O9.bind(null,t),z_:x9.bind(null,t),j_:N9.bind(null,t)}),t.ua.push(e=>T(null,null,function*(){e?(t.Ta.D_(),yield iv(t)):(yield t.Ta.stop(),t.oa.length>0&&(re(iu,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))}))),t.Ta}var xT=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let a=Date.now()+r,c=new t(e,n,a,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function pC(t,e){if(To("AsyncQueue",`${e}: ${t}`),ul(t))return new ne(H.UNAVAILABLE,`${e}: ${t}`);throw t}var F_=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Ph(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var V_=class{constructor(){this.Ia=new St(de.comparator)}track(e){let n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):pe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){let e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}},il=class t{constructor(e,n,r,i,o,a,c,l,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){let a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new t(e,n,F_.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ev(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var NT=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},OT=class{constructor(){this.queries=dk(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){let i=Ie(n),o=i.queries;i.queries=dk(),o.forEach((a,c)=>{for(let l of c.Ra)l.onError(r)})})(this,new ne(H.ABORTED,"Firestore shutting down"))}};function dk(){return new So(t=>t1(t),ev)}function R1(t,e){return T(this,null,function*(){let n=Ie(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new NT,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield n.onListen(i,!0);break;case 1:o.Aa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(a){let c=pC(a,`Initialization of query '${$c(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&mC(n)})}function P1(t,e){return T(this,null,function*(){let n=Ie(t),r=e.query,i=3,o=n.queries.get(r);if(o){let a=o.Ra.indexOf(e);a>=0&&(o.Ra.splice(a,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function L9(t,e){let n=Ie(t),r=!1;for(let i of e){let o=i.query,a=n.queries.get(o);if(a){for(let c of a.Ra)c.pa(i)&&(r=!0);a.Aa=i}}r&&mC(n)}function F9(t,e,n){let r=Ie(t),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(n);r.queries.delete(e)}function mC(t){t.fa.forEach(e=>{e.next()})}var kT,hk;(hk=kT||(kT={})).ya="default",hk.Cache="cache";var B_=class{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;let r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==kT.Cache}};var U_=class{constructor(e){this.key=e}},j_=class{constructor(e){this.key=e}},LT=class{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=$e(),this.mutatedKeys=$e(),this.Ua=n1(e),this.Ka=new F_(this.Ua)}get Wa(){return this.qa}Ga(e,n){let r=n?n.za:new V_,i=n?n.Ka:this.Ka,o=n?n.mutatedKeys:this.mutatedKeys,a=i,c=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,y)=>{let I=i.get(g),E=tv(this.query,y)?y:null,M=!!I&&this.mutatedKeys.has(I.key),F=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),V=!1;I&&E?I.data.isEqual(E.data)?M!==F&&(r.track({type:3,doc:E}),V=!0):this.ja(I,E)||(r.track({type:2,doc:E}),V=!0,(l&&this.Ua(E,l)>0||f&&this.Ua(E,f)<0)&&(c=!0)):!I&&E?(r.track({type:0,doc:E}),V=!0):I&&!E&&(r.track({type:1,doc:I}),V=!0,(l||f)&&(c=!0)),V&&(E?(a=a.add(E),o=F?o.add(g):o.delete(g)):(a=a.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let g=this.query.limitType==="F"?a.last():a.first();a=a.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ka:a,za:r,ys:c,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let a=e.za.da();a.sort((g,y)=>function(E,M){let F=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Vt:V})}};return F(E)-F(M)}(g.type,y.type)||this.Ua(g.doc,y.doc)),this.Ha(r),i=i!=null&&i;let c=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,f=l!==this.Qa;return this.Qa=l,a.length!==0||f?{snapshot:new il(this.query,e.Ka,o,a,e.mutatedKeys,l===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new V_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=$e(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new j_(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new U_(r))}),n}Xa(e){this.qa=e.Ns,this.$a=$e();let n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return il.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},gC="SyncEngine",FT=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},VT=class{constructor(e){this.key=e,this.tu=!1}},BT=class{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.nu={},this.ru=new So(c=>t1(c),ev),this.iu=new Map,this.su=new Set,this.ou=new St(de.comparator),this._u=new Map,this.au=new Hh,this.uu={},this.cu=new Map,this.lu=zh.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function V9(t,e,n=!0){return T(this,null,function*(){let r=F1(t),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield x1(r,e,n,!0),i})}function B9(t,e){return T(this,null,function*(){let n=F1(t);yield x1(n,e,!0,!1)})}function x1(t,e,n,r){return T(this,null,function*(){let i=yield I9(t.localStore,Mi(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield U9(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&T1(t.remoteStore,i),c})}function U9(t,e,n,r,i){return T(this,null,function*(){t.Pu=(y,I,E)=>function(F,V,K,oe){return T(this,null,function*(){let X=V.view.Ga(K);X.ys&&(X=yield ak(F.localStore,V.query,!1).then(({documents:P})=>V.view.Ga(P,X)));let Le=oe&&oe.targetChanges.get(V.targetId),Rt=oe&&oe.targetMismatches.get(V.targetId)!=null,He=V.view.applyChanges(X,F.isPrimaryClient,Le,Rt);return pk(F,V.targetId,He.Ya),He.snapshot})}(t,y,I,E);let o=yield ak(t.localStore,e,!0),a=new LT(e,o.Ns),c=a.Ga(o.documents),l=jh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(c,t.isPrimaryClient,l);pk(t,n,f.Ya);let g=new FT(e,n,a);return t.ru.set(e,g),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),f.snapshot})}function j9(t,e,n){return T(this,null,function*(){let r=Ie(t),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(a=>!ev(a,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield yT(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lC(r.remoteStore,i.targetId),UT(r,i.targetId)}).catch(al))):(UT(r,i.targetId),yield yT(r.localStore,i.targetId,!0))})}function $9(t,e){return T(this,null,function*(){let n=Ie(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lC(n.remoteStore,r.targetId))})}function z9(t,e,n){return T(this,null,function*(){let r=Q9(t);try{let i=yield function(a,c){let l=Ie(a),f=pn.now(),g=c.reduce((E,M)=>E.add(M.key),$e()),y,I;return l.persistence.runTransaction("Locally write mutations","readwrite",E=>{let M=Ao(),F=$e();return l.Cs.getEntries(E,g).next(V=>{M=V,M.forEach((K,oe)=>{oe.isValidDocument()||(F=F.add(K))})}).next(()=>l.localDocuments.getOverlayedDocuments(E,M)).next(V=>{y=V;let K=[];for(let oe of c){let X=KG(oe,y.get(oe.key).overlayedDocument);X!=null&&K.push(new Mo(oe.key,X,Kk(X.value.mapValue),bo.exists(!0)))}return l.mutationQueue.addMutationBatch(E,f,K,c)}).next(V=>{I=V;let K=V.applyToLocalDocumentSet(y,F);return l.documentOverlayCache.saveOverlays(E,V.batchId,K)})}).then(()=>({batchId:I.batchId,changes:i1(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,l){let f=a.uu[a.currentUser.toKey()];f||(f=new St(xe)),f=f.insert(c,l),a.uu[a.currentUser.toKey()]=f}(r,i.batchId,n),yield Yh(r,i.changes),yield iv(r.remoteStore)}catch(i){let o=pC(i,"Failed to persist write");n.reject(o)}})}function N1(t,e){return T(this,null,function*(){let n=Ie(t);try{let r=yield y9(n.localStore,e);e.targetChanges.forEach((i,o)=>{let a=n._u.get(o);a&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.tu=!0:i.modifiedDocuments.size>0?Xe(a.tu,14607):i.removedDocuments.size>0&&(Xe(a.tu,42227),a.tu=!1))}),yield Yh(n,r,e)}catch(r){yield al(r)}})}function fk(t,e,n){let r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ru.forEach((o,a)=>{let c=a.view.ga(e);c.snapshot&&i.push(c.snapshot)}),function(a,c){let l=Ie(a);l.onlineState=c;let f=!1;l.queries.forEach((g,y)=>{for(let I of y.Ra)I.ga(c)&&(f=!0)}),f&&mC(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function H9(t,e,n){return T(this,null,function*(){let r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r._u.get(e),o=i&&i.key;if(o){let a=new St(de.comparator);a=a.insert(o,Wr.newNoDocument(o,Ce.min()));let c=$e().add(o),l=new T_(Ce.min(),new Map,new St(xe),a,c);yield N1(r,l),r.ou=r.ou.remove(o),r._u.delete(e),_C(r)}else yield yT(r.localStore,e,!1).then(()=>UT(r,e,n)).catch(al)})}function q9(t,e){return T(this,null,function*(){let n=Ie(t),r=e.batch.batchId;try{let i=yield v9(n.localStore,e);k1(n,r,null),O1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Yh(n,i)}catch(i){yield al(i)}})}function W9(t,e,n){return T(this,null,function*(){let r=Ie(t);try{let i=yield function(a,c){let l=Ie(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return l.mutationQueue.lookupMutationBatch(f,c).next(y=>(Xe(y!==null,37113),g=y.keys(),l.mutationQueue.removeMutationBatch(f,y))).next(()=>l.mutationQueue.performConsistencyCheck(f)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(f,g,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>l.localDocuments.getDocuments(f,g))})}(r.localStore,e);k1(r,e,n),O1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Yh(r,i)}catch(i){yield al(i)}})}function O1(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function k1(t,e,n){let r=Ie(t),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function UT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||L1(t,r)})}function L1(t,e){t.su.delete(e.path.canonicalString());let n=t.ou.get(e);n!==null&&(lC(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),_C(t))}function pk(t,e,n){for(let r of n)r instanceof U_?(t.au.addReference(r.key,e),G9(t,r)):r instanceof j_?(re(gC,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||L1(t,r.key)):pe(19791,{Iu:r})}function G9(t,e){let n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(re(gC,"New document in limbo: "+n),t.su.add(r),_C(t))}function _C(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){let e=t.su.values().next().value;t.su.delete(e);let n=new de(It.fromString(e)),r=t.lu.next();t._u.set(r,new VT(n)),t.ou=t.ou.insert(n,r),T1(t.remoteStore,new $h(Mi(sC(n.path)),r,"TargetPurposeLimboResolution",JT.le))}}function Yh(t,e,n){return T(this,null,function*(){let r=Ie(t),i=[],o=[],a=[];r.ru.isEmpty()||(r.ru.forEach((c,l)=>{a.push(r.Pu(l,e,n).then(f=>{var g;if((f||n)&&r.isPrimaryClient){let y=f?!f.fromCache:(g=n?.targetChanges.get(l.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(l.targetId,y?"current":"not-current")}if(f){i.push(f);let y=mT.Ps(l.targetId,f);o.push(y)}}))}),yield Promise.all(a),r.nu.Q_(i),yield function(l,f){return T(this,null,function*(){let g=Ie(l);try{yield g.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>G.forEach(f,I=>G.forEach(I.ls,E=>g.persistence.referenceDelegate.addReference(y,I.targetId,E)).next(()=>G.forEach(I.hs,E=>g.persistence.referenceDelegate.removeReference(y,I.targetId,E)))))}catch(y){if(!ul(y))throw y;re(cC,"Failed to update sequence numbers: "+y)}for(let y of f){let I=y.targetId;if(!y.fromCache){let E=g.Ss.get(I),M=E.snapshotVersion,F=E.withLastLimboFreeSnapshotVersion(M);g.Ss=g.Ss.insert(I,F)}}})}(r.localStore,o))})}function K9(t,e){return T(this,null,function*(){let n=Ie(t);if(!n.currentUser.isEqual(e)){re(gC,"User change. New user:",e.toKey());let r=yield I1(n.localStore,e);n.currentUser=e,function(o,a){o.cu.forEach(c=>{c.forEach(l=>{l.reject(new ne(H.CANCELLED,a))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yh(n,r.Ms)}})}function Z9(t,e){let n=Ie(t),r=n._u.get(e);if(r&&r.tu)return $e().add(r.key);{let i=$e(),o=n.iu.get(e);if(!o)return i;for(let a of o){let c=n.ru.get(a);i=i.unionWith(c.view.Wa)}return i}}function F1(t){let e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=N1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H9.bind(null,e),e.nu.Q_=L9.bind(null,e.eventManager),e.nu.Tu=F9.bind(null,e.eventManager),e}function Q9(t){let e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W9.bind(null,e),e}var V1=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return T(this,null,function*(){this.serializer=nv(n.databaseInfo.databaseId),this.sharedClientState=this.Au(n),this.persistence=this.Ru(n),yield this.persistence.start(),this.localStore=this.Vu(n),this.gcScheduler=this.mu(n,this.localStore),this.indexBackfillerScheduler=this.fu(n,this.localStore)})}mu(n,r){return null}fu(n,r){return null}Vu(n){return _9(this.persistence,new _T,n.initialUser,this.serializer)}Ru(n){return new R_(pT.Ei,this.serializer)}Au(n){return new wT}terminate(){return T(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),jT=class extends V1{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Xe(this.persistence.referenceDelegate instanceof P_,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new tT(r,e.asyncQueue,n)}Ru(e){let n=this.cacheSizeBytes!==void 0?wr.withCacheSize(this.cacheSizeBytes):wr.DEFAULT;return new R_(r=>P_.Ei(r,n),this.serializer)}};var Y9=(()=>{class t{initialize(n,r){return T(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fk(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=K9.bind(null,this.syncEngine),yield k9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new OT}()}createDatastore(n){let r=nv(n.databaseInfo.databaseId),i=function(a){return new CT(a)}(n.databaseInfo);return function(a,c,l,f){return new MT(a,c,l,f)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,a,c,l){return new PT(i,o,a,c,l)}(this.localStore,this.datastore,n.asyncQueue,r=>fk(this.syncEngine,r,0),function(){return N_.C()?new N_:new ET}())}createSyncEngine(n,r){return function(o,a,c,l,f,g,y){let I=new BT(o,a,c,l,f,g);return y&&(I.hu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return T(this,null,function*(){var n,r;yield function(o){return T(this,null,function*(){let a=Ie(o);re(iu,"RemoteStore shutting down."),a.aa.add(5),yield Qh(a),a.ca.shutdown(),a.la.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var $_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):To("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Ss="FirestoreClient",$T=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=__.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,a=>T(this,null,function*(){re(Ss,"Received user=",a.uid),yield this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,a=>(re(Ss,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=pC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function fb(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),re(Ss,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>T(null,null,function*(){r.isEqual(i)||(yield I1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function mk(t,e){return T(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield J9(t);re(Ss,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lk(e.remoteStore,i)),t._onlineComponents=e})}function J9(t){return T(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(Ss,"Using user provided OfflineComponentProvider");try{yield fb(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Kc("Error using user provided cache. Falling back to memory cache: "+n),yield fb(t,new V1)}}else re(Ss,"Using default OfflineComponentProvider"),yield fb(t,new jT(void 0));return t._offlineComponents})}function B1(t){return T(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(Ss,"Using user provided OnlineComponentProvider"),yield mk(t,t._uninitializedComponentsProvider._online)):(re(Ss,"Using default OnlineComponentProvider"),yield mk(t,new Y9))),t._onlineComponents})}function X9(t){return B1(t).then(e=>e.syncEngine)}function U1(t){return T(this,null,function*(){let e=yield B1(t),n=e.eventManager;return n.onListen=V9.bind(null,e.syncEngine),n.onUnlisten=j9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$9.bind(null,e.syncEngine),n})}function e7(t,e,n={}){let r=new qr;return t.asyncQueue.enqueueAndForget(()=>T(null,null,function*(){return function(o,a,c,l,f){let g=new $_({next:I=>{g.yu(),a.enqueueAndForget(()=>P1(o,y));let E=I.docs.has(c);!E&&I.fromCache?f.reject(new ne(H.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&I.fromCache&&l&&l.source==="server"?f.reject(new ne(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(I)},error:I=>f.reject(I)}),y=new B_(sC(c.path),g,{includeMetadataChanges:!0,Fa:!0});return R1(o,y)}(yield U1(t),t.asyncQueue,e,n,r)})),r.promise}function t7(t,e,n={}){let r=new qr;return t.asyncQueue.enqueueAndForget(()=>T(null,null,function*(){return function(o,a,c,l,f){let g=new $_({next:I=>{g.yu(),a.enqueueAndForget(()=>P1(o,y)),I.fromCache&&l.source==="server"?f.reject(new ne(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(I)},error:I=>f.reject(I)}),y=new B_(c,g,{includeMetadataChanges:!0,Fa:!0});return R1(o,y)}(yield U1(t),t.asyncQueue,e,n,r)})),r.promise}function j1(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var gk=new Map;function $1(t,e,n){if(!n)throw new ne(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n7(t,e,n,r){if(e===!0&&r===!0)throw new ne(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _k(t){if(!de.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vk(t){if(de.isDocumentKey(t))throw new ne(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ov(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe(12329,{type:typeof t})}function Ro(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ov(t);throw new ne(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var z1="firestore.googleapis.com",yk=!0,z_=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z1,this.ssl=yk}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:yk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p9)throw new ne(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ne(H.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ol=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pb;switch(r.type){case"firstParty":return new vb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,xc("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=gk.get(n);r&&(re("ComponentProvider","Removing Datastore"),gk.delete(n),r.terminate())}(this),Promise.resolve()}};function H1(t,e,n,r={}){var i;t=Ro(t,ol);let o=Ba(e),a=t._getSettings(),c=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;a.host!==z1&&a.host!==l&&Kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let f=Object.assign(Object.assign({},a),{host:l,ssl:o,emulatorOptions:r});if(!Ii(f,c)&&(t._setSettings(f),o&&(Lg(`https://${l}`),xc("Firestore",!0)),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=nn.MOCK_USER;else{g=zx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new ne(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new nn(I)}t._authCredentials=new mb(new m_(g,y))}}var ou=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},$n=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},bs=class t extends ou{constructor(e,n,r){super(e,n,sC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new de(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function q1(t,e,...n){if(t=fn(t),$1("collection","path",e),t instanceof ol){let r=It.fromString(e,...n);return vk(r),new bs(t,null,r)}{if(!(t instanceof $n||t instanceof bs))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(It.fromString(e,...n));return vk(r),new bs(t.firestore,null,r)}}function vC(t,e,...n){if(t=fn(t),arguments.length===1&&(e=__.newId()),$1("doc","path",e),t instanceof ol){let r=It.fromString(e,...n);return _k(r),new $n(t,null,new de(r))}{if(!(t instanceof $n||t instanceof bs))throw new ne(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(It.fromString(e,...n));return _k(r),new $n(t.firestore,t instanceof bs?t.converter:null,new de(r))}}var wk="AsyncQueue",H_=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new O_(this,"async_queue_retry"),this.ju=()=>{let r=hb();r&&re(wk,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let n=hb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let n=hb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let n=new qr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return T(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ul(e))throw e;re(wk,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,To("INTERNAL UNHANDLED ERROR: ",Ek(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);let i=xT.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&pe(47125,{ec:Ek(this.Ku)})}verifyOperationInProgress(){}tc(){return T(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let n=this.Uu.indexOf(e);this.Uu.splice(n,1)}};function Ek(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var As=class extends ol{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new H_,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,yield e}})}};function W1(t,e){let n=typeof t=="object"?t:ja(),r=typeof t=="string"?t:e||E_,i=kc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=$x("firestore");o&&H1(i,...o)}return i}function yC(t){if(t._terminated)throw new ne(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||r7(t),t._firestoreClient}function r7(t){var e,n,r;let i=t._freezeSettings(),o=function(c,l,f,g){return new bb(c,l,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,j1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new $T(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(t._componentsProvider))}var qh=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(wn.fromBase64String(e))}catch(n){throw new ne(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Wh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var q_=class{constructor(e){this._methodName=e}};var Gh=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}};var Kh=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var i7=/^__.*__$/,zT=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}};function G1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{oc:t})}}var HT=class t{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return W_(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(G1(this.oc)&&i7.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},qT=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nv(e)}dc(e,n,r,i=!1){return new HT({oc:e,methodName:n,Ec:r,path:ar.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function wC(t){let e=t._freezeSettings(),n=nv(t._databaseId);return new qT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function K1(t,e,n,r,i,o={}){let a=t.dc(o.merge||o.mergeFields?2:0,e,n,i);Y1("Data must be an object, but it was:",a,r);let c=Z1(r,a),l,f;if(o.merge)l=new Si(a.fieldMask),f=a.fieldTransforms;else if(o.mergeFields){let g=[];for(let y of o.mergeFields){let I=s7(e,y,n);if(!a.contains(I))throw new ne(H.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);u7(g,I)||g.push(I)}l=new Si(g),f=a.fieldTransforms.filter(y=>l.covers(y.field))}else l=null,f=a.fieldTransforms;return new zT(new Hr(c),l,f)}function o7(t,e,n,r=!1){return EC(n,t.dc(r?4:3,e))}function EC(t,e){if(Q1(t=fn(t)))return Y1("Unsupported field value:",e,t),Z1(t,e);if(t instanceof q_)return function(r,i){if(!G1(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],a=0;for(let c of r){let l=EC(c,i.Pc(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=pn.fromDate(r);return{timestampValue:A_(i.serializer,o)}}if(r instanceof pn){let o=new pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:A_(i.serializer,o)}}if(r instanceof Gh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qh)return{bytesValue:p1(i.serializer,r._byteString)};if(r instanceof $n){let o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Tc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:uC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kh)return function(a,c){return{mapValue:{fields:{[tC]:{stringValue:nC},[Qc]:{arrayValue:{values:a.toArray().map(f=>{if(typeof f!="number")throw c.Tc("VectorValues must only contain numeric values.");return aC(c.serializer,f)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${ov(r)}`)}(t,e)}function Z1(t,e){let n={};return Uk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):su(t,(r,i)=>{let o=EC(i,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Q1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pn||t instanceof Gh||t instanceof qh||t instanceof $n||t instanceof q_||t instanceof Kh)}function Y1(t,e,n){if(!Q1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ov(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function s7(t,e,n){if((e=fn(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return J1(t,e);throw W_("Field path arguments must be of type string or ",t,!1,void 0,n)}var a7=new RegExp("[~\\*/\\[\\]]");function J1(t,e,n){if(e.search(a7)>=0)throw W_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw W_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function W_(t,e,n,r,i){let o=r&&!r.isEmpty(),a=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ne(H.INVALID_ARGUMENT,c+t+l)}function u7(t,e){return t.some(n=>n.isEqual(e))}var G_=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new WT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(sv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},WT=class extends G_{data(){return super.data()}};function sv(t,e){return typeof e=="string"?J1(t,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}function c7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Zh=class{},K_=class extends Zh{};function X1(t,e,...n){let r=[];e instanceof Zh&&r.push(e),r=r.concat(n),function(o){let a=o.filter(l=>l instanceof GT).length,c=o.filter(l=>l instanceof Z_).length;if(a>1||a>0&&c>0)throw new ne(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Z_=class t extends K_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return nL(e._query,n),new ou(e.firestore,e.converter,Lb(e._query,n))}_parse(e){let n=wC(e.firestore);return function(o,a,c,l,f,g,y){let I;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ne(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){bk(y,g);let M=[];for(let F of y)M.push(Ik(l,o,F));I={arrayValue:{values:M}}}else I=Ik(l,o,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||bk(y,g),I=o7(c,a,y,g==="in"||g==="not-in");return Vt.create(f,g,I)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function eL(t,e,n){let r=e,i=sv("where",t);return Z_._create(i,r,n)}var GT=class t extends Zh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gr.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i,c=o.getFlattenedFilters();for(let l of c)nL(a,l),a=Lb(a,l)}(e._query,n),new ou(e.firestore,e.converter,Lb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var KT=class t extends K_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,a){if(i.startAt!==null)throw new ne(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ne(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eu(o,a)}(e._query,this._field,this._direction);return new ou(e.firestore,e.converter,function(i,o){let a=i.explicitOrderBy.concat([o]);return new Cs(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function tL(t,e="asc"){let n=e,r=sv("orderBy",t);return KT._create(r,n)}function Ik(t,e,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new ne(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e1(e)&&n.indexOf("/")!==-1)throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(It.fromString(n));if(!de.isDocumentKey(r))throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $O(t,new de(r))}if(n instanceof $n)return $O(t,n._key);throw new ne(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ov(n)}.`)}function bk(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nL(t,e){let n=function(i,o){for(let a of i)for(let c of a.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var ZT=class{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Do(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return su(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Qc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>gt(a.doubleValue));return new Kh(o)}convertGeoPoint(e){return new Gh(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=X_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vh(e));default:return null}}convertTimestamp(e){let n=Co(e);return new pn(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=It.fromString(e);Xe(w1(r),9688,{name:e});let i=new I_(r.get(1),r.get(3)),o=new de(r.popFirst(5));return i.isEqual(n)||To(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function rL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ya=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Q_=class extends G_{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(sv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Gc=class extends Q_{data(e={}){return super.data(e)}},QT=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ya(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gc(this._firestore,this._userDataWriter,r.key,r,new Ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>{let l=new Gc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ya(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let l=new Gc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ya(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),f=-1,g=-1;return c.type!==0&&(f=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),g=a.indexOf(c.doc.key)),{type:l7(c.type),doc:l,oldIndex:f,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function l7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:t})}}function iL(t){t=Ro(t,$n);let e=Ro(t.firestore,As);return e7(yC(e),t._key).then(n=>d7(e,t,n))}var Y_=class extends ZT{constructor(e){super(),this.firestore=e}convertBytes(e){return new qh(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,n)}};function oL(t){t=Ro(t,ou);let e=Ro(t.firestore,As),n=yC(e),r=new Y_(e);return c7(t._query),t7(n,t._query).then(i=>new QT(e,r,t,i))}function sL(t,e,n){t=Ro(t,$n);let r=Ro(t.firestore,As),i=rL(t.converter,e,n);return IC(r,[K1(wC(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,bo.none())])}function aL(t){return IC(Ro(t.firestore,As),[new Uh(t._key,bo.none())])}function uL(t,e){let n=Ro(t.firestore,As),r=vC(t),i=rL(t.converter,e);return IC(n,[K1(wC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,bo.exists(!1))]).then(()=>r)}function IC(t,e){return function(r,i){let o=new qr;return r.asyncQueue.enqueueAndForget(()=>T(null,null,function*(){return z9(yield X9(r),i,o)})),o.promise}(yC(t),e)}function d7(t,e,n){let r=n.docs.get(e._key),i=new Y_(t);return new Q_(t,i,e._key,r,new Ya(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){sl=i})(ps),$r(new Sn("firestore",(r,{instanceIdentifier:i,options:o})=>{let a=r.getProvider("app").getImmediate(),c=new As(new gb(r.getProvider("auth-internal")),new yb(a,r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ne(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new I_(f.options.projectId,g)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Dt(xO,NO,e),Dt(xO,NO,"esm2017")})();var Kr=class{constructor(e){return e}},cL="firestore",bC=class{constructor(){return Fc(cL)}};var TC=new Y("angularfire2.firestore-instances");function h7(t,e){let n=gh(cL,t,e);return n&&new Kr(n)}function f7(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Kr(r)}}var p7={provide:bC,deps:[[new nr,TC]]},m7={provide:Kr,useFactory:h7,deps:[[new nr,TC],_o]};function lL(t,...e){return Dt("angularfire",ms.full,"fst"),kn([m7,p7,{provide:TC,useFactory:f7(t),multi:!0,deps:[Qe,Nt,gs,za,[new nr,Mh],[new nr,Vc],...e]}])}var dL=Mt(uL,!0,2);var CC=Mt(q1,!0,2);var hL=Mt(aL,!0,2);var Ms=Mt(vC,!0,2);var Jh=Mt(iL,!0);var fL=Mt(oL,!0);var pL=Mt(W1,!0);var mL=Mt(tL,!0,2),gL=Mt(X1,!0,2);var _L=Mt(sL,!0,2);var vL=Mt(eL,!0,2);var En=class t{constructor(e,n){this.auth=e;this.firestore=n;CO(this.auth).pipe(Qt(r=>r?ke(this.getUserProfileFromFirestore(r.uid)).pipe(Tt(i=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u043F\u0440\u043E\u0444\u0438\u043B\u044F \u0438\u0437 Firestore:",i),te(null)))):te(null)),Tt(r=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0432 \u043F\u043E\u0442\u043E\u043A\u0435 \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438:",r),this.logout(),te(null)))).subscribe(r=>{this.currentUserSubject.next(r),r?localStorage.setItem("currentUserId",r.id):localStorage.removeItem("currentUserId")})}currentUserSubject=new jt(null);currentUser=this.currentUserSubject.asObservable();login(e,n){return ke(AO(this.auth,e,n)).pipe(Qt(r=>r&&r.user?ke(this.getUserProfileFromFirestore(r.user.uid)):te(null)),pt(r=>{r||console.warn("\u041B\u043E\u0433\u0438\u043D \u043D\u0435 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D \u0438\u043B\u0438 \u043F\u0440\u043E\u0444\u0438\u043B\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D.")}),Tt(r=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0445\u043E\u0434\u0430:",r.message),te(null))))}register(e,n,r){return ke(DO(this.auth,e,n)).pipe(Qt(i=>T(this,null,function*(){let a=i.user.uid,c=Ms(this.firestore,`users/${a}`),l={username:r,description:"",avatarUrl:""};return yield _L(c,l),Q({id:a},l)})),Tt(i=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438:",i.message),te(null))))}getUserProfileFromFirestore(e){return T(this,null,function*(){if(!e)return console.warn("\u0417\u0430\u043F\u0440\u043E\u0441 \u043F\u0440\u043E\u0444\u0438\u043B\u044F \u0431\u0435\u0437 UID."),null;let n=Ms(this.firestore,`users/${e}`),r=yield Jh(n);if(r.exists()){let i=r.data();return Q({id:r.id},i)}else return console.warn("\u041F\u0440\u043E\u0444\u0438\u043B\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D \u0434\u043B\u044F UID:",e),null})}logout(){return ke(MO(this.auth)).pipe(Tt(e=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u044B\u0445\u043E\u0434\u0430:",e.message),te(void 0))))}isLoggedIn(){return this.currentUser.pipe(ge(e=>!!e))}getCurrentUserId(){return this.currentUserSubject.value?.id||null}getUserById(e){if(!e)return console.warn("\u0417\u0430\u043F\u0440\u043E\u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u0431\u0435\u0437 ID."),te(null);let n=Ms(this.firestore,`users/${e}`);return ke(Jh(n)).pipe(ge(r=>{if(r.exists()){let i=r.data();return Q({id:r.id},i)}else return console.warn("\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D \u0434\u043B\u044F ID:",e),null}),Tt(r=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F:",r),te(null))))}static \u0275fac=function(n){return new(n||t)(ue(Ka),ue(Kr))};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})};var av=class t{constructor(e){this.authService=e}getUserProfile(e){return this.authService.getUserById(e)}static \u0275fac=function(n){return new(n||t)(ue(En))};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})};var uv=class t{constructor(e){this.firestore=e}getSiteSettings(){let e=Ms(this.firestore,"settings/siteInfo");return ke(Jh(e)).pipe(ge(n=>n.exists()?n.data():(console.warn("\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0441\u0430\u0439\u0442\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B."),null)),Tt(n=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043A \u0441\u0430\u0439\u0442\u0430:",n),te(null))))}static \u0275fac=function(n){return new(n||t)(ue(Kr))};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})};function v7(t,e){if(t&1&&(j(0,"h2"),q(1),$(),j(2,"p"),q(3),$()),t&2){let n=ln();ce(),ao("\u041F\u0440\u0438\u0432\u0435\u0442, ",n.currentUser.username,"!"),ce(2),dn(n.currentUser.description||"\u0414\u043E\u0431\u0430\u0432\u044C\u0442\u0435 \u043E\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u043F\u0440\u043E\u0444\u0438\u043B\u044F.")}}function y7(t,e){t&1&&(j(0,"p"),q(1,"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 \u043F\u0440\u043E\u0444\u0438\u043B\u044F..."),$())}function w7(t,e){if(t&1&&(j(0,"th",4),q(1),$()),t&2){let n=e.$implicit;ce(),dn(n)}}function E7(t,e){if(t&1&&(j(0,"tr")(1,"th",5),q(2),$()()),t&2){let n=e.$implicit;ce(2),dn(n)}}var cv=class t{constructor(e,n,r,i){this.profileService=e;this.siteSettings=n;this.authService=r;this.router=i}settings;currentUser=null;destroy$=new ot;ngOnInit(){this.siteSettings.getSiteSettings().pipe(Jn(this.destroy$)).subscribe({next:e=>{this.settings=e},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043A \u0441\u0430\u0439\u0442\u0430:",e)}}),this.authService.currentUser.pipe(Jn(this.destroy$)).subscribe(e=>{this.currentUser=e,e||this.router.navigate(["/login"])})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||t)(ae(av),ae(uv),ae(En),ae(hn))};static \u0275cmp=Ct({type:t,selectors:[["app-profile-page"]],decls:21,vars:2,consts:[[1,"profile-slidebar"],["src","Background-image.jpg","alt","Background image"],[1,"profile-stats"],[1,"profile-stats__stats-table"],["scope","col"],["scope","row"]],template:function(n,r){n&1&&(j(0,"main")(1,"section",0)(2,"h1"),q(3),$(),nt(4,"img",1),Lr(5,v7,4,2)(6,y7,2,0,"p"),nt(7,"section"),$(),j(8,"section",2)(9,"h1"),q(10,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430"),$(),j(11,"table",3)(12,"thead")(13,"tr"),nt(14,"th",4),Fr(15,w7,2,1,"th",4,oo),$()(),j(17,"tbody"),Fr(18,E7,3,1,"tr",null,oo),$()(),nt(20,"section"),$()()),n&2&&(ce(3),dn(r.settings==null||r.settings.ru==null||r.settings.ru.profile==null||r.settings.ru.profile.userInfo==null?null:r.settings.ru.profile.userInfo.title),ce(2),_i(r.currentUser?5:6),ce(10),Vr(r.settings==null||r.settings.ru==null||r.settings.ru.profile==null||r.settings.ru.profile.userStats==null||r.settings.ru.profile.userStats.statsTable==null?null:r.settings.ru.profile.userStats.statsTable.columnTitle),ce(3),Vr(r.settings==null||r.settings.ru==null||r.settings.ru.profile==null||r.settings.ru.profile.userStats==null||r.settings.ru.profile.userStats.statsTable==null?null:r.settings.ru.profile.userStats.statsTable.rowTitle))},dependencies:[vn],styles:["[_nghost-%COMP%]{width:100%}main[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:25px;gap:25px}h1[_ngcontent-%COMP%]{margin:0;font-size:32px}.profile-slidebar[_ngcontent-%COMP%]{padding:20px;background-color:#ff0000bf;border-radius:10px;color:#fff;width:300px;display:flex;flex-direction:column;align-items:center;gap:10px}.profile-slidebar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:auto}.profile-stats[_ngcontent-%COMP%]{padding:20px;width:750px;background-color:#ff0000bf;border-radius:10px;color:#fff;display:flex;flex-direction:column;align-items:start;gap:10px}.profile-stats__stats-table[_ngcontent-%COMP%]{width:100%}.profile-stats__stats-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .profile-stats__stats-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 25px;height:25px;background-color:#ffffff40;font-size:20px}.profile-stats[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.profile-stats[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:auto}@media (max-width: 1200px){.profile-stats__stats-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .profile-stats__stats-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px 10px;font-size:16px}}@media (max-width: 992px){main[_ngcontent-%COMP%]{flex-direction:column}.profile-slidebar[_ngcontent-%COMP%]{padding:10px;width:auto}.profile-slidebar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px}.profile-slidebar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px}.profile-stats[_ngcontent-%COMP%]{width:auto}}@media (max-width: 567px){.profile-stats__stats-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .profile-stats__stats-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:5px;font-size:14px}}"]})};var zn=SF(wL());var I7=["mapContainer"],Rs=class t{mapContainer;map=null;routeLayer;markers=[];defaultIcon=zn.icon({iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});constructor(){zn.Marker.prototype.options.icon=this.defaultIcon}ngAfterViewInit(){this.initMap()}ngOnDestroy(){this.map&&(this.map.remove(),this.map=null),this.markers=[],this.routeLayer=void 0}initMap(){try{if(!this.mapContainer||!this.mapContainer.nativeElement){console.warn("\u041A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440 \u043A\u0430\u0440\u0442\u044B \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D.");return}if(this.map){console.warn("\u041A\u0430\u0440\u0442\u0430 \u0443\u0436\u0435 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u043D\u0430.");return}let e=zn.map(this.mapContainer.nativeElement,{});if(this.map=e,!this.map){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u043A\u0430\u0440\u0442\u044B.");return}zn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(this.map),this.mapContainer.nativeElement.offsetWidth>0&&this.mapContainer.nativeElement.offsetHeight>0?this.map.setView([55.160077,61.397225],10):console.warn("\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0443\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u0432\u0438\u0434 \u043A\u0430\u0440\u0442\u044B: \u043A\u043E\u043D\u0442\u0435\u0439\u043D\u0435\u0440 \u0438\u043C\u0435\u0435\u0442 \u043D\u0443\u043B\u0435\u0432\u044B\u0435 \u0440\u0430\u0437\u043C\u0435\u0440\u044B.")}catch(e){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u043A\u0430\u0440\u0442\u044B:",e)}}drawRoute(e){this.clearRoute();try{if(!this.map){console.warn("\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u043E\u0442\u043E\u0431\u0440\u0430\u0437\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442: \u043A\u0430\u0440\u0442\u0430 \u043D\u0435 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u043D\u0430.");return}e?.routes?.[0]?.geometry?(this.routeLayer=zn.geoJSON(e.routes[0].geometry,{style:{color:"rgb(23, 75, 45)",weight:5}}).addTo(this.map),this.map&&this.routeLayer&&this.routeLayer.getBounds().isValid()?this.map.fitBounds(this.routeLayer.getBounds()):console.warn("\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u043C\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442: \u043D\u0435\u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0435 \u0433\u0440\u0430\u043D\u0438\u0446\u044B.")):console.warn("\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u043E\u0442\u043E\u0431\u0440\u0430\u0437\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442: \u043E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044E\u0442 \u0434\u0430\u043D\u043D\u044B\u0435 \u0433\u0435\u043E\u043C\u0435\u0442\u0440\u0438\u0438.")}catch(n){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",n)}}addMarkers(e,n){this.clearMarkers();try{if(!this.map){console.warn("\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440\u044B: \u043A\u0430\u0440\u0442\u0430 \u043D\u0435 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u043D\u0430.");return}let r=zn.marker(e).addTo(this.map).bindPopup("\u041D\u0430\u0447\u0430\u043B\u043E").openPopup();this.markers.push(r);let i=zn.marker(n).addTo(this.map).bindPopup("\u041A\u043E\u043D\u0435\u0446");this.markers.push(i)}catch(r){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u043A\u0435\u0440\u043E\u0432:",r)}}addMark(e){this.clearMarkers();try{if(!this.map){console.warn("\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440: \u043A\u0430\u0440\u0442\u0430 \u043D\u0435 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u043D\u0430.");return}let n=zn.marker(e).addTo(this.map).bindPopup("\u042F").openPopup();this.markers.push(n)}catch(n){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u043A\u0435\u0440\u0430:",n)}}clearRoute(){this.routeLayer&&(this.map&&this.map.hasLayer(this.routeLayer)&&this.map.removeLayer(this.routeLayer),this.routeLayer=void 0)}clearMarkers(){this.markers.length>0&&(this.map?this.markers.forEach(e=>{this.map.hasLayer(e)&&this.map.removeLayer(e)}):console.warn("\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440\u044B: \u043A\u0430\u0440\u0442\u0430 \u043D\u0435 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u043D\u0430."),this.markers=[])}recenterMap(e=[55.160077,61.397225],n=10){this.map?this.map.setView(e,n):console.warn("\u041D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u043E\u0442\u0446\u0435\u043D\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043A\u0430\u0440\u0442\u0443: \u043A\u0430\u0440\u0442\u0430 \u043D\u0435 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u043D\u0430.")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ct({type:t,selectors:[["app-map"]],viewQuery:function(n,r){if(n&1&&mc(I7,5),n&2){let i;Ta(i=Ca())&&(r.mapContainer=i.first)}},decls:2,vars:0,consts:[["mapContainer",""],[1,"map-container"]],template:function(n,r){n&1&&nt(0,"div",1,0)},styles:["[_nghost-%COMP%]{width:100%;height:100vh;max-height:1000px}.map-container[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;border:5px solid rgb(0,0,0)}"]})};var RL=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ae(as),ae(mr))};static \u0275dir=Ot({type:t})}return t})(),RC=(()=>{class t extends RL{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ss(t)))(i||t)}})();static \u0275dir=Ot({type:t,features:[kr]})}return t})(),vv=new Y("");var b7={provide:vv,useExisting:Xi(()=>xi),multi:!0};function T7(){let t=vr()?vr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var C7=new Y(""),xi=(()=>{class t extends RL{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!T7())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ae(as),ae(mr),ae(C7,8))};static \u0275dir=Ot({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ke("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[Da([b7]),kr]})}return t})();function D7(t){return t==null||S7(t)===0}function S7(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var PC=new Y(""),PL=new Y("");function A7(t){return D7(t.value)?{required:!0}:null}function EL(t){return null}function xL(t){return t!=null}function NL(t){return us(t)?ke(t):t}function OL(t){let e={};return t.forEach(n=>{e=n!=null?Q(Q({},e),n):e}),Object.keys(e).length===0?null:e}function kL(t,e){return e.map(n=>n(t))}function M7(t){return!t.validate}function LL(t){return t.map(e=>M7(e)?e:n=>e.validate(n))}function R7(t){if(!t)return null;let e=t.filter(xL);return e.length==0?null:function(n){return OL(kL(n,e))}}function xC(t){return t!=null?R7(LL(t)):null}function P7(t){if(!t)return null;let e=t.filter(xL);return e.length==0?null:function(n){let r=kL(n,e).map(NL);return yy(r).pipe(ge(OL))}}function NC(t){return t!=null?P7(LL(t)):null}function IL(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function x7(t){return t._rawValidators}function N7(t){return t._rawAsyncValidators}function SC(t){return t?Array.isArray(t)?t:[t]:[]}function hv(t,e){return Array.isArray(t)?t.includes(e):t===e}function bL(t,e){let n=SC(e);return SC(t).forEach(i=>{hv(n,i)||n.push(i)}),n}function TL(t,e){return SC(e).filter(n=>!hv(t,n))}var fv=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=NC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},hl=class extends fv{name;get formDirective(){return null}get path(){return null}},of=class extends fv{_parent=null;name=null;valueAccessor=null},pv=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},O7={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},jce=Oe(Q({},O7),{"[class.ng-submitted]":"isSubmitted"}),xs=(()=>{class t extends pv{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ae(of,2))};static \u0275dir=Ot({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&io("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[kr]})}return t})(),Ns=(()=>{class t extends pv{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ae(hl,10))};static \u0275dir=Ot({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&io("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[kr]})}return t})();var Xh="VALID",dv="INVALID",ll="PENDING",ef="DISABLED",Ps=class{},mv=class extends Ps{value;source;constructor(e,n){super(),this.value=e,this.source=n}},nf=class extends Ps{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},rf=class extends Ps{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},dl=class extends Ps{status;source;constructor(e,n){super(),this.status=e,this.source=n}},AC=class extends Ps{source;constructor(e){super(),this.source=e}},MC=class extends Ps{source;constructor(e){super(),this.source=e}};function FL(t){return(yv(t)?t.validators:t)||null}function k7(t){return Array.isArray(t)?xC(t):t||null}function VL(t,e){return(yv(e)?e.asyncValidators:t)||null}function L7(t){return Array.isArray(t)?NC(t):t||null}function yv(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function F7(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new J(1e3,"");if(!r[n])throw new J(1001,"")}function V7(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new J(1002,"")})}var gv=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return _r(this.statusReactive)}set status(e){_r(()=>this.statusReactive.set(e))}_status=Ma(()=>this.statusReactive());statusReactive=Ea(void 0);get valid(){return this.status===Xh}get invalid(){return this.status===dv}get pending(){return this.status==ll}get disabled(){return this.status===ef}get enabled(){return this.status!==ef}errors;get pristine(){return _r(this.pristineReactive)}set pristine(e){_r(()=>this.pristineReactive.set(e))}_pristine=Ma(()=>this.pristineReactive());pristineReactive=Ea(!0);get dirty(){return!this.pristine}get touched(){return _r(this.touchedReactive)}set touched(e){_r(()=>this.touchedReactive.set(e))}_touched=Ma(()=>this.touchedReactive());touchedReactive=Ea(!1);get untouched(){return!this.touched}_events=new ot;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(TL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(TL(e,this._rawAsyncValidators))}hasValidator(e){return hv(this._rawValidators,e)}hasAsyncValidator(e){return hv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Oe(Q({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new rf(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new rf(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Oe(Q({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new nf(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new nf(!0,r))}markAsPending(e={}){this.status=ll;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dl(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Oe(Q({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ef,this.errors=null,this._forEachChild(i=>{i.disable(Oe(Q({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mv(this.value,r)),this._events.next(new dl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Oe(Q({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xh,this._forEachChild(r=>{r.enable(Oe(Q({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Oe(Q({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xh||this.status===ll)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mv(this.value,n)),this._events.next(new dl(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Oe(Q({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ef:Xh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ll,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=NL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new dl(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new wt,this.statusChanges=new wt}_calculateStatus(){return this._allControlsDisabled()?ef:this.errors?dv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ll)?ll:this._anyControlsHaveStatus(dv)?dv:Xh}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new nf(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new rf(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yv(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=k7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=L7(this._rawAsyncValidators)}},_v=class extends gv{constructor(e,n,r){super(FL(n),VL(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){V7(this,!0,e),Object.keys(e).forEach(r=>{F7(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var OC=new Y("",{providedIn:"root",factory:()=>kC}),kC="always";function B7(t,e){return[...e.path,t]}function BL(t,e,n=kC){UL(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),j7(t,e),z7(t,e),$7(t,e),U7(t,e)}function CL(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function U7(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function UL(t,e){let n=x7(t);e.validator!==null?t.setValidators(IL(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=N7(t);e.asyncValidator!==null?t.setAsyncValidators(IL(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();CL(e._rawValidators,i),CL(e._rawAsyncValidators,i)}function j7(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&jL(t,e)})}function $7(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&jL(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function jL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function z7(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function H7(t,e){t==null,UL(t,e)}function q7(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function W7(t){return Object.getPrototypeOf(t.constructor)===RC}function G7(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function K7(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===xi?n=o:W7(o)?r=o:i=o}),i||r||n||null}var Z7={provide:hl,useExisting:Xi(()=>Po)},tf=Promise.resolve(),Po=(()=>{class t extends hl{callSetDisabledState;get submitted(){return _r(this.submittedReactive)}_submitted=Ma(()=>this.submittedReactive());submittedReactive=Ea(!1);_directives=new Set;form;ngSubmit=new wt;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new _v({},xC(n),NC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){tf.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),BL(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){tf.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){tf.then(()=>{let r=this._findContainer(n.path),i=new _v({});H7(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){tf.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){tf.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),G7(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new AC(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new MC(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(ae(PC,10),ae(PL,10),ae(OC,8))};static \u0275dir=Ot({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ke("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Da([Z7]),kr]})}return t})();function DL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function SL(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Q7=class extends gv{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(FL(n),VL(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(SL(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){DL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){DL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){SL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Y7={provide:of,useExisting:Xi(()=>xo)},AL=Promise.resolve(),xo=(()=>{class t extends of{_changeDetectorRef;callSetDisabledState;control=new Q7;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new wt;constructor(n,r,i,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=K7(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),q7(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){BL(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){AL.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Aa(r);AL.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?B7(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(ae(hl,9),ae(PC,10),ae(PL,10),ae(vv,10),ae(Sa,8),ae(OC,8))};static \u0275dir=Ot({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Da([Y7]),kr,is]})}return t})();var Os=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ot({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var J7={provide:vv,useExisting:Xi(()=>fl),multi:!0};function $L(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function X7(t){return t.split(":")[0]}var fl=(()=>{class t extends RC{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=$L(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=X7(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ss(t)))(i||t)}})();static \u0275dir=Ot({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Ke("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Da([J7]),kr]})}return t})(),wv=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue($L(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(ae(mr),ae(as),ae(fl,9))};static \u0275dir=Ot({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),eK={provide:vv,useExisting:Xi(()=>zL),multi:!0};function ML(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function tK(t){return t.split(":")[0]}var zL=(()=>{class t extends RC{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(i.indexOf(a.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let l=a[c],f=this._getOptionValue(l.value);i.push(f)}}else{let a=r.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let f=this._getOptionValue(l.value);i.push(f)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=tK(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ss(t)))(i||t)}})();static \u0275dir=Ot({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Ke("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Da([eK]),kr]})}return t})(),Ev=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(ML(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(ML(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(ae(mr),ae(as),ae(zL,9))};static \u0275dir=Ot({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var nK=(()=>{class t{_validator=EL;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):EL,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ot({type:t,features:[is]})}return t})();var rK={provide:PC,useExisting:Xi(()=>sf),multi:!0};var sf=(()=>{class t extends nK{required;inputName="required";normalizeInput=Aa;createValidator=n=>A7;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ss(t)))(i||t)}})();static \u0275dir=Ot({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Rd("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Da([rK]),kr]})}return t})();var iK=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=no({type:t});static \u0275inj=eo({})}return t})();var Ni=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:OC,useValue:n.callSetDisabledState??kC}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=no({type:t});static \u0275inj=eo({imports:[iK]})}return t})();function oK(t,e){if(t&1&&(j(0,"div",9)(1,"div",10)(2,"label",11),q(3,"\u0420\u0430\u0441\u0447\u0451\u0442\u043D\u043E\u0435 \u0432\u0440\u0435\u043C\u044F \u0432 \u043F\u0443\u0442\u0438"),$(),j(4,"p",12),q(5),$()()()),t&2){let n=ln();ce(5),dn(n.routeData.time)}}var bv=class t{routeData;startAddressChange=new wt;endAddressChange=new wt;modeChange=new wt;startAddress="";endAddress="";mode="car";constructor(){}onStartAddressChange(e){this.startAddressChange.emit(e),console.log("\u041D\u0430\u0447\u0430\u043B\u044C\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441 \u0438\u0437\u043C\u0435\u043D\u0435\u043D:",e)}onEndAddressChange(e){this.endAddressChange.emit(e),console.log("\u041A\u043E\u043D\u0435\u0447\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441 \u0438\u0437\u043C\u0435\u043D\u0435\u043D:",e)}onModeChange(e){this.modeChange.emit(e),console.log("\u0420\u0435\u0436\u0438\u043C \u0438\u0437\u043C\u0435\u043D\u0435\u043D:",e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ct({type:t,selectors:[["app-route-info"]],inputs:{routeData:"routeData"},outputs:{startAddressChange:"startAddressChange",endAddressChange:"endAddressChange",modeChange:"modeChange"},decls:17,vars:4,consts:[[1,"route-form"],[1,"route-form__title"],[1,"route-form__label"],["placeholder","\u041E\u0442\u043A\u0443\u0434\u0430","name","startAddress",1,"route-form__input",3,"ngModelChange","ngModel"],["placeholder","\u041A\u0443\u0434\u0430","name","endAddress",1,"route-form__input",3,"ngModelChange","ngModel"],["name","mode",1,"route-form__select",3,"ngModelChange","ngModel"],["value","foot"],["value","bike"],["value","car"],[1,"route-form__time-info"],[1,"route-form__time-item"],[1,"route-form__time-label"],[1,"route-form__time-value"]],template:function(n,r){n&1&&(j(0,"form",0)(1,"h1",1),q(2,"\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0435"),$(),j(3,"label",2),q(4,"\u041C\u0435\u0441\u0442\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F"),$(),j(5,"input",3),Ke("ngModelChange",function(o){return r.onStartAddressChange(o)}),$(),j(6,"label",2),q(7,"\u041C\u0435\u0441\u0442\u043E \u043F\u0440\u0438\u0431\u044B\u0442\u0438\u044F"),$(),j(8,"input",4),Ke("ngModelChange",function(o){return r.onEndAddressChange(o)}),$(),j(9,"select",5),Ke("ngModelChange",function(o){return r.onModeChange(o)}),j(10,"option",6),q(11,"\u041F\u0435\u0448\u043A\u043E\u043C"),$(),j(12,"option",7),q(13,"\u0412\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434"),$(),j(14,"option",8),q(15,"\u0410\u0432\u0442\u043E"),$()(),Lr(16,oK,6,1,"div",9),$()),n&2&&(ce(5),ro("ngModel",r.startAddress),ce(3),ro("ngModel",r.endAddress),ce(),ro("ngModel",r.mode),ce(7),_i(r.routeData?16:-1))},dependencies:[vn,Ni,Os,wv,Ev,xi,fl,xs,Ns,xo,Po],styles:[".route-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:max-content;background-color:#ff0000bf;border-radius:10px;padding:25px}.route-form__label[_ngcontent-%COMP%]{font-size:20px;margin-bottom:5px}.route-form__input[_ngcontent-%COMP%], .route-form__select[_ngcontent-%COMP%]{margin-bottom:25px;width:100%;height:35px;border-radius:10px;font-family:Playfair Display,serif;font-size:16px}.route-form__select[_ngcontent-%COMP%]{width:250px}.route-form__title[_ngcontent-%COMP%]{font-family:Playfair Display SC,serif;margin-top:0;font-size:32px;text-align:center}.route-form__time-info[_ngcontent-%COMP%]{display:flex;gap:25px}.route-form__time-info__time-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#ffffffbf;padding:10px;border-radius:10px;color:#000}.route-form__time-info__time-item__label[_ngcontent-%COMP%]{font-size:16px;margin-bottom:5px}.route-form__time-info__time-item__value[_ngcontent-%COMP%]{font-size:32px;margin:0}@media (max-width: 567px){.route-form[_ngcontent-%COMP%]{padding:15px}.route-form__label[_ngcontent-%COMP%]{font-size:16px}.route-form__input[_ngcontent-%COMP%], .route-form__select[_ngcontent-%COMP%]{margin-bottom:15px;font-size:14px}.route-form__title[_ngcontent-%COMP%]{font-size:26px}.route-form__time-info[_ngcontent-%COMP%]{gap:10px}.route-form__time-info__time-item__value[_ngcontent-%COMP%]{font-size:26px}}"]})};var pl=class t{constructor(e,n){this.http=e;this.firestore=n}nom_url="https://nominatim.openstreetmap.org/search";osrm_template_url="https://routing.openstreetmap.de/routed-";geocode(e){return T(this,null,function*(){let n=`${this.nom_url}?format=json&q=${encodeURIComponent(e)}`;try{let r=yield _p(this.http.get(n));if(r&&r.length>0)return[parseFloat(r[0].lat),parseFloat(r[0].lon)];throw console.warn("\u0410\u0434\u0440\u0435\u0441 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D:",e),new Error("\u0410\u0434\u0440\u0435\u0441 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D")}catch(r){throw console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0433\u0435\u043E\u043A\u043E\u0434\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F:",r),r}})}getRoute(e,n,r){return T(this,null,function*(){let i=this.getMode(r),o=`${e[1]},${e[0]};${n[1]},${n[0]}`,a=`${this.osrm_template_url}${i}/route/v1/${i}/${o}?overview=full&geometries=geojson&steps=true`;try{return yield _p(this.http.get(a))}catch(c){throw console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",c),c}})}saveRoute(e,n){if(!n)return console.error("\u041E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 userId \u0434\u043B\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),alert("\u041E\u0448\u0438\u0431\u043A\u0430: \u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F."),te(null);let r=CC(this.firestore,"routes"),i=null,o=null;try{e.routes&&(i=JSON.stringify(e.routes)),e.waypoints&&(o=JSON.stringify(e.waypoints))}catch(c){return console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0435\u0440\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",c),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),te(null)}let a={userId:n,createdAt:new Date,startAddress:e.startAddress,endAddress:e.endAddress,mode:e.mode,routesJson:i,waypointsJson:o,duration:e.routes?.[0]?.duration,distance:e.routes?.[0]?.distance};return ke(dL(r,a)).pipe(pt(()=>alert("\u041C\u0430\u0440\u0448\u0440\u0443\u0442 \u0441\u043E\u0445\u0440\u0430\u043D\u0451\u043D")),Tt(c=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",c),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),te(null))))}loadRoutes(e){if(!e)return console.warn("\u041E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 userId \u0434\u043B\u044F \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432."),te([]);let n=CC(this.firestore,"routes"),r=gL(n,vL("userId","==",e),mL("createdAt","desc"));return ke(fL(r)).pipe(ge(i=>{let o=[];return i.forEach(a=>{let c=a.data(),l=null,f=null;try{c.routesJson&&typeof c.routesJson=="string"&&(l=JSON.parse(c.routesJson)),c.waypointsJson&&typeof c.waypointsJson=="string"&&(f=JSON.parse(c.waypointsJson))}catch(y){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0430\u0440\u0441\u0438\u043D\u0433\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",a.id,y);return}let g={id:a.id,userId:c.userId,createdAt:c.createdAt,startAddress:c.startAddress,endAddress:c.endAddress,mode:c.mode,routes:l,waypoints:f,duration:c.duration,distance:c.distance};o.push(g)}),o}),Tt(i=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432:",i),te([]))))}deleteRoute(e){if(!e)return console.warn("\u041E\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 routeId \u0434\u043B\u044F \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),te(void 0);let n=Ms(this.firestore,`routes/${e}`);return ke(hL(n)).pipe(Tt(r=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",r),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),te(void 0))))}getMode(e){switch(e){case"foot":return"foot";case"bike":return"bike";default:return"car"}}static \u0275fac=function(n){return new(n||t)(ue(ng),ue(Kr))};static \u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"})};var Tv=class t{constructor(e,n,r){this.routeService=e;this.authService=n;this.router=r}mapComponent;startAddress="";endAddress="";mode="car";routeInfo;currentRoute;currentUser=null;destroy$=new ot;ngOnInit(){this.authService.currentUser.pipe(Jn(this.destroy$)).subscribe(e=>{this.currentUser=e,e||this.router.navigate(["/login"])})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onStartAddressChange(e){this.startAddress=e}onEndAddressChange(e){this.endAddress=e}onModeChange(e){this.mode=e}calculateRoute(){return T(this,null,function*(){if(!this.startAddress||!this.endAddress){alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441\u0430");return}try{let e=yield this.routeService.geocode(this.startAddress),n=yield this.routeService.geocode(this.endAddress);this.mapComponent.addMarkers(e,n);let r=yield this.routeService.getRoute(e,n,this.mode);this.processRouteData(r)}catch(e){alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u0441\u0442\u0440\u043E\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",e)}})}processRouteData(e){this.mapComponent.drawRoute(e),this.currentRoute=e,this.currentRoute.startAddress=this.startAddress,this.currentRoute.endAddress=this.endAddress,this.currentRoute.mode=this.mode,e&&e.routes&&e.routes[0]&&e.routes[0].duration!==void 0&&e.routes[0].distance!==void 0?this.routeInfo={from:this.startAddress,to:this.endAddress,time:this.timeFormat(e.routes[0].duration),distance:`${(e.routes[0].distance/1e3).toFixed(2)} \u043A\u043C`}:(console.warn("\u041D\u0435\u0434\u043E\u0441\u0442\u0430\u0442\u043E\u0447\u043D\u043E \u0434\u0430\u043D\u043D\u044B\u0445 \u043E \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0435."),this.routeInfo={from:this.startAddress,to:this.endAddress,time:"\u041D/\u0414",distance:"\u041D/\u0414"})}saveRoute(){if(!this.currentUser||!this.currentUser.id){alert("\u0412\u043E\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442 \u0434\u043B\u044F \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),this.router.navigate(["/login"]);return}if(!this.currentRoute){alert("\u0421\u043D\u0430\u0447\u0430\u043B\u0430 \u043F\u043E\u0441\u0442\u0440\u043E\u0439\u0442\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442.");return}this.routeService.saveRoute(this.currentRoute,this.currentUser.id).pipe(Jn(this.destroy$)).subscribe()}timeFormat(e){if(e==null||isNaN(e))return"\u041D\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044F \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C \u0432\u0440\u0435\u043C\u044F";let n=Math.floor(e/86400),r=Math.floor(e%86400/3600),i=Math.floor(e%3600/60),o=Math.floor(e%60/1),a=[];return n>0&&a.push(`${n} \u0434`),r>0&&a.push(`${r} \u0447`),i>0&&a.push(`${i} \u043C\u0438\u043D`),o>0&&a.length===0&&a.push(`${o} \u0441\u0435\u043A`),a.length>0?a.join(" "):"\u041C\u0435\u043D\u0435\u0435 \u043C\u0438\u043D\u0443\u0442\u044B"}position(){alert("\u0424\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u0438\u044F \u043F\u043E\u0437\u0438\u0446\u0438\u0438 \u0435\u0449\u0435 \u043D\u0435 \u0440\u0435\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u043D.")}static \u0275fac=function(n){return new(n||t)(ae(pl),ae(En),ae(hn))};static \u0275cmp=Ct({type:t,selectors:[["app-add-route-page"]],viewQuery:function(n,r){if(n&1&&mc(Rs,5),n&2){let i;Ta(i=Ca())&&(r.mapComponent=i.first)}},decls:10,vars:1,consts:[[1,"main-page"],[1,"main-page__text-box"],[3,"startAddressChange","endAddressChange","modeChange","routeData"],[1,"main-page__add-route-btn",3,"click"],[1,"main-page__map-box"],[3,"click"]],template:function(n,r){n&1&&(j(0,"main",0)(1,"section",1)(2,"app-route-info",2),Ke("startAddressChange",function(o){return r.onStartAddressChange(o)})("endAddressChange",function(o){return r.onEndAddressChange(o)})("modeChange",function(o){return r.onModeChange(o)}),$(),j(3,"button",3),Ke("click",function(){return r.calculateRoute()}),q(4,"\u041F\u043E\u0441\u0442\u0440\u043E\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442"),$(),j(5,"button",3),Ke("click",function(){return r.saveRoute()}),q(6,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442"),$()(),j(7,"section",4),nt(8,"app-map"),$()(),j(9,"button",5),Ke("click",function(){return r.position()}),$()),n&2&&(ce(2),ro("routeData",r.routeInfo))},dependencies:[Rs,vn,Ni,bv],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.main-page[_ngcontent-%COMP%]{display:flex;gap:50px;width:calc(100% - 40px);align-items:center;justify-content:center;padding:20px;max-width:1920px;margin:0 auto;font-family:Playfair Display,serif;color:#fff}.main-page__text-box[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:25px}.main-page__add-route-btn[_ngcontent-%COMP%]{width:max-content;height:max-content;padding:10px;background-color:#004b00e6;font-family:Playfair Display,serif;font-size:28px;color:#fff;border:5px solid rgb(255,255,255);border-radius:10px;box-shadow:0 0 10px #ff0000bf;cursor:pointer}.main-page__add-route-btn[_ngcontent-%COMP%]:hover{background-color:#afffafe6;color:#000;border:5px solid rgb(0,0,0)}.main-page__map-box[_ngcontent-%COMP%]{width:60%;height:500px}@media (max-width: 1400px){.main-page__text-box[_ngcontent-%COMP%], .main-page__map-box[_ngcontent-%COMP%]{width:50%}}@media (max-width: 1200px){.main-page[_ngcontent-%COMP%]{flex-direction:column}.main-page__text-box[_ngcontent-%COMP%], .main-page__map-box[_ngcontent-%COMP%]{width:100%}}"]})};var sK=(t,e)=>e.id;function aK(t,e){t&1&&(j(0,"div"),q(1,"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u043E\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043A\u043A\u0430\u0443\u043D\u0442, \u0447\u0442\u043E\u0431\u044B \u0443\u0432\u0438\u0434\u0435\u0442\u044C \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B."),$())}function uK(t,e){t&1&&(j(0,"div"),q(1,"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432..."),$())}function cK(t,e){t&1&&(j(0,"div"),q(1,"\u0423 \u0432\u0430\u0441 \u043F\u043E\u043A\u0430 \u043D\u0435\u0442 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u044B\u0445 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432."),$())}function lK(t,e){if(t&1&&(j(0,"div"),q(1),Vm(2,"date"),$()),t&2){let n=ln().$implicit;ce(),ao(" \u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D: ",HR(2,1,n.createdAt,"short")," ")}}function dK(t,e){if(t&1){let n=so();j(0,"article",17),Ke("click",function(){let i=fi(n).$implicit,o=ln(2);return pi(o.drawRoute(i))}),j(1,"div"),q(2),$(),j(3,"div"),q(4),$(),j(5,"div"),q(6),$(),Lr(7,lK,3,4,"div"),j(8,"button",18),Ke("click",function(i){let o=fi(n).$implicit,a=ln(2);return pi(a.deleteRoute(i,o))}),q(9,"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"),$()()}if(t&2){let n=e.$implicit;ce(2),ao(" \u041E\u0442: ",n.startAddress," "),ce(2),ao(" \u0414\u043E: ",n.endAddress," "),ce(2),ao(" \u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442: ",n.mode," "),ce(),_i(n.createdAt?7:-1)}}function hK(t,e){if(t&1&&(j(0,"section",14),Fr(1,dK,10,4,"article",16,sK),$()),t&2){let n=ln();ce(),Vr(n.routes)}}var Cv=class t{constructor(e,n,r){this.routeService=e;this.authService=n;this.router=r}mapComponent;routes=null;allUserRoutes=[];filterFrom="";filterTo="";filterTime="";filterMode="";currentUser=null;destroy$=new ot;ngOnInit(){this.authService.currentUser.pipe(Jn(this.destroy$)).subscribe(e=>{this.currentUser=e,e&&e.id?this.loadRoutes(e.id):(this.routes=[],this.allUserRoutes=[])})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadRoutes(e){this.routeService.loadRoutes(e).pipe(Jn(this.destroy$)).subscribe({next:n=>{this.allUserRoutes=n||[],this.applyFilters()},error:n=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432:",n),this.allUserRoutes=[],this.routes=[],alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432.")}})}applyFilters(){if(!this.allUserRoutes){this.routes=[];return}this.routes=this.allUserRoutes.filter(e=>{if(this.filterFrom&&!e.startAddress.toLowerCase().includes(this.filterFrom.toLowerCase())||this.filterTo&&!e.endAddress.toLowerCase().includes(this.filterTo.toLowerCase())||this.filterMode&&e.mode!==this.filterMode)return!1;if(this.filterTime)try{let n=null;if(e.createdAt instanceof Date)n=e.createdAt;else if(e.createdAt&&typeof e.createdAt=="object"&&typeof e.createdAt.toDate=="function")n=e.createdAt.toDate();else if(typeof e.createdAt=="string")try{n=new Date(e.createdAt),isNaN(n.getTime())&&(n=null)}catch{n=null}if(!n)return console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F \u0434\u0430\u0442\u044B:",e.createdAt),!1;if(n.toISOString().split("T")[0]!==this.filterTime)return!1}catch(n){return console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u0446\u0438\u0438 \u043F\u043E \u0434\u0430\u0442\u0435:",n),!1}return!0})}resetFilters(){this.filterFrom="",this.filterTo="",this.filterTime="",this.filterMode="",this.routes=this.allUserRoutes}drawRoute(e){if(!this.mapComponent){console.error("\u041A\u043E\u043C\u043F\u043E\u043D\u0435\u043D\u0442 \u043A\u0430\u0440\u0442\u044B \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D.");return}if(e&&e.waypoints&&e.waypoints.length>=2&&e.waypoints[0].location&&e.waypoints[1].location){let n=e.waypoints[0].location.reverse(),r=e.waypoints[1].location.reverse();this.mapComponent.addMarkers(n,r),this.mapComponent.drawRoute(e)}else console.error("\u041D\u0435\u0434\u043E\u0441\u0442\u0430\u0442\u043E\u0447\u043D\u043E \u0434\u0430\u043D\u043D\u044B\u0445 \u0434\u043B\u044F \u043E\u0442\u0440\u0438\u0441\u043E\u0432\u043A\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430."),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043E\u0442\u0440\u0438\u0441\u043E\u0432\u043A\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430.")}deleteRoute(e,n){if(e.stopPropagation(),!this.currentUser||!this.currentUser.id){alert("\u0410\u0432\u0442\u043E\u0440\u0438\u0437\u0443\u0439\u0442\u0435\u0441\u044C \u0434\u043B\u044F \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u043E\u0432.");return}if(n.userId!==this.currentUser.id){console.warn("\u041F\u043E\u043F\u044B\u0442\u043A\u0430 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u0447\u0443\u0436\u043E\u0439 \u043C\u0430\u0440\u0448\u0440\u0443\u0442:",this.currentUser.id,n.userId),alert("\u0412\u044B \u043D\u0435 \u043C\u043E\u0436\u0435\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u044D\u0442\u043E\u0442 \u043C\u0430\u0440\u0448\u0440\u0443\u0442.");return}this.routeService.deleteRoute(n.id).pipe(Jn(this.destroy$)).subscribe({next:()=>{this.allUserRoutes=this.allUserRoutes.filter(r=>r.id!==n.id),this.applyFilters(),alert("\u041C\u0430\u0440\u0448\u0440\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D.")},error:r=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430:",r),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u0430.")}})}static \u0275fac=function(n){return new(n||t)(ae(pl),ae(En),ae(hn))};static \u0275cmp=Ct({type:t,selectors:[["app-saved-page"]],viewQuery:function(n,r){if(n&1&&mc(Rs,5),n&2){let i;Ta(i=Ca())&&(r.mapComponent=i.first)}},decls:41,vars:5,consts:[[1,"search"],[1,"search__title"],[1,"search__filters"],[1,"search__filter"],[1,"search__filter-label"],["name","filterFrom",1,"search__filter-input",3,"ngModelChange","ngModel"],["name","filterTo",1,"search__filter-input",3,"ngModelChange","ngModel"],["type","date","name","filterTime",1,"search__filter-input",3,"ngModelChange","ngModel"],["name","filterMode",1,"search__filter-select",3,"ngModelChange","ngModel"],["value",""],["value","car"],["value","foot"],["value","bike"],[1,"search__button",3,"click"],[1,"routes"],[1,"map"],[1,"routes__items"],[1,"routes__items",3,"click"],[1,"routes__delete-button",3,"click"]],template:function(n,r){n&1&&(j(0,"main")(1,"h1"),q(2,"\u0418\u0437\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B"),$(),j(3,"section",0)(4,"h2",1),q(5,"\u041D\u0430\u0439\u0442\u0438 \u043C\u0430\u0440\u0448\u0440\u0443\u0442"),$(),j(6,"form",2)(7,"div",3)(8,"label",4),q(9,"\u0410\u0434\u0440\u0435\u0441 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F"),$(),j(10,"input",5),Vn("ngModelChange",function(o){return rr(r.filterFrom,o)||(r.filterFrom=o),o}),$()(),j(11,"div",3)(12,"label",4),q(13,"\u0410\u0434\u0440\u0435\u0441 \u043F\u0440\u0438\u0431\u044B\u0442\u0438\u044F"),$(),j(14,"input",6),Vn("ngModelChange",function(o){return rr(r.filterTo,o)||(r.filterTo=o),o}),$()(),j(15,"div",3)(16,"label",4),q(17,"\u0412\u0440\u0435\u043C\u044F \u0441\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u0438\u044F"),$(),j(18,"input",7),Vn("ngModelChange",function(o){return rr(r.filterTime,o)||(r.filterTime=o),o}),$()(),j(19,"div",3)(20,"label",4),q(21,"\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u043E\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043E"),$(),j(22,"select",8),Vn("ngModelChange",function(o){return rr(r.filterMode,o)||(r.filterMode=o),o}),j(23,"option",9),q(24,"\u0412\u0441\u0435"),$(),j(25,"option",10),q(26,"\u0410\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u044C"),$(),j(27,"option",11),q(28,"\u041F\u0435\u0448\u043A\u043E\u043C"),$(),j(29,"option",12),q(30,"\u0412\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434"),$()()()(),j(31,"button",13),Ke("click",function(){return r.applyFilters()}),q(32,"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B"),$(),j(33,"button",13),Ke("click",function(){return r.resetFilters()}),q(34,"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440\u044B"),$()(),Lr(35,aK,2,0,"div")(36,uK,2,0,"div")(37,cK,2,0,"div")(38,hK,3,0,"section",14),j(39,"section",15),nt(40,"app-map"),$()()),n&2&&(ce(10),Fn("ngModel",r.filterFrom),ce(4),Fn("ngModel",r.filterTo),ce(4),Fn("ngModel",r.filterTime),ce(4),Fn("ngModel",r.filterMode),ce(13),_i(r.currentUser===null?35:r.routes===null?36:r.routes.length===0?37:38))},dependencies:[vn,nE,Rs,Ni,Os,wv,Ev,xi,fl,xs,Ns,xo,Po],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-family:Playfair Display,serif;color:#fff;gap:50px;padding:25px;width:calc(100vw - 150px)}main[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Playfair Display SC,serif;font-size:36px;color:#000;margin:0}main[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#ff0000bf;border-radius:10px;padding:10px;gap:25px}main[_ngcontent-%COMP%]   .search__button[_ngcontent-%COMP%]{height:30px;width:200px;background-color:#004b00e6;border-radius:10px;border:2px solid rgb(255,255,255);font-family:Playfair Display SC,serif;font-size:14px;color:#fff;cursor:pointer}main[_ngcontent-%COMP%]   .search__button[_ngcontent-%COMP%]:hover{background-color:#afffafe6;border:2px solid rgb(0,0,0);color:#000}main[_ngcontent-%COMP%]   .search__title[_ngcontent-%COMP%]{margin:0}main[_ngcontent-%COMP%]   .search__filters[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}main[_ngcontent-%COMP%]   .search__filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:5px}main[_ngcontent-%COMP%]   .search__filter-label[_ngcontent-%COMP%]{font-size:14px}main[_ngcontent-%COMP%]   .search__filter-input[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .search__filter-select[_ngcontent-%COMP%]{font-size:14px;height:20px;width:150px;border-radius:10px;border:none;padding:5px}main[_ngcontent-%COMP%]   .search__filter-select[_ngcontent-%COMP%]{height:30px;width:160px}main[_ngcontent-%COMP%]   .routes[_ngcontent-%COMP%]{width:calc(100% - 50px);display:grid;grid-template-columns:repeat(auto-fit,minmax(275px,500px));justify-content:center;background-color:#ff0000bf;border-radius:10px;padding:25px;gap:25px}main[_ngcontent-%COMP%]   .routes__items[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#fff;font-size:16px;color:#000;padding:10px;border-radius:10px;cursor:pointer}main[_ngcontent-%COMP%]   .routes__items[_ngcontent-%COMP%]:hover{transform:scale(1.05)}main[_ngcontent-%COMP%]   .routes__delete-button[_ngcontent-%COMP%]{margin-top:20px;width:100px;height:30px;background-color:#640404bf;border-radius:10px;font-family:Playfair Display SC,serif;font-size:14px;color:#fff;cursor:pointer}main[_ngcontent-%COMP%]   .routes__delete-button[_ngcontent-%COMP%]:hover{background-color:#ff0000bf}main[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{width:100%;max-width:1000px;height:500px;margin-left:-10px}@media (max-width: 1200px){main[_ngcontent-%COMP%]   .routes[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(225px,275px));gap:15px}main[_ngcontent-%COMP%]   .routes__items[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 768px){main[_ngcontent-%COMP%]{gap:25px;width:calc(100vw - 65px)}main[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;text-align:center}main[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:calc(100% - 50px)}main[_ngcontent-%COMP%]   .search__filters[_ngcontent-%COMP%]{flex-direction:column}main[_ngcontent-%COMP%]   .search__filter-label[_ngcontent-%COMP%]{font-size:12px}main[_ngcontent-%COMP%]   .search__filter-input[_ngcontent-%COMP%], main[_ngcontent-%COMP%]   .search__filter-select[_ngcontent-%COMP%]{font-size:12px;height:15px;width:100%;padding:5px}main[_ngcontent-%COMP%]   .search__filter-select[_ngcontent-%COMP%]{height:25px;width:calc(100% + 40px)}main[_ngcontent-%COMP%]   .routes[_ngcontent-%COMP%]{width:calc(100% - 50px);grid-template-columns:repeat(auto-fit,minmax(225px,500px));padding:10px}main[_ngcontent-%COMP%]   .routes__items[_ngcontent-%COMP%]{font-size:12px;padding:10px}main[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{width:calc(100% - 40px);max-width:1000px;height:300px}}"]})};var Dv=class t{constructor(e,n){this.authService=e;this.router=n}email="";password="";onSubmit(){if(!this.email||!this.password){alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email \u0438 \u043F\u0430\u0440\u043E\u043B\u044C.");return}this.authService.login(this.email,this.password).subscribe({next:e=>{e?this.router.navigate(["/profile"]):alert("\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 email \u0438\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C.")},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u0445\u043E\u0434\u0430:",e),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0432\u0445\u043E\u0434\u0435.")}})}static \u0275fac=function(n){return new(n||t)(ae(En),ae(hn))};static \u0275cmp=Ct({type:t,selectors:[["login-page"]],decls:31,vars:2,consts:[[1,"auth-container"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["id","email","type","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],["routerLink","/register"]],template:function(n,r){n&1&&(j(0,"div",0),q(1,`
\xA0 \xA0 `),j(2,"h1"),q(3,"\u0412\u0445\u043E\u0434"),$(),q(4,`
\xA0 \xA0 `),j(5,"form",1),Ke("ngSubmit",function(){return r.onSubmit()}),q(6,`
\xA0 \xA0 \xA0 \xA0 `),j(7,"div",2),q(8,`
\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 `),j(9,"label",3),q(10,"Email:"),$(),q(11,`
\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 `),j(12,"input",4),Vn("ngModelChange",function(o){return rr(r.email,o)||(r.email=o),o}),$(),q(13,`
\xA0 \xA0 \xA0 \xA0 `),$(),q(14,`
\xA0 \xA0 \xA0 \xA0 `),j(15,"div",2),q(16,`
\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 `),j(17,"label",5),q(18,"\u041F\u0430\u0440\u043E\u043B\u044C:"),$(),q(19,`
\xA0 \xA0 \xA0 \xA0 \xA0 \xA0 `),j(20,"input",6),Vn("ngModelChange",function(o){return rr(r.password,o)||(r.password=o),o}),$(),q(21,`
\xA0 \xA0 \xA0 \xA0 `),$(),q(22,`
\xA0 \xA0 \xA0 \xA0 `),j(23,"button",7),q(24,"\u0412\u043E\u0439\u0442\u0438"),$(),q(25,`
\xA0 \xA0 `),$(),q(26,`
\xA0 \xA0 `),j(27,"p"),q(28,"\u0415\u0449\u0435 \u043D\u0435\u0442 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430? "),j(29,"a",8),q(30,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),$()()()),n&2&&(ce(12),Fn("ngModel",r.email),ce(8),Fn("ngModel",r.password))},dependencies:[Ni,Os,xi,xs,Ns,sf,xo,Po,vn],encapsulation:2})};var Sv=class t{constructor(e,n){this.authService=e;this.router=n}email="";password="";confirmPassword="";username="";onSubmit(){if(this.password!==this.confirmPassword){alert("\u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442.");return}if(!this.email||!this.password||!this.username){alert("\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0432\u0441\u0435 \u043F\u043E\u043B\u044F.");return}this.authService.register(this.email,this.password,this.username).subscribe({next:e=>{e?this.router.navigate(["/profile"]):alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438. \u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E, email \u0443\u0436\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0435\u0442\u0441\u044F.")},error:e=>{console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438:",e),alert("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438.")}})}static \u0275fac=function(n){return new(n||t)(ae(En),ae(hn))};static \u0275cmp=Ct({type:t,selectors:[["app-register"]],decls:47,vars:4,consts:[[1,"auth-container"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["id","email","type","email","name","email","required","",3,"ngModelChange","ngModel"],["for","username"],["id","username","type","text","name","username","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["for","confirmPassword"],["type","password","id","confirmPassword","name","confirmPassword","required","",3,"ngModelChange","ngModel"],["type","submit"],["routerLink","/login"]],template:function(n,r){n&1&&(j(0,"div",0),q(1," \xA0 \xA0 "),j(2,"h1"),q(3,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F"),$(),q(4," \xA0 \xA0 "),j(5,"form",1),Ke("ngSubmit",function(){return r.onSubmit()}),q(6," \xA0 \xA0 \xA0 \xA0 "),j(7,"div",2),q(8," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),j(9,"label",3),q(10,"Email:"),$(),q(11," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),j(12,"input",4),Vn("ngModelChange",function(o){return rr(r.email,o)||(r.email=o),o}),$(),q(13," \xA0 \xA0 \xA0 \xA0 "),$(),q(14," \xA0 \xA0 \xA0 \xA0 "),j(15,"div",2),q(16," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),j(17,"label",5),q(18,"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F:"),$(),q(19," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),j(20,"input",6),Vn("ngModelChange",function(o){return rr(r.username,o)||(r.username=o),o}),$(),q(21," \xA0 \xA0 \xA0 \xA0 "),$(),q(22," \xA0 \xA0 \xA0 \xA0 "),j(23,"div",2),q(24," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),j(25,"label",7),q(26,"\u041F\u0430\u0440\u043E\u043B\u044C:"),$(),q(27," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),j(28,"input",8),Vn("ngModelChange",function(o){return rr(r.password,o)||(r.password=o),o}),$(),q(29," \xA0 \xA0 \xA0 \xA0 "),$(),q(30," \xA0 \xA0 \xA0 \xA0 "),j(31,"div",2),q(32," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),j(33,"label",9),q(34,"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043F\u0430\u0440\u043E\u043B\u044C:"),$(),q(35," \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 "),j(36,"input",10),Vn("ngModelChange",function(o){return rr(r.confirmPassword,o)||(r.confirmPassword=o),o}),$(),q(37," \xA0 \xA0 \xA0 \xA0 "),$(),q(38," \xA0 \xA0 \xA0 \xA0 "),j(39,"button",11),q(40,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F"),$(),q(41," \xA0 \xA0 "),$(),q(42," \xA0 \xA0 "),j(43,"p"),q(44,"\u0423\u0436\u0435 \u0435\u0441\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442? "),j(45,"a",12),q(46,"\u0412\u043E\u0439\u0442\u0438"),$()()()),n&2&&(ce(12),Fn("ngModel",r.email),ce(8),Fn("ngModel",r.username),ce(8),Fn("ngModel",r.password),ce(8),Fn("ngModel",r.confirmPassword))},dependencies:[Ni,Os,xi,xs,Ns,sf,xo,Po,vn],encapsulation:2})};var qL=[{path:"",component:xg},{path:"login",component:Dv},{path:"register",component:Sv},{path:"profile",component:cv},{path:"add-route",component:Tv},{path:"saved",component:Cv},{path:"**",redirectTo:""}];var fK={apiKey:"AIzaSyD_Tln40K9dFiKJiH4nMWzbjr_AgZ9LsP4",authDomain:"routeguide-99882.firebaseapp.com",projectId:"routeguide-99882",storageBucket:"routeguide-99882.firebasestorage.app",messagingSenderId:"266514774821",appId:"1:266514774821:web:0b20be82a2e27e728438cc",measurementId:"G-K89G0Q59M4"},WL={providers:[ZR({eventCoalescing:!0}),jE(qL),GP(WP()),gE(),mN(()=>gN(fK)),lL(()=>pL()),TO(()=>SO())]};var pK=t=>[t];function mK(t,e){if(t&1){let n=so();j(0,"button",6),Ke("click",function(){fi(n);let i=ln(2);return pi(i.logout())}),q(1,"\u0412\u044B\u0439\u0442\u0438"),$()}}function gK(t,e){if(t&1){let n=so();j(0,"button",7),Ke("click",function(){fi(n);let i=ln(2);return pi(i.t=!1)}),q(1),$()}if(t&2){let n=e.$implicit;ro("routerLink",UR(2,pK,n.path)),ce(),dn(n.text)}}function _K(t,e){if(t&1){let n=so();j(0,"div",2),Lr(1,mK,2,0,"button"),Vm(2,"async"),Fr(3,gK,2,4,"button",3,oo),$(),j(5,"button",4),Ke("click",function(){fi(n);let i=ln();return pi(i.t=!i.t)}),nt(6,"img",5),$()}if(t&2){let n=ln();ce(),_i(zR(2,1,n.isLoggedIn$)?1:-1),ce(2),Vr(n.buttonsContent)}}function vK(t,e){if(t&1){let n=so();j(0,"button",8),Ke("click",function(){fi(n);let i=ln();return pi(i.t=!i.t)}),nt(1,"img",9),$()}}var Av=class t{constructor(e,n){this.router=e;this.authService=n}t=!1;buttonsContent=[{path:"",text:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F"},{path:"profile",text:"\u041F\u0440\u043E\u0444\u0438\u043B\u044C"},{path:"add-route",text:"\u0421\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u0448\u0440\u0443\u0442"},{path:"saved",text:"\u0418\u0437\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u043C\u0430\u0440\u0448\u0440\u0443\u0442\u044B"}];isLoggedIn$;ngOnInit(){this.isLoggedIn$=this.authService.isLoggedIn()}navigate(e){this.router.navigate([e]),this.t=!1}logout(){this.authService.logout(),this.router.navigate(["/login"]),this.t=!1}static \u0275fac=function(n){return new(n||t)(ae(hn),ae(En))};static \u0275cmp=Ct({type:t,selectors:[["menu"]],decls:3,vars:1,consts:[[1,"menu"],[1,"menu__close"],[1,"menu__content"],[3,"routerLink"],[1,"menu__open",3,"click"],["src","left-arrow.svg","alt","Open Menu"],[3,"click"],[3,"click","routerLink"],[1,"menu__close",3,"click"],["src","rigth-arrow.svg","alt","Close Menu"]],template:function(n,r){n&1&&(j(0,"div",0),Lr(1,_K,7,3)(2,vK,2,0,"button",1),$()),n&2&&(ce(),_i(r.t?1:2))},dependencies:[vn,tE,Pg],styles:["[_nghost-%COMP%]{position:fixed;top:0;left:0;bottom:0;padding:0;margin:0;z-index:1000}.menu[_ngcontent-%COMP%]{height:100%;width:max-content;background-color:#000000e6;display:flex;justify-content:space-between}.menu__content[_ngcontent-%COMP%]{padding:200px 25px;display:flex;flex-direction:column;align-items:center;gap:10px}.menu__content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:50px;width:300px;background-color:transparent;border:3px rgb(255,255,255) solid;border-right:none;border-left:none;color:#fff;font-family:Playfair Display SC,serif;font-size:20px;cursor:pointer}.menu__content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffffffbf;color:#000}.menu__close[_ngcontent-%COMP%], .menu__open[_ngcontent-%COMP%]{height:100%!important;width:50px!important;background-color:transparent;border:3px rgb(255,255,255) solid;border-top:none;border-bottom:none;color:#fff;cursor:pointer}.menu__close[_ngcontent-%COMP%]:hover, .menu__open[_ngcontent-%COMP%]:hover{background-color:#ffffffbf;color:#000}.menu__close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .menu__open[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:invert(1);width:100%}@media (max-width: 768px){[_nghost-%COMP%]{width:max-content}.menu[_ngcontent-%COMP%]{height:max-content;min-width:50px;flex-direction:column}.menu__content[_ngcontent-%COMP%]{padding:25px;width:calc(100vw - 50px)}.menu__close[_ngcontent-%COMP%], .menu__open[_ngcontent-%COMP%]{height:80px!important;border:3px rgb(255,255,255) solid;border-left:none;border-right:none}.menu__close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .menu__open[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.menu__open[_ngcontent-%COMP%]{height:50px!important;width:100%!important}}"]})};var Mv=class t{title="RouteGuide";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ct({type:t,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"page"],[1,"site-title"],[1,"content"]],template:function(n,r){n&1&&(j(0,"div",0),nt(1,"menu"),j(2,"header")(3,"h1",1),q(4," Route Guide "),$()(),j(5,"div",2),nt(6,"router-outlet"),$()())},dependencies:[sh,Av],styles:["header[_ngcontent-%COMP%]{padding:10px 25px 10px 75px;width:calc(100% - 100px);height:80px;display:flex;justify-content:left;align-items:center;background:linear-gradient(90deg,rgba(0,0,0,.9),transparent)}header[_ngcontent-%COMP%]   .site-title[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:58px;color:#fff;margin:0}.page[_ngcontent-%COMP%]{position:relative}.content[_ngcontent-%COMP%]{margin:0 auto 0 50px;width:calc(100% - 50px);display:flex;flex-direction:column;align-items:center}@media (max-width: 768px){header[_ngcontent-%COMP%]{background:linear-gradient(#000,#00000040);height:60px;padding:10px 10px 10px 55px;width:calc(100% - 65px)}header[_ngcontent-%COMP%]   .site-title[_ngcontent-%COMP%]{font-size:42px}.content[_ngcontent-%COMP%]{margin:0 auto;width:100%}}"]})};hE(Mv,WL).catch(t=>console.error(t));
